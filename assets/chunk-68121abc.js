(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();function Oe(){}function Hr(r,t){for(const e in t)r[e]=t[e];return r}function VT(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function J_(r){return r()}function iv(){return Object.create(null)}function Dt(r){r.forEach(J_)}function su(r){return typeof r=="function"}function ot(r,t){return r!=r?t==t:r!==t||r&&typeof r=="object"||typeof r=="function"}let la;function sv(r,t){return la||(la=document.createElement("a")),la.href=t,r===la.href}function YT(r){return Object.keys(r).length===0}function Q_(r,...t){if(r==null)return Oe;const e=r.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Dn(r,t,e){r.$$.on_destroy.push(Q_(t,e))}function Tr(r,t,e,n){if(r){const i=$_(r,t,e,n);return r[0](i)}}function $_(r,t,e,n){return r[1]&&n?Hr(e.ctx.slice(),r[1](n(t))):e.ctx}function Er(r,t,e,n){if(r[2]&&n){const i=r[2](n(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(t.dirty.length,i.length);for(let u=0;u<o;u+=1)s[u]=t.dirty[u]|i[u];return s}return t.dirty|i}return t.dirty}function Sr(r,t,e,n,i,s){if(i){const o=$_(t,e,n,s);r.p(o,i)}}function Ar(r){if(r.ctx.length>32){const t=[],e=r.ctx.length/32;for(let n=0;n<e;n++)t[n]=-1;return t}return-1}function Va(r){const t={};for(const e in r)e[0]!=="$"&&(t[e]=r[e]);return t}function Ya(r,t){const e={};t=new Set(t);for(const n in r)!t.has(n)&&n[0]!=="$"&&(e[n]=r[n]);return e}function e0(r){const t={};for(const e in r)t[e]=!0;return t}function ov(r,t,e){return r.set(e),t}function t0(r){return r&&su(r.destroy)?r.destroy:Oe}function K(r,t){r.appendChild(t)}function ve(r,t,e){r.insertBefore(t,e||null)}function pe(r){r.parentNode&&r.parentNode.removeChild(r)}function If(r,t){for(let e=0;e<r.length;e+=1)r[e]&&r[e].d(t)}function ae(r){return document.createElement(r)}function Jt(r){return document.createTextNode(r)}function be(){return Jt(" ")}function qt(){return Jt("")}function _e(r,t,e,n){return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e,n)}function ln(r){return function(t){return t.preventDefault(),r.call(this,t)}}function Qn(r){return function(t){return t.stopPropagation(),r.call(this,t)}}function L(r,t,e){e==null?r.removeAttribute(t):r.getAttribute(t)!==e&&r.setAttribute(t,e)}function jT(r){return Array.from(r.childNodes)}function yr(r,t){t=""+t,r.wholeText!==t&&(r.data=t)}function av(r,t){r.value=t??""}function Be(r,t,e,n){e===null?r.style.removeProperty(t):r.style.setProperty(t,e,n?"important":"")}function uv(r,t){for(let e=0;e<r.options.length;e+=1){const n=r.options[e];if(n.__value===t){n.selected=!0;return}}r.selectedIndex=-1}function qT(r){const t=r.querySelector(":checked")||r.options[0];return t&&t.__value}function ye(r,t,e){r.classList[e?"add":"remove"](t)}function KT(r,t,{bubbles:e=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(r,e,n,t),i}function xt(r,t){return new r(t)}let Ks;function Pn(r){Ks=r}function cs(){if(!Ks)throw new Error("Function called outside component initialization");return Ks}function ou(r){cs().$$.on_mount.push(r)}function r0(r){cs().$$.after_update.push(r)}function ds(){const r=cs();return(t,e,{cancelable:n=!1}={})=>{const i=r.$$.callbacks[t];if(i){const s=KT(t,e,{cancelable:n});return i.slice().forEach(o=>{o.call(r,s)}),!s.defaultPrevented}return!0}}function is(r,t){return cs().$$.context.set(r,t),t}function Of(r){return cs().$$.context.get(r)}function nt(r,t){const e=r.$$.callbacks[t.type];e&&e.slice().forEach(n=>n.call(this,t))}const $i=[],He=[],Ua=[],wh=[],n0=Promise.resolve();let xh=!1;function i0(){xh||(xh=!0,n0.then(Mf))}function ZT(){return i0(),n0}function ja(r){Ua.push(r)}function wt(r){wh.push(r)}const kl=new Set;let qi=0;function Mf(){if(qi!==0)return;const r=Ks;do{try{for(;qi<$i.length;){const t=$i[qi];qi++,Pn(t),JT(t.$$)}}catch(t){throw $i.length=0,qi=0,t}for(Pn(null),$i.length=0,qi=0;He.length;)He.pop()();for(let t=0;t<Ua.length;t+=1){const e=Ua[t];kl.has(e)||(kl.add(e),e())}Ua.length=0}while($i.length);for(;wh.length;)wh.pop()();xh=!1,kl.clear(),Pn(r)}function JT(r){if(r.fragment!==null){r.update(),Dt(r.before_update);const t=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,t),r.after_update.forEach(ja)}}const ka=new Set;let Ti;function tt(){Ti={r:0,c:[],p:Ti}}function rt(){Ti.r||Dt(Ti.c),Ti=Ti.p}function V(r,t){r&&r.i&&(ka.delete(r),r.i(t))}function Q(r,t,e,n){if(r&&r.o){if(ka.has(r))return;ka.add(r),Ti.c.push(()=>{ka.delete(r),n&&(e&&r.d(1),n())}),r.o(t)}else n&&n()}function lv(r,t){const e=t.token={};function n(i,s,o,u){if(t.token!==e)return;t.resolved=u;let h=t.ctx;o!==void 0&&(h=h.slice(),h[o]=u);const f=i&&(t.current=i)(h);let c=!1;t.block&&(t.blocks?t.blocks.forEach((v,p)=>{p!==s&&v&&(tt(),Q(v,1,1,()=>{t.blocks[p]===v&&(t.blocks[p]=null)}),rt())}):t.block.d(1),f.c(),V(f,1),f.m(t.mount(),t.anchor),c=!0),t.block=f,t.blocks&&(t.blocks[s]=f),c&&Mf()}if(VT(r)){const i=cs();if(r.then(s=>{Pn(i),n(t.then,1,t.value,s),Pn(null)},s=>{if(Pn(i),n(t.catch,2,t.error,s),Pn(null),!t.hasCatch)throw s}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,r),!0;t.resolved=r}}function QT(r,t,e){const n=t.slice(),{resolved:i}=r;r.current===r.then&&(n[r.value]=i),r.current===r.catch&&(n[r.error]=i),r.block.p(n,e)}const au=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function s0(r,t){r.d(1),t.delete(r.key)}function $T(r,t){Q(r,1,1,()=>{t.delete(r.key)})}function Df(r,t,e,n,i,s,o,u,h,f,c,v){let p=r.length,_=s.length,y=p;const b={};for(;y--;)b[r[y].key]=y;const m=[],w=new Map,E=new Map;for(y=_;y--;){const P=v(i,s,y),I=e(P);let N=o.get(I);N?n&&N.p(P,t):(N=f(I,P),N.c()),w.set(I,m[y]=N),I in b&&E.set(I,Math.abs(y-b[I]))}const T=new Set,C=new Set;function R(P){V(P,1),P.m(u,c),o.set(P.key,P),c=P.first,_--}for(;p&&_;){const P=m[_-1],I=r[p-1],N=P.key,M=I.key;P===I?(c=P.first,p--,_--):w.has(M)?!o.has(N)||T.has(N)?R(P):C.has(M)?p--:E.get(N)>E.get(M)?(C.add(N),R(P)):(T.add(M),p--):(h(I,o),p--)}for(;p--;){const P=r[p];w.has(P.key)||h(P,o)}for(;_;)R(m[_-1]);return m}function vo(r,t){const e={},n={},i={$$scope:1};let s=r.length;for(;s--;){const o=r[s],u=t[s];if(u){for(const h in o)h in u||(n[h]=1);for(const h in u)i[h]||(e[h]=u[h],i[h]=1);r[s]=u}else for(const h in o)i[h]=1}for(const o in n)o in e||(e[o]=void 0);return e}function _o(r){return typeof r=="object"&&r!==null?r:{}}function ut(r,t,e){const n=r.$$.props[t];n!==void 0&&(r.$$.bound[n]=e,e(r.$$.ctx[n]))}function Se(r){r&&r.c()}function xe(r,t,e,n){const{fragment:i,after_update:s}=r.$$;i&&i.m(t,e),n||ja(()=>{const o=r.$$.on_mount.map(J_).filter(su);r.$$.on_destroy?r.$$.on_destroy.push(...o):Dt(o),r.$$.on_mount=[]}),s.forEach(ja)}function Te(r,t){const e=r.$$;e.fragment!==null&&(Dt(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function eE(r,t){r.$$.dirty[0]===-1&&($i.push(r),i0(),r.$$.dirty.fill(0)),r.$$.dirty[t/31|0]|=1<<t%31}function lt(r,t,e,n,i,s,o,u=[-1]){const h=Ks;Pn(r);const f=r.$$={fragment:null,ctx:[],props:s,update:Oe,not_equal:i,bound:iv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:iv(),dirty:u,skip_bound:!1,root:t.target||h.$$.root};o&&o(f.root);let c=!1;if(f.ctx=e?e(r,t.props||{},(v,p,..._)=>{const y=_.length?_[0]:p;return f.ctx&&i(f.ctx[v],f.ctx[v]=y)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](y),c&&eE(r,v)),p}):[],f.update(),c=!0,Dt(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){const v=jT(t.target);f.fragment&&f.fragment.l(v),v.forEach(pe)}else f.fragment&&f.fragment.c();t.intro&&V(r.$$.fragment),xe(r,t.target,t.anchor,t.customElement),Mf()}Pn(h)}class ht{$destroy(){Te(this,1),this.$destroy=Oe}$on(t,e){if(!su(e))return Oe;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const i=n.indexOf(e);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!YT(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function tE(r){let t,e,n,i,s,o,u,h,f,c,v,p,_,y,b,m,w,E,T,C,R,P,I;return{c(){t=ae("div"),e=ae("div"),n=ae("div"),i=be(),s=ae("div"),o=be(),u=ae("div"),h=be(),f=ae("div"),c=ae("div"),v=be(),p=ae("div"),_=be(),y=ae("div"),b=be(),m=ae("div"),w=ae("div"),E=be(),T=ae("div"),C=be(),R=ae("div"),L(n,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),ye(n,"cursor-nw-resize",!r[4]),ye(n,"dragging",r[4]&&r[5]===r[15]),L(s,"class","resizer h-[6px] border-b-2 border-dashed svelte-19ac299"),Be(s,"width",r[2]+"px"),ye(s,"cursor-n-resize",!r[4]),ye(s,"dragging",r[4]&&r[5]===r[13]),L(u,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),ye(u,"cursor-ne-resize",!r[4]),ye(u,"dragging",r[4]&&r[5]===r[16]),L(e,"class","flex flex-row"),L(c,"class","resizer w-[6px] border-r-2 border-dashed svelte-19ac299"),Be(c,"height",r[3]+"px"),ye(c,"cursor-w-resize",!r[4]),ye(c,"dragging",r[4]&&r[5]===r[12]),L(p,"class","cursor-move"),Be(p,"width",r[2]+"px"),Be(p,"height",r[3]+"px"),L(y,"class","resizer w-[6px] border-l-2 border-dashed svelte-19ac299"),Be(y,"height",r[3]+"px"),ye(y,"cursor-e-resize",!r[4]),ye(y,"dragging",r[4]&&r[5]===r[10]),L(f,"class","flex flex-row"),L(w,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),ye(w,"cursor-sw-resize",!r[4]),ye(w,"dragging",r[4]&&r[5]===r[17]),L(T,"class","resizer h-[6px] border-t-2 border-dashed svelte-19ac299"),Be(T,"width",r[2]+"px"),ye(T,"cursor-s-resize",!r[4]),ye(T,"dragging",r[4]&&r[5]===r[11]),L(R,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),ye(R,"cursor-se-resize",!r[4]),ye(R,"dragging",r[4]&&r[5]===r[14]),L(m,"class","flex flex-row"),L(t,"class","this svelte-19ac299"),Be(t,"left",r[0]-6+"px"),Be(t,"top",r[1]-6+"px"),Be(t,"width",r[2]+12+"px"),Be(t,"height",r[3]+12+"px"),ye(t,"dragging",!!r[4])},m(N,M){ve(N,t,M),K(t,e),K(e,n),K(e,i),K(e,s),K(e,o),K(e,u),K(t,h),K(t,f),K(f,c),K(f,v),K(f,p),K(f,_),K(f,y),K(t,b),K(t,m),K(m,w),K(m,E),K(m,T),K(m,C),K(m,R),P||(I=[_e(window,"mouseup",r[19]),_e(window,"mousemove",r[8]),_e(n,"mousedown",r[20]),_e(s,"mousedown",r[21]),_e(u,"mousedown",r[22]),_e(c,"mousedown",r[23]),_e(p,"mousedown",r[24]),_e(y,"mousedown",r[25]),_e(w,"mousedown",r[26]),_e(T,"mousedown",r[27]),_e(R,"mousedown",r[28])],P=!0)},p(N,[M]){M&16&&ye(n,"cursor-nw-resize",!N[4]),M&32816&&ye(n,"dragging",N[4]&&N[5]===N[15]),M&4&&Be(s,"width",N[2]+"px"),M&16&&ye(s,"cursor-n-resize",!N[4]),M&8240&&ye(s,"dragging",N[4]&&N[5]===N[13]),M&16&&ye(u,"cursor-ne-resize",!N[4]),M&65584&&ye(u,"dragging",N[4]&&N[5]===N[16]),M&8&&Be(c,"height",N[3]+"px"),M&16&&ye(c,"cursor-w-resize",!N[4]),M&4144&&ye(c,"dragging",N[4]&&N[5]===N[12]),M&4&&Be(p,"width",N[2]+"px"),M&8&&Be(p,"height",N[3]+"px"),M&8&&Be(y,"height",N[3]+"px"),M&16&&ye(y,"cursor-e-resize",!N[4]),M&1072&&ye(y,"dragging",N[4]&&N[5]===N[10]),M&16&&ye(w,"cursor-sw-resize",!N[4]),M&131120&&ye(w,"dragging",N[4]&&N[5]===N[17]),M&4&&Be(T,"width",N[2]+"px"),M&16&&ye(T,"cursor-s-resize",!N[4]),M&2096&&ye(T,"dragging",N[4]&&N[5]===N[11]),M&16&&ye(R,"cursor-se-resize",!N[4]),M&16432&&ye(R,"dragging",N[4]&&N[5]===N[14]),M&1&&Be(t,"left",N[0]-6+"px"),M&2&&Be(t,"top",N[1]-6+"px"),M&4&&Be(t,"width",N[2]+12+"px"),M&8&&Be(t,"height",N[3]+12+"px"),M&16&&ye(t,"dragging",!!N[4])},i:Oe,o:Oe,d(N){N&&pe(t),P=!1,Dt(I)}}}function rE(r,t,e){let{x:n}=t,{y:i}=t,{width:s}=t,{height:o}=t,{ratio:u=s/o}=t,h,f=()=>{},c="",v=ds();function p(Y,re,ue){Y.preventDefault(),e(4,h=Y.target),e(5,f=re),e(6,c=ue),document.body.classList.add(ue)}function _(Y){h&&(f({x:Y.clientX,y:Y.clientY}),v("update",{pos:{x:n,y:i},rect:{width:s,height:o}}))}function y(Y){Y.preventDefault(),e(4,h=Y.target);let re=Y.offsetX,ue=Y.offsetY;e(5,f=q=>{let W=h.getBoundingClientRect(),he=q.x-(W.x+re),Ae=q.y-(W.y+ue);e(0,n+=he),e(1,i+=Ae)})}function b(Y,re=!1){let ue=h.getBoundingClientRect(),q=Y.x-(ue.x+1+ue.width/2),W=Math.max(s+(re?-q:q),0),he=Math.max(W/u,0),Ae=(he-o)/2;e(2,s=W),e(3,o=he),e(1,i-=Ae)}function m(Y,re=!1){let ue=h.getBoundingClientRect(),q=Y.y-(ue.y+ue.height/2),W=Math.max(o+(re?-q:q),0),he=Math.max(W*u,0),Ae=(he-s)/2;e(2,s=he),e(3,o=W),e(0,n-=Ae)}function w(Y){let re=s;b(Y,!0),e(0,n-=s-re)}function E(Y){let re=o;m(Y,!0),e(1,i-=o-re)}function T(Y,re={}){let ue=h.getBoundingClientRect(),q=(Y.x-(ue.x+ue.width/2))*(re.x?-1:1),W=(Y.y-(ue.y+ue.height/2))*(re.y?-1:1),he=Math.abs(q)<Math.abs(W)?q:W,Ae=Math.min(Math.abs(q)/Math.max(s,1),Math.abs(W)/Math.max(o,1)),Ce=Math.max(s+Math.max(s,1)*Ae*(he<0?-1:1),0);e(3,o=Math.max(Ce/u,0)),e(2,s=Ce)}function C(Y){let re={width:s,height:o};T(Y,{x:!0,y:!0}),e(0,n-=s-re.width),e(1,i-=o-re.height)}function R(Y){let re=o;T(Y,{y:!0}),e(1,i-=o-re)}function P(Y){let re=s;T(Y,{x:!0}),e(0,n-=s-re)}const I=()=>{e(4,h=void 0),c.length&&document.body.classList.remove(c)},N=Y=>p(Y,C,"cursor-nw-resize"),M=Y=>p(Y,E,"cursor-n-resize"),D=Y=>p(Y,R,"cursor-ne-resize"),H=Y=>p(Y,w,"cursor-w-resize"),Z=Y=>y(Y),X=Y=>p(Y,b,"cursor-e-resize"),de=Y=>p(Y,P,"cursor-sw-resize"),se=Y=>p(Y,m,"cursor-s-resize"),te=Y=>p(Y,T,"cursor-se-resize");return r.$$set=Y=>{"x"in Y&&e(0,n=Y.x),"y"in Y&&e(1,i=Y.y),"width"in Y&&e(2,s=Y.width),"height"in Y&&e(3,o=Y.height),"ratio"in Y&&e(18,u=Y.ratio)},[n,i,s,o,h,f,c,p,_,y,b,m,w,E,T,C,R,P,u,I,N,M,D,H,Z,X,de,se,te]}class nE extends ht{constructor(t){super(),lt(this,t,rE,tE,ot,{x:0,y:1,width:2,height:3,ratio:18})}}const Th="/assets/png-847a4edb.png",Eh="/assets/png-86f6b9a0.png",Ff="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAACmCAYAAADkrsA9AAABbmlDQ1BpY2MAACiRdZE9S8NQFIaftkqLHzioIOJQQcWhgiiKo1SwizrUClZdmpi2QtqGpEWKq+DiUHAQXfwa/Ae6Cq4KgqAIIm7ufi1S4rlGqIjecHMe3nvfw8kb8E+Zes6pG4dcvmjHY9HwfHIhHHzCTzshuhlJ6Y41PTuZ4N/1foNP1esB1ev/e3+uxmXD0cEXEh7VLbsoLNMwtVq0FG8Kt+nZ1LLwvnDElgGFL5SuefyoOOPxq2I7EZ8Av+oZzvxg7QfrWTsn3C/ckzNL+vc86kuajPzcrNRO2V04xIkRJYxGiRVMigxIzUtmf/sGv3wzFMSjy9uijC2ODFnxRkQtSVdDalp0Qx6Tssr9d55OenjI694UhfoH133pheAWVCuu+3HgutVDCNzDWb7mL0hOY2+iV2pazx60rMPJeU3TtuF0AzrurJSd+pICsv3pNDwfQ3MSWq+gYdHL6vuco1tIrMkvuoSdXeiT+y1Ln0y7aC2psZS3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAEPUlEQVR42u2c7WtOcRjHz2/maZlMEklC2MYwbR7nabJ2CymLiCQR0uZZiJKH8pDZvPQveKU0eUG0SJS08lCiJS3RlpAXU7fvz33odFjDivtcfT717aKkuT6u65zfObvngj8knU6PVkkpFUqRMkrJV3ID6ClflA9Kq/JEaVaanHMv/+Qvcb8p0gurUWqVWfT+n3NXaVQuS/CXHkuV0GqVeqWQ3v53niq7JPbaX0mVzP4qDcpmepl1XFLqJPfzb0uV0OEqV5Qy+pe1PFCWS2xbt1JDoTeVCfQt63mmLIyLdb9YubeZ0MRN7LzoKs6J/YEGhCaOstDbz5Ma3uU20aPEkvp+V+wi59AWji2JP+6U+HPs9/Vbg9DEUxh6/HFNraUnJvjm0YXPcl/QDzOM8ZOaog+mqPZSK+iDKSq81CL6YIpif01t1y8K6IUZOrzUzoAX3Jbo9FLT9MEWObQAqYBUQCogFZCKVEAqIBWQCkhFKiAVkApIBaQCUpEKSAWkAlIBqUgFpAJSAamAVEAqUgGpgFRAKiAVqYBUQCogFZAKSEUqIBWQCkgFpCIVkApIBaQCUgGpSAWkAlIBqYBUpAJSAamAVEAqIBWpgFRAKiAVkIpUQCogFZAKSAWkIhWQCkgFpAJSkQpIBaQCUgGpgFSkAlIBqYBUQCpSAamAVEAqIBWQilRAKiAVkApIRSqYkrpUeU4rDEl1zl1VnaQcVD7RkuTjor9Jp9MjVM4oa2mNEakRuRUqF5WptMjIjZJWcrNKmbJNaadNBiY1NrWDVY4rW7lbNiI1IneKSqMyj7YZOadqJT9SWaCsUV7TOgOTGpvaAeERaK/ShzYakBqRO1alXllGK41IjchNqVxQxtPSBF1Tu7neNqmUKPuVj7TVwKTGpna4ymllPe01IjUid3aQeSo1jTYncP12sZLvqExXtijvaLWBSY1NbYHKMWW70ou2G5AaketvpvxTqQW0PoHrt4uV3KJSqaxSXtF+A5Mam9o8lQNh+qLCgNSI3NEq55UV6DAiNSK3SqVBKURLgq6p3Vxvr6tMVvYoH1BjYFJjUztM5ZSyEUVGpEbkzggyT6XKUZXA9dvFSr6nMlPZpLxFl4FJjU3tIJWjSm3AUykbUiNyi4PMU6lF6Evg+u1iJT9WWaysVFpRaGBSY1PbX2VfkPl+qX7oNCA1IneUyjmlBqVGpEbkVobX24lcU638D3XuhkqpUqe8Z1KNoakdqnIyPOM6pNqSWx6u5JmsXzsr+b7KHGWD8oZJtTe1A1WOKDuVXKTakuvf2fp3t1VItSXW/9v9Z4D8Z4HGINWWXP8kyr+YP6TkIdWW3JEqZ5XVSLUnd36QeTFfwpHGzhHoVpD5/M8OpYNJtTe1Q1ROBJnPAzmk2pJbGq7kOaxfOyv5ocpcZZ3SxqTam9p8lcPKbqU3Um3JHRdkfs7Fkmz72r4Cqsn0nVDw0i4AAAAASUVORK5CYII=",o0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAbCAYAAABydtG3AAABbmlDQ1BpY2MAACiRdZFLSwJhFIYftShKcVFQRAsXFhEKURAtwyA31kINstqM4y3wMswoIW2DNi2EFlGbbov+QW2DtgVBUAQR7dp324RMZ1RQQs/wzXl4v/MezpwBeyir5oyuecjli3o4GPCsxtY8Pe/YGcLGJC5FNbSlyGKUjvHzKJUSD36rV+e6ttGfSBoq2HqFZ1VNLwrLNIS2iprFe8KDakZJCJ8I+3QZUPjW0uN1frM4Xecvi/VoeAHsVk9PuoXjLaxm9JzwhLA3ly2pjXmsL3Em8ysRySNyRjEIEySAhzglNslSxC85Lztr75uq+ZYpiEeVt0YZXRxpMuL1iVqSrknJKdGT8mQpW3v/v08jNTNd7+4MQPeraX6OQc8+VCum+XtqmtUzcLzAdb7pL8ie5r5FrzQ17zG4d+DypqnFD+BqF4afNUVXapJDjj2Vgo8LcMVg4B761uu7atxz/gTRbflFd3B4BONS7974A/7qaAncN4wDAAAACXBIWXMAAC4jAAAuIwF4pT92AAABLklEQVRo3u2ZoQ7CMBRF2ymCYw5w4LDwCfALSD4BjcQi4TewOCx2cjgmsZObK7fQErJsQEiAveSe5NFsI4h70u6VamNMWyk1VkQcGvL2lCeTAJUyBrnyCOURyiOUR3mE8sj35GWMQa68nDHIlZcwBrnyIsYgkkzbTwOYhTgSdptyib08dpzy2Pllk8dCwtAWJ6+H4cRIxJBCXRg4iwmXTlEsr978FWbfHMOauchYMv0+z9/YKJ6qS2B2d1Z8wj1frYkwyUb+omyfN2JG9dyUP4orlYcvRG5NZQNTH7ZQ0i/eDJ68FJsYVsztr5xRIVxMyx4GL7qahZuFE9SBWf5mD+e6fht9F1XZROpPfh09zVDd/pEZoDqoFqrB3N8md68lK+aIiu3SqApnq25HUMkF9iA+fiYIrQ4AAAAASUVORK5CYII=";var iE={grad:.9,turn:360,rad:360/(2*Math.PI)},Tn=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},Xt=function(r,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*r)/e+0},Br=function(r,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),r>e?e:r>t?r:t},a0=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},hv=function(r){return{r:Br(r.r,0,255),g:Br(r.g,0,255),b:Br(r.b,0,255),a:Br(r.a)}},Gl=function(r){return{r:Xt(r.r),g:Xt(r.g),b:Xt(r.b),a:Xt(r.a,3)}},sE=/^#([0-9a-f]{3,8})$/i,ha=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},u0=function(r){var t=r.r,e=r.g,n=r.b,i=r.a,s=Math.max(t,e,n),o=s-Math.min(t,e,n),u=o?s===t?(e-n)/o:s===e?2+(n-t)/o:4+(t-e)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},l0=function(r){var t=r.h,e=r.s,n=r.v,i=r.a;t=t/360*6,e/=100,n/=100;var s=Math.floor(t),o=n*(1-e),u=n*(1-(t-s)*e),h=n*(1-(1-t+s)*e),f=s%6;return{r:255*[n,u,o,o,h,n][f],g:255*[h,n,n,u,o,o][f],b:255*[o,o,h,n,n,u][f],a:i}},fv=function(r){return{h:a0(r.h),s:Br(r.s,0,100),l:Br(r.l,0,100),a:Br(r.a)}},cv=function(r){return{h:Xt(r.h),s:Xt(r.s),l:Xt(r.l),a:Xt(r.a,3)}},dv=function(r){return l0((e=(t=r).s,{h:t.h,s:(e*=((n=t.l)<50?n:100-n)/100)>0?2*e/(n+e)*100:0,v:n+e,a:t.a}));var t,e,n},Vs=function(r){return{h:(t=u0(r)).h,s:(i=(200-(e=t.s))*(n=t.v)/100)>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,e,n,i},oE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aE=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sh={string:[[function(r){var t=sE.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Xt(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?Xt(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var t=uE.exec(r)||lE.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:hv({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(r){var t=oE.exec(r)||aE.exec(r);if(!t)return null;var e,n,i=fv({h:(e=t[1],n=t[2],n===void 0&&(n="deg"),Number(e)*(iE[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return dv(i)},"hsl"]],object:[[function(r){var t=r.r,e=r.g,n=r.b,i=r.a,s=i===void 0?1:i;return Tn(t)&&Tn(e)&&Tn(n)?hv({r:Number(t),g:Number(e),b:Number(n),a:Number(s)}):null},"rgb"],[function(r){var t=r.h,e=r.s,n=r.l,i=r.a,s=i===void 0?1:i;if(!Tn(t)||!Tn(e)||!Tn(n))return null;var o=fv({h:Number(t),s:Number(e),l:Number(n),a:Number(s)});return dv(o)},"hsl"],[function(r){var t=r.h,e=r.s,n=r.v,i=r.a,s=i===void 0?1:i;if(!Tn(t)||!Tn(e)||!Tn(n))return null;var o=function(u){return{h:a0(u.h),s:Br(u.s,0,100),v:Br(u.v,0,100),a:Br(u.a)}}({h:Number(t),s:Number(e),v:Number(n),a:Number(s)});return l0(o)},"hsv"]]},pv=function(r,t){for(var e=0;e<t.length;e++){var n=t[e][0](r);if(n)return[n,t[e][1]]}return[null,void 0]},hE=function(r){return typeof r=="string"?pv(r.trim(),Sh.string):typeof r=="object"&&r!==null?pv(r,Sh.object):[null,void 0]},Hl=function(r,t){var e=Vs(r);return{h:e.h,s:Br(e.s+100*t,0,100),l:e.l,a:e.a}},Xl=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},vv=function(r,t){var e=Vs(r);return{h:e.h,s:e.s,l:Br(e.l+100*t,0,100),a:e.a}},Ah=function(){function r(t){this.parsed=hE(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return Xt(Xl(this.rgba),2)},r.prototype.isDark=function(){return Xl(this.rgba)<.5},r.prototype.isLight=function(){return Xl(this.rgba)>=.5},r.prototype.toHex=function(){return t=Gl(this.rgba),e=t.r,n=t.g,i=t.b,o=(s=t.a)<1?ha(Xt(255*s)):"","#"+ha(e)+ha(n)+ha(i)+o;var t,e,n,i,s,o},r.prototype.toRgb=function(){return Gl(this.rgba)},r.prototype.toRgbString=function(){return t=Gl(this.rgba),e=t.r,n=t.g,i=t.b,(s=t.a)<1?"rgba("+e+", "+n+", "+i+", "+s+")":"rgb("+e+", "+n+", "+i+")";var t,e,n,i,s},r.prototype.toHsl=function(){return cv(Vs(this.rgba))},r.prototype.toHslString=function(){return t=cv(Vs(this.rgba)),e=t.h,n=t.s,i=t.l,(s=t.a)<1?"hsla("+e+", "+n+"%, "+i+"%, "+s+")":"hsl("+e+", "+n+"%, "+i+"%)";var t,e,n,i,s},r.prototype.toHsv=function(){return t=u0(this.rgba),{h:Xt(t.h),s:Xt(t.s),v:Xt(t.v),a:Xt(t.a,3)};var t},r.prototype.invert=function(){return rr({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},r.prototype.saturate=function(t){return t===void 0&&(t=.1),rr(Hl(this.rgba,t))},r.prototype.desaturate=function(t){return t===void 0&&(t=.1),rr(Hl(this.rgba,-t))},r.prototype.grayscale=function(){return rr(Hl(this.rgba,-1))},r.prototype.lighten=function(t){return t===void 0&&(t=.1),rr(vv(this.rgba,t))},r.prototype.darken=function(t){return t===void 0&&(t=.1),rr(vv(this.rgba,-t))},r.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},r.prototype.alpha=function(t){return typeof t=="number"?rr({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):Xt(this.rgba.a,3);var e},r.prototype.hue=function(t){var e=Vs(this.rgba);return typeof t=="number"?rr({h:t,s:e.s,l:e.l,a:e.a}):Xt(e.h)},r.prototype.isEqual=function(t){return this.toHex()===rr(t).toHex()},r}(),rr=function(r){return r instanceof Ah?r:new Ah(r)},_v=[],fE=function(r){r.forEach(function(t){_v.indexOf(t)<0&&(t(Ah,Sh),_v.push(t))})},Wl=function(r){var t=r/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},zl=function(r){return .2126*Wl(r.r)+.7152*Wl(r.g)+.0722*Wl(r.b)};function cE(r){r.prototype.luminance=function(){return t=zl(this.rgba),(e=2)===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0;var t,e,n},r.prototype.contrast=function(t){t===void 0&&(t="#FFF");var e,n,i,s,o,u,h,f=t instanceof r?t:new r(t);return s=this.rgba,o=f.toRgb(),u=zl(s),h=zl(o),e=u>h?(u+.05)/(h+.05):(h+.05)/(u+.05),(n=2)===void 0&&(n=0),i===void 0&&(i=Math.pow(10,n)),Math.floor(i*e)/i+0},r.prototype.isReadable=function(t,e){return t===void 0&&(t="#FFF"),e===void 0&&(e={}),this.contrast(t)>=(u=(o=(n=e).size)===void 0?"normal":o,(s=(i=n.level)===void 0?"AA":i)==="AAA"&&u==="normal"?7:s==="AA"&&u==="large"?3:4.5);var n,i,s,o,u}}const Ki=[];function dE(r,t){return{subscribe:h0(r,t).subscribe}}function h0(r,t=Oe){let e;const n=new Set;function i(u){if(ot(r,u)&&(r=u,e)){const h=!Ki.length;for(const f of n)f[1](),Ki.push(f,r);if(h){for(let f=0;f<Ki.length;f+=2)Ki[f][0](Ki[f+1]);Ki.length=0}}}function s(u){i(u(r))}function o(u,h=Oe){const f=[u,h];return n.add(f),n.size===1&&(e=t(i)||Oe),u(r),()=>{n.delete(f),n.size===0&&(e(),e=null)}}return{set:i,update:s,subscribe:o}}function pE(r,t,e){const n=!Array.isArray(r),i=n?[r]:r,s=t.length<2;return dE(e,o=>{let u=!1;const h=[];let f=0,c=Oe;const v=()=>{if(f)return;c();const _=t(n?h[0]:h,o);s?o(_):c=su(_)?_:Oe},p=i.map((_,y)=>Q_(_,b=>{h[y]=b,f&=~(1<<y),u&&v()},()=>{f|=1<<y}));return u=!0,v(),function(){Dt(p),c()}})}const Rn=h0({ArrowLeft:0,ArrowUp:0,ArrowRight:0,ArrowDown:0}),Nf=pE(Rn,r=>({...r,ArrowV:r.ArrowUp+r.ArrowDown,ArrowH:r.ArrowLeft+r.ArrowRight,ArrowVH:r.ArrowUp+r.ArrowDown+r.ArrowLeft+r.ArrowRight}));function Lf(r,t=.001,e=.01){const s=Math.min(1,Math.max(1,r-50)/50);return t+(e-t)/2*(1-Math.cos(Math.PI*s))}const{window:Ns}=au;function vE(r){let t,e,n,i,s,o;var u=r[2].pickerIndicator;function h(f){return{props:{pos:f[9],isDark:f[5],hex:rr({h:f[3],s:f[0],v:f[1],a:1}).toHex()}}}return u&&(e=xt(u,h(r))),{c(){var f,c;t=ae("div"),e&&Se(e.$$.fragment),L(t,"class","picker svelte-uiwgvv"),L(t,"tabindex","0"),Be(t,"--color-bg",r[8]),L(t,"aria-label","saturation and brightness picker (arrow keyboard navigation)"),L(t,"aria-valuemin",0),L(t,"aria-valuemax",100),L(t,"aria-valuetext",n="saturation "+((f=r[9].x)==null?void 0:f.toFixed())+"%, brightness "+((c=r[9].y)==null?void 0:c.toFixed())+"%")},m(f,c){ve(f,t,c),e&&xe(e,t,null),r[18](t),i=!0,s||(o=[_e(t,"mousedown",Qn(ln(r[10]))),_e(t,"touchstart",r[16]),_e(t,"touchmove",Qn(ln(r[16]))),_e(t,"touchend",r[16])],s=!0)},p(f,c){var p,_;const v={};if(c&512&&(v.pos=f[9]),c&32&&(v.isDark=f[5]),c&11&&(v.hex=rr({h:f[3],s:f[0],v:f[1],a:1}).toHex()),u!==(u=f[2].pickerIndicator)){if(e){tt();const y=e;Q(y.$$.fragment,1,0,()=>{Te(y,1)}),rt()}u?(e=xt(u,h(f)),Se(e.$$.fragment),V(e.$$.fragment,1),xe(e,t,null)):e=null}else u&&e.$set(v);(!i||c&256)&&Be(t,"--color-bg",f[8]),(!i||c&512&&n!==(n="saturation "+((p=f[9].x)==null?void 0:p.toFixed())+"%, brightness "+((_=f[9].y)==null?void 0:_.toFixed())+"%"))&&L(t,"aria-valuetext",n)},i(f){i||(e&&V(e.$$.fragment,f),i=!0)},o(f){e&&Q(e.$$.fragment,f),i=!1},d(f){f&&pe(t),e&&Te(e),r[18](null),s=!1,Dt(o)}}}function _E(r){let t,e,n,i,s;var o=r[2].pickerWrapper;function u(h){return{props:{focused:h[7],toRight:h[4],$$slots:{default:[vE]},$$scope:{ctx:h}}}}return o&&(t=xt(o,u(r))),{c(){t&&Se(t.$$.fragment),e=qt()},m(h,f){t&&xe(t,h,f),ve(h,e,f),n=!0,i||(s=[_e(Ns,"mouseup",r[11]),_e(Ns,"mousedown",r[13]),_e(Ns,"mousemove",r[12]),_e(Ns,"keyup",r[14]),_e(Ns,"keydown",r[15])],i=!0)},p(h,[f]){const c={};if(f&128&&(c.focused=h[7]),f&16&&(c.toRight=h[4]),f&67109743&&(c.$$scope={dirty:f,ctx:h}),o!==(o=h[2].pickerWrapper)){if(t){tt();const v=t;Q(v.$$.fragment,1,0,()=>{Te(v,1)}),rt()}o?(t=xt(o,u(h)),Se(t.$$.fragment),V(t.$$.fragment,1),xe(t,e.parentNode,e)):t=null}else o&&t.$set(c)},i(h){n||(t&&V(t.$$.fragment,h),n=!0)},o(h){t&&Q(t.$$.fragment,h),n=!1},d(h){h&&pe(e),t&&Te(t,h),i=!1,Dt(s)}}}function gv(r,t,e){return Math.min(Math.max(t,r),e)}function gE(r,t,e){let n,i;Dn(r,Rn,X=>e(22,n=X)),Dn(r,Nf,X=>e(23,i=X));let{components:s}=t,{h:o}=t,{s:u}=t,{v:h}=t,{isOpen:f}=t,{toRight:c}=t,{isDark:v}=t,p,_=!1,y=!1,b,m,w,E={x:100,y:0};function T(X){let de={x:X.offsetX,y:X.offsetY},se=p.getBoundingClientRect().width,te=p.getBoundingClientRect().height;e(0,u=gv(de.x/se,0,1)*100),e(1,h=gv((te-de.y)/te,0,1)*100)}function C(X){X.button===0&&(_=!0,T(X))}function R(){_=!1}function P(X){_&&T({offsetX:Math.max(0,Math.min(p.getBoundingClientRect().width,X.clientX-p.getBoundingClientRect().left)),offsetY:Math.max(0,Math.min(p.getBoundingClientRect().height,X.clientY-p.getBoundingClientRect().top))})}function I(X){X.target.isSameNode(p)||e(7,y=!1)}function N(X){var de;X.key==="Tab"&&e(7,y=!!((de=document.activeElement)!=null&&de.isSameNode(p))),!X.repeat&&y&&D()}function M(X){y&&i.ArrowVH&&(X.preventDefault(),X.repeat||D())}function D(){i.ArrowVH?b||(m=0,b=window.setInterval(()=>{let X=Lf(++m);e(0,u=Math.min(100,Math.max(0,u+(n.ArrowRight-n.ArrowLeft)*X*100))),e(1,h=Math.min(100,Math.max(0,h+(n.ArrowUp-n.ArrowDown)*X*100)))},10)):b&&(clearInterval(b),b=void 0)}function H(X){X.preventDefault(),T({offsetX:X.changedTouches[0].clientX-p.getBoundingClientRect().left,offsetY:X.changedTouches[0].clientY-p.getBoundingClientRect().top})}function Z(X){He[X?"unshift":"push"](()=>{p=X,e(6,p)})}return r.$$set=X=>{"components"in X&&e(2,s=X.components),"h"in X&&e(3,o=X.h),"s"in X&&e(0,u=X.s),"v"in X&&e(1,h=X.v),"isOpen"in X&&e(17,f=X.isOpen),"toRight"in X&&e(4,c=X.toRight),"isDark"in X&&e(5,v=X.isDark)},r.$$.update=()=>{r.$$.dirty&8&&typeof o=="number"&&e(8,w=rr({h:o,s:100,v:100,a:1}).toHex()),r.$$.dirty&67&&typeof u=="number"&&typeof h=="number"&&p&&e(9,E={x:u,y:100-h})},[u,h,s,o,c,v,p,y,w,E,C,R,P,I,N,M,H,f,Z]}class mE extends ht{constructor(t){super(),lt(this,t,gE,_E,ot,{components:2,h:3,s:0,v:1,isOpen:17,toRight:4,isDark:5})}}const{window:fa}=au;function yE(r){let t,e,n,i,s,o;var u=r[1].sliderIndicator;function h(f){return{props:{pos:f[4],toRight:f[2]}}}return u&&(e=xt(u,h(r))),{c(){t=ae("div"),e&&Se(e.$$.fragment),L(t,"class","slider svelte-14nweqy"),L(t,"tabindex","0"),L(t,"aria-label","hue picker (arrow keyboard navigation)"),L(t,"aria-valuemin",0),L(t,"aria-valuemax",360),L(t,"aria-valuenow",n=Math.round(r[0])),ye(t,"to-right",r[2])},m(f,c){ve(f,t,c),e&&xe(e,t,null),r[12](t),i=!0,s||(o=[_e(t,"mousedown",Qn(ln(r[6]))),_e(t,"touchstart",r[11]),_e(t,"touchmove",Qn(ln(r[11]))),_e(t,"touchend",r[11])],s=!0)},p(f,c){const v={};if(c&16&&(v.pos=f[4]),c&4&&(v.toRight=f[2]),u!==(u=f[1].sliderIndicator)){if(e){tt();const p=e;Q(p.$$.fragment,1,0,()=>{Te(p,1)}),rt()}u?(e=xt(u,h(f)),Se(e.$$.fragment),V(e.$$.fragment,1),xe(e,t,null)):e=null}else u&&e.$set(v);(!i||c&1&&n!==(n=Math.round(f[0])))&&L(t,"aria-valuenow",n),(!i||c&4)&&ye(t,"to-right",f[2])},i(f){i||(e&&V(e.$$.fragment,f),i=!0)},o(f){e&&Q(e.$$.fragment,f),i=!1},d(f){f&&pe(t),e&&Te(e),r[12](null),s=!1,Dt(o)}}}function bE(r){let t,e,n,i,s;var o=r[1].sliderWrapper;function u(h){return{props:{focused:h[5],toRight:h[2],$$slots:{default:[yE]},$$scope:{ctx:h}}}}return o&&(t=xt(o,u(r))),{c(){t&&Se(t.$$.fragment),e=qt()},m(h,f){t&&xe(t,h,f),ve(h,e,f),n=!0,i||(s=[_e(fa,"mouseup",r[7]),_e(fa,"mousemove",r[8]),_e(fa,"keyup",r[9]),_e(fa,"keydown",r[10])],i=!0)},p(h,[f]){const c={};if(f&32&&(c.focused=h[5]),f&4&&(c.toRight=h[2]),f&1048607&&(c.$$scope={dirty:f,ctx:h}),o!==(o=h[1].sliderWrapper)){if(t){tt();const v=t;Q(v.$$.fragment,1,0,()=>{Te(v,1)}),rt()}o?(t=xt(o,u(h)),Se(t.$$.fragment),V(t.$$.fragment,1),xe(t,e.parentNode,e)):t=null}else o&&t.$set(c)},i(h){n||(t&&V(t.$$.fragment,h),n=!0)},o(h){t&&Q(t.$$.fragment,h),n=!1},d(h){h&&pe(e),t&&Te(t,h),i=!1,Dt(s)}}}function wE(r,t,e){let n,i;Dn(r,Rn,I=>e(16,n=I)),Dn(r,Nf,I=>e(17,i=I));let{components:s}=t,{toRight:o}=t,u,h=!1,{h:f}=t,c=0,v=!1,p,_;function y(I){const N=o?u.getBoundingClientRect().width:u.getBoundingClientRect().height,M=Math.max(0,Math.min(N,I));e(0,f=M/N*360)}function b(I){I.button===0&&(h=!0,y(o?I.offsetX:I.offsetY))}function m(){h=!1}function w(I){h&&y(o?I.clientX-u.getBoundingClientRect().left:I.clientY-u.getBoundingClientRect().top)}function E(I){var N;I.key==="Tab"&&e(5,v=!!((N=document.activeElement)!=null&&N.isSameNode(u))),!I.repeat&&v&&C()}function T(I){v&&i.ArrowVH&&(I.preventDefault(),I.repeat||C())}function C(){i.ArrowVH?p||(_=0,p=window.setInterval(()=>{const I=Lf(++_),N=o?n.ArrowRight-n.ArrowLeft:n.ArrowDown-n.ArrowUp;e(0,f=Math.min(360,Math.max(0,f+N*360*I)))},10)):p&&(clearInterval(p),p=void 0)}function R(I){I.preventDefault(),y(o?I.changedTouches[0].clientX-u.getBoundingClientRect().left:I.changedTouches[0].clientY-u.getBoundingClientRect().top)}function P(I){He[I?"unshift":"push"](()=>{u=I,e(3,u)})}return r.$$set=I=>{"components"in I&&e(1,s=I.components),"toRight"in I&&e(2,o=I.toRight),"h"in I&&e(0,f=I.h)},r.$$.update=()=>{r.$$.dirty&9&&typeof f=="number"&&u&&e(4,c=100*f/360)},[f,s,o,u,c,v,b,m,w,E,T,R,P]}class xE extends ht{constructor(t){super(),lt(this,t,wE,bE,ot,{components:1,toRight:2,h:0})}}const{window:ca}=au;function TE(r){let t,e,n,i,s,o,u;var h=r[0].alphaIndicator;function f(c){return{props:{pos:c[5],toRight:c[2]}}}return h&&(e=xt(h,f(r))),{c(){var c,v;t=ae("div"),e&&Se(e.$$.fragment),L(t,"class","alpha svelte-f2vq53"),L(t,"tabindex","0"),Be(t,"--alpha-color",(c=r[1])==null?void 0:c.substring(0,7)),L(t,"aria-label","transparency picker (arrow keyboard navigation)"),L(t,"aria-valuemin",0),L(t,"aria-valuemax",100),L(t,"aria-valuenow",n=Math.round(r[5])),L(t,"aria-valuetext",i=((v=r[5])==null?void 0:v.toFixed())+"%"),ye(t,"to-right",r[2])},m(c,v){ve(c,t,v),e&&xe(e,t,null),r[14](t),s=!0,o||(u=[_e(t,"mousedown",Qn(ln(r[6]))),_e(t,"touchstart",r[11]),_e(t,"touchmove",Qn(ln(r[11]))),_e(t,"touchend",r[11])],o=!0)},p(c,v){var _,y;const p={};if(v&32&&(p.pos=c[5]),v&4&&(p.toRight=c[2]),h!==(h=c[0].alphaIndicator)){if(e){tt();const b=e;Q(b.$$.fragment,1,0,()=>{Te(b,1)}),rt()}h?(e=xt(h,f(c)),Se(e.$$.fragment),V(e.$$.fragment,1),xe(e,t,null)):e=null}else h&&e.$set(p);(!s||v&2)&&Be(t,"--alpha-color",(_=c[1])==null?void 0:_.substring(0,7)),(!s||v&32&&n!==(n=Math.round(c[5])))&&L(t,"aria-valuenow",n),(!s||v&32&&i!==(i=((y=c[5])==null?void 0:y.toFixed())+"%"))&&L(t,"aria-valuetext",i),(!s||v&4)&&ye(t,"to-right",c[2])},i(c){s||(e&&V(e.$$.fragment,c),s=!0)},o(c){e&&Q(e.$$.fragment,c),s=!1},d(c){c&&pe(t),e&&Te(e),r[14](null),o=!1,Dt(u)}}}function EE(r){let t,e,n,i,s;var o=r[0].alphaWrapper;function u(h){return{props:{focused:h[4],toRight:h[2],$$slots:{default:[TE]},$$scope:{ctx:h}}}}return o&&(t=xt(o,u(r))),{c(){t&&Se(t.$$.fragment),e=qt()},m(h,f){t&&xe(t,h,f),ve(h,e,f),n=!0,i||(s=[_e(ca,"mouseup",r[7]),_e(ca,"mousemove",r[8]),_e(ca,"keyup",r[9]),_e(ca,"keydown",r[10])],i=!0)},p(h,[f]){const c={};if(f&16&&(c.focused=h[4]),f&4&&(c.toRight=h[2]),f&4194351&&(c.$$scope={dirty:f,ctx:h}),o!==(o=h[0].alphaWrapper)){if(t){tt();const v=t;Q(v.$$.fragment,1,0,()=>{Te(v,1)}),rt()}o?(t=xt(o,u(h)),Se(t.$$.fragment),V(t.$$.fragment,1),xe(t,e.parentNode,e)):t=null}else o&&t.$set(c)},i(h){n||(t&&V(t.$$.fragment,h),n=!0)},o(h){t&&Q(t.$$.fragment,h),n=!1},d(h){h&&pe(e),t&&Te(t,h),i=!1,Dt(s)}}}function SE(r,t,e){let n,i;Dn(r,Rn,M=>e(18,n=M)),Dn(r,Nf,M=>e(19,i=M));let{components:s}=t,{isOpen:o}=t,{a:u=1}=t,{hex:h}=t,{toRight:f}=t,c,v=!1,p=!1,_,y,b;function m(M){const D=f?c.getBoundingClientRect().width:c.getBoundingClientRect().height,H=Math.max(0,Math.min(D,M));e(12,u=H/D)}function w(M){M.button===0&&(v=!0,m(f?M.offsetX:M.offsetY))}function E(){v=!1}function T(M){v&&m(f?M.clientX-c.getBoundingClientRect().left:M.clientY-c.getBoundingClientRect().top)}function C(M){var D;M.key==="Tab"&&e(4,p=!!((D=document.activeElement)!=null&&D.isSameNode(c))),!M.repeat&&p&&P()}function R(M){p&&i.ArrowVH&&(M.preventDefault(),M.repeat||P())}function P(){i.ArrowVH?_||(y=0,_=window.setInterval(()=>{const M=Lf(++y),D=f?n.ArrowRight-n.ArrowLeft:n.ArrowDown-n.ArrowUp;e(12,u=Math.min(1,Math.max(0,u+D*M)))},10)):_&&(clearInterval(_),_=void 0)}function I(M){M.preventDefault(),m(f?M.changedTouches[0].clientX-c.getBoundingClientRect().left:M.changedTouches[0].clientY-c.getBoundingClientRect().top)}function N(M){He[M?"unshift":"push"](()=>{c=M,e(3,c)})}return r.$$set=M=>{"components"in M&&e(0,s=M.components),"isOpen"in M&&e(13,o=M.isOpen),"a"in M&&e(12,u=M.a),"hex"in M&&e(1,h=M.hex),"toRight"in M&&e(2,f=M.toRight)},r.$$.update=()=>{r.$$.dirty&4104&&typeof u=="number"&&c&&e(5,b=100*u)},[s,h,f,c,p,b,w,E,T,C,R,I,u,o,N]}class AE extends ht{constructor(t){super(),lt(this,t,SE,EE,ot,{components:0,isOpen:13,a:12,hex:1,toRight:2})}}function RE(r){let t,e,n,i,s,o,u,h,f,c=r[2]&&mv(r);return{c(){t=ae("div"),e=ae("input"),n=be(),i=ae("input"),s=be(),o=ae("input"),u=be(),c&&c.c(),L(e,"aria-label","hue chanel color"),e.value=r[8],L(e,"type","number"),L(e,"min","0"),L(e,"max","360"),L(e,"class","svelte-11z4jba"),L(i,"aria-label","saturation chanel color"),i.value=r[7],L(i,"type","number"),L(i,"min","0"),L(i,"max","100"),L(i,"class","svelte-11z4jba"),L(o,"aria-label","brightness chanel color"),o.value=r[6],L(o,"type","number"),L(o,"min","0"),L(o,"max","100"),L(o,"class","svelte-11z4jba"),L(t,"class","input-container svelte-11z4jba")},m(v,p){ve(v,t,p),K(t,e),K(t,n),K(t,i),K(t,s),K(t,o),K(t,u),c&&c.m(t,null),h||(f=[_e(e,"input",r[12]("h")),_e(i,"input",r[12]("s")),_e(o,"input",r[12]("v"))],h=!0)},p(v,p){p&256&&e.value!==v[8]&&(e.value=v[8]),p&128&&i.value!==v[7]&&(i.value=v[7]),p&64&&o.value!==v[6]&&(o.value=v[6]),v[2]?c?c.p(v,p):(c=mv(v),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d(v){v&&pe(t),c&&c.d(),h=!1,Dt(f)}}}function CE(r){let t,e,n,i,s,o,u,h,f,c,v,p,_=r[2]&&yv(r);return{c(){t=ae("div"),e=ae("input"),i=be(),s=ae("input"),u=be(),h=ae("input"),c=be(),_&&_.c(),L(e,"aria-label","red chanel color"),e.value=n=r[0].r,L(e,"type","number"),L(e,"min","0"),L(e,"max","255"),L(e,"class","svelte-11z4jba"),L(s,"aria-label","green chanel color"),s.value=o=r[0].g,L(s,"type","number"),L(s,"min","0"),L(s,"max","255"),L(s,"class","svelte-11z4jba"),L(h,"aria-label","blue chanel color"),h.value=f=r[0].b,L(h,"type","number"),L(h,"min","0"),L(h,"max","255"),L(h,"class","svelte-11z4jba"),L(t,"class","input-container svelte-11z4jba")},m(y,b){ve(y,t,b),K(t,e),K(t,i),K(t,s),K(t,u),K(t,h),K(t,c),_&&_.m(t,null),v||(p=[_e(e,"input",r[11]("r")),_e(s,"input",r[11]("g")),_e(h,"input",r[11]("b"))],v=!0)},p(y,b){b&1&&n!==(n=y[0].r)&&e.value!==n&&(e.value=n),b&1&&o!==(o=y[0].g)&&s.value!==o&&(s.value=o),b&1&&f!==(f=y[0].b)&&h.value!==f&&(h.value=f),y[2]?_?_.p(y,b):(_=yv(y),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},d(y){y&&pe(t),_&&_.d(),v=!1,Dt(p)}}}function PE(r){let t,e,n,i,s,o=r[2]&&bv(r);return{c(){t=ae("div"),e=ae("input"),n=be(),o&&o.c(),e.value=r[1],Be(e,"flex","3"),L(e,"class","svelte-11z4jba"),L(t,"class","input-container svelte-11z4jba")},m(u,h){ve(u,t,h),K(t,e),K(t,n),o&&o.m(t,null),i||(s=_e(e,"input",r[10]),i=!0)},p(u,h){h&2&&e.value!==u[1]&&(e.value=u[1]),u[2]?o?o.p(u,h):(o=bv(u),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(u){u&&pe(t),o&&o.d(),i=!1,s()}}}function mv(r){let t,e,n;return{c(){t=ae("input"),L(t,"aria-label","transparency chanel color"),t.value=r[5],L(t,"type","number"),L(t,"min","0"),L(t,"max","1"),L(t,"step","0.01"),L(t,"class","svelte-11z4jba")},m(i,s){ve(i,t,s),e||(n=_e(t,"input",r[12]("a")),e=!0)},p(i,s){s&32&&t.value!==i[5]&&(t.value=i[5])},d(i){i&&pe(t),e=!1,n()}}}function yv(r){let t,e,n;return{c(){t=ae("input"),L(t,"aria-label","transparency chanel color"),t.value=r[5],L(t,"type","number"),L(t,"min","0"),L(t,"max","1"),L(t,"step","0.01"),L(t,"class","svelte-11z4jba")},m(i,s){ve(i,t,s),e||(n=_e(t,"input",r[11]("a")),e=!0)},p(i,s){s&32&&t.value!==i[5]&&(t.value=i[5])},d(i){i&&pe(t),e=!1,n()}}}function bv(r){let t,e,n;return{c(){t=ae("input"),L(t,"aria-label","hexadecimal color"),t.value=r[5],L(t,"type","number"),L(t,"min","0"),L(t,"max","1"),L(t,"step","0.01"),L(t,"class","svelte-11z4jba")},m(i,s){ve(i,t,s),e||(n=_e(t,"input",r[11]("a")),e=!0)},p(i,s){s&32&&t.value!==i[5]&&(t.value=i[5])},d(i){i&&pe(t),e=!1,n()}}}function wv(r){let t,e=r[9][r[4]]+"",n,i,s,o;return{c(){t=ae("button"),n=Jt(e),L(t,"aria-label",i="change inputs to "+r[9][(r[4]+1)%3]),L(t,"class","svelte-11z4jba")},m(u,h){ve(u,t,h),K(t,n),s||(o=_e(t,"click",r[14]),s=!0)},p(u,h){h&16&&e!==(e=u[9][u[4]]+"")&&yr(n,e),h&16&&i!==(i="change inputs to "+u[9][(u[4]+1)%3])&&L(t,"aria-label",i)},d(u){u&&pe(t),s=!1,o()}}}function IE(r){let t,e;function n(u,h){return u[4]===0?PE:u[4]===1?CE:RE}let i=n(r),s=i(r),o=r[3]&&wv(r);return{c(){t=ae("div"),s.c(),e=be(),o&&o.c(),L(t,"class","text-input svelte-11z4jba")},m(u,h){ve(u,t,h),s.m(t,null),K(t,e),o&&o.m(t,null)},p(u,[h]){i===(i=n(u))&&s?s.p(u,h):(s.d(1),s=i(u),s&&(s.c(),s.m(t,e))),u[3]?o?o.p(u,h):(o=wv(u),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i:Oe,o:Oe,d(u){u&&pe(t),s.d(),o&&o.d()}}}const OE=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;function ME(r,t,e){let n,i,s,o,{isAlpha:u}=t,{rgb:h}=t,{hsv:f}=t,{hex:c}=t,{canChangeMode:v}=t;const p=["HEX","RGB","HSV"];let _=0;function y(E){const T=E.target;OE.test(T.value)&&e(1,c=T.value)}function b(E){return function(T){e(0,h={...h,[E]:parseFloat(T.target.value)})}}function m(E){return function(T){e(13,f={...f,[E]:parseFloat(T.target.value)})}}const w=()=>e(4,_=(_+1)%3);return r.$$set=E=>{"isAlpha"in E&&e(2,u=E.isAlpha),"rgb"in E&&e(0,h=E.rgb),"hsv"in E&&e(13,f=E.hsv),"hex"in E&&e(1,c=E.hex),"canChangeMode"in E&&e(3,v=E.canChangeMode)},r.$$.update=()=>{r.$$.dirty&8192&&e(8,n=Math.round(f.h)),r.$$.dirty&8192&&e(7,i=Math.round(f.s)),r.$$.dirty&8192&&e(6,s=Math.round(f.v)),r.$$.dirty&8192&&e(5,o=f.a===void 0?1:Math.round(f.a*100)/100)},[h,c,u,v,_,o,s,i,n,p,y,b,m,f,w]}class DE extends ht{constructor(t){super(),lt(this,t,ME,IE,ot,{isAlpha:2,rgb:0,hsv:13,hex:1,canChangeMode:3})}}function FE(r){let t,e;return{c(){t=ae("div"),L(t,"class","slider-indicator svelte-htgglv"),L(t,"style",e=`top: calc(${r[0]/200*186}% + 2px);`)},m(n,i){ve(n,t,i)},p(n,[i]){i&1&&e!==(e=`top: calc(${n[0]/200*186}% + 2px);`)&&L(t,"style",e)},i:Oe,o:Oe,d(n){n&&pe(t)}}}function NE(r,t,e){let{pos:n}=t,{toRight:i}=t;return r.$$set=s=>{"pos"in s&&e(0,n=s.pos),"toRight"in s&&e(1,i=s.toRight)},[n,i]}class xv extends ht{constructor(t){super(),lt(this,t,NE,FE,ot,{pos:0,toRight:1})}}function LE(r){let t,e;return{c(){t=ae("div"),L(t,"class","picker-indicator svelte-1nw247x"),L(t,"style",e=`left: calc(${r[0].x/200*186}% + 2px); top: calc(${r[0].y/200*186}% + 2px); box-shadow: 0 0 4px ${r[1]?"white":"black"};`)},m(n,i){ve(n,t,i)},p(n,[i]){i&3&&e!==(e=`left: calc(${n[0].x/200*186}% + 2px); top: calc(${n[0].y/200*186}% + 2px); box-shadow: 0 0 4px ${n[1]?"white":"black"};`)&&L(t,"style",e)},i:Oe,o:Oe,d(n){n&&pe(t)}}}function BE(r,t,e){let{pos:n}=t,{hex:i}=t,{isDark:s}=t;return r.$$set=o=>{"pos"in o&&e(0,n=o.pos),"hex"in o&&e(2,i=o.hex),"isDark"in o&&e(1,s=o.isDark)},[n,s,i]}class UE extends ht{constructor(t){super(),lt(this,t,BE,LE,ot,{pos:0,hex:2,isDark:1})}}function kE(r){let t,e;return{c:Oe,m(n,i){t||(e=[_e(window,"keyup",r[0]),_e(window,"keydown",r[1])],t=!0)},p:Oe,i:Oe,o:Oe,d(n){t=!1,Dt(e)}}}function GE(r,t,e){let n;Dn(r,Rn,o=>e(2,n=o));function i(o){["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(o.key)&&(ov(Rn,n[o.key]=0,n),Rn.set(n))}function s(o){["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(o.key)&&(o.repeat||(ov(Rn,n[o.key]=1,n),Rn.set(n)))}return[i,s]}class HE extends ht{constructor(t){super(),lt(this,t,GE,kE,ot,{})}}function XE(r){let t,e;const n=r[3].default,i=Tr(n,r,r[2],null);return{c(){t=ae("div"),i&&i.c(),L(t,"class","picker-wrapper svelte-1isc651"),ye(t,"focused",r[0])},m(s,o){ve(s,t,o),i&&i.m(t,null),e=!0},p(s,[o]){i&&i.p&&(!e||o&4)&&Sr(i,n,s,s[2],e?Er(n,s[2],o,null):Ar(s[2]),null),(!e||o&1)&&ye(t,"focused",s[0])},i(s){e||(V(i,s),e=!0)},o(s){Q(i,s),e=!1},d(s){s&&pe(t),i&&i.d(s)}}}function WE(r,t,e){let{$$slots:n={},$$scope:i}=t,{focused:s}=t,{toRight:o}=t;return r.$$set=u=>{"focused"in u&&e(0,s=u.focused),"toRight"in u&&e(1,o=u.toRight),"$$scope"in u&&e(2,i=u.$$scope)},[s,o,i,n]}class zE extends ht{constructor(t){super(),lt(this,t,WE,XE,ot,{focused:0,toRight:1})}}function VE(r){let t,e;const n=r[3].default,i=Tr(n,r,r[2],null);return{c(){t=ae("div"),i&&i.c(),L(t,"class","slider-wrapper svelte-1udewng"),ye(t,"focused",r[0])},m(s,o){ve(s,t,o),i&&i.m(t,null),e=!0},p(s,[o]){i&&i.p&&(!e||o&4)&&Sr(i,n,s,s[2],e?Er(n,s[2],o,null):Ar(s[2]),null),(!e||o&1)&&ye(t,"focused",s[0])},i(s){e||(V(i,s),e=!0)},o(s){Q(i,s),e=!1},d(s){s&&pe(t),i&&i.d(s)}}}function YE(r,t,e){let{$$slots:n={},$$scope:i}=t,{focused:s}=t,{toRight:o}=t;return r.$$set=u=>{"focused"in u&&e(0,s=u.focused),"toRight"in u&&e(1,o=u.toRight),"$$scope"in u&&e(2,i=u.$$scope)},[s,o,i,n]}class Tv extends ht{constructor(t){super(),lt(this,t,YE,VE,ot,{focused:0,toRight:1})}}function jE(r){let t,e,n,i,s,o,u,h,f,c,v;return{c(){t=ae("label"),e=ae("div"),n=ae("input"),i=be(),s=ae("div"),o=be(),u=ae("div"),h=be(),f=Jt(r[2]),L(n,"type","color"),n.value=r[1],L(n,"aria-haspopup","dialog"),L(n,"class","svelte-2ybi8r"),L(s,"class","alpha svelte-2ybi8r"),L(u,"class","color svelte-2ybi8r"),Be(u,"background",r[1]),L(e,"class","container svelte-2ybi8r"),L(t,"class","svelte-2ybi8r")},m(p,_){ve(p,t,_),K(t,e),K(e,n),K(e,i),K(e,s),K(e,o),K(e,u),K(t,h),K(t,f),r[4](t),c||(v=[_e(n,"click",ln(qE)),_e(n,"mousedown",ln(KE)),_e(t,"click",ln(ZE)),_e(t,"mousedown",ln(JE))],c=!0)},p(p,[_]){_&2&&(n.value=p[1]),_&2&&Be(u,"background",p[1]),_&4&&yr(f,p[2])},i:Oe,o:Oe,d(p){p&&pe(t),r[4](null),c=!1,Dt(v)}}}const qE=()=>{},KE=()=>{},ZE=()=>{},JE=()=>{};function QE(r,t,e){let{labelWrapper:n}=t,{hex:i}=t,{label:s}=t,{isOpen:o}=t;function u(h){He[h?"unshift":"push"](()=>{n=h,e(0,n)})}return r.$$set=h=>{"labelWrapper"in h&&e(0,n=h.labelWrapper),"hex"in h&&e(1,i=h.hex),"label"in h&&e(2,s=h.label),"isOpen"in h&&e(3,o=h.isOpen)},[n,i,s,o,u]}class $E extends ht{constructor(t){super(),lt(this,t,QE,jE,ot,{labelWrapper:0,hex:1,label:2,isOpen:3})}}function eS(r){let t,e,n;const i=r[5].default,s=Tr(i,r,r[4],null);return{c(){t=ae("div"),s&&s.c(),L(t,"class","wrapper svelte-160vdtq"),L(t,"role",e=r[2]?"dialog":void 0),L(t,"aria-label","color picker"),ye(t,"isOpen",r[1]),ye(t,"isPopup",r[2])},m(o,u){ve(o,t,u),s&&s.m(t,null),r[6](t),n=!0},p(o,[u]){s&&s.p&&(!n||u&16)&&Sr(s,i,o,o[4],n?Er(i,o[4],u,null):Ar(o[4]),null),(!n||u&4&&e!==(e=o[2]?"dialog":void 0))&&L(t,"role",e),(!n||u&2)&&ye(t,"isOpen",o[1]),(!n||u&4)&&ye(t,"isPopup",o[2])},i(o){n||(V(s,o),n=!0)},o(o){Q(s,o),n=!1},d(o){o&&pe(t),s&&s.d(o),r[6](null)}}}function tS(r,t,e){let{$$slots:n={},$$scope:i}=t,{wrapper:s}=t,{isOpen:o}=t,{isPopup:u}=t,{toRight:h}=t;function f(c){He[c?"unshift":"push"](()=>{s=c,e(0,s)})}return r.$$set=c=>{"wrapper"in c&&e(0,s=c.wrapper),"isOpen"in c&&e(1,o=c.isOpen),"isPopup"in c&&e(2,u=c.isPopup),"toRight"in c&&e(3,h=c.toRight),"$$scope"in c&&e(4,i=c.$$scope)},[s,o,u,h,i,n,f]}class rS extends ht{constructor(t){super(),lt(this,t,tS,eS,ot,{wrapper:0,isOpen:1,isPopup:2,toRight:3})}}function Ev(r,t,e){const n=r.slice();return n[9]=t[e].contrast,n[10]=t[e].hex,n[11]=t[e].placeholder,n[12]=t[e].reverse,n[13]=t[e].size,n}function Sv(r){let t,e,n;var i=r[0].a11ySingleNotice;function s(o){return{props:{contrast:o[9],textColor:o[12]?o[10]:o[1],bgColor:o[12]?o[1]:o[10],placeholder:o[11],size:o[13]}}}return i&&(t=xt(i,s(r))),{c(){t&&Se(t.$$.fragment),e=qt()},m(o,u){t&&xe(t,o,u),ve(o,e,u),n=!0},p(o,u){const h={};if(u&16&&(h.contrast=o[9]),u&18&&(h.textColor=o[12]?o[10]:o[1]),u&18&&(h.bgColor=o[12]?o[1]:o[10]),u&16&&(h.placeholder=o[11]),u&16&&(h.size=o[13]),i!==(i=o[0].a11ySingleNotice)){if(t){tt();const f=t;Q(f.$$.fragment,1,0,()=>{Te(f,1)}),rt()}i?(t=xt(i,s(o)),Se(t.$$.fragment),V(t.$$.fragment,1),xe(t,e.parentNode,e)):t=null}else i&&t.$set(h)},i(o){n||(t&&V(t.$$.fragment,o),n=!0)},o(o){t&&Q(t.$$.fragment,o),n=!1},d(o){o&&pe(e),t&&Te(t,o)}}}function Av(r){let t;return{c(){t=ae("span"),L(t,"class","svelte-1s4dluu")},m(e,n){ve(e,t,n),t.innerHTML=r[2]},p(e,n){n&4&&(t.innerHTML=e[2])},d(e){e&&pe(t)}}}function nS(r){let t,e,n,i,s,o,u,h,f;var c=r[0].a11ySummary;function v(m){return{props:{a11yColors:m[4],hex:m[1]}}}c&&(n=xt(c,v(r)));let p=r[4],_=[];for(let m=0;m<p.length;m+=1)_[m]=Sv(Ev(r,p,m));const y=m=>Q(_[m],1,1,()=>{_[m]=null});let b=r[2]&&Av(r);return{c(){t=ae("details"),e=ae("summary"),n&&Se(n.$$.fragment),s=be(),o=ae("div");for(let m=0;m<_.length;m+=1)_[m].c();u=be(),b&&b.c(),L(e,"tabindex",i=r[5]?-1:void 0),L(e,"class","svelte-1s4dluu"),L(o,"class","svelte-1s4dluu"),L(t,"class",h="a11y-notice "+(r[5]?"not-closable":"")+" svelte-1s4dluu"),t.open=r[3]},m(m,w){ve(m,t,w),K(t,e),n&&xe(n,e,null),K(t,s),K(t,o);for(let E=0;E<_.length;E+=1)_[E].m(o,null);K(o,u),b&&b.m(o,null),f=!0},p(m,[w]){const E={};if(w&16&&(E.a11yColors=m[4]),w&2&&(E.hex=m[1]),c!==(c=m[0].a11ySummary)){if(n){tt();const T=n;Q(T.$$.fragment,1,0,()=>{Te(T,1)}),rt()}c?(n=xt(c,v(m)),Se(n.$$.fragment),V(n.$$.fragment,1),xe(n,e,null)):n=null}else c&&n.$set(E);if((!f||w&32&&i!==(i=m[5]?-1:void 0))&&L(e,"tabindex",i),w&19){p=m[4];let T;for(T=0;T<p.length;T+=1){const C=Ev(m,p,T);_[T]?(_[T].p(C,w),V(_[T],1)):(_[T]=Sv(C),_[T].c(),V(_[T],1),_[T].m(o,u))}for(tt(),T=p.length;T<_.length;T+=1)y(T);rt()}m[2]?b?b.p(m,w):(b=Av(m),b.c(),b.m(o,null)):b&&(b.d(1),b=null),(!f||w&32&&h!==(h="a11y-notice "+(m[5]?"not-closable":"")+" svelte-1s4dluu"))&&L(t,"class",h),(!f||w&8)&&(t.open=m[3])},i(m){if(!f){n&&V(n.$$.fragment,m);for(let w=0;w<p.length;w+=1)V(_[w]);f=!0}},o(m){n&&Q(n.$$.fragment,m),_=_.filter(Boolean);for(let w=0;w<_.length;w+=1)Q(_[w]);f=!1},d(m){m&&pe(t),n&&Te(n),If(_,m),b&&b.d()}}}function iS(r,t,e){let n,i,{components:s}=t,{a11yColors:o}=t,{hex:u}=t,{color:h}=t,{a11yGuidelines:f}=t,{isA11yOpen:c}=t,{isA11yClosable:v}=t;return r.$$set=p=>{"components"in p&&e(0,s=p.components),"a11yColors"in p&&e(6,o=p.a11yColors),"hex"in p&&e(1,u=p.hex),"color"in p&&e(7,h=p.color),"a11yGuidelines"in p&&e(2,f=p.a11yGuidelines),"isA11yOpen"in p&&e(3,c=p.isA11yOpen),"isA11yClosable"in p&&e(8,v=p.isA11yClosable)},r.$$.update=()=>{r.$$.dirty&264&&e(5,n=c&&!v),r.$$.dirty&192&&e(4,i=o.map(p=>({...p,contrast:h==null?void 0:h.contrast(p.hex)})))},[s,u,f,c,i,n,o,h,v]}class sS extends ht{constructor(t){super(),lt(this,t,iS,nS,ot,{components:0,a11yColors:6,hex:1,color:7,a11yGuidelines:2,isA11yOpen:3,isA11yClosable:8})}}function oS(r){let t,e,n=(r[2]||"Lorem Ipsum")+"",i,s,o,u,h,f,c=(r[3]>=10?r[3].toFixed(1):r[3])+"",v,p,_,y,b;return{c(){t=ae("div"),e=ae("p"),i=Jt(n),o=be(),u=ae("div"),h=ae("p"),f=Jt("contrast: "),v=Jt(c),p=be(),_=ae("span"),_.textContent="AA",y=be(),b=ae("span"),b.textContent="AAA",L(e,"class",s="lorem "+(r[4]==="large"&&"large")+" svelte-obnxge"),Be(e,"color",r[0]),Be(e,"background-color",r[1]),L(h,"class","svelte-obnxge"),L(_,"class","grade svelte-obnxge"),ye(_,"grade-ok",r[3]>(r[4]==="large"?3:4.5)),L(b,"class","grade svelte-obnxge"),ye(b,"grade-ok",r[3]>(r[4]==="large"?4.5:7)),L(u,"class","score svelte-obnxge"),L(t,"class","a11y-single-notice svelte-obnxge")},m(m,w){ve(m,t,w),K(t,e),K(e,i),K(t,o),K(t,u),K(u,h),K(h,f),K(h,v),K(u,p),K(u,_),K(u,y),K(u,b)},p(m,[w]){w&4&&n!==(n=(m[2]||"Lorem Ipsum")+"")&&yr(i,n),w&16&&s!==(s="lorem "+(m[4]==="large"&&"large")+" svelte-obnxge")&&L(e,"class",s),w&1&&Be(e,"color",m[0]),w&2&&Be(e,"background-color",m[1]),w&8&&c!==(c=(m[3]>=10?m[3].toFixed(1):m[3])+"")&&yr(v,c),w&24&&ye(_,"grade-ok",m[3]>(m[4]==="large"?3:4.5)),w&24&&ye(b,"grade-ok",m[3]>(m[4]==="large"?4.5:7))},i:Oe,o:Oe,d(m){m&&pe(t)}}}function aS(r,t,e){let{textColor:n}=t,{bgColor:i}=t,{placeholder:s=void 0}=t,{contrast:o=1}=t,{size:u=void 0}=t;return r.$$set=h=>{"textColor"in h&&e(0,n=h.textColor),"bgColor"in h&&e(1,i=h.bgColor),"placeholder"in h&&e(2,s=h.placeholder),"contrast"in h&&e(3,o=h.contrast),"size"in h&&e(4,u=h.size)},[n,i,s,o,u]}class uS extends ht{constructor(t){super(),lt(this,t,aS,oS,ot,{textColor:0,bgColor:1,placeholder:2,contrast:3,size:4})}}function lS(r){let t;return{c(){t=Jt(r[0])},m(e,n){ve(e,t,n)},p(e,[n]){n&1&&yr(t,e[0])},i:Oe,o:Oe,d(e){e&&pe(t)}}}function hS({contrast:r,size:t}){return r?t==="large"?r<3?2:r<4.5?1:0:r<4.5?2:r<7?1:0:1}function fS(r,t,e){let n,i,{a11yColors:s}=t,{hex:o}=t;return r.$$set=u=>{"a11yColors"in u&&e(1,s=u.a11yColors),"hex"in u&&e(2,o=u.hex)},r.$$.update=()=>{r.$$.dirty&2&&e(3,n=s.map(hS).reduce((u,h)=>u+h)),r.$$.dirty&8&&e(0,i=n?`⚠️ ${n} contrast grade${n&&"s"} fail`:"Contrast grade information")},[i,s,o,n]}class cS extends ht{constructor(t){super(),lt(this,t,fS,lS,ot,{a11yColors:1,hex:2})}}function dS(r){let t;return{c(){t=ae("input"),L(t,"type","hidden"),t.value=r[2]},m(e,n){ve(e,t,n)},p(e,n){n[0]&4&&(t.value=e[2])},i:Oe,o:Oe,d(e){e&&pe(t)}}}function pS(r){let t,e,n,i,s;function o(c){r[25](c)}function u(c){r[26](c)}var h=r[21]().input;function f(c){let v={hex:c[2],label:c[6]};return c[19]!==void 0&&(v.labelWrapper=c[19]),c[3]!==void 0&&(v.isOpen=c[3]),{props:v}}return h&&(t=xt(h,f(r)),He.push(()=>ut(t,"labelWrapper",o)),He.push(()=>ut(t,"isOpen",u))),{c(){t&&Se(t.$$.fragment),i=qt()},m(c,v){t&&xe(t,c,v),ve(c,i,v),s=!0},p(c,v){const p={};if(v[0]&4&&(p.hex=c[2]),v[0]&64&&(p.label=c[6]),!e&&v[0]&524288&&(e=!0,p.labelWrapper=c[19],wt(()=>e=!1)),!n&&v[0]&8&&(n=!0,p.isOpen=c[3],wt(()=>n=!1)),h!==(h=c[21]().input)){if(t){tt();const _=t;Q(_.$$.fragment,1,0,()=>{Te(_,1)}),rt()}h?(t=xt(h,f(c)),He.push(()=>ut(t,"labelWrapper",o)),He.push(()=>ut(t,"isOpen",u)),Se(t.$$.fragment),V(t.$$.fragment,1),xe(t,i.parentNode,i)):t=null}else h&&t.$set(p)},i(c){s||(t&&V(t.$$.fragment,c),s=!0)},o(c){t&&Q(t.$$.fragment,c),s=!1},d(c){c&&pe(i),t&&Te(t,c)}}}function Rv(r){let t,e,n,i;function s(h){r[31](h)}function o(h){r[32](h)}let u={components:r[21](),hex:r[2],toRight:r[17]};return r[1].a!==void 0&&(u.a=r[1].a),r[3]!==void 0&&(u.isOpen=r[3]),t=new AE({props:u}),He.push(()=>ut(t,"a",s)),He.push(()=>ut(t,"isOpen",o)),{c(){Se(t.$$.fragment)},m(h,f){xe(t,h,f),i=!0},p(h,f){const c={};f[0]&4&&(c.hex=h[2]),f[0]&131072&&(c.toRight=h[17]),!e&&f[0]&2&&(e=!0,c.a=h[1].a,wt(()=>e=!1)),!n&&f[0]&8&&(n=!0,c.isOpen=h[3],wt(()=>n=!1)),t.$set(c)},i(h){i||(V(t.$$.fragment,h),i=!0)},o(h){Q(t.$$.fragment,h),i=!1},d(h){Te(t,h)}}}function Cv(r){let t,e,n,i,s,o;function u(p){r[33](p)}function h(p){r[34](p)}function f(p){r[35](p)}var c=r[21]().textInput;function v(p){let _={isAlpha:p[7],canChangeMode:p[10]};return p[2]!==void 0&&(_.hex=p[2]),p[0]!==void 0&&(_.rgb=p[0]),p[1]!==void 0&&(_.hsv=p[1]),{props:_}}return c&&(t=xt(c,v(r)),He.push(()=>ut(t,"hex",u)),He.push(()=>ut(t,"rgb",h)),He.push(()=>ut(t,"hsv",f))),{c(){t&&Se(t.$$.fragment),s=qt()},m(p,_){t&&xe(t,p,_),ve(p,s,_),o=!0},p(p,_){const y={};if(_[0]&128&&(y.isAlpha=p[7]),_[0]&1024&&(y.canChangeMode=p[10]),!e&&_[0]&4&&(e=!0,y.hex=p[2],wt(()=>e=!1)),!n&&_[0]&1&&(n=!0,y.rgb=p[0],wt(()=>n=!1)),!i&&_[0]&2&&(i=!0,y.hsv=p[1],wt(()=>i=!1)),c!==(c=p[21]().textInput)){if(t){tt();const b=t;Q(b.$$.fragment,1,0,()=>{Te(b,1)}),rt()}c?(t=xt(c,v(p)),He.push(()=>ut(t,"hex",u)),He.push(()=>ut(t,"rgb",h)),He.push(()=>ut(t,"hsv",f)),Se(t.$$.fragment),V(t.$$.fragment,1),xe(t,s.parentNode,s)):t=null}else c&&t.$set(y)},i(p){o||(t&&V(t.$$.fragment,p),o=!0)},o(p){t&&Q(t.$$.fragment,p),o=!1},d(p){p&&pe(s),t&&Te(t,p)}}}function Pv(r){let t,e,n;var i=r[21]().a11yNotice;function s(o){return{props:{components:o[21](),a11yColors:o[12],color:o[4],hex:o[2],a11yGuidelines:o[13],isA11yOpen:o[14],isA11yClosable:o[15]}}}return i&&(t=xt(i,s(r))),{c(){t&&Se(t.$$.fragment),e=qt()},m(o,u){t&&xe(t,o,u),ve(o,e,u),n=!0},p(o,u){const h={};if(u[0]&4096&&(h.a11yColors=o[12]),u[0]&16&&(h.color=o[4]),u[0]&4&&(h.hex=o[2]),u[0]&8192&&(h.a11yGuidelines=o[13]),u[0]&16384&&(h.isA11yOpen=o[14]),u[0]&32768&&(h.isA11yClosable=o[15]),i!==(i=o[21]().a11yNotice)){if(t){tt();const f=t;Q(f.$$.fragment,1,0,()=>{Te(f,1)}),rt()}i?(t=xt(i,s(o)),Se(t.$$.fragment),V(t.$$.fragment,1),xe(t,e.parentNode,e)):t=null}else i&&t.$set(h)},i(o){n||(t&&V(t.$$.fragment,o),n=!0)},o(o){t&&Q(t.$$.fragment,o),n=!1},d(o){o&&pe(e),t&&Te(t,o)}}}function vS(r){let t,e,n,i,s,o,u,h,f,c,v,p;function _(P){r[27](P)}function y(P){r[28](P)}function b(P){r[29](P)}let m={components:r[21](),h:r[1].h,toRight:r[17],isDark:r[5]};r[1].s!==void 0&&(m.s=r[1].s),r[1].v!==void 0&&(m.v=r[1].v),r[3]!==void 0&&(m.isOpen=r[3]),t=new mE({props:m}),He.push(()=>ut(t,"s",_)),He.push(()=>ut(t,"v",y)),He.push(()=>ut(t,"isOpen",b));function w(P){r[30](P)}let E={components:r[21](),toRight:r[17]};r[1].h!==void 0&&(E.h=r[1].h),o=new xE({props:E}),He.push(()=>ut(o,"h",w));let T=r[7]&&Rv(r),C=r[9]&&Cv(r),R=r[11]&&Pv(r);return{c(){Se(t.$$.fragment),s=be(),Se(o.$$.fragment),h=be(),T&&T.c(),f=be(),C&&C.c(),c=be(),R&&R.c(),v=qt()},m(P,I){xe(t,P,I),ve(P,s,I),xe(o,P,I),ve(P,h,I),T&&T.m(P,I),ve(P,f,I),C&&C.m(P,I),ve(P,c,I),R&&R.m(P,I),ve(P,v,I),p=!0},p(P,I){const N={};I[0]&2&&(N.h=P[1].h),I[0]&131072&&(N.toRight=P[17]),I[0]&32&&(N.isDark=P[5]),!e&&I[0]&2&&(e=!0,N.s=P[1].s,wt(()=>e=!1)),!n&&I[0]&2&&(n=!0,N.v=P[1].v,wt(()=>n=!1)),!i&&I[0]&8&&(i=!0,N.isOpen=P[3],wt(()=>i=!1)),t.$set(N);const M={};I[0]&131072&&(M.toRight=P[17]),!u&&I[0]&2&&(u=!0,M.h=P[1].h,wt(()=>u=!1)),o.$set(M),P[7]?T?(T.p(P,I),I[0]&128&&V(T,1)):(T=Rv(P),T.c(),V(T,1),T.m(f.parentNode,f)):T&&(tt(),Q(T,1,1,()=>{T=null}),rt()),P[9]?C?(C.p(P,I),I[0]&512&&V(C,1)):(C=Cv(P),C.c(),V(C,1),C.m(c.parentNode,c)):C&&(tt(),Q(C,1,1,()=>{C=null}),rt()),P[11]?R?(R.p(P,I),I[0]&2048&&V(R,1)):(R=Pv(P),R.c(),V(R,1),R.m(v.parentNode,v)):R&&(tt(),Q(R,1,1,()=>{R=null}),rt())},i(P){p||(V(t.$$.fragment,P),V(o.$$.fragment,P),V(T),V(C),V(R),p=!0)},o(P){Q(t.$$.fragment,P),Q(o.$$.fragment,P),Q(T),Q(C),Q(R),p=!1},d(P){Te(t,P),P&&pe(s),Te(o,P),P&&pe(h),T&&T.d(P),P&&pe(f),C&&C.d(P),P&&pe(c),R&&R.d(P),P&&pe(v)}}}function _S(r){let t,e,n,i,s,o,u,h,f,c,v;t=new HE({});const p=[pS,dS],_=[];function y(E,T){return E[8]?0:1}i=y(r),s=_[i]=p[i](r);function b(E){r[36](E)}var m=r[21]().wrapper;function w(E){let T={isOpen:E[3],isPopup:E[16],toRight:E[17],$$slots:{default:[vS]},$$scope:{ctx:E}};return E[20]!==void 0&&(T.wrapper=E[20]),{props:T}}return m&&(u=xt(m,w(r)),He.push(()=>ut(u,"wrapper",b))),{c(){Se(t.$$.fragment),e=be(),n=ae("span"),s.c(),o=be(),u&&Se(u.$$.fragment),L(n,"class","color-picker svelte-7ntk55")},m(E,T){xe(t,E,T),ve(E,e,T),ve(E,n,T),_[i].m(n,null),K(n,o),u&&xe(u,n,null),r[37](n),f=!0,c||(v=[_e(window,"mousedown",r[22]),_e(window,"keyup",r[23])],c=!0)},p(E,T){let C=i;i=y(E),i===C?_[i].p(E,T):(tt(),Q(_[C],1,1,()=>{_[C]=null}),rt(),s=_[i],s?s.p(E,T):(s=_[i]=p[i](E),s.c()),V(s,1),s.m(n,o));const R={};if(T[0]&8&&(R.isOpen=E[3]),T[0]&65536&&(R.isPopup=E[16]),T[0]&131072&&(R.toRight=E[17]),T[0]&196287|T[1]&8192&&(R.$$scope={dirty:T,ctx:E}),!h&&T[0]&1048576&&(h=!0,R.wrapper=E[20],wt(()=>h=!1)),m!==(m=E[21]().wrapper)){if(u){tt();const P=u;Q(P.$$.fragment,1,0,()=>{Te(P,1)}),rt()}m?(u=xt(m,w(E)),He.push(()=>ut(u,"wrapper",b)),Se(u.$$.fragment),V(u.$$.fragment,1),xe(u,n,null)):u=null}else m&&u.$set(R)},i(E){f||(V(t.$$.fragment,E),V(s),u&&V(u.$$.fragment,E),f=!0)},o(E){Q(t.$$.fragment,E),Q(s),u&&Q(u.$$.fragment,E),f=!1},d(E){Te(t,E),E&&pe(e),E&&pe(n),_[i].d(),u&&Te(u),r[37](null),c=!1,Dt(v)}}}function gS(r,t,e){fE([cE]);let{components:n={}}=t;const i=ds();let{label:s="Choose a color"}=t,{isAlpha:o=!0}=t,{isInput:u=!0}=t,{isTextInput:h=!0}=t,{canChangeMode:f=!0}=t,{isA11y:c=!1}=t,{a11yColors:v=[{hex:"#ffffff"}]}=t,{a11yGuidelines:p='<p style="margin: 0; font-size: 12px;">Learn more at <a href="https://webaim.org/articles/contrast/" target="_blank">WebAIM contrast guide</a></p>'}=t,{isA11yOpen:_=!1}=t,{isA11yClosable:y=!0}=t,{isPopup:b=u}=t,{isOpen:m=!u}=t,{toRight:w=!1}=t,{rgb:E={r:255,g:0,b:0,a:1}}=t,{hsv:T={h:0,s:100,v:100,a:1}}=t,{hex:C="#ff0000"}=t,{color:R=void 0}=t,{isDark:P=!1}=t,I={r:255,g:0,b:0,a:1},N={h:0,s:100,v:100,a:1},M="#ff0000",D;const H={sliderIndicator:xv,pickerIndicator:UE,alphaIndicator:xv,pickerWrapper:zE,sliderWrapper:Tv,alphaWrapper:Tv,textInput:DE,a11yNotice:sS,a11ySingleNotice:uS,a11ySummary:cS,input:$E,wrapper:rS};function Z(){return{...H,...n}}let X,de;function se({target:$}){u&&(X.contains($)||X.isSameNode($)?e(3,m=!m):m&&!de.contains($)&&e(3,m=!1))}function te($){$.key==="Tab"&&e(3,m=D==null?void 0:D.contains(document.activeElement))}function Y(){T.h===N.h&&T.s===N.s&&T.v===N.v&&T.a===N.a&&E.r===I.r&&E.g===I.g&&E.b===I.b&&E.a===I.a&&C===M||(T.a===void 0&&e(1,T.a=1,T),N.a===void 0&&(N.a=1),E.a===void 0&&e(0,E.a=1,E),I.a===void 0&&(I.a=1),(C==null?void 0:C.substring(7))==="ff"&&e(2,C=C.substring(0,7)),(C==null?void 0:C.substring(7))==="ff"&&e(2,C=C.substring(0,7)),T.h!==N.h||T.s!==N.s||T.v!==N.v||T.a!==N.a?(e(4,R=rr(T)),e(0,E=R.toRgb()),e(2,C=R.toHex())):E.r!==I.r||E.g!==I.g||E.b!==I.b||E.a!==I.a?(e(4,R=rr(E)),e(2,C=R.toHex()),e(1,T=R.toHsv())):C!==M&&(e(4,R=rr(C)),e(0,E=R.toRgb()),e(1,T=R.toHsv())),R&&e(5,P=R.isDark()),N=Object.assign({},T),I=Object.assign({},E),M=C,i("input",{color:R,hsv:T,rgb:E,hex:C}))}function re($){X=$,e(19,X)}function ue($){m=$,e(3,m)}function q($){r.$$.not_equal(T.s,$)&&(T.s=$,e(1,T))}function W($){r.$$.not_equal(T.v,$)&&(T.v=$,e(1,T))}function he($){m=$,e(3,m)}function Ae($){r.$$.not_equal(T.h,$)&&(T.h=$,e(1,T))}function Ce($){r.$$.not_equal(T.a,$)&&(T.a=$,e(1,T))}function We($){m=$,e(3,m)}function ze($){C=$,e(2,C)}function Qe($){E=$,e(0,E)}function ge($){T=$,e(1,T)}function G($){de=$,e(20,de)}function Le($){He[$?"unshift":"push"](()=>{D=$,e(18,D)})}return r.$$set=$=>{"components"in $&&e(24,n=$.components),"label"in $&&e(6,s=$.label),"isAlpha"in $&&e(7,o=$.isAlpha),"isInput"in $&&e(8,u=$.isInput),"isTextInput"in $&&e(9,h=$.isTextInput),"canChangeMode"in $&&e(10,f=$.canChangeMode),"isA11y"in $&&e(11,c=$.isA11y),"a11yColors"in $&&e(12,v=$.a11yColors),"a11yGuidelines"in $&&e(13,p=$.a11yGuidelines),"isA11yOpen"in $&&e(14,_=$.isA11yOpen),"isA11yClosable"in $&&e(15,y=$.isA11yClosable),"isPopup"in $&&e(16,b=$.isPopup),"isOpen"in $&&e(3,m=$.isOpen),"toRight"in $&&e(17,w=$.toRight),"rgb"in $&&e(0,E=$.rgb),"hsv"in $&&e(1,T=$.hsv),"hex"in $&&e(2,C=$.hex),"color"in $&&e(4,R=$.color),"isDark"in $&&e(5,P=$.isDark)},r.$$.update=()=>{r.$$.dirty[0]&7&&(T||E||C)&&Y()},[E,T,C,m,R,P,s,o,u,h,f,c,v,p,_,y,b,w,D,X,de,Z,se,te,n,re,ue,q,W,he,Ae,Ce,We,ze,Qe,ge,G,Le]}class f0 extends ht{constructor(t){super(),lt(this,t,gS,_S,ot,{components:24,label:6,isAlpha:7,isInput:8,isTextInput:9,canChangeMode:10,isA11y:11,a11yColors:12,a11yGuidelines:13,isA11yOpen:14,isA11yClosable:15,isPopup:16,isOpen:3,toRight:17,rgb:0,hsv:1,hex:2,color:4,isDark:5},null,[-1,-1])}}var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rh={},mS={get exports(){return Rh},set exports(r){Rh=r}},c0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ch={},yS={get exports(){return Ch},set exports(r){Ch=r}},bS=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},wS=bS,xS=Array.prototype.concat,TS=Array.prototype.slice,Iv=yS.exports=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var s=t[n];wS(s)?e=xS.call(e,TS.call(s)):e.push(s)}return e};Iv.wrap=function(r){return function(){return r(Iv(arguments))}};var Ys=c0,go=Ch,d0=Object.hasOwnProperty,p0=Object.create(null);for(var Vl in Ys)d0.call(Ys,Vl)&&(p0[Ys[Vl]]=Vl);var wr=mS.exports={to:{},get:{}};wr.get=function(r){var t=r.substring(0,3).toLowerCase(),e,n;switch(t){case"hsl":e=wr.get.hsl(r),n="hsl";break;case"hwb":e=wr.get.hwb(r),n="hwb";break;default:e=wr.get.rgb(r),n="rgb";break}return e?{model:n,value:e}:null};wr.get.rgb=function(r){if(!r)return null;var t=/^#([a-f0-9]{3,4})$/i,e=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],u,h,f;if(u=r.match(e)){for(f=u[2],u=u[1],h=0;h<3;h++){var c=h*2;o[h]=parseInt(u.slice(c,c+2),16)}f&&(o[3]=parseInt(f,16)/255)}else if(u=r.match(t)){for(u=u[1],f=u[3],h=0;h<3;h++)o[h]=parseInt(u[h]+u[h],16);f&&(o[3]=parseInt(f+f,16)/255)}else if(u=r.match(n)){for(h=0;h<3;h++)o[h]=parseInt(u[h+1],0);u[4]&&(u[5]?o[3]=parseFloat(u[4])*.01:o[3]=parseFloat(u[4]))}else if(u=r.match(i)){for(h=0;h<3;h++)o[h]=Math.round(parseFloat(u[h+1])*2.55);u[4]&&(u[5]?o[3]=parseFloat(u[4])*.01:o[3]=parseFloat(u[4]))}else return(u=r.match(s))?u[1]==="transparent"?[0,0,0,0]:d0.call(Ys,u[1])?(o=Ys[u[1]],o[3]=1,o):null:null;for(h=0;h<3;h++)o[h]=Kn(o[h],0,255);return o[3]=Kn(o[3],0,1),o};wr.get.hsl=function(r){if(!r)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,e=r.match(t);if(e){var n=parseFloat(e[4]),i=(parseFloat(e[1])%360+360)%360,s=Kn(parseFloat(e[2]),0,100),o=Kn(parseFloat(e[3]),0,100),u=Kn(isNaN(n)?1:n,0,1);return[i,s,o,u]}return null};wr.get.hwb=function(r){if(!r)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,e=r.match(t);if(e){var n=parseFloat(e[4]),i=(parseFloat(e[1])%360+360)%360,s=Kn(parseFloat(e[2]),0,100),o=Kn(parseFloat(e[3]),0,100),u=Kn(isNaN(n)?1:n,0,1);return[i,s,o,u]}return null};wr.to.hex=function(){var r=go(arguments);return"#"+da(r[0])+da(r[1])+da(r[2])+(r[3]<1?da(Math.round(r[3]*255)):"")};wr.to.rgb=function(){var r=go(arguments);return r.length<4||r[3]===1?"rgb("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+")":"rgba("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+", "+r[3]+")"};wr.to.rgb.percent=function(){var r=go(arguments),t=Math.round(r[0]/255*100),e=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return r.length<4||r[3]===1?"rgb("+t+"%, "+e+"%, "+n+"%)":"rgba("+t+"%, "+e+"%, "+n+"%, "+r[3]+")"};wr.to.hsl=function(){var r=go(arguments);return r.length<4||r[3]===1?"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)":"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+r[3]+")"};wr.to.hwb=function(){var r=go(arguments),t="";return r.length>=4&&r[3]!==1&&(t=", "+r[3]),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+t+")"};wr.to.keyword=function(r){return p0[r.slice(0,3)]};function Kn(r,t,e){return Math.min(Math.max(t,r),e)}function da(r){var t=Math.round(r).toString(16).toUpperCase();return t.length<2?"0"+t:t}const Zs=c0,v0={};for(const r of Object.keys(Zs))v0[Zs[r]]=r;const we={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var _0=we;for(const r of Object.keys(we)){if(!("channels"in we[r]))throw new Error("missing channels property: "+r);if(!("labels"in we[r]))throw new Error("missing channel labels property: "+r);if(we[r].labels.length!==we[r].channels)throw new Error("channel and label counts mismatch: "+r);const{channels:t,labels:e}=we[r];delete we[r].channels,delete we[r].labels,Object.defineProperty(we[r],"channels",{value:t}),Object.defineProperty(we[r],"labels",{value:e})}we.rgb.hsl=function(r){const t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.min(t,e,n),s=Math.max(t,e,n),o=s-i;let u,h;s===i?u=0:t===s?u=(e-n)/o:e===s?u=2+(n-t)/o:n===s&&(u=4+(t-e)/o),u=Math.min(u*60,360),u<0&&(u+=360);const f=(i+s)/2;return s===i?h=0:f<=.5?h=o/(s+i):h=o/(2-s-i),[u,h*100,f*100]};we.rgb.hsv=function(r){let t,e,n,i,s;const o=r[0]/255,u=r[1]/255,h=r[2]/255,f=Math.max(o,u,h),c=f-Math.min(o,u,h),v=function(p){return(f-p)/6/c+1/2};return c===0?(i=0,s=0):(s=c/f,t=v(o),e=v(u),n=v(h),o===f?i=n-e:u===f?i=1/3+t-n:h===f&&(i=2/3+e-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,f*100]};we.rgb.hwb=function(r){const t=r[0],e=r[1];let n=r[2];const i=we.rgb.hsl(r)[0],s=1/255*Math.min(t,Math.min(e,n));return n=1-1/255*Math.max(t,Math.max(e,n)),[i,s*100,n*100]};we.rgb.cmyk=function(r){const t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.min(1-t,1-e,1-n),s=(1-t-i)/(1-i)||0,o=(1-e-i)/(1-i)||0,u=(1-n-i)/(1-i)||0;return[s*100,o*100,u*100,i*100]};function ES(r,t){return(r[0]-t[0])**2+(r[1]-t[1])**2+(r[2]-t[2])**2}we.rgb.keyword=function(r){const t=v0[r];if(t)return t;let e=1/0,n;for(const i of Object.keys(Zs)){const s=Zs[i],o=ES(r,s);o<e&&(e=o,n=i)}return n};we.keyword.rgb=function(r){return Zs[r]};we.rgb.xyz=function(r){let t=r[0]/255,e=r[1]/255,n=r[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const i=t*.4124+e*.3576+n*.1805,s=t*.2126+e*.7152+n*.0722,o=t*.0193+e*.1192+n*.9505;return[i*100,s*100,o*100]};we.rgb.lab=function(r){const t=we.rgb.xyz(r);let e=t[0],n=t[1],i=t[2];e/=95.047,n/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*n-16,o=500*(e-n),u=200*(n-i);return[s,o,u]};we.hsl.rgb=function(r){const t=r[0]/360,e=r[1]/100,n=r[2]/100;let i,s,o;if(e===0)return o=n*255,[o,o,o];n<.5?i=n*(1+e):i=n+e-n*e;const u=2*n-i,h=[0,0,0];for(let f=0;f<3;f++)s=t+1/3*-(f-1),s<0&&s++,s>1&&s--,6*s<1?o=u+(i-u)*6*s:2*s<1?o=i:3*s<2?o=u+(i-u)*(2/3-s)*6:o=u,h[f]=o*255;return h};we.hsl.hsv=function(r){const t=r[0];let e=r[1]/100,n=r[2]/100,i=e;const s=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,i*=s<=1?s:2-s;const o=(n+e)/2,u=n===0?2*i/(s+i):2*e/(n+e);return[t,u*100,o*100]};we.hsv.rgb=function(r){const t=r[0]/60,e=r[1]/100;let n=r[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-e),u=255*n*(1-e*s),h=255*n*(1-e*(1-s));switch(n*=255,i){case 0:return[n,h,o];case 1:return[u,n,o];case 2:return[o,n,h];case 3:return[o,u,n];case 4:return[h,o,n];case 5:return[n,o,u]}};we.hsv.hsl=function(r){const t=r[0],e=r[1]/100,n=r[2]/100,i=Math.max(n,.01);let s,o;o=(2-e)*n;const u=(2-e)*i;return s=e*i,s/=u<=1?u:2-u,s=s||0,o/=2,[t,s*100,o*100]};we.hwb.rgb=function(r){const t=r[0]/360;let e=r[1]/100,n=r[2]/100;const i=e+n;let s;i>1&&(e/=i,n/=i);const o=Math.floor(6*t),u=1-n;s=6*t-o,o&1&&(s=1-s);const h=e+s*(u-e);let f,c,v;switch(o){default:case 6:case 0:f=u,c=h,v=e;break;case 1:f=h,c=u,v=e;break;case 2:f=e,c=u,v=h;break;case 3:f=e,c=h,v=u;break;case 4:f=h,c=e,v=u;break;case 5:f=u,c=e,v=h;break}return[f*255,c*255,v*255]};we.cmyk.rgb=function(r){const t=r[0]/100,e=r[1]/100,n=r[2]/100,i=r[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,e*(1-i)+i),u=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,u*255]};we.xyz.rgb=function(r){const t=r[0]/100,e=r[1]/100,n=r[2]/100;let i,s,o;return i=t*3.2406+e*-1.5372+n*-.4986,s=t*-.9689+e*1.8758+n*.0415,o=t*.0557+e*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};we.xyz.lab=function(r){let t=r[0],e=r[1],n=r[2];t/=95.047,e/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const i=116*e-16,s=500*(t-e),o=200*(e-n);return[i,s,o]};we.lab.xyz=function(r){const t=r[0],e=r[1],n=r[2];let i,s,o;s=(t+16)/116,i=e/500+s,o=s-n/200;const u=s**3,h=i**3,f=o**3;return s=u>.008856?u:(s-16/116)/7.787,i=h>.008856?h:(i-16/116)/7.787,o=f>.008856?f:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};we.lab.lch=function(r){const t=r[0],e=r[1],n=r[2];let i;i=Math.atan2(n,e)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(e*e+n*n);return[t,o,i]};we.lch.lab=function(r){const t=r[0],e=r[1],i=r[2]/360*2*Math.PI,s=e*Math.cos(i),o=e*Math.sin(i);return[t,s,o]};we.rgb.ansi16=function(r,t=null){const[e,n,i]=r;let s=t===null?we.rgb.hsv(r)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return s===2&&(o+=60),o};we.hsv.ansi16=function(r){return we.rgb.ansi16(we.hsv.rgb(r),r[2])};we.rgb.ansi256=function(r){const t=r[0],e=r[1],n=r[2];return t===e&&e===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(e/255*5)+Math.round(n/255*5)};we.ansi16.rgb=function(r){let t=r%10;if(t===0||t===7)return r>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const e=(~~(r>50)+1)*.5,n=(t&1)*e*255,i=(t>>1&1)*e*255,s=(t>>2&1)*e*255;return[n,i,s]};we.ansi256.rgb=function(r){if(r>=232){const s=(r-232)*10+8;return[s,s,s]}r-=16;let t;const e=Math.floor(r/36)/5*255,n=Math.floor((t=r%36)/6)/5*255,i=t%6/5*255;return[e,n,i]};we.rgb.hex=function(r){const e=(((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255)).toString(16).toUpperCase();return"000000".substring(e.length)+e};we.hex.rgb=function(r){const t=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let e=t[0];t[0].length===3&&(e=e.split("").map(u=>u+u).join(""));const n=parseInt(e,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};we.rgb.hcg=function(r){const t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.max(Math.max(t,e),n),s=Math.min(Math.min(t,e),n),o=i-s;let u,h;return o<1?u=s/(1-o):u=0,o<=0?h=0:i===t?h=(e-n)/o%6:i===e?h=2+(n-t)/o:h=4+(t-e)/o,h/=6,h%=1,[h*360,o*100,u*100]};we.hsl.hcg=function(r){const t=r[1]/100,e=r[2]/100,n=e<.5?2*t*e:2*t*(1-e);let i=0;return n<1&&(i=(e-.5*n)/(1-n)),[r[0],n*100,i*100]};we.hsv.hcg=function(r){const t=r[1]/100,e=r[2]/100,n=t*e;let i=0;return n<1&&(i=(e-n)/(1-n)),[r[0],n*100,i*100]};we.hcg.rgb=function(r){const t=r[0]/360,e=r[1]/100,n=r[2]/100;if(e===0)return[n*255,n*255,n*255];const i=[0,0,0],s=t%1*6,o=s%1,u=1-o;let h=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=u,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=u,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=u}return h=(1-e)*n,[(e*i[0]+h)*255,(e*i[1]+h)*255,(e*i[2]+h)*255]};we.hcg.hsv=function(r){const t=r[1]/100,e=r[2]/100,n=t+e*(1-t);let i=0;return n>0&&(i=t/n),[r[0],i*100,n*100]};we.hcg.hsl=function(r){const t=r[1]/100,n=r[2]/100*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[r[0],i*100,n*100]};we.hcg.hwb=function(r){const t=r[1]/100,e=r[2]/100,n=t+e*(1-t);return[r[0],(n-t)*100,(1-n)*100]};we.hwb.hcg=function(r){const t=r[1]/100,n=1-r[2]/100,i=n-t;let s=0;return i<1&&(s=(n-i)/(1-i)),[r[0],i*100,s*100]};we.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};we.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};we.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};we.gray.hsl=function(r){return[0,0,r[0]]};we.gray.hsv=we.gray.hsl;we.gray.hwb=function(r){return[0,100,r[0]]};we.gray.cmyk=function(r){return[0,0,0,r[0]]};we.gray.lab=function(r){return[r[0],0,0]};we.gray.hex=function(r){const t=Math.round(r[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};we.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]};const qa=_0;function SS(){const r={},t=Object.keys(qa);for(let e=t.length,n=0;n<e;n++)r[t[n]]={distance:-1,parent:null};return r}function AS(r){const t=SS(),e=[r];for(t[r].distance=0;e.length;){const n=e.pop(),i=Object.keys(qa[n]);for(let s=i.length,o=0;o<s;o++){const u=i[o],h=t[u];h.distance===-1&&(h.distance=t[n].distance+1,h.parent=n,e.unshift(u))}}return t}function RS(r,t){return function(e){return t(r(e))}}function CS(r,t){const e=[t[r].parent,r];let n=qa[t[r].parent][r],i=t[r].parent;for(;t[i].parent;)e.unshift(t[i].parent),n=RS(qa[t[i].parent][i],n),i=t[i].parent;return n.conversion=e,n}var PS=function(r){const t=AS(r),e={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){const o=n[s];t[o].parent!==null&&(e[o]=CS(o,t))}return e};const Ph=_0,IS=PS,es={},OS=Object.keys(Ph);function MS(r){const t=function(...e){const n=e[0];return n==null?n:(n.length>1&&(e=n),r(e))};return"conversion"in r&&(t.conversion=r.conversion),t}function DS(r){const t=function(...e){const n=e[0];if(n==null)return n;n.length>1&&(e=n);const i=r(e);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in r&&(t.conversion=r.conversion),t}OS.forEach(r=>{es[r]={},Object.defineProperty(es[r],"channels",{value:Ph[r].channels}),Object.defineProperty(es[r],"labels",{value:Ph[r].labels});const t=IS(r);Object.keys(t).forEach(n=>{const i=t[n];es[r][n]=DS(i),es[r][n].raw=MS(i)})});var FS=es;const ts=Rh,br=FS,g0=["keyword","gray","hex"],Ih={};for(const r of Object.keys(br))Ih[[...br[r].labels].sort().join("")]=r;const Ka={};function Wt(r,t){if(!(this instanceof Wt))return new Wt(r,t);if(t&&t in g0&&(t=null),t&&!(t in br))throw new Error("Unknown model: "+t);let e,n;if(r==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(r instanceof Wt)this.model=r.model,this.color=[...r.color],this.valpha=r.valpha;else if(typeof r=="string"){const i=ts.get(r);if(i===null)throw new Error("Unable to parse color from string: "+r);this.model=i.model,n=br[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(r.length>0){this.model=t||"rgb",n=br[this.model].channels;const i=Array.prototype.slice.call(r,0,n);this.color=Oh(i,n),this.valpha=typeof r[n]=="number"?r[n]:1}else if(typeof r=="number")this.model="rgb",this.color=[r>>16&255,r>>8&255,r&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(r);"alpha"in r&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof r.alpha=="number"?r.alpha:0);const s=i.sort().join("");if(!(s in Ih))throw new Error("Unable to parse color from object: "+JSON.stringify(r));this.model=Ih[s];const{labels:o}=br[this.model],u=[];for(e=0;e<o.length;e++)u.push(r[o[e]]);this.color=Oh(u)}if(Ka[this.model])for(n=br[this.model].channels,e=0;e<n;e++){const i=Ka[this.model][e];i&&(this.color[e]=i(this.color[e]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Wt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(r){let t=this.model in ts.to?this:this.rgb();t=t.round(typeof r=="number"?r:1);const e=t.valpha===1?t.color:[...t.color,this.valpha];return ts.to[t.model](e)},percentString(r){const t=this.rgb().round(typeof r=="number"?r:1),e=t.valpha===1?t.color:[...t.color,this.valpha];return ts.to.rgb.percent(e)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const r={},{channels:t}=br[this.model],{labels:e}=br[this.model];for(let n=0;n<t;n++)r[e[n]]=this.color[n];return this.valpha!==1&&(r.alpha=this.valpha),r},unitArray(){const r=this.rgb().color;return r[0]/=255,r[1]/=255,r[2]/=255,this.valpha!==1&&r.push(this.valpha),r},unitObject(){const r=this.rgb().object();return r.r/=255,r.g/=255,r.b/=255,this.valpha!==1&&(r.alpha=this.valpha),r},round(r){return r=Math.max(r||0,0),new Wt([...this.color.map(LS(r)),this.valpha],this.model)},alpha(r){return r!==void 0?new Wt([...this.color,Math.max(0,Math.min(1,r))],this.model):this.valpha},red:Ct("rgb",0,Ut(255)),green:Ct("rgb",1,Ut(255)),blue:Ct("rgb",2,Ut(255)),hue:Ct(["hsl","hsv","hsl","hwb","hcg"],0,r=>(r%360+360)%360),saturationl:Ct("hsl",1,Ut(100)),lightness:Ct("hsl",2,Ut(100)),saturationv:Ct("hsv",1,Ut(100)),value:Ct("hsv",2,Ut(100)),chroma:Ct("hcg",1,Ut(100)),gray:Ct("hcg",2,Ut(100)),white:Ct("hwb",1,Ut(100)),wblack:Ct("hwb",2,Ut(100)),cyan:Ct("cmyk",0,Ut(100)),magenta:Ct("cmyk",1,Ut(100)),yellow:Ct("cmyk",2,Ut(100)),black:Ct("cmyk",3,Ut(100)),x:Ct("xyz",0,Ut(95.047)),y:Ct("xyz",1,Ut(100)),z:Ct("xyz",2,Ut(108.833)),l:Ct("lab",0,Ut(100)),a:Ct("lab",1),b:Ct("lab",2),keyword(r){return r!==void 0?new Wt(r):br[this.model].keyword(this.color)},hex(r){return r!==void 0?new Wt(r):ts.to.hex(this.rgb().round().color)},hexa(r){if(r!==void 0)return new Wt(r);const t=this.rgb().round().color;let e=Math.round(this.valpha*255).toString(16).toUpperCase();return e.length===1&&(e="0"+e),ts.to.hex(t)+e},rgbNumber(){const r=this.rgb().color;return(r[0]&255)<<16|(r[1]&255)<<8|r[2]&255},luminosity(){const r=this.rgb().color,t=[];for(const[e,n]of r.entries()){const i=n/255;t[e]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(r){const t=this.luminosity(),e=r.luminosity();return t>e?(t+.05)/(e+.05):(e+.05)/(t+.05)},level(r){const t=this.contrast(r);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const r=this.rgb().color;return(r[0]*2126+r[1]*7152+r[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const r=this.rgb();for(let t=0;t<3;t++)r.color[t]=255-r.color[t];return r},lighten(r){const t=this.hsl();return t.color[2]+=t.color[2]*r,t},darken(r){const t=this.hsl();return t.color[2]-=t.color[2]*r,t},saturate(r){const t=this.hsl();return t.color[1]+=t.color[1]*r,t},desaturate(r){const t=this.hsl();return t.color[1]-=t.color[1]*r,t},whiten(r){const t=this.hwb();return t.color[1]+=t.color[1]*r,t},blacken(r){const t=this.hwb();return t.color[2]+=t.color[2]*r,t},grayscale(){const r=this.rgb().color,t=r[0]*.3+r[1]*.59+r[2]*.11;return Wt.rgb(t,t,t)},fade(r){return this.alpha(this.valpha-this.valpha*r)},opaquer(r){return this.alpha(this.valpha+this.valpha*r)},rotate(r){const t=this.hsl();let e=t.color[0];return e=(e+r)%360,e=e<0?360+e:e,t.color[0]=e,t},mix(r,t){if(!r||!r.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof r);const e=r.rgb(),n=this.rgb(),i=t===void 0?.5:t,s=2*i-1,o=e.alpha()-n.alpha(),u=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,h=1-u;return Wt.rgb(u*e.red()+h*n.red(),u*e.green()+h*n.green(),u*e.blue()+h*n.blue(),e.alpha()*i+n.alpha()*(1-i))}};for(const r of Object.keys(br)){if(g0.includes(r))continue;const{channels:t}=br[r];Wt.prototype[r]=function(...e){return this.model===r?new Wt(this):e.length>0?new Wt(e,r):new Wt([...BS(br[this.model][r].raw(this.color)),this.valpha],r)},Wt[r]=function(...e){let n=e[0];return typeof n=="number"&&(n=Oh(e,t)),new Wt(n,r)}}function NS(r,t){return Number(r.toFixed(t))}function LS(r){return function(t){return NS(t,r)}}function Ct(r,t,e){r=Array.isArray(r)?r:[r];for(const n of r)(Ka[n]||(Ka[n]=[]))[t]=e;return r=r[0],function(n){let i;return n!==void 0?(e&&(n=e(n)),i=this[r](),i.color[t]=n,i):(i=this[r]().color[t],e&&(i=e(i)),i)}}function Ut(r){return function(t){return Math.max(0,Math.min(r,t))}}function BS(r){return Array.isArray(r)?r:[r]}function Oh(r,t){for(let e=0;e<t;e++)typeof r[e]!="number"&&(r[e]=0);return r}var US=Wt;const qn=US;function kS(r){let t,e,n,i,s,o,u;return{c(){t=ae("label"),e=ae("div"),n=Jt(r[2]),i=be(),s=ae("span"),o=be(),u=ae("input"),L(e,"class","w-0 flex-grow"),L(s,"class","inline-block h-6 w-6 rounded-full border-2 shadow "),Be(s,"background-color",r[1]),ye(s,"border-white",qn(r[1]).isDark()),ye(s,"border-black",qn(r[1]).isLight()),L(u,"type","hidden"),L(t,"class","flex cursor-pointer flex-row items-center gap-2 py-2 px-4 hover:bg-gray-300"),ye(t,"bg-gray-300",r[3])},m(h,f){ve(h,t,f),K(t,e),K(e,n),K(t,i),K(t,s),K(t,o),K(t,u),r[4](t)},p(h,[f]){f&4&&yr(n,h[2]),f&2&&Be(s,"background-color",h[1]),f&2&&ye(s,"border-white",qn(h[1]).isDark()),f&2&&ye(s,"border-black",qn(h[1]).isLight()),f&8&&ye(t,"bg-gray-300",h[3])},i:Oe,o:Oe,d(h){h&&pe(t),r[4](null)}}}function GS(r,t,e){let{hex:n}=t,{label:i}=t,{isOpen:s}=t,{labelWrapper:o}=t;function u(h){He[h?"unshift":"push"](()=>{o=h,e(0,o)})}return r.$$set=h=>{"hex"in h&&e(1,n=h.hex),"label"in h&&e(2,i=h.label),"isOpen"in h&&e(3,s=h.isOpen),"labelWrapper"in h&&e(0,o=h.labelWrapper)},[o,n,i,s,u]}class HS extends ht{constructor(t){super(),lt(this,t,GS,kS,ot,{hex:1,label:2,isOpen:3,labelWrapper:0})}}const XS={title:"VTuber Preference List",slots:["The 1st You Watch","Watch the Most","Best Program","Craziest","Most Healing","Best Voice","Best Singing","Daisuki❤","Most influencial (to you)","Prettiest","You Would Commit A Crime","Most Kakkoi","Want To Promote the Most","Most Waifu Material","Customize"],label:{export:"Export",bgColor:"Background Color",addImage:"Add Image",credit:"Credit: ",code:"Source Code: ",language:"Language: ",translate:"Translate: "}},WS=Object.freeze(Object.defineProperty({__proto__:null,default:XS},Symbol.toStringTag,{value:"Module"})),zS={title:"VTuber 個人喜好表生成器",slots:["第一個看的","最常看的","最佳節目","最瘋狂的","最療愈的","聲音最好聽的","唱歌最好聽的","最喜歡的","影響最深遠的","最漂亮的","最想犯罪的","最帥的","最想推廣的","最婆的","自定义"],label:{export:"導出",bgColor:"背景顏色",addImage:"添加圖片",credit:"Credit: ",code:"代碼：",language:"語言：",translate:"翻譯："}},VS=Object.freeze(Object.defineProperty({__proto__:null,default:zS},Symbol.toStringTag,{value:"Module"})),YS=Object.assign({"../locales/en.yaml":WS,"../locales/zh-TW.yaml":VS}),Ov="zh-TW",Ga="_lang",Mh={"zh-TW":!0,en:!0},Za=new Set;function jS(r){var s;let t=YS[`../locales/${$n.lang}.yaml`],e=r.split("."),n=e.shift(),i=(s=t==null?void 0:t.default)==null?void 0:s[n];for(;e.length;){let o=e.shift();i=i==null?void 0:i[o]}return i!==void 0?`${i}`:`!!{${r}}!!`}function qS(r,t){return r($n),Za.add(r),()=>Za.delete(r)}const $n=Object.defineProperties(jS,{lang:{get(){let r=localStorage.getItem(Ga)??Ov;return Mh[r]?r:Ov},set(r){if(Mh[r]&&r!==localStorage.getItem(Ga)){localStorage.setItem(Ga,r);for(let t of Za)t($n)}}}});$n.subscribe=qS;window.addEventListener("storage",r=>{if(r.key===Ga&&Mh[r.newValue])for(let t of Za)t($n)});function KS(r){let t,e,n,i,s;return{c(){t=ae("label"),e=ae("span"),n=be(),i=ae("input"),L(e,"class","inline-block h-4 w-4 rounded-full border shadow "),Be(e,"background-color",r[1]),ye(e,"border-white",qn(r[1]).isDark()),ye(e,"border-black",qn(r[1]).isLight()),L(i,"type","hidden"),i.value=s=""+(r[3]+r[2]),L(t,"class","flex cursor-pointer flex-row items-center")},m(o,u){ve(o,t,u),K(t,e),K(t,n),K(t,i),r[4](t)},p(o,[u]){u&2&&Be(e,"background-color",o[1]),u&2&&ye(e,"border-white",qn(o[1]).isDark()),u&2&&ye(e,"border-black",qn(o[1]).isLight()),u&12&&s!==(s=""+(o[3]+o[2]))&&(i.value=s)},i:Oe,o:Oe,d(o){o&&pe(t),r[4](null)}}}function ZS(r,t,e){let{hex:n}=t,{label:i}=t,{isOpen:s}=t,{labelWrapper:o}=t;function u(h){He[h?"unshift":"push"](()=>{o=h,e(0,o)})}return r.$$set=h=>{"hex"in h&&e(1,n=h.hex),"label"in h&&e(2,i=h.label),"isOpen"in h&&e(3,s=h.isOpen),"labelWrapper"in h&&e(0,o=h.labelWrapper)},[o,n,i,s,u]}class JS extends ht{constructor(t){super(),lt(this,t,ZS,KS,ot,{hex:1,label:2,isOpen:3,labelWrapper:0})}}function Mv(r,t,e){const n=r.slice();return n[24]=t[e],n[26]=e,n}function Dv(r){let t,e,n;function i(o){r[11](o)}let s={isAlpha:!1,label:"",components:{input:JS}};return r[0].color!==void 0&&(s.hex=r[0].color),t=new f0({props:s}),He.push(()=>ut(t,"hex",i)),{c(){Se(t.$$.fragment)},m(o,u){xe(t,o,u),n=!0},p(o,u){const h={};!e&&u&1&&(e=!0,h.hex=o[0].color,wt(()=>e=!1)),t.$set(h)},i(o){n||(V(t.$$.fragment,o),n=!0)},o(o){Q(t.$$.fragment,o),n=!1},d(o){Te(t,o)}}}function Fv(r,t){let e,n,i,s,o,u,h,f=t[24].name+"",c,v,p,_,y;function b(...T){return t[17](t[26],...T)}function m(){return t[20](t[24],t[26])}function w(){return t[21](t[26])}function E(...T){return t[22](t[26],...T)}return{key:r,first:null,c(){e=ae("div"),n=ae("div"),i=ae("img"),u=be(),h=ae("div"),c=Jt(f),v=be(),p=ae("button"),p.textContent="Ｘ",L(i,"draggable","false"),L(i,"alt",s=t[24].name),sv(i.src,o=t[24].image.src)||L(i,"src",o),L(i,"class","h-10 w-10 object-cover"),L(h,"class","w-0 flex-grow overflow-hidden whitespace-nowrap"),L(n,"class","flex w-0 flex-grow items-center gap-2 overflow-hidden"),L(n,"draggable","true"),L(p,"class","h-10 w-10 bg-slate-500 font-bold text-white"),L(e,"class","flex select-none flex-row items-center gap-4"),ye(e,"bg-slate-300",t[1]===t[26]),this.first=e},m(T,C){ve(T,e,C),K(e,n),K(n,i),K(n,u),K(n,h),K(h,c),K(e,v),K(e,p),_||(y=[_e(n,"dragstart",b),_e(n,"dragend",t[18]),_e(p,"mousedown",Qn(t[19])),_e(p,"click",Qn(m)),_e(e,"mousedown",w),_e(e,"dragover",E)],_=!0)},p(T,C){t=T,C&1&&s!==(s=t[24].name)&&L(i,"alt",s),C&1&&!sv(i.src,o=t[24].image.src)&&L(i,"src",o),C&1&&f!==(f=t[24].name+"")&&yr(c,f),C&3&&ye(e,"bg-slate-300",t[1]===t[26])},d(T){T&&pe(e),_=!1,Dt(y)}}}function QS(r){var Y;let t,e,n,i,s,o,u,h,f,c,v,p,_,y,b,m,w,E,T=[],C=new Map,R,P,I=r[6]("label.addImage")+"",N,M,D,H,Z=((Y=r[0].name)==null?void 0:Y.length)&&Dv(r);function X(re){r[14](re)}let de={isAlpha:!1,label:r[6]("label.bgColor"),components:{input:HS}};r[0].background!==void 0&&(de.hex=r[0].background),p=new f0({props:de}),He.push(()=>ut(p,"hex",X));let se=r[0].layers;const te=re=>re[24].image;for(let re=0;re<se.length;re+=1){let ue=Mv(r,se,re),q=te(ue);C.set(q,T[re]=Fv(q,ue))}return{c(){t=ae("div"),e=ae("div"),n=ae("button"),n.textContent="＜",i=be(),Z&&Z.c(),s=be(),o=ae("input"),h=be(),f=ae("button"),f.textContent="＞",c=be(),v=ae("div"),Se(p.$$.fragment),y=be(),b=ae("div"),m=ae("form"),w=ae("input"),E=be();for(let re=0;re<T.length;re+=1)T[re].c();R=be(),P=ae("button"),N=Jt(I),L(n,"class","p-2"),L(o,"class","w-0 flex-grow bg-transparent py-2 px-1 font-normal text-slate-100 underline-offset-4 placeholder:text-slate-300 focus:outline-none"),L(o,"placeholder",u=r[6](`slots.${r[2]}`)),L(f,"class","p-2"),L(e,"class","flex flex-row items-center bg-slate-600 text-xl font-bold text-white"),L(w,"type","file"),L(w,"accept",".jpg,.jpeg,.png,.bmp,.webp"),L(m,"class","hidden"),L(P,"class","block p-0.5 hover:bg-gray-300 active:bg-gray-200"),L(b,"class","flex h-0 flex-grow flex-col gap-2 p-4"),L(t,"class","flex h-full w-full flex-col bg-gray-100")},m(re,ue){ve(re,t,ue),K(t,e),K(e,n),K(e,i),Z&&Z.m(e,null),K(e,s),K(e,o),av(o,r[0].name),K(e,h),K(e,f),K(t,c),K(t,v),xe(p,v,null),K(t,y),K(t,b),K(b,m),K(m,w),r[15](w),r[16](m),K(b,E);for(let q=0;q<T.length;q+=1)T[q].m(b,null);K(b,R),K(b,P),K(P,N),M=!0,D||(H=[_e(n,"click",r[10]),_e(o,"input",r[12]),_e(f,"click",r[13]),_e(w,"change",r[7]),_e(P,"click",r[23])],D=!0)},p(re,[ue]){var W;(W=re[0].name)!=null&&W.length?Z?(Z.p(re,ue),ue&1&&V(Z,1)):(Z=Dv(re),Z.c(),V(Z,1),Z.m(e,s)):Z&&(tt(),Q(Z,1,1,()=>{Z=null}),rt()),(!M||ue&68&&u!==(u=re[6](`slots.${re[2]}`)))&&L(o,"placeholder",u),ue&1&&o.value!==re[0].name&&av(o,re[0].name);const q={};ue&64&&(q.label=re[6]("label.bgColor")),!_&&ue&1&&(_=!0,q.hex=re[0].background,wt(()=>_=!1)),p.$set(q),ue&803&&(se=re[0].layers,T=Df(T,ue,te,1,re,se,C,b,s0,Fv,R,Mv)),(!M||ue&64)&&I!==(I=re[6]("label.addImage")+"")&&yr(N,I)},i(re){M||(V(Z),V(p.$$.fragment,re),M=!0)},o(re){Q(Z),Q(p.$$.fragment,re),M=!1},d(re){re&&pe(t),Z&&Z.d(),Te(p),r[15](null),r[16](null);for(let ue=0;ue<T.length;ue+=1)T[ue].d();D=!1,Dt(H)}}}function $S(r,t,e){let n;Dn(r,$n,H=>e(6,n=H));let{slot:i}=t,{selectedLayer:s}=t,{selectedSlot:o}=t,u,h;function f(){let H=u.files[0],Z=new FileReader;Z.onload=()=>{let X=new Image;X.onload=()=>{let de={width:X.width,height:X.height};if(X.width>X.height){if(X.width>512){let te=X.width/512;de.width/=te,de.height/=te}}else if(X.height>512){let te=X.height/512;de.width/=te,de.height/=te}let se={name:H.name,image:X,pos:{x:56-de.width/2,y:80-de.height/2},rect:de};e(1,s=0),e(0,i.layers=[se,...i.layers],i)},X.src=Z.result},Z.readAsDataURL(H),h.reset()}let c=!1;function v(H,Z){e(5,c=Z);let X=H.target.parentElement;H.dataTransfer.dropEffect="move",H.dataTransfer.effectAllowed="move",H.dataTransfer.setData("text/plain",i.layers[Z].name),H.dataTransfer.setDragImage(X,X.clientWidth/2,X.clientHeight/2)}function p(H,Z){if(c===!1)return;H.preventDefault();let X=i.layers[c],de=i.layers[Z];e(0,i.layers[Z]=X,i),e(0,i.layers[c]=de,i),e(5,c=Z),H.dataTransfer.dropEffect="move",e(1,s=Z)}const _=()=>{e(2,o=(15+o-1)%15),e(1,s=void 0)};function y(H){r.$$.not_equal(i.color,H)&&(i.color=H,e(0,i))}function b(){i.name=this.value,e(0,i)}const m=()=>{e(2,o=(o+1)%15),e(1,s=void 0)};function w(H){r.$$.not_equal(i.background,H)&&(i.background=H,e(0,i))}function E(H){He[H?"unshift":"push"](()=>{u=H,e(3,u)})}function T(H){He[H?"unshift":"push"](()=>{h=H,e(4,h)})}const C=(H,Z)=>v(Z,H),R=()=>{e(5,c=!1)},P=()=>{},I=(H,Z)=>{e(0,i.layers=i.layers.filter(X=>X!==H),i),e(1,s=s>Z?s-1:s<Z?s:void 0)},N=H=>e(1,s=H),M=(H,Z)=>p(Z,H),D=()=>u.click();return r.$$set=H=>{"slot"in H&&e(0,i=H.slot),"selectedLayer"in H&&e(1,s=H.selectedLayer),"selectedSlot"in H&&e(2,o=H.selectedSlot)},[i,s,o,u,h,c,n,f,v,p,_,y,b,m,w,E,T,C,R,P,I,N,M,D]}class eA extends ht{constructor(t){super(),lt(this,t,$S,QS,ot,{slot:0,selectedLayer:1,selectedSlot:2})}}function tA(r){var t=this.constructor;return this.then(function(e){return t.resolve(r()).then(function(){return e})},function(e){return t.resolve(r()).then(function(){return t.reject(e)})})}function rA(r){var t=this;return new t(function(e,n){if(!(r&&typeof r.length<"u"))return n(new TypeError(typeof r+" "+r+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(r);if(i.length===0)return e([]);var s=i.length;function o(h,f){if(f&&(typeof f=="object"||typeof f=="function")){var c=f.then;if(typeof c=="function"){c.call(f,function(v){o(h,v)},function(v){i[h]={status:"rejected",reason:v},--s===0&&e(i)});return}}i[h]={status:"fulfilled",value:f},--s===0&&e(i)}for(var u=0;u<i.length;u++)o(u,i[u])})}function m0(r,t){this.name="AggregateError",this.errors=r,this.message=t||""}m0.prototype=Error.prototype;function nA(r){var t=this;return new t(function(e,n){if(!(r&&typeof r.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(r);if(i.length===0)return n();for(var s=[],o=0;o<i.length;o++)try{t.resolve(i[o]).then(e).catch(function(u){s.push(u),s.length===i.length&&n(new m0(s,"All promises were rejected"))})}catch(u){n(u)}})}var iA=setTimeout;function y0(r){return Boolean(r&&typeof r.length<"u")}function sA(){}function oA(r,t){return function(){r.apply(t,arguments)}}function At(r){if(!(this instanceof At))throw new TypeError("Promises must be constructed via new");if(typeof r!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],w0(r,this)}function b0(r,t){for(;r._state===3;)r=r._value;if(r._state===0){r._deferreds.push(t);return}r._handled=!0,At._immediateFn(function(){var e=r._state===1?t.onFulfilled:t.onRejected;if(e===null){(r._state===1?Dh:Js)(t.promise,r._value);return}var n;try{n=e(r._value)}catch(i){Js(t.promise,i);return}Dh(t.promise,n)})}function Dh(r,t){try{if(t===r)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var e=t.then;if(t instanceof At){r._state=3,r._value=t,Fh(r);return}else if(typeof e=="function"){w0(oA(e,t),r);return}}r._state=1,r._value=t,Fh(r)}catch(n){Js(r,n)}}function Js(r,t){r._state=2,r._value=t,Fh(r)}function Fh(r){r._state===2&&r._deferreds.length===0&&At._immediateFn(function(){r._handled||At._unhandledRejectionFn(r._value)});for(var t=0,e=r._deferreds.length;t<e;t++)b0(r,r._deferreds[t]);r._deferreds=null}function aA(r,t,e){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof t=="function"?t:null,this.promise=e}function w0(r,t){var e=!1;try{r(function(n){e||(e=!0,Dh(t,n))},function(n){e||(e=!0,Js(t,n))})}catch(n){if(e)return;e=!0,Js(t,n)}}At.prototype.catch=function(r){return this.then(null,r)};At.prototype.then=function(r,t){var e=new this.constructor(sA);return b0(this,new aA(r,t,e)),e};At.prototype.finally=tA;At.all=function(r){return new At(function(t,e){if(!y0(r))return e(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(r);if(n.length===0)return t([]);var i=n.length;function s(u,h){try{if(h&&(typeof h=="object"||typeof h=="function")){var f=h.then;if(typeof f=="function"){f.call(h,function(c){s(u,c)},e);return}}n[u]=h,--i===0&&t(n)}catch(c){e(c)}}for(var o=0;o<n.length;o++)s(o,n[o])})};At.any=nA;At.allSettled=rA;At.resolve=function(r){return r&&typeof r=="object"&&r.constructor===At?r:new At(function(t){t(r)})};At.reject=function(r){return new At(function(t,e){e(r)})};At.race=function(r){return new At(function(t,e){if(!y0(r))return e(new TypeError("Promise.race accepts an array"));for(var n=0,i=r.length;n<i;n++)At.resolve(r[n]).then(t,e)})};At._immediateFn=typeof setImmediate=="function"&&function(r){setImmediate(r)}||function(r){iA(r,0)};At._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Nv=Object.getOwnPropertySymbols,uA=Object.prototype.hasOwnProperty,lA=Object.prototype.propertyIsEnumerable;function hA(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function fA(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var cA=fA()?Object.assign:function(r,t){for(var e,n=hA(r),i,s=1;s<arguments.length;s++){e=Object(arguments[s]);for(var o in e)uA.call(e,o)&&(n[o]=e[o]);if(Nv){i=Nv(e);for(var u=0;u<i.length;u++)lA.call(e,i[u])&&(n[i[u]]=e[i[u]])}}return n};/*!
 * @pixi/polyfill - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=At);Object.assign||(Object.assign=cA);var dA=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var pA=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-pA}}var Yl=Date.now(),Lv=["ms","moz","webkit","o"];for(var jl=0;jl<Lv.length&&!globalThis.requestAnimationFrame;++jl){var ql=Lv[jl];globalThis.requestAnimationFrame=globalThis[ql+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[ql+"CancelAnimationFrame"]||globalThis[ql+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(r){if(typeof r!="function")throw new TypeError(r+"is not a function");var t=Date.now(),e=dA+Yl-t;return e<0&&(e=0),Yl=t,globalThis.self.setTimeout(function(){Yl=Date.now(),r(performance.now())},e)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(r){return clearTimeout(r)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hn;(function(r){r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2"})(hn||(hn={}));var ss;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS"})(ss||(ss={}));var Qs;(function(r){r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL"})(Qs||(Qs={}));var Pe;(function(r){r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR"})(Pe||(Pe={}));var Ur;(function(r){r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ur||(Ur={}));var le;(function(r){r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(le||(le={}));var Zn;(function(r){r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Zn||(Zn={}));var Ie;(function(r){r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT"})(Ie||(Ie={}));var $s;(function(r){r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT"})($s||($s={}));var jt;(function(r){r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR"})(jt||(jt={}));var Qr;(function(r){r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Qr||(Qr={}));var xr;(function(r){r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL"})(xr||(xr={}));var Xr;(function(r){r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Xr||(Xr={}));var Lr;(function(r){r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT"})(Lr||(Lr={}));var eo;(function(r){r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL"})(eo||(eo={}));var hr;(function(r){r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp"})(hr||(hr={}));var Mt;(function(r){r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR"})(Mt||(Mt={}));var Nh;(function(r){r[r.RED=1]="RED",r[r.GREEN=2]="GREEN",r[r.BLUE=4]="BLUE",r[r.ALPHA=8]="ALPHA"})(Nh||(Nh={}));var vt;(function(r){r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH"})(vt||(vt={}));var $r;(function(r){r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})($r||($r={}));/*!
 * @pixi/settings - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var x0={createCanvas:function(r,t){var e=document.createElement("canvas");return e.width=r,e.height=t,e},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var r;return(r=document.baseURI)!==null&&r!==void 0?r:window.location.href},fetch:function(r,t){return fetch(r,t)}},Kl=/iPhone/i,Bv=/iPod/i,Uv=/iPad/i,kv=/\biOS-universal(?:.+)Mac\b/i,Zl=/\bAndroid(?:.+)Mobile\b/i,Gv=/Android/i,Zi=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,pa=/Silk/i,En=/Windows Phone/i,Hv=/\bWindows(?:.+)ARM\b/i,Xv=/BlackBerry/i,Wv=/BB10/i,zv=/Opera Mini/i,Vv=/\b(CriOS|Chrome)(?:.+)Mobile/i,Yv=/Mobile(?:.+)Firefox\b/i,jv=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function vA(r){return function(t){return t.test(r)}}function _A(r){var t={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?t.userAgent=r:r&&r.userAgent&&(t={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var e=t.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]<"u"&&(e=n[0]);var i=vA(e),s={apple:{phone:i(Kl)&&!i(En),ipod:i(Bv),tablet:!i(Kl)&&(i(Uv)||jv(t))&&!i(En),universal:i(kv),device:(i(Kl)||i(Bv)||i(Uv)||i(kv)||jv(t))&&!i(En)},amazon:{phone:i(Zi),tablet:!i(Zi)&&i(pa),device:i(Zi)||i(pa)},android:{phone:!i(En)&&i(Zi)||!i(En)&&i(Zl),tablet:!i(En)&&!i(Zi)&&!i(Zl)&&(i(pa)||i(Gv)),device:!i(En)&&(i(Zi)||i(pa)||i(Zl)||i(Gv))||i(/\bokhttp\b/i)},windows:{phone:i(En),tablet:i(Hv),device:i(En)||i(Hv)},other:{blackberry:i(Xv),blackberry10:i(Wv),opera:i(zv),firefox:i(Yv),chrome:i(Vv),device:i(Xv)||i(Wv)||i(zv)||i(Yv)||i(Vv)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var kr=_A(globalThis.navigator);function gA(){return!kr.apple.device}function mA(r){var t=!0;if(kr.tablet||kr.phone){if(kr.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(t=!1)}}if(kr.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(t=!1)}}}return t?r:4}var fe={ADAPTER:x0,MIPMAP_TEXTURES:xr.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:vt.NONE,SPRITE_MAX_TEXTURES:mA(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:eo.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Qr.CLAMP,SCALE_MODE:jt.LINEAR,PRECISION_VERTEX:hr.HIGH,PRECISION_FRAGMENT:kr.apple.device?hr.HIGH:hr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:gA(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Lh={},yA={get exports(){return Lh},set exports(r){Lh=r}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(h,f,c){this.fn=h,this.context=f,this.once=c||!1}function s(h,f,c,v,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var _=new i(c,v||h,p),y=e?e+f:f;return h._events[y]?h._events[y].fn?h._events[y]=[h._events[y],_]:h._events[y].push(_):(h._events[y]=_,h._eventsCount++),h}function o(h,f){--h._eventsCount===0?h._events=new n:delete h._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],c,v;if(this._eventsCount===0)return f;for(v in c=this._events)t.call(c,v)&&f.push(e?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},u.prototype.listeners=function(f){var c=e?e+f:f,v=this._events[c];if(!v)return[];if(v.fn)return[v.fn];for(var p=0,_=v.length,y=new Array(_);p<_;p++)y[p]=v[p].fn;return y},u.prototype.listenerCount=function(f){var c=e?e+f:f,v=this._events[c];return v?v.fn?1:v.length:0},u.prototype.emit=function(f,c,v,p,_,y){var b=e?e+f:f;if(!this._events[b])return!1;var m=this._events[b],w=arguments.length,E,T;if(m.fn){switch(m.once&&this.removeListener(f,m.fn,void 0,!0),w){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,v),!0;case 4:return m.fn.call(m.context,c,v,p),!0;case 5:return m.fn.call(m.context,c,v,p,_),!0;case 6:return m.fn.call(m.context,c,v,p,_,y),!0}for(T=1,E=new Array(w-1);T<w;T++)E[T-1]=arguments[T];m.fn.apply(m.context,E)}else{var C=m.length,R;for(T=0;T<C;T++)switch(m[T].once&&this.removeListener(f,m[T].fn,void 0,!0),w){case 1:m[T].fn.call(m[T].context);break;case 2:m[T].fn.call(m[T].context,c);break;case 3:m[T].fn.call(m[T].context,c,v);break;case 4:m[T].fn.call(m[T].context,c,v,p);break;default:if(!E)for(R=1,E=new Array(w-1);R<w;R++)E[R-1]=arguments[R];m[T].fn.apply(m[T].context,E)}}return!0},u.prototype.on=function(f,c,v){return s(this,f,c,v,!1)},u.prototype.once=function(f,c,v){return s(this,f,c,v,!0)},u.prototype.removeListener=function(f,c,v,p){var _=e?e+f:f;if(!this._events[_])return this;if(!c)return o(this,_),this;var y=this._events[_];if(y.fn)y.fn===c&&(!p||y.once)&&(!v||y.context===v)&&o(this,_);else{for(var b=0,m=[],w=y.length;b<w;b++)(y[b].fn!==c||p&&!y[b].once||v&&y[b].context!==v)&&m.push(y[b]);m.length?this._events[_]=m.length===1?m[0]:m:o(this,_)}return this},u.prototype.removeAllListeners=function(f){var c;return f?(c=e?e+f:f,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=e,u.EventEmitter=u,r.exports=u})(yA);const ps=Lh;var os={},bA={get exports(){return os},set exports(r){os=r}};bA.exports=uu;os.default=uu;function uu(r,t,e){e=e||2;var n=t&&t.length,i=n?t[0]*e:r.length,s=T0(r,0,i,e,!0),o=[];if(!s||s.next===s.prev)return o;var u,h,f,c,v,p,_;if(n&&(s=SA(r,t,s,e)),r.length>80*e){u=f=r[0],h=c=r[1];for(var y=e;y<i;y+=e)v=r[y],p=r[y+1],v<u&&(u=v),p<h&&(h=p),v>f&&(f=v),p>c&&(c=p);_=Math.max(f-u,c-h),_=_!==0?32767/_:0}return to(s,o,e,u,h,_,0),o}function T0(r,t,e,n,i){var s,o;if(i===kh(r,t,e,n)>0)for(s=t;s<e;s+=n)o=qv(s,r[s],r[s+1],o);else for(s=e-n;s>=t;s-=n)o=qv(s,r[s],r[s+1],o);return o&&lu(o,o.next)&&(no(o),o=o.next),o}function Ci(r,t){if(!r)return r;t||(t=r);var e=r,n;do if(n=!1,!e.steiner&&(lu(e,e.next)||Et(e.prev,e,e.next)===0)){if(no(e),e=t=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==t);return t}function to(r,t,e,n,i,s,o){if(r){!o&&s&&IA(r,n,i,s);for(var u=r,h,f;r.prev!==r.next;){if(h=r.prev,f=r.next,s?xA(r,n,i,s):wA(r)){t.push(h.i/e|0),t.push(r.i/e|0),t.push(f.i/e|0),no(r),r=f.next,u=f.next;continue}if(r=f,r===u){o?o===1?(r=TA(Ci(r),t,e),to(r,t,e,n,i,s,2)):o===2&&EA(r,t,e,n,i,s):to(Ci(r),t,e,n,i,s,1);break}}}}function wA(r){var t=r.prev,e=r,n=r.next;if(Et(t,e,n)>=0)return!1;for(var i=t.x,s=e.x,o=n.x,u=t.y,h=e.y,f=n.y,c=i<s?i<o?i:o:s<o?s:o,v=u<h?u<f?u:f:h<f?h:f,p=i>s?i>o?i:o:s>o?s:o,_=u>h?u>f?u:f:h>f?h:f,y=n.next;y!==t;){if(y.x>=c&&y.x<=p&&y.y>=v&&y.y<=_&&rs(i,u,s,h,o,f,y.x,y.y)&&Et(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function xA(r,t,e,n){var i=r.prev,s=r,o=r.next;if(Et(i,s,o)>=0)return!1;for(var u=i.x,h=s.x,f=o.x,c=i.y,v=s.y,p=o.y,_=u<h?u<f?u:f:h<f?h:f,y=c<v?c<p?c:p:v<p?v:p,b=u>h?u>f?u:f:h>f?h:f,m=c>v?c>p?c:p:v>p?v:p,w=Bh(_,y,t,e,n),E=Bh(b,m,t,e,n),T=r.prevZ,C=r.nextZ;T&&T.z>=w&&C&&C.z<=E;){if(T.x>=_&&T.x<=b&&T.y>=y&&T.y<=m&&T!==i&&T!==o&&rs(u,c,h,v,f,p,T.x,T.y)&&Et(T.prev,T,T.next)>=0||(T=T.prevZ,C.x>=_&&C.x<=b&&C.y>=y&&C.y<=m&&C!==i&&C!==o&&rs(u,c,h,v,f,p,C.x,C.y)&&Et(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;T&&T.z>=w;){if(T.x>=_&&T.x<=b&&T.y>=y&&T.y<=m&&T!==i&&T!==o&&rs(u,c,h,v,f,p,T.x,T.y)&&Et(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;C&&C.z<=E;){if(C.x>=_&&C.x<=b&&C.y>=y&&C.y<=m&&C!==i&&C!==o&&rs(u,c,h,v,f,p,C.x,C.y)&&Et(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function TA(r,t,e){var n=r;do{var i=n.prev,s=n.next.next;!lu(i,s)&&E0(i,n,n.next,s)&&ro(i,s)&&ro(s,i)&&(t.push(i.i/e|0),t.push(n.i/e|0),t.push(s.i/e|0),no(n),no(n.next),n=r=s),n=n.next}while(n!==r);return Ci(n)}function EA(r,t,e,n,i,s){var o=r;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&DA(o,u)){var h=S0(o,u);o=Ci(o,o.next),h=Ci(h,h.next),to(o,t,e,n,i,s,0),to(h,t,e,n,i,s,0);return}u=u.next}o=o.next}while(o!==r)}function SA(r,t,e,n){var i=[],s,o,u,h,f;for(s=0,o=t.length;s<o;s++)u=t[s]*n,h=s<o-1?t[s+1]*n:r.length,f=T0(r,u,h,n,!1),f===f.next&&(f.steiner=!0),i.push(MA(f));for(i.sort(AA),s=0;s<i.length;s++)e=RA(i[s],e);return e}function AA(r,t){return r.x-t.x}function RA(r,t){var e=CA(r,t);if(!e)return t;var n=S0(e,r);return Ci(n,n.next),Ci(e,e.next)}function CA(r,t){var e=t,n=r.x,i=r.y,s=-1/0,o;do{if(i<=e.y&&i>=e.next.y&&e.next.y!==e.y){var u=e.x+(i-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(u<=n&&u>s&&(s=u,o=e.x<e.next.x?e:e.next,u===n))return o}e=e.next}while(e!==t);if(!o)return null;var h=o,f=o.x,c=o.y,v=1/0,p;e=o;do n>=e.x&&e.x>=f&&n!==e.x&&rs(i<c?n:s,i,f,c,i<c?s:n,i,e.x,e.y)&&(p=Math.abs(i-e.y)/(n-e.x),ro(e,r)&&(p<v||p===v&&(e.x>o.x||e.x===o.x&&PA(o,e)))&&(o=e,v=p)),e=e.next;while(e!==h);return o}function PA(r,t){return Et(r.prev,r,t.prev)<0&&Et(t.next,r,r.next)<0}function IA(r,t,e,n){var i=r;do i.z===0&&(i.z=Bh(i.x,i.y,t,e,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,OA(i)}function OA(r){var t,e,n,i,s,o,u,h,f=1;do{for(e=r,r=null,s=null,o=0;e;){for(o++,n=e,u=0,t=0;t<f&&(u++,n=n.nextZ,!!n);t++);for(h=f;u>0||h>0&&n;)u!==0&&(h===0||!n||e.z<=n.z)?(i=e,e=e.nextZ,u--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;e=n}s.nextZ=null,f*=2}while(o>1);return r}function Bh(r,t,e,n,i){return r=(r-e)*i|0,t=(t-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r|t<<1}function MA(r){var t=r,e=r;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==r);return e}function rs(r,t,e,n,i,s,o,u){return(i-o)*(t-u)>=(r-o)*(s-u)&&(r-o)*(n-u)>=(e-o)*(t-u)&&(e-o)*(s-u)>=(i-o)*(n-u)}function DA(r,t){return r.next.i!==t.i&&r.prev.i!==t.i&&!FA(r,t)&&(ro(r,t)&&ro(t,r)&&NA(r,t)&&(Et(r.prev,r,t.prev)||Et(r,t.prev,t))||lu(r,t)&&Et(r.prev,r,r.next)>0&&Et(t.prev,t,t.next)>0)}function Et(r,t,e){return(t.y-r.y)*(e.x-t.x)-(t.x-r.x)*(e.y-t.y)}function lu(r,t){return r.x===t.x&&r.y===t.y}function E0(r,t,e,n){var i=_a(Et(r,t,e)),s=_a(Et(r,t,n)),o=_a(Et(e,n,r)),u=_a(Et(e,n,t));return!!(i!==s&&o!==u||i===0&&va(r,e,t)||s===0&&va(r,n,t)||o===0&&va(e,r,n)||u===0&&va(e,t,n))}function va(r,t,e){return t.x<=Math.max(r.x,e.x)&&t.x>=Math.min(r.x,e.x)&&t.y<=Math.max(r.y,e.y)&&t.y>=Math.min(r.y,e.y)}function _a(r){return r>0?1:r<0?-1:0}function FA(r,t){var e=r;do{if(e.i!==r.i&&e.next.i!==r.i&&e.i!==t.i&&e.next.i!==t.i&&E0(e,e.next,r,t))return!0;e=e.next}while(e!==r);return!1}function ro(r,t){return Et(r.prev,r,r.next)<0?Et(r,t,r.next)>=0&&Et(r,r.prev,t)>=0:Et(r,t,r.prev)<0||Et(r,r.next,t)<0}function NA(r,t){var e=r,n=!1,i=(r.x+t.x)/2,s=(r.y+t.y)/2;do e.y>s!=e.next.y>s&&e.next.y!==e.y&&i<(e.next.x-e.x)*(s-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==r);return n}function S0(r,t){var e=new Uh(r.i,r.x,r.y),n=new Uh(t.i,t.x,t.y),i=r.next,s=t.prev;return r.next=t,t.prev=r,e.next=i,i.prev=e,n.next=e,e.prev=n,s.next=n,n.prev=s,n}function qv(r,t,e,n){var i=new Uh(r,t,e);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function no(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Uh(r,t,e){this.i=r,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}uu.deviation=function(r,t,e,n){var i=t&&t.length,s=i?t[0]*e:r.length,o=Math.abs(kh(r,0,s,e));if(i)for(var u=0,h=t.length;u<h;u++){var f=t[u]*e,c=u<h-1?t[u+1]*e:r.length;o-=Math.abs(kh(r,f,c,e))}var v=0;for(u=0;u<n.length;u+=3){var p=n[u]*e,_=n[u+1]*e,y=n[u+2]*e;v+=Math.abs((r[p]-r[y])*(r[_+1]-r[p+1])-(r[p]-r[_])*(r[y+1]-r[p+1]))}return o===0&&v===0?0:Math.abs((v-o)/o)};function kh(r,t,e,n){for(var i=0,s=t,o=e-n;s<e;s+=n)i+=(r[o]-r[s])*(r[s+1]+r[o+1]),o=s;return i}uu.flatten=function(r){for(var t=r[0][0].length,e={vertices:[],holes:[],dimensions:t},n=0,i=0;i<r.length;i++){for(var s=0;s<r[i].length;s++)for(var o=0;o<t;o++)e.vertices.push(r[i][s][o]);i>0&&(n+=r[i-1].length,e.holes.push(n))}return e};var Ja={},LA={get exports(){return Ja},set exports(r){Ja=r}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(r,t){(function(e){var n=t&&!t.nodeType&&t,i=r&&!r.nodeType&&r,s=typeof jn=="object"&&jn;(s.global===s||s.window===s||s.self===s)&&(e=s);var o,u=2147483647,h=36,f=1,c=26,v=38,p=700,_=72,y=128,b="-",m=/^xn--/,w=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=h-f,R=Math.floor,P=String.fromCharCode,I;function N(q){throw RangeError(T[q])}function M(q,W){for(var he=q.length,Ae=[];he--;)Ae[he]=W(q[he]);return Ae}function D(q,W){var he=q.split("@"),Ae="";he.length>1&&(Ae=he[0]+"@",q=he[1]),q=q.replace(E,".");var Ce=q.split("."),We=M(Ce,W).join(".");return Ae+We}function H(q){for(var W=[],he=0,Ae=q.length,Ce,We;he<Ae;)Ce=q.charCodeAt(he++),Ce>=55296&&Ce<=56319&&he<Ae?(We=q.charCodeAt(he++),(We&64512)==56320?W.push(((Ce&1023)<<10)+(We&1023)+65536):(W.push(Ce),he--)):W.push(Ce);return W}function Z(q){return M(q,function(W){var he="";return W>65535&&(W-=65536,he+=P(W>>>10&1023|55296),W=56320|W&1023),he+=P(W),he}).join("")}function X(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:h}function de(q,W){return q+22+75*(q<26)-((W!=0)<<5)}function se(q,W,he){var Ae=0;for(q=he?R(q/p):q>>1,q+=R(q/W);q>C*c>>1;Ae+=h)q=R(q/C);return R(Ae+(C+1)*q/(q+v))}function te(q){var W=[],he=q.length,Ae,Ce=0,We=y,ze=_,Qe,ge,G,Le,$,Me,oe,k,Ze;for(Qe=q.lastIndexOf(b),Qe<0&&(Qe=0),ge=0;ge<Qe;++ge)q.charCodeAt(ge)>=128&&N("not-basic"),W.push(q.charCodeAt(ge));for(G=Qe>0?Qe+1:0;G<he;){for(Le=Ce,$=1,Me=h;G>=he&&N("invalid-input"),oe=X(q.charCodeAt(G++)),(oe>=h||oe>R((u-Ce)/$))&&N("overflow"),Ce+=oe*$,k=Me<=ze?f:Me>=ze+c?c:Me-ze,!(oe<k);Me+=h)Ze=h-k,$>R(u/Ze)&&N("overflow"),$*=Ze;Ae=W.length+1,ze=se(Ce-Le,Ae,Le==0),R(Ce/Ae)>u-We&&N("overflow"),We+=R(Ce/Ae),Ce%=Ae,W.splice(Ce++,0,We)}return Z(W)}function Y(q){var W,he,Ae,Ce,We,ze,Qe,ge,G,Le,$,Me=[],oe,k,Ze,je;for(q=H(q),oe=q.length,W=y,he=0,We=_,ze=0;ze<oe;++ze)$=q[ze],$<128&&Me.push(P($));for(Ae=Ce=Me.length,Ce&&Me.push(b);Ae<oe;){for(Qe=u,ze=0;ze<oe;++ze)$=q[ze],$>=W&&$<Qe&&(Qe=$);for(k=Ae+1,Qe-W>R((u-he)/k)&&N("overflow"),he+=(Qe-W)*k,W=Qe,ze=0;ze<oe;++ze)if($=q[ze],$<W&&++he>u&&N("overflow"),$==W){for(ge=he,G=h;Le=G<=We?f:G>=We+c?c:G-We,!(ge<Le);G+=h)je=ge-Le,Ze=h-Le,Me.push(P(de(Le+je%Ze,0))),ge=R(je/Ze);Me.push(P(de(ge,0))),We=se(he,k,Ae==Ce),he=0,++Ae}++he,++W}return Me.join("")}function re(q){return D(q,function(W){return m.test(W)?te(W.slice(4).toLowerCase()):W})}function ue(q){return D(q,function(W){return w.test(W)?"xn--"+Y(W):W})}if(o={version:"1.3.2",ucs2:{decode:H,encode:Z},decode:te,encode:Y,toASCII:ue,toUnicode:re},n&&i)if(r.exports==n)i.exports=o;else for(I in o)o.hasOwnProperty(I)&&(n[I]=o[I]);else e.punycode=o})(jn)})(LA,Ja);var BA={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}},io={};function UA(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var kA=function(r,t,e,n){t=t||"&",e=e||"=";var i={};if(typeof r!="string"||r.length===0)return i;var s=/\+/g;r=r.split(t);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var u=r.length;o>0&&u>o&&(u=o);for(var h=0;h<u;++h){var f=r[h].replace(s,"%20"),c=f.indexOf(e),v,p,_,y;c>=0?(v=f.substr(0,c),p=f.substr(c+1)):(v=f,p=""),_=decodeURIComponent(v),y=decodeURIComponent(p),UA(i,_)?Array.isArray(i[_])?i[_].push(y):i[_]=[i[_],y]:i[_]=y}return i},Ls=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}},GA=function(r,t,e,n){return t=t||"&",e=e||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map(function(i){var s=encodeURIComponent(Ls(i))+e;return Array.isArray(r[i])?r[i].map(function(o){return s+encodeURIComponent(Ls(o))}).join(t):s+encodeURIComponent(Ls(r[i]))}).join(t):n?encodeURIComponent(Ls(n))+e+encodeURIComponent(Ls(r)):""};io.decode=io.parse=kA;io.encode=io.stringify=GA;var HA=Ja,an=BA,XA=hu,WA=eR,zA=$A;function en(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var VA=/^([a-z0-9.+-]+:)/i,YA=/:[0-9]*$/,jA=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,qA=["<",">",'"',"`"," ","\r",`
`,"	"],KA=["{","}","|","\\","^","`"].concat(qA),Gh=["'"].concat(KA),Kv=["%","/","?",";","#"].concat(Gh),Zv=["/","?","#"],ZA=255,Jv=/^[+a-z0-9A-Z_-]{0,63}$/,JA=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,QA={javascript:!0,"javascript:":!0},Hh={javascript:!0,"javascript:":!0},ns={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Xh=io;function hu(r,t,e){if(r&&an.isObject(r)&&r instanceof en)return r;var n=new en;return n.parse(r,t,e),n}en.prototype.parse=function(r,t,e){if(!an.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",s=r.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),r=s.join(i);var u=r;if(u=u.trim(),!e&&r.split("#").length===1){var h=jA.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],t?this.query=Xh.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=VA.exec(u);if(f){f=f[0];var c=f.toLowerCase();this.protocol=c,u=u.substr(f.length)}if(e||f||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var v=u.substr(0,2)==="//";v&&!(f&&Hh[f])&&(u=u.substr(2),this.slashes=!0)}if(!Hh[f]&&(v||f&&!ns[f])){for(var p=-1,_=0;_<Zv.length;_++){var y=u.indexOf(Zv[_]);y!==-1&&(p===-1||y<p)&&(p=y)}var b,m;p===-1?m=u.lastIndexOf("@"):m=u.lastIndexOf("@",p),m!==-1&&(b=u.slice(0,m),u=u.slice(m+1),this.auth=decodeURIComponent(b)),p=-1;for(var _=0;_<Kv.length;_++){var y=u.indexOf(Kv[_]);y!==-1&&(p===-1||y<p)&&(p=y)}p===-1&&(p=u.length),this.host=u.slice(0,p),u=u.slice(p),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var E=this.hostname.split(/\./),_=0,T=E.length;_<T;_++){var C=E[_];if(C&&!C.match(Jv)){for(var R="",P=0,I=C.length;P<I;P++)C.charCodeAt(P)>127?R+="x":R+=C[P];if(!R.match(Jv)){var N=E.slice(0,_),M=E.slice(_+1),D=C.match(JA);D&&(N.push(D[1]),M.unshift(D[2])),M.length&&(u="/"+M.join(".")+u),this.hostname=N.join(".");break}}}this.hostname.length>ZA?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=HA.toASCII(this.hostname));var H=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+H,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!QA[c])for(var _=0,T=Gh.length;_<T;_++){var X=Gh[_];if(u.indexOf(X)!==-1){var de=encodeURIComponent(X);de===X&&(de=escape(X)),u=u.split(X).join(de)}}var se=u.indexOf("#");se!==-1&&(this.hash=u.substr(se),u=u.slice(0,se));var te=u.indexOf("?");if(te!==-1?(this.search=u.substr(te),this.query=u.substr(te+1),t&&(this.query=Xh.parse(this.query)),u=u.slice(0,te)):t&&(this.search="",this.query={}),u&&(this.pathname=u),ns[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",Y=this.search||"";this.path=H+Y}return this.href=this.format(),this};function $A(r){return an.isString(r)&&(r=hu(r)),r instanceof en?r.format():en.prototype.format.call(r)}en.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var t=this.protocol||"",e=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&an.isObject(this.query)&&Object.keys(this.query).length&&(s=Xh.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||ns[t])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),e=e.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),t+i+e+o+n};function eR(r,t){return hu(r,!1,!0).resolve(t)}en.prototype.resolve=function(r){return this.resolveObject(hu(r,!1,!0)).format()};en.prototype.resolveObject=function(r){if(an.isString(r)){var t=new en;t.parse(r,!1,!0),r=t}for(var e=new en,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];e[s]=this[s]}if(e.hash=r.hash,r.href==="")return e.href=e.format(),e;if(r.slashes&&!r.protocol){for(var o=Object.keys(r),u=0;u<o.length;u++){var h=o[u];h!=="protocol"&&(e[h]=r[h])}return ns[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(r.protocol&&r.protocol!==e.protocol){if(!ns[r.protocol]){for(var f=Object.keys(r),c=0;c<f.length;c++){var v=f[c];e[v]=r[v]}return e.href=e.format(),e}if(e.protocol=r.protocol,!r.host&&!Hh[r.protocol]){for(var T=(r.pathname||"").split("/");T.length&&!(r.host=T.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),e.pathname=T.join("/")}else e.pathname=r.pathname;if(e.search=r.search,e.query=r.query,e.host=r.host||"",e.auth=r.auth,e.hostname=r.hostname||r.host,e.port=r.port,e.pathname||e.search){var p=e.pathname||"",_=e.search||"";e.path=p+_}return e.slashes=e.slashes||r.slashes,e.href=e.format(),e}var y=e.pathname&&e.pathname.charAt(0)==="/",b=r.host||r.pathname&&r.pathname.charAt(0)==="/",m=b||y||e.host&&r.pathname,w=m,E=e.pathname&&e.pathname.split("/")||[],T=r.pathname&&r.pathname.split("/")||[],C=e.protocol&&!ns[e.protocol];if(C&&(e.hostname="",e.port=null,e.host&&(E[0]===""?E[0]=e.host:E.unshift(e.host)),e.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(T[0]===""?T[0]=r.host:T.unshift(r.host)),r.host=null),m=m&&(T[0]===""||E[0]==="")),b)e.host=r.host||r.host===""?r.host:e.host,e.hostname=r.hostname||r.hostname===""?r.hostname:e.hostname,e.search=r.search,e.query=r.query,E=T;else if(T.length)E||(E=[]),E.pop(),E=E.concat(T),e.search=r.search,e.query=r.query;else if(!an.isNullOrUndefined(r.search)){if(C){e.hostname=e.host=E.shift();var R=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;R&&(e.auth=R.shift(),e.host=e.hostname=R.shift())}return e.search=r.search,e.query=r.query,(!an.isNull(e.pathname)||!an.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!E.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var P=E.slice(-1)[0],I=(e.host||r.host||E.length>1)&&(P==="."||P==="..")||P==="",N=0,M=E.length;M>=0;M--)P=E[M],P==="."?E.splice(M,1):P===".."?(E.splice(M,1),N++):N&&(E.splice(M,1),N--);if(!m&&!w)for(;N--;N)E.unshift("..");m&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),I&&E.join("/").substr(-1)!=="/"&&E.push("");var D=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(C){e.hostname=e.host=D?"":E.length?E.shift():"";var R=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;R&&(e.auth=R.shift(),e.host=e.hostname=R.shift())}return m=m||e.host&&E.length,m&&!D&&E.unshift(""),E.length?e.pathname=E.join("/"):(e.pathname=null,e.path=null),(!an.isNull(e.pathname)||!an.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=r.auth||e.auth,e.slashes=e.slashes||r.slashes,e.href=e.format(),e};en.prototype.parseHost=function(){var r=this.host,t=YA.exec(r);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),r=r.substr(0,r.length-t.length)),r&&(this.hostname=r)};/*!
 * @pixi/utils - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ei={parse:XA,format:zA,resolve:WA};function qr(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function Qv(r){var t=r.split("?")[0];return t.split("#")[0]}function tR(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rR(r,t,e){return r.replace(new RegExp(tR(t),"g"),e)}function nR(r,t){for(var e="",n=0,i=-1,s=0,o,u=0;u<=r.length;++u){if(u<r.length)o=r.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(e.length<2||n!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){var h=e.lastIndexOf("/");if(h!==e.length-1){h===-1?(e="",n=0):(e=e.slice(0,h),n=e.length-1-e.lastIndexOf("/")),i=u,s=0;continue}}else if(e.length===2||e.length===1){e="",n=0,i=u,s=0;continue}}t&&(e.length>0?e+="/..":e="..",n=2)}else e.length>0?e+="/"+r.slice(i+1,u):e=r.slice(i+1,u),n=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return e}var A0={toPosix:function(r){return rR(r,"\\","/")},isUrl:function(r){return/^https?:/.test(this.toPosix(r))},isDataUrl:function(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},hasProtocol:function(r){return/^[^/:]+:\//.test(this.toPosix(r))},getProtocol:function(r){qr(r),r=this.toPosix(r);var t="",e=/^file:\/\/\//.exec(r),n=/^[^/:]+:\/\//.exec(r),i=/^[^/:]+:\//.exec(r);if(e||n||i){var s=(e==null?void 0:e[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);t=s,r=r.slice(s.length)}return t},toAbsolute:function(r,t,e){if(this.isDataUrl(r))return r;var n=Qv(this.toPosix(t??fe.ADAPTER.getBaseUrl())),i=Qv(this.toPosix(e??this.rootname(n)));if(qr(r),r=this.toPosix(r),r.startsWith("/"))return A0.join(i,r.slice(1));var s=this.isAbsolute(r)?r:this.join(n,r);return s},normalize:function(r){if(r=this.toPosix(r),qr(r),r.length===0)return".";var t="",e=r.startsWith("/");this.hasProtocol(r)&&(t=this.rootname(r),r=r.slice(t.length));var n=r.endsWith("/");return r=nR(r,!1),r.length>0&&n&&(r+="/"),e?"/"+r:t+r},isAbsolute:function(r){return qr(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join:function(){for(var r=arguments,t,e=[],n=0;n<arguments.length;n++)e[n]=r[n];if(e.length===0)return".";for(var i,s=0;s<e.length;++s){var o=e[s];if(qr(o),o.length>0)if(i===void 0)i=o;else{var u=(t=e[s-1])!==null&&t!==void 0?t:"";this.extname(u)?i+="/../"+o:i+="/"+o}}return i===void 0?".":this.normalize(i)},dirname:function(r){if(qr(r),r.length===0)return".";r=this.toPosix(r);var t=r.charCodeAt(0),e=t===47,n=-1,i=!0,s=this.getProtocol(r),o=r;r=r.slice(s.length);for(var u=r.length-1;u>=1;--u)if(t=r.charCodeAt(u),t===47){if(!i){n=u;break}}else i=!1;return n===-1?e?"/":this.isUrl(o)?s+r:s:e&&n===1?"//":s+r.slice(0,n)},rootname:function(r){qr(r),r=this.toPosix(r);var t="";if(r.startsWith("/")?t="/":t=this.getProtocol(r),this.isUrl(r)){var e=r.indexOf("/",t.length);e!==-1?t=r.slice(0,e):t=r,t.endsWith("/")||(t+="/")}return t},basename:function(r,t){qr(r),t&&qr(t),r=this.toPosix(r);var e=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";var o=t.length-1,u=-1;for(s=r.length-1;s>=0;--s){var h=r.charCodeAt(s);if(h===47){if(!i){e=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(h===t.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=u))}return e===n?n=u:n===-1&&(n=r.length),r.slice(e,n)}for(s=r.length-1;s>=0;--s)if(r.charCodeAt(s)===47){if(!i){e=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":r.slice(e,n)},extname:function(r){qr(r),r=this.toPosix(r);for(var t=-1,e=0,n=-1,i=!0,s=0,o=r.length-1;o>=0;--o){var u=r.charCodeAt(o);if(u===47){if(!i){e=o+1;break}continue}n===-1&&(i=!1,n=o+1),u===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===e+1?"":r.slice(t,n)},parse:function(r){qr(r);var t={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return t;r=this.toPosix(r);var e=r.charCodeAt(0),n=this.isAbsolute(r),i;t.root=this.rootname(r),n||this.hasProtocol(r)?i=1:i=0;for(var s=-1,o=0,u=-1,h=!0,f=r.length-1,c=0;f>=i;--f){if(e=r.charCodeAt(f),e===47){if(!h){o=f+1;break}continue}u===-1&&(h=!1,u=f+1),e===46?s===-1?s=f:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&n?t.base=t.name=r.slice(1,u):t.base=t.name=r.slice(o,u)):(o===0&&n?(t.name=r.slice(1,s),t.base=r.slice(1,u)):(t.name=r.slice(o,s),t.base=r.slice(o,u)),t.ext=r.slice(s,u)),t.dir=this.dirname(r),t},sep:"/",delimiter:":"};fe.RETINA_PREFIX=/@([0-9\.]+)x/;fe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Wh=!1,$v="6.5.9";function iR(){Wh=!0}function R0(r){var t;if(!Wh){if(fe.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var e=[`
 %c %c %c PixiJS `+$v+" - ✰ "+r+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,e)}else globalThis.console&&globalThis.console.log("PixiJS "+$v+" - "+r+" - http://www.pixijs.com/");Wh=!0}}var Jl;function C0(){return typeof Jl>"u"&&(Jl=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:fe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!fe.ADAPTER.getWebGLRenderingContext())return!1;var e=fe.ADAPTER.createCanvas(),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Jl}var sR="#f0f8ff",oR="#faebd7",aR="#00ffff",uR="#7fffd4",lR="#f0ffff",hR="#f5f5dc",fR="#ffe4c4",cR="#000000",dR="#ffebcd",pR="#0000ff",vR="#8a2be2",_R="#a52a2a",gR="#deb887",mR="#5f9ea0",yR="#7fff00",bR="#d2691e",wR="#ff7f50",xR="#6495ed",TR="#fff8dc",ER="#dc143c",SR="#00ffff",AR="#00008b",RR="#008b8b",CR="#b8860b",PR="#a9a9a9",IR="#006400",OR="#a9a9a9",MR="#bdb76b",DR="#8b008b",FR="#556b2f",NR="#ff8c00",LR="#9932cc",BR="#8b0000",UR="#e9967a",kR="#8fbc8f",GR="#483d8b",HR="#2f4f4f",XR="#2f4f4f",WR="#00ced1",zR="#9400d3",VR="#ff1493",YR="#00bfff",jR="#696969",qR="#696969",KR="#1e90ff",ZR="#b22222",JR="#fffaf0",QR="#228b22",$R="#ff00ff",eC="#dcdcdc",tC="#f8f8ff",rC="#daa520",nC="#ffd700",iC="#808080",sC="#008000",oC="#adff2f",aC="#808080",uC="#f0fff0",lC="#ff69b4",hC="#cd5c5c",fC="#4b0082",cC="#fffff0",dC="#f0e68c",pC="#fff0f5",vC="#e6e6fa",_C="#7cfc00",gC="#fffacd",mC="#add8e6",yC="#f08080",bC="#e0ffff",wC="#fafad2",xC="#d3d3d3",TC="#90ee90",EC="#d3d3d3",SC="#ffb6c1",AC="#ffa07a",RC="#20b2aa",CC="#87cefa",PC="#778899",IC="#778899",OC="#b0c4de",MC="#ffffe0",DC="#00ff00",FC="#32cd32",NC="#faf0e6",LC="#ff00ff",BC="#800000",UC="#66cdaa",kC="#0000cd",GC="#ba55d3",HC="#9370db",XC="#3cb371",WC="#7b68ee",zC="#00fa9a",VC="#48d1cc",YC="#c71585",jC="#191970",qC="#f5fffa",KC="#ffe4e1",ZC="#ffe4b5",JC="#ffdead",QC="#000080",$C="#fdf5e6",eP="#808000",tP="#6b8e23",rP="#ffa500",nP="#ff4500",iP="#da70d6",sP="#eee8aa",oP="#98fb98",aP="#afeeee",uP="#db7093",lP="#ffefd5",hP="#ffdab9",fP="#cd853f",cP="#ffc0cb",dP="#dda0dd",pP="#b0e0e6",vP="#800080",_P="#663399",gP="#ff0000",mP="#bc8f8f",yP="#4169e1",bP="#8b4513",wP="#fa8072",xP="#f4a460",TP="#2e8b57",EP="#fff5ee",SP="#a0522d",AP="#c0c0c0",RP="#87ceeb",CP="#6a5acd",PP="#708090",IP="#708090",OP="#fffafa",MP="#00ff7f",DP="#4682b4",FP="#d2b48c",NP="#008080",LP="#d8bfd8",BP="#ff6347",UP="#40e0d0",kP="#ee82ee",GP="#f5deb3",HP="#ffffff",XP="#f5f5f5",WP="#ffff00",zP="#9acd32",VP={aliceblue:sR,antiquewhite:oR,aqua:aR,aquamarine:uR,azure:lR,beige:hR,bisque:fR,black:cR,blanchedalmond:dR,blue:pR,blueviolet:vR,brown:_R,burlywood:gR,cadetblue:mR,chartreuse:yR,chocolate:bR,coral:wR,cornflowerblue:xR,cornsilk:TR,crimson:ER,cyan:SR,darkblue:AR,darkcyan:RR,darkgoldenrod:CR,darkgray:PR,darkgreen:IR,darkgrey:OR,darkkhaki:MR,darkmagenta:DR,darkolivegreen:FR,darkorange:NR,darkorchid:LR,darkred:BR,darksalmon:UR,darkseagreen:kR,darkslateblue:GR,darkslategray:HR,darkslategrey:XR,darkturquoise:WR,darkviolet:zR,deeppink:VR,deepskyblue:YR,dimgray:jR,dimgrey:qR,dodgerblue:KR,firebrick:ZR,floralwhite:JR,forestgreen:QR,fuchsia:$R,gainsboro:eC,ghostwhite:tC,goldenrod:rC,gold:nC,gray:iC,green:sC,greenyellow:oC,grey:aC,honeydew:uC,hotpink:lC,indianred:hC,indigo:fC,ivory:cC,khaki:dC,lavenderblush:pC,lavender:vC,lawngreen:_C,lemonchiffon:gC,lightblue:mC,lightcoral:yC,lightcyan:bC,lightgoldenrodyellow:wC,lightgray:xC,lightgreen:TC,lightgrey:EC,lightpink:SC,lightsalmon:AC,lightseagreen:RC,lightskyblue:CC,lightslategray:PC,lightslategrey:IC,lightsteelblue:OC,lightyellow:MC,lime:DC,limegreen:FC,linen:NC,magenta:LC,maroon:BC,mediumaquamarine:UC,mediumblue:kC,mediumorchid:GC,mediumpurple:HC,mediumseagreen:XC,mediumslateblue:WC,mediumspringgreen:zC,mediumturquoise:VC,mediumvioletred:YC,midnightblue:jC,mintcream:qC,mistyrose:KC,moccasin:ZC,navajowhite:JC,navy:QC,oldlace:$C,olive:eP,olivedrab:tP,orange:rP,orangered:nP,orchid:iP,palegoldenrod:sP,palegreen:oP,paleturquoise:aP,palevioletred:uP,papayawhip:lP,peachpuff:hP,peru:fP,pink:cP,plum:dP,powderblue:pP,purple:vP,rebeccapurple:_P,red:gP,rosybrown:mP,royalblue:yP,saddlebrown:bP,salmon:wP,sandybrown:xP,seagreen:TP,seashell:EP,sienna:SP,silver:AP,skyblue:RP,slateblue:CP,slategray:PP,slategrey:IP,snow:OP,springgreen:MP,steelblue:DP,tan:FP,teal:NP,thistle:LP,tomato:BP,turquoise:UP,violet:kP,wheat:GP,white:HP,whitesmoke:XP,yellow:WP,yellowgreen:zP};function ei(r,t){return t===void 0&&(t=[]),t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255,t}function Bf(r){var t=r.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function ti(r){return typeof r=="string"&&(r=VP[r.toLowerCase()]||r,r[0]==="#"&&(r=r.slice(1))),parseInt(r,16)}function P0(r){return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)}function YP(){for(var r=[],t=[],e=0;e<32;e++)r[e]=e,t[e]=e;r[Pe.NORMAL_NPM]=Pe.NORMAL,r[Pe.ADD_NPM]=Pe.ADD,r[Pe.SCREEN_NPM]=Pe.SCREEN,t[Pe.NORMAL]=Pe.NORMAL_NPM,t[Pe.ADD]=Pe.ADD_NPM,t[Pe.SCREEN]=Pe.SCREEN_NPM;var n=[];return n.push(t),n.push(r),n}var Uf=YP();function kf(r,t){return Uf[t?1:0][r]}function I0(r,t,e,n){return e=e||new Float32Array(4),n||n===void 0?(e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t):(e[0]=r[0],e[1]=r[1],e[2]=r[2]),e[3]=t,e}function fu(r,t){if(t===1)return(t*255<<24)+r;if(t===0)return 0;var e=r>>16&255,n=r>>8&255,i=r&255;return e=e*t+.5|0,n=n*t+.5|0,i=i*t+.5|0,(t*255<<24)+(e<<16)+(n<<8)+i}function Gf(r,t,e,n){return e=e||new Float32Array(4),e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255,(n||n===void 0)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function O0(r,t){t===void 0&&(t=null);var e=r*6;if(t=t||new Uint16Array(e),t.length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var n=0,i=0;n<e;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function cu(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}var jP={Float32Array,Uint32Array,Int32Array,Uint8Array};function qP(r,t){for(var e=0,n=0,i={},s=0;s<r.length;s++)n+=t[s],e+=r[s].length;for(var o=new ArrayBuffer(e*4),u=null,h=0,s=0;s<r.length;s++){var f=t[s],c=r[s],v=cu(c);i[v]||(i[v]=new jP[v](o)),u=i[v];for(var p=0;p<c.length;p++){var _=(p/f|0)*n+h,y=p%f;u[_+y]=c[p]}h+=f}return new Float32Array(o)}function so(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function zh(r){return!(r&r-1)&&!!r}function Vh(r){var t=(r>65535?1:0)<<4;r>>>=t;var e=(r>255?1:0)<<3;return r>>>=e,t|=e,e=(r>15?1:0)<<2,r>>>=e,t|=e,e=(r>3?1:0)<<1,r>>>=e,t|=e,t|r>>1}function Ai(r,t,e){var n=r.length,i;if(!(t>=n||e===0)){e=t+e>n?n-t:e;var s=n-e;for(i=t;i<s;++i)r[i]=r[i+e];r.length=s}}function Si(r){return r===0?0:r<0?-1:1}var KP=0;function ri(){return++KP}var e_={};function nr(r,t,e){if(e===void 0&&(e=3),!e_[t]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+r):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+r),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+r),console.warn(n))),e_[t]=!0}}var Yh={},lr=Object.create(null),Nr=Object.create(null);function ZP(){var r;for(r in lr)lr[r].destroy();for(r in Nr)Nr[r].destroy()}function JP(){var r;for(r in lr)delete lr[r];for(r in Nr)delete Nr[r]}var jh=function(){function r(t,e,n){this.canvas=fe.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||fe.RESOLUTION,this.resize(t,e)}return r.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},r.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),r}();function M0(r){var t=r.width,e=r.height,n=r.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,t,e),s=i.data,o=s.length,u={top:null,left:null,right:null,bottom:null},h=null,f,c,v;for(f=0;f<o;f+=4)s[f+3]!==0&&(c=f/4%t,v=~~(f/4/t),u.top===null&&(u.top=v),(u.left===null||c<u.left)&&(u.left=c),(u.right===null||u.right<c)&&(u.right=c+1),(u.bottom===null||u.bottom<v)&&(u.bottom=v));return u.top!==null&&(t=u.right-u.left,e=u.bottom-u.top+1,h=n.getImageData(u.left,u.top,t,e)),{height:e,width:t,data:h}}var D0=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function QP(r){var t=D0.exec(r);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}var ga;function F0(r,t){if(t===void 0&&(t=globalThis.location),r.indexOf("data:")===0)return"";t=t||globalThis.location,ga||(ga=document.createElement("a")),ga.href=r;var e=Ei.parse(ga.href),n=!e.port&&t.port===""||e.port===t.port;return e.hostname!==t.hostname||!n||e.protocol!==t.protocol?"anonymous":""}function oo(r,t){var e=fe.RETINA_PREFIX.exec(r);return e?parseFloat(e[1]):t!==void 0?t:1}const $P=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Nr,CanvasRenderTarget:jh,DATA_URI:D0,EventEmitter:ps,ProgramCache:Yh,TextureCache:lr,clearTextureCache:JP,correctBlendMode:kf,createIndicesForQuads:O0,decomposeDataUri:QP,deprecation:nr,destroyTextureCache:ZP,determineCrossOrigin:F0,get earcut(){return os},getBufferType:cu,getResolutionOfUrl:oo,hex2rgb:ei,hex2string:Bf,interleaveTypedArrays:qP,isMobile:kr,isPow2:zh,isWebGLSupported:C0,log2:Vh,nextPow2:so,path:A0,premultiplyBlendMode:Uf,premultiplyRgba:I0,premultiplyTint:fu,premultiplyTintToRgba:Gf,removeItems:Ai,rgb2hex:P0,sayHello:R0,sign:Si,skipHello:iR,string2hex:ti,trimCanvas:M0,uid:ri,url:Ei},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ao=Math.PI*2,N0=180/Math.PI,L0=Math.PI/180,Gt;(function(r){r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC"})(Gt||(Gt={}));var st=function(){function r(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},r.prototype.copyTo=function(t){return t.set(this.x,this.y),t},r.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},r.prototype.set=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x=t,this.y=e,this},r.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},r}(),ma=[new st,new st,new st,new st],Ye=function(){function r(t,e,n,i){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(i),this.type=Gt.RECT}return Object.defineProperty(r.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r,"EMPTY",{get:function(){return new r(0,0,0,0)},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},r.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},r.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},r.prototype.intersects=function(t,e){if(!e){var n=this.x<t.x?t.x:this.x,i=this.right>t.right?t.right:this.right;if(i<=n)return!1;var s=this.y<t.y?t.y:this.y,o=this.bottom>t.bottom?t.bottom:this.bottom;return o>s}var u=this.left,h=this.right,f=this.top,c=this.bottom;if(h<=u||c<=f)return!1;var v=ma[0].set(t.left,t.top),p=ma[1].set(t.left,t.bottom),_=ma[2].set(t.right,t.top),y=ma[3].set(t.right,t.bottom);if(_.x<=v.x||p.y<=v.y)return!1;var b=Math.sign(e.a*e.d-e.b*e.c);if(b===0||(e.apply(v,v),e.apply(p,p),e.apply(_,_),e.apply(y,y),Math.max(v.x,p.x,_.x,y.x)<=u||Math.min(v.x,p.x,_.x,y.x)>=h||Math.max(v.y,p.y,_.y,y.y)<=f||Math.min(v.y,p.y,_.y,y.y)>=c))return!1;var m=b*(p.y-v.y),w=b*(v.x-p.x),E=m*u+w*f,T=m*h+w*f,C=m*u+w*c,R=m*h+w*c;if(Math.max(E,T,C,R)<=m*v.x+w*v.y||Math.min(E,T,C,R)>=m*y.x+w*y.y)return!1;var P=b*(v.y-_.y),I=b*(_.x-v.x),N=P*u+I*f,M=P*h+I*f,D=P*u+I*c,H=P*h+I*c;return!(Math.max(N,M,D,H)<=P*v.x+I*v.y||Math.min(N,M,D,H)>=P*y.x+I*y.y)},r.prototype.pad=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this},r.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=i,this.height=Math.max(s-i,0),this},r.prototype.ceil=function(t,e){t===void 0&&(t=1),e===void 0&&(e=.001);var n=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=i-this.y,this},r.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=i,this.height=s-i,this},r.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},r}(),B0=function(){function r(t,e,n){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=t,this.y=e,this.radius=n,this.type=Gt.CIRC}return r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,s=this.y-e;return i*=i,s*=s,i+s<=n},r.prototype.getBounds=function(){return new Ye(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},r.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},r}(),U0=function(){function r(t,e,n,i){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=e,this.width=n,this.height=i,this.type=Gt.ELIP}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(e-this.y)/this.height;return n*=n,i*=i,n+i<=1},r.prototype.getBounds=function(){return new Ye(this.x-this.width,this.y-this.height,this.width,this.height)},r.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},r}(),js=function(){function r(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var i=Array.isArray(e[0])?e[0]:e;if(typeof i[0]!="number"){for(var s=[],o=0,u=i.length;o<u;o++)s.push(i[o].x,i[o].y);i=s}this.points=i,this.type=Gt.POLY,this.closeStroke=!0}return r.prototype.clone=function(){var t=this.points.slice(),e=new r(t);return e.closeStroke=this.closeStroke,e},r.prototype.contains=function(t,e){for(var n=!1,i=this.points.length/2,s=0,o=i-1;s<i;o=s++){var u=this.points[s*2],h=this.points[s*2+1],f=this.points[o*2],c=this.points[o*2+1],v=h>e!=c>e&&t<(f-u)*((e-h)/(c-h))+u;v&&(n=!n)}return n},r.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]")},r}(),k0=function(){function r(t,e,n,i,s){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=t,this.y=e,this.width=n,this.height=i,this.radius=s,this.type=Gt.RREC}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.radius)},r.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+n&&e<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;var i=t-(this.x+n),s=e-(this.y+n),o=n*n;if(i*i+s*s<=o||(i=t-(this.x+this.width-n),i*i+s*s<=o)||(s=e-(this.y+this.height-n),i*i+s*s<=o)||(i=t-(this.x+n),i*i+s*s<=o))return!0}return!1},r.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},r}(),In=function(){function r(t,e,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=e}return r.prototype.clone=function(t,e){return t===void 0&&(t=this.cb),e===void 0&&(e=this.scope),new r(t,e,this._x,this._y)},r.prototype.set=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},r.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},r.prototype.copyTo=function(t){return t.set(this._x,this._y),t},r.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},r.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),r}(),Nt=function(){function r(t,e,n,i,s,o){t===void 0&&(t=1),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=0),o===void 0&&(o=0),this.array=null,this.a=t,this.b=e,this.c=n,this.d=i,this.tx=s,this.ty=o}return r.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},r.prototype.set=function(t,e,n,i,s,o){return this.a=t,this.b=e,this.c=n,this.d=i,this.tx=s,this.ty=o,this},r.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},r.prototype.apply=function(t,e){e=e||new st;var n=t.x,i=t.y;return e.x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.ty,e},r.prototype.applyInverse=function(t,e){e=e||new st;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,s=t.y;return e.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,e},r.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},r.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},r.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.a,s=this.c,o=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=s*e-this.d*n,this.d=s*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},r.prototype.append=function(t){var e=this.a,n=this.b,i=this.c,s=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*n+t.b*s,this.c=t.c*e+t.d*i,this.d=t.c*n+t.d*s,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*s+this.ty,this},r.prototype.setTransform=function(t,e,n,i,s,o,u,h,f){return this.a=Math.cos(u+f)*s,this.b=Math.sin(u+f)*s,this.c=-Math.sin(u-h)*o,this.d=Math.cos(u-h)*o,this.tx=t-(n*this.a+i*this.c),this.ty=e-(n*this.b+i*this.d),this},r.prototype.prepend=function(t){var e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},r.prototype.decompose=function(t){var e=this.a,n=this.b,i=this.c,s=this.d,o=t.pivot,u=-Math.atan2(-i,s),h=Math.atan2(n,e),f=Math.abs(u+h);return f<1e-5||Math.abs(ao-f)<1e-5?(t.rotation=h,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=u,t.skew.y=h),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(i*i+s*s),t.position.x=this.tx+(o.x*e+o.y*i),t.position.y=this.ty+(o.x*n+o.y*s),t},r.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,s=this.tx,o=t*i-e*n;return this.a=i/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(t*this.ty-e*s)/o,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.prototype.clone=function(){var t=new r;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},r.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(r,"IDENTITY",{get:function(){return new r},enumerable:!1,configurable:!0}),Object.defineProperty(r,"TEMP_MATRIX",{get:function(){return new r},enumerable:!1,configurable:!0}),r}(),yi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],bi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],wi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],xi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],qh=[],G0=[],ya=Math.sign;function eI(){for(var r=0;r<16;r++){var t=[];qh.push(t);for(var e=0;e<16;e++)for(var n=ya(yi[r]*yi[e]+wi[r]*bi[e]),i=ya(bi[r]*yi[e]+xi[r]*bi[e]),s=ya(yi[r]*wi[e]+wi[r]*xi[e]),o=ya(bi[r]*wi[e]+xi[r]*xi[e]),u=0;u<16;u++)if(yi[u]===n&&bi[u]===i&&wi[u]===s&&xi[u]===o){t.push(u);break}}for(var r=0;r<16;r++){var h=new Nt;h.set(yi[r],bi[r],wi[r],xi[r],0,0),G0.push(h)}}eI();var bt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(r){return yi[r]},uY:function(r){return bi[r]},vX:function(r){return wi[r]},vY:function(r){return xi[r]},inv:function(r){return r&8?r&15:-r&7},add:function(r,t){return qh[r][t]},sub:function(r,t){return qh[r][bt.inv(t)]},rotate180:function(r){return r^4},isVertical:function(r){return(r&3)===2},byDirection:function(r,t){return Math.abs(r)*2<=Math.abs(t)?t>=0?bt.S:bt.N:Math.abs(t)*2<=Math.abs(r)?r>0?bt.E:bt.W:t>0?r>0?bt.SE:bt.SW:r>0?bt.NE:bt.NW},matrixAppendRotationInv:function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=G0[bt.inv(t)];i.tx=e,i.ty=n,r.append(i)}},Hf=function(){function r(){this.worldTransform=new Nt,this.localTransform=new Nt,this.position=new In(this.onChange,this,0,0),this.scale=new In(this.onChange,this,1,1),this.pivot=new In(this.onChange,this,0,0),this.skew=new In(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return r.prototype.onChange=function(){this._localID++},r.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},r.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},r.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},r.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=e.a*n.a+e.b*n.c,i.b=e.a*n.b+e.b*n.d,i.c=e.c*n.a+e.d*n.c,i.d=e.c*n.b+e.d*n.d,i.tx=e.tx*n.a+e.ty*n.c+n.tx,i.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},r.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(r.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),r.IDENTITY=new r,r}();/*!
 * @pixi/display - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */fe.SORTABLE_CHILDREN=!1;var uo=function(){function r(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return r.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},r.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},r.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Ye.EMPTY:(t=t||new Ye(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},r.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},r.prototype.addPointMatrix=function(t,e){var n=t.a,i=t.b,s=t.c,o=t.d,u=t.tx,h=t.ty,f=n*e.x+s*e.y+u,c=i*e.x+o*e.y+h;this.minX=Math.min(this.minX,f),this.maxX=Math.max(this.maxX,f),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)},r.prototype.addQuad=function(t){var e=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=t[0],u=t[1];e=o<e?o:e,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=t[2],u=t[3],e=o<e?o:e,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=t[4],u=t[5],e=o<e?o:e,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=t[6],u=t[7],e=o<e?o:e,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,this.minX=e,this.minY=n,this.maxX=i,this.maxY=s},r.prototype.addFrame=function(t,e,n,i,s){this.addFrameMatrix(t.worldTransform,e,n,i,s)},r.prototype.addFrameMatrix=function(t,e,n,i,s){var o=t.a,u=t.b,h=t.c,f=t.d,c=t.tx,v=t.ty,p=this.minX,_=this.minY,y=this.maxX,b=this.maxY,m=o*e+h*n+c,w=u*e+f*n+v;p=m<p?m:p,_=w<_?w:_,y=m>y?m:y,b=w>b?w:b,m=o*i+h*n+c,w=u*i+f*n+v,p=m<p?m:p,_=w<_?w:_,y=m>y?m:y,b=w>b?w:b,m=o*e+h*s+c,w=u*e+f*s+v,p=m<p?m:p,_=w<_?w:_,y=m>y?m:y,b=w>b?w:b,m=o*i+h*s+c,w=u*i+f*s+v,p=m<p?m:p,_=w<_?w:_,y=m>y?m:y,b=w>b?w:b,this.minX=p,this.minY=_,this.maxX=y,this.maxY=b},r.prototype.addVertexData=function(t,e,n){for(var i=this.minX,s=this.minY,o=this.maxX,u=this.maxY,h=e;h<n;h+=2){var f=t[h],c=t[h+1];i=f<i?f:i,s=c<s?c:s,o=f>o?f:o,u=c>u?c:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u},r.prototype.addVertices=function(t,e,n,i){this.addVerticesMatrix(t.worldTransform,e,n,i)},r.prototype.addVerticesMatrix=function(t,e,n,i,s,o){s===void 0&&(s=0),o===void 0&&(o=s);for(var u=t.a,h=t.b,f=t.c,c=t.d,v=t.tx,p=t.ty,_=this.minX,y=this.minY,b=this.maxX,m=this.maxY,w=n;w<i;w+=2){var E=e[w],T=e[w+1],C=u*E+f*T+v,R=c*T+h*E+p;_=Math.min(_,C-s),b=Math.max(b,C+s),y=Math.min(y,R-o),m=Math.max(m,R+o)}this.minX=_,this.minY=y,this.maxX=b,this.maxY=m},r.prototype.addBounds=function(t){var e=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>s?t.maxY:s},r.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,s=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=s&&i<=o){var u=this.minX,h=this.minY,f=this.maxX,c=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>f?s:f,this.maxY=o>c?o:c}},r.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},r.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,s=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=s&&i<=o){var u=this.minX,h=this.minY,f=this.maxX,c=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>f?s:f,this.maxY=o>c?o:c}},r.prototype.pad=function(t,e){t===void 0&&(t=0),e===void 0&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},r.prototype.addFramePad=function(t,e,n,i,s,o){t-=s,e-=o,n+=s,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kh=function(r,t){return Kh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Kh(r,t)};function Xf(r,t){Kh(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Pt=function(r){Xf(t,r);function t(){var e=r.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Hf,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new uo,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return t.mixin=function(e){for(var n=Object.keys(e),i=0;i<n.length;++i){var s=n[i];Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(e,s))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ye),n=this._boundsRect),this._bounds.getRectangle(n)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ye),e=this._localBoundsRect),this._localBounds||(this._localBounds=new uo);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var u=this.getBounds(!1,e);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-o,u},t.prototype.toGlobal=function(e,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)},t.prototype.toLocal=function(e,n,i,s){return n&&(e=n.toGlobal(e,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,n,i,s,o,u,h,f,c){return e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=1),o===void 0&&(o=0),u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=0),c===void 0&&(c=0),this.position.x=e,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=o,this.skew.x=u,this.skew.y=h,this.pivot.x=f,this.pivot.y=c,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Wf),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*N0},set:function(e){this.transform.rotation=e*L0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),t}(ps),Wf=function(r){Xf(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.sortDirty=null,e}return t}(Pt);Pt.prototype.displayObjectUpdateTransform=Pt.prototype.updateTransform;function tI(r,t){return r.zIndex===t.zIndex?r._lastSortedIndex-t._lastSortedIndex:r.zIndex-t.zIndex}var cr=function(r){Xf(t,r);function t(){var e=r.call(this)||this;return e.children=[],e.sortableChildren=fe.SORTABLE_CHILDREN,e.sortDirty=!1,e}return t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(n.length>1)for(var s=0;s<n.length;s++)this.addChild(n[s]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},t.prototype.addChildAt=function(e,n){if(n<0||n>this.children.length)throw new Error(e+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(n,0,e),this._boundsID++,this.onChildrenChange(n),e.emit("added",this),this.emit("childAdded",e,this,n),e},t.prototype.swapChildren=function(e,n){if(e!==n){var i=this.getChildIndex(e),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=e,this.onChildrenChange(i<s?i:s)}},t.prototype.getChildIndex=function(e){var n=this.children.indexOf(e);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},t.prototype.setChildIndex=function(e,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(e);Ai(this.children,i,1),this.children.splice(n,0,e),this.onChildrenChange(n)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(n.length>1)for(var s=0;s<n.length;s++)this.removeChild(n[s]);else{var o=n[0],u=this.children.indexOf(o);if(u===-1)return null;o.parent=null,o.transform._parentID=-1,Ai(this.children,u,1),this._boundsID++,this.onChildrenChange(u),o.emit("removed",this),this.emit("childRemoved",o,this,u)}return n[0]},t.prototype.removeChildAt=function(e){var n=this.getChildAt(e);return n.parent=null,n.transform._parentID=-1,Ai(this.children,e,1),this._boundsID++,this.onChildrenChange(e),n.emit("removed",this),this.emit("childRemoved",n,this,e),n},t.prototype.removeChildren=function(e,n){e===void 0&&(e=0),n===void 0&&(n=this.children.length);var i=e,s=n,o=s-i,u;if(o>0&&o<=s){u=this.children.splice(i,o);for(var h=0;h<u.length;++h)u[h].parent=null,u[h].transform&&(u[h].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var h=0;h<u.length;++h)u[h].emit("removed",this),this.emit("childRemoved",u[h],this,h);return u}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,n=0,i=this.children.length;n<i;++n){var s=this.children[n];s._lastSortedIndex=n,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(tI),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,n=this.children.length;e<n;++e){var i=this.children[e];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var n=this.children[e];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,n){n===void 0&&(n=!1);var i=r.prototype.getLocalBounds.call(this,e);if(!n)for(var s=0,o=this.children.length;s<o;++s){var u=this.children[s];u.visible&&u.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(e){var n=e.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,s;if(this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,s))this._render(e);else if(this.cullArea)return;for(var o=0,u=this.children.length;o<u;++o){var h=this.children[o],f=h.cullable;h.cullable=f||!this.cullArea,h.render(e),h.cullable=f}}},t.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}},t.prototype.renderAdvanced=function(e){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Mt.NONE));if(o&&e.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(var s=0,u=this.children.length;s<u;++s)this.children[s].render(e)}o&&e.batch.flush(),i&&e.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){r.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof e=="boolean"?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(n)for(var s=0;s<i.length;++s)i[s].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var n=this.getLocalBounds().width;n!==0?this.scale.x=e/n:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var n=this.getLocalBounds().height;n!==0?this.scale.y=e/n:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),t}(Pt);cr.prototype.containerUpdateTransform=cr.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qs=function(){return qs=Object.assign||function(t){for(var e=arguments,n,i=1,s=arguments.length;i<s;i++){n=e[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qs.apply(this,arguments)},dt;(function(r){r.Application="application",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Loader="loader",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser"})(dt||(dt={}));var t_=function(r){if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");var t=typeof r.extension!="object"?{type:r.extension}:r.extension;r=qs(qs({},t),{ref:r})}if(typeof r=="object")r=qs({},r);else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},cn={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var r=arguments,t=this,e=[],n=0;n<arguments.length;n++)e[n]=r[n];return e.map(t_).forEach(function(i){i.type.forEach(function(s){var o,u;return(u=(o=t._removeHandlers)[s])===null||u===void 0?void 0:u.call(o,i)})}),this},add:function(){for(var r=arguments,t=this,e=[],n=0;n<arguments.length;n++)e[n]=r[n];return e.map(t_).forEach(function(i){i.type.forEach(function(s){var o=t._addHandlers,u=t._queue;o[s]?o[s](i):(u[s]=u[s]||[],u[s].push(i))})}),this},handle:function(r,t,e){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[r]||i[r])throw new Error("Extension type "+r+" already has a handler");n[r]=t,i[r]=e;var s=this._queue;return s[r]&&(s[r].forEach(function(o){return t(o)}),delete s[r]),this},handleByMap:function(r,t){return this.handle(r,function(e){t[e.name]=e.ref},function(e){delete t[e.name]})},handleByList:function(r,t){return this.handle(r,function(e){var n,i;t.includes(e.ref)||(t.push(e.ref),r===dt.Loader&&((i=(n=e.ref).add)===null||i===void 0||i.call(n)))},function(e){var n=t.indexOf(e.ref);n!==-1&&t.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zt=function(){function r(t){this.items=[],this._name=t,this._aliasCount=0}return r.prototype.emit=function(t,e,n,i,s,o,u,h){if(arguments.length>8)throw new Error("max arguments reached");var f=this,c=f.name,v=f.items;this._aliasCount++;for(var p=0,_=v.length;p<_;p++)v[p][c](t,e,n,i,s,o,u,h);return v===this.items&&this._aliasCount--,this},r.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},r.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},r.prototype.remove=function(t){var e=this.items.indexOf(t);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},r.prototype.contains=function(t){return this.items.indexOf(t)!==-1},r.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},r.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(r.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),r}();Object.defineProperties(zt.prototype,{dispatch:{value:zt.prototype.emit},run:{value:zt.prototype.emit}});/*!
 * @pixi/ticker - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */fe.TARGET_FPMS=.06;var tn;(function(r){r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY"})(tn||(tn={}));var Ql=function(){function r(t,e,n,i){e===void 0&&(e=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=n,this.once=i}return r.prototype.match=function(t,e){return e===void 0&&(e=null),this.fn===t&&this.context===e},r.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},r.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},r.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},r}(),kt=function(){function r(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ql(null,null,1/0),this.deltaMS=1/fe.TARGET_FPMS,this.elapsedMS=1/fe.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return r.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},r.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},r.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},r.prototype.add=function(t,e,n){return n===void 0&&(n=tn.NORMAL),this._addListener(new Ql(t,e,n))},r.prototype.addOnce=function(t,e,n){return n===void 0&&(n=tn.NORMAL),this._addListener(new Ql(t,e,n,!0))},r.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this},r.prototype.remove=function(t,e){for(var n=this._head.next;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(r.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),r.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},r.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},r.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},r.prototype.update=function(t){t===void 0&&(t=performance.now());var e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*fe.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(r.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,fe.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"shared",{get:function(){if(!r._shared){var t=r._shared=new r;t.autoStart=!0,t._protected=!0}return r._shared},enumerable:!1,configurable:!0}),Object.defineProperty(r,"system",{get:function(){if(!r._system){var t=r._system=new r;t.autoStart=!0,t._protected=!0}return r._system},enumerable:!1,configurable:!0}),r}(),H0=function(){function r(){}return r.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,tn.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?kt.shared:new kt,t.autoStart&&this.start()},r.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},r.extension=dt.Application,r}();/*!
 * @pixi/core - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */fe.PREFER_ENV=kr.any?hn.WEBGL:hn.WEBGL2;fe.STRICT_TEXTURE_CACHE=!1;var lo=[];function du(r,t){if(!r)return null;var e="";if(typeof r=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(e=n[1].toLowerCase())}for(var i=lo.length-1;i>=0;--i){var s=lo[i];if(s.test&&s.test(r,e))return new s(r,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zh=function(r,t){return Zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Zh(r,t)};function gt(r,t){Zh(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Jh=function(){return Jh=Object.assign||function(t){for(var e=arguments,n,i=1,s=arguments.length;i<s;i++){n=e[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Jh.apply(this,arguments)};function rI(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}var Pi=function(){function r(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new zt("setRealSize"),this.onUpdate=new zt("update"),this.onError=new zt("onError")}return r.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},r.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},r.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(r.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),r.prototype.update=function(){this.destroyed||this.onUpdate.emit()},r.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),r.prototype.style=function(t,e,n){return!1},r.prototype.dispose=function(){},r.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},r.test=function(t,e){return!1},r}(),Oi=function(r){gt(t,r);function t(e,n){var i=this,s=n||{},o=s.width,u=s.height;if(!o||!u)throw new Error("BufferResource width or height invalid");return i=r.call(this,o,u)||this,i.data=e,i}return t.prototype.upload=function(e,n,i){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Xr.UNPACK);var o=n.realWidth,u=n.realHeight;return i.width===o&&i.height===u?s.texSubImage2D(n.target,0,0,0,o,u,n.format,i.type,this.data):(i.width=o,i.height=u,s.texImage2D(n.target,0,i.internalFormat,o,u,0,n.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Pi),nI={scaleMode:jt.NEAREST,format:le.RGBA,alphaMode:Xr.NPM},Ke=function(r){gt(t,r);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=r.call(this)||this;n=n||{};var s=n.alphaMode,o=n.mipmap,u=n.anisotropicLevel,h=n.scaleMode,f=n.width,c=n.height,v=n.wrapMode,p=n.format,_=n.type,y=n.target,b=n.resolution,m=n.resourceOptions;return e&&!(e instanceof Pi)&&(e=du(e,m),e.internal=!0),i.resolution=b||fe.RESOLUTION,i.width=Math.round((f||0)*i.resolution)/i.resolution,i.height=Math.round((c||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:fe.MIPMAP_TEXTURES,i.anisotropicLevel=u!==void 0?u:fe.ANISOTROPIC_LEVEL,i._wrapMode=v||fe.WRAP_MODE,i._scaleMode=h!==void 0?h:fe.SCALE_MODE,i.format=p||le.RGBA,i.type=_||Ie.UNSIGNED_BYTE,i.target=y||Zn.TEXTURE_2D,i.alphaMode=s!==void 0?s:Xr.UNPACK,i.uid=ri(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=f>0&&c>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,n){var i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,n,i){return i=i||this.resolution,this.setRealSize(e*i,n*i,i)},t.prototype.setRealSize=function(e,n,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=zh(this.realWidth)&&zh(this.realHeight)},t.prototype.setResolution=function(e){var n=this.resolution;return n===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*n)/e,this.height=Math.round(this.height*n)/e,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Nr[this.cacheId],delete lr[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,n,i){i===void 0&&(i=fe.STRICT_TEXTURE_CACHE);var s=typeof e=="string",o=null;if(s)o=e;else{if(!e._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";e._pixiId=u+"_"+ri()}o=e._pixiId}var h=Nr[o];if(s&&i&&!h)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return h||(h=new t(e,n),h.cacheId=o,t.addToCache(h,o)),h},t.fromBuffer=function(e,n,i,s){e=e||new Float32Array(n*i*4);var o=new Oi(e,{width:n,height:i}),u=e instanceof Float32Array?Ie.FLOAT:Ie.UNSIGNED_BYTE;return new t(o,Object.assign({},nI,s||{width:n,height:i,type:u}))},t.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),Nr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Nr[n]=e)},t.removeFromCache=function(e){if(typeof e=="string"){var n=Nr[e];if(n){var i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete Nr[e],n}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)delete Nr[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(ps),pu=function(r){gt(t,r);function t(e,n){var i=this,s=n||{},o=s.width,u=s.height;i=r.call(this,o,u)||this,i.items=[],i.itemDirtyIds=[];for(var h=0;h<e;h++){var f=new Ke;i.items.push(f),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(e,n){for(var i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof Pi?this.addResourceAt(e[i],i):this.addResourceAt(du(e[i],n),i))},t.prototype.dispose=function(){for(var e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this},t.prototype.bind=function(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");r.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},t.prototype.unbind=function(e){r.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=n.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=e.items[0],o=s.realWidth,u=s.realHeight;return e.resize(o,u),Promise.resolve(e)}),this._load},t}(Pi),zf=function(r){gt(t,r);function t(e,n){var i=this,s=n||{},o=s.width,u=s.height,h,f;return Array.isArray(e)?(h=e,f=e.length):f=e,i=r.call(this,f,{width:o,height:u})||this,h&&i.initFromArray(h,n),i}return t.prototype.addBaseTextureAt=function(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(e){r.prototype.bind.call(this,e),e.target=Zn.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,n,i){var s=this,o=s.length,u=s.itemDirtyIds,h=s.items,f=e.gl;i.dirtyId<0&&f.texImage3D(f.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var c=0;c<o;c++){var v=h[c];u[c]<v.dirtyId&&(u[c]=v.dirtyId,v.valid&&f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,c,v.resource.width,v.resource.height,1,n.format,i.type,v.resource.source))}return!0},t}(pu),fn=function(r){gt(t,r);function t(e){var n=this,i=e,s=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=r.call(this,s,o)||this,n.source=e,n.noSubImage=!1,n}return t.crossOrigin=function(e,n,i){i===void 0&&n.indexOf("data:")!==0?e.crossOrigin=F0(n):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(e,n,i,s){var o=e.gl,u=n.realWidth,h=n.realHeight;if(s=s||this.source,s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Xr.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===u&&i.height===h?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,s):(i.width=u,i.height=h,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,s)),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(n,i),r.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Pi),Vf=function(r){gt(t,r);function t(e){return r.call(this,e)||this}return t.test=function(e){var n=globalThis.OffscreenCanvas;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(fn),Yf=function(r){gt(t,r);function t(e,n){var i=this,s=n||{},o=s.width,u=s.height,h=s.autoLoad,f=s.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");i=r.call(this,6,{width:o,height:u})||this;for(var c=0;c<t.SIDES;c++)i.items[c].target=Zn.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=f!==!1,e&&i.initFromArray(e,n),h!==!1&&i.load(),i}return t.prototype.bind=function(e){r.prototype.bind.call(this,e),e.target=Zn.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Zn.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.parentTextureArray=this.baseTexture,this.items[n]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[n]=e,this},t.prototype.upload=function(e,n,i){for(var s=this.itemDirtyIds,o=0;o<t.SIDES;o++){var u=this.items[o];(s[o]<u.dirtyId||i.dirtyId<n.dirtyId)&&(u.valid&&u.resource?(u.resource.upload(e,u,i),s[o]=u.dirtyId):s[o]<-1&&(e.gl.texImage2D(u.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(pu),vu=function(r){gt(t,r);function t(e,n){var i=this;if(n=n||{},!(e instanceof HTMLImageElement)){var s=new Image;fn.crossOrigin(s,e,n.crossorigin),s.src=e,e=s}return i=r.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:fe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(e){var n=this;return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise(function(i,s){var o=n.source;n.url=o.src;var u=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?u():(o.onload=u,o.onerror=function(h){s(h),n.onError.emit(h)})}),this._load)},t.prototype.process=function(){var e=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,s=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:s?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:e.alphaMode===null||e.alphaMode===Xr.UNPACK?"premultiply":"none"})}).then(function(o){return e.destroyed?Promise.reject():(e.bitmap=o,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return r.prototype.upload.call(this,e,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(r.prototype.upload.call(this,e,n,i,this.bitmap),!this.preserveBitmap){var s=!0,o=n._glTextures;for(var u in o){var h=o[u];if(h!==i&&h.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,r.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return typeof e=="string"||e instanceof HTMLImageElement},t}(fn),jf=function(r){gt(t,r);function t(e,n){var i=this;return n=n||{},i=r.call(this,fe.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=e,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(n){if(e._resolve=function(){e.resize(e.source.width,e.source.height),n(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var e=this,n=new Image;fn.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){e._resolve&&(n.onerror=null,e.onError.emit(i))},n.onload=function(){if(e._resolve){var i=n.width,s=n.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*e.scale,u=s*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/s*i,u=e._overrideHeight||e._overrideWidth/i*s),o=Math.round(o),u=Math.round(u);var h=e.source;h.width=o,h.height=u,h._pixiId="canvas_"+ri(),h.getContext("2d").drawImage(n,0,0,i,s,0,0,o,u),e._resolve(),e._resolve=null}}},t.getSize=function(e){var n=t.SVG_SIZE.exec(e),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},t.prototype.dispose=function(){r.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,n){return n==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(fn),qf=function(r){gt(t,r);function t(e,n){var i=this;if(n=n||{},!(e instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);var o=e[0].src||e[0];fn.crossOrigin(s,o,n.crossorigin);for(var u=0;u<e.length;++u){var h=document.createElement("source"),f=e[u],c=f.src,v=f.mime;c=c||e[u];var p=c.split("?").shift().toLowerCase(),_=p.slice(p.lastIndexOf(".")+1);v=v||t.MIME_TYPES[_]||"video/"+_,h.src=c,h.type=v,s.appendChild(h)}e=s}return i=r.call(this,e)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(e){if(!this.destroyed){var n=kt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(r.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){e.valid?i(e):(e._resolve=i,n.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()},t.prototype._isSourceReady=function(){var e=this.source;return e.readyState>2},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(kt.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(e.videoWidth,e.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),r.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(kt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,n){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(fn),Kf=function(r){gt(t,r);function t(e){return r.call(this,e)||this}return t.test=function(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&e instanceof ImageBitmap},t}(fn);lo.push(vu,Kf,Vf,qf,jf,Oi,Yf,zf);var X0={__proto__:null,Resource:Pi,BaseImageResource:fn,INSTALLED:lo,autoDetectResource:du,AbstractMultiResource:pu,ArrayResource:zf,BufferResource:Oi,CanvasResource:Vf,CubeResource:Yf,ImageResource:vu,SVGResource:jf,VideoResource:qf,ImageBitmapResource:Kf},iI=function(r){gt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.upload=function(e,n,i){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Xr.UNPACK);var o=n.realWidth,u=n.realHeight;return i.width===o&&i.height===u?s.texSubImage2D(n.target,0,0,0,o,u,n.format,i.type,this.data):(i.width=o,i.height=u,s.texImage2D(n.target,0,i.internalFormat,o,u,0,n.format,i.type,this.data)),!0},t}(Oi),Qa=function(){function r(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new zt("disposeFramebuffer"),this.multisample=vt.NONE}return Object.defineProperty(r.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),r.prototype.addColorTexture=function(t,e){return t===void 0&&(t=0),this.colorTextures[t]=e||new Ke(null,{scaleMode:jt.NEAREST,resolution:1,mipmap:xr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},r.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Ke(new iI(null,{width:this.width,height:this.height}),{scaleMode:jt.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:xr.OFF,format:le.DEPTH_COMPONENT,type:Ie.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},r.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},r.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},r.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),!(t===this.width&&e===this.height)){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],s=i.resolution;i.setSize(t/s,e/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(t/s,e/s)}}},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},r}(),Zf=function(r){gt(t,r);function t(e){e===void 0&&(e={});var n=this;if(typeof e=="number"){var i=arguments[0],s=arguments[1],o=arguments[2],u=arguments[3];e={width:i,height:s,scaleMode:o,resolution:u}}return e.width=e.width||100,e.height=e.height||100,e.multisample=e.multisample!==void 0?e.multisample:vt.NONE,n=r.call(this,null,e)||this,n.mipmap=xr.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Qa(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=e.multisample,n.maskStack=[],n.filterStack=[{}],n}return t.prototype.resize=function(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),r.prototype.dispose.call(this)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Ke),Jf=function(){function r(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return r.prototype.set=function(t,e,n){var i=e.width,s=e.height;if(n){var o=t.width/2/i,u=t.height/2/s,h=t.x/i+o,f=t.y/s+u;n=bt.add(n,bt.NW),this.x0=h+o*bt.uX(n),this.y0=f+u*bt.uY(n),n=bt.add(n,2),this.x1=h+o*bt.uX(n),this.y1=f+u*bt.uY(n),n=bt.add(n,2),this.x2=h+o*bt.uX(n),this.y2=f+u*bt.uY(n),n=bt.add(n,2),this.x3=h+o*bt.uX(n),this.y3=f+u*bt.uY(n)}else this.x0=t.x/i,this.y0=t.y/s,this.x1=(t.x+t.width)/i,this.y1=t.y/s,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/s,this.x3=t.x/i,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},r.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},r}(),r_=new Jf;function ba(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}var Re=function(r){gt(t,r);function t(e,n,i,s,o,u){var h=r.call(this)||this;if(h.noFrame=!1,n||(h.noFrame=!0,n=new Ye(0,0,1,1)),e instanceof t&&(e=e.baseTexture),h.baseTexture=e,h._frame=n,h.trim=s,h.valid=!1,h._uvs=r_,h.uvMatrix=null,h.orig=i||n,h._rotate=Number(o||0),o===!0)h._rotate=2;else if(h._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=u?new st(u.x,u.y):new st(0,0),h._updateID=0,h.textureCacheIds=[],e.valid?h.noFrame?e.valid&&h.onBaseTextureUpdated(e):h.frame=n:e.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&e.on("update",h.onBaseTextureUpdated,h),h}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture.resource;n&&n.url&&lr[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&e,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i},t.prototype.updateUvs=function(){this._uvs===r_&&(this._uvs=new Jf),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=fe.STRICT_TEXTURE_CACHE);var s=typeof e=="string",o=null;if(s)o=e;else if(e instanceof Ke){if(!e.cacheId){var u=n&&n.pixiIdPrefix||"pixiid";e.cacheId=u+"-"+ri(),Ke.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";e._pixiId=u+"_"+ri()}o=e._pixiId}var h=lr[o];if(s&&i&&!h)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!h&&!(e instanceof Ke)?(n.resolution||(n.resolution=oo(e)),h=new t(new Ke(e,n)),h.baseTexture.cacheId=o,Ke.addToCache(h.baseTexture,o),t.addToCache(h,o)):!h&&e instanceof Ke&&(h=new t(e),t.addToCache(h,o)),h},t.fromURL=function(e,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=t.from(e,Object.assign({resourceOptions:i},n),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},t.fromBuffer=function(e,n,i,s){return new t(Ke.fromBuffer(e,n,i,s))},t.fromLoader=function(e,n,i,s){var o=new Ke(e,Object.assign({scaleMode:fe.SCALE_MODE,resolution:oo(n)},s)),u=o.resource;u instanceof vu&&(u.url=n);var h=new t(o);return i||(i=n),Ke.addToCache(h.baseTexture,i),t.addToCache(h,i),i!==n&&(Ke.addToCache(h.baseTexture,n),t.addToCache(h,n)),h.baseTexture.valid?Promise.resolve(h):new Promise(function(f){h.baseTexture.once("loaded",function(){return f(h)})})},t.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),lr[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),lr[n]=e)},t.removeFromCache=function(e){if(typeof e=="string"){var n=lr[e];if(n){var i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete lr[e],n}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)lr[e.textureCacheIds[s]]===e&&delete lr[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var n=e.x,i=e.y,s=e.width,o=e.height,u=n+s>this.baseTexture.width,h=i+o>this.baseTexture.height;if(u||h){var f=u&&h?"and":"or",c="X: "+n+" + "+s+" = "+(n+s)+" > "+this.baseTexture.width,v="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(c+" "+f+" "+v))}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new Ke),ba(t._EMPTY),ba(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var e=fe.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),t._WHITE=new t(Ke.from(e)),ba(t._WHITE),ba(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}(ps),ni=function(r){gt(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,n,i){i===void 0&&(i=!0);var s=this.baseTexture.resolution,o=Math.round(e*s)/s,u=Math.round(n*s)/s;this.valid=o>0&&u>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=u,i&&this.baseTexture.resize(o,u),this.updateUvs()},t.prototype.setResolution=function(e){var n=this.baseTexture;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))},t.create=function(e){for(var n=arguments,i=[],s=1;s<arguments.length;s++)i[s-1]=n[s];return typeof e=="number"&&(nr("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new Zf(e))},t}(Re),W0=function(){function r(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return r.prototype.createTexture=function(t,e,n){n===void 0&&(n=vt.NONE);var i=new Zf(Object.assign({width:t,height:e,resolution:1,multisample:n},this.textureOptions));return new ni(i)},r.prototype.getOptimalTexture=function(t,e,n,i){n===void 0&&(n=1),i===void 0&&(i=vt.NONE);var s;t=Math.ceil(t*n-1e-6),e=Math.ceil(e*n-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||e!==this._pixelsHeight?(t=so(t),e=so(e),s=((t&65535)<<16|e&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(t,e,i)),o.filterPoolKey=s,o.setResolution(n),o},r.prototype.getFilterTexture=function(t,e,n){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution,n||vt.NONE);return i.filterFrame=t.filterFrame,i},r.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},r.prototype.returnFilterTexture=function(t){this.returnTexture(t)},r.prototype.clear=function(t){if(t=t!==!1,t)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},r.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var e in this.texturePool)if(Number(e)<0){var n=this.texturePool[e];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},r.SCREEN_KEY=-1,r}(),Qh=function(){function r(t,e,n,i,s,o,u){e===void 0&&(e=0),n===void 0&&(n=!1),i===void 0&&(i=Ie.FLOAT),this.buffer=t,this.size=e,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=u}return r.prototype.destroy=function(){this.buffer=null},r.from=function(t,e,n,i,s){return new r(t,e,n,i,s)},r}(),sI=0,Ft=function(){function r(t,e,n){e===void 0&&(e=!0),n===void 0&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=sI++,this.disposeRunner=new zt("disposeBuffer")}return r.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(r.prototype,"index",{get:function(){return this.type===$r.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?$r.ELEMENT_ARRAY_BUFFER:$r.ARRAY_BUFFER},enumerable:!1,configurable:!0}),r.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new r(t)},r}(),oI={Float32Array,Uint32Array,Int32Array,Uint8Array};function aI(r,t){for(var e=0,n=0,i={},s=0;s<r.length;s++)n+=t[s],e+=r[s].length;for(var o=new ArrayBuffer(e*4),u=null,h=0,s=0;s<r.length;s++){var f=t[s],c=r[s],v=cu(c);i[v]||(i[v]=new oI[v](o)),u=i[v];for(var p=0;p<c.length;p++){var _=(p/f|0)*n+h,y=p%f;u[_+y]=c[p]}h+=f}return new Float32Array(o)}var n_={5126:4,5123:2,5121:1},uI=0,lI={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},vs=function(){function r(t,e){t===void 0&&(t=[]),e===void 0&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=uI++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new zt("disposeGeometry"),this.refCount=0}return r.prototype.addAttribute=function(t,e,n,i,s,o,u,h){if(n===void 0&&(n=0),i===void 0&&(i=!1),h===void 0&&(h=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ft||(e instanceof Array&&(e=new Float32Array(e)),e=new Ft(e));var f=t.split("|");if(f.length>1){for(var c=0;c<f.length;c++)this.addAttribute(f[c],e,n,i,s);return this}var v=this.buffers.indexOf(e);return v===-1&&(this.buffers.push(e),v=this.buffers.length-1),this.attributes[t]=new Qh(v,n,i,s,o,u,h),this.instanced=this.instanced||h,this},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},r.prototype.addIndex=function(t){return t instanceof Ft||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ft(t)),t.type=$r.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},r.prototype.getIndex=function(){return this.indexBuffer},r.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],e=[],n=new Ft,i;for(i in this.attributes){var s=this.attributes[i],o=this.buffers[s.buffer];t.push(o.data),e.push(s.size*n_[s.type]/4),s.buffer=0}for(n.data=aI(t,e),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},r.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t],n=this.buffers[e.buffer];return n.data.length/(e.stride/4||e.size)}return 0},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},r.prototype.clone=function(){for(var t=new r,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ft(this.buffers[e].data.slice(0));for(var e in this.attributes){var n=this.attributes[e];t.attributes[e]=new Qh(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=$r.ELEMENT_ARRAY_BUFFER),t},r.merge=function(t){for(var e=new r,n=[],i=[],s=[],o,u=0;u<t.length;u++){o=t[u];for(var h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(var u=0;u<o.buffers.length;u++)n[u]=new lI[cu(o.buffers[u].data)](i[u]),e.buffers[u]=new Ft(n[u]);for(var u=0;u<t.length;u++){o=t[u];for(var h=0;h<o.buffers.length;h++)n[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=$r.ELEMENT_ARRAY_BUFFER;for(var f=0,c=0,v=0,p=0,u=0;u<o.buffers.length;u++)if(o.buffers[u]!==o.indexBuffer){p=u;break}for(var u in o.attributes){var _=o.attributes[u];(_.buffer|0)===p&&(c+=_.size*n_[_.type]/4)}for(var u=0;u<t.length;u++){for(var y=t[u].indexBuffer.data,h=0;h<y.length;h++)e.indexBuffer.data[h+v]+=f;f+=t[u].buffers[p].data.length/c,v+=y.length}}return e},r}(),z0=function(r){gt(t,r);function t(){var e=r.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return t}(vs),Qf=function(r){gt(t,r);function t(){var e=r.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Ft(e.vertices),e.uvBuffer=new Ft(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return t.prototype.map=function(e,n){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/e.width,this.uvs[3]=s,this.uvs[4]=i+n.width/e.width,this.uvs[5]=s+n.height/e.height,this.uvs[6]=i,this.uvs[7]=s+n.height/e.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(vs),hI=0,Jn=function(){function r(t,e,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=hI++,this.static=!!e,this.ubo=!!n,t instanceof Ft?(this.buffer=t,this.buffer.type=$r.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ft(new Float32Array(1)),this.buffer.type=$r.UNIFORM_BUFFER,this.autoManage=!0))}return r.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},r.prototype.add=function(t,e,n){if(!this.ubo)this.uniforms[t]=new r(e,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},r.from=function(t,e,n){return new r(t,e,n)},r.uboFrom=function(t,e){return new r(t,e??!0,!0)},r}(),V0=function(){function r(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=vt.NONE,this.sourceFrame=new Ye,this.destinationFrame=new Ye,this.bindingSourceFrame=new Ye,this.bindingDestinationFrame=new Ye,this.filters=[],this.transform=null}return r.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},r}(),wa=[new st,new st,new st,new st],$l=new Nt,$f=function(){function r(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new W0,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new z0,this.quadUv=new Qf,this.tempRect=new Ye,this.activeState={},this.globalUniforms=new Jn({outputFrame:new Ye,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return r.prototype.push=function(t,e){for(var n,i,s=this.renderer,o=this.defaultFilterStack,u=this.statePool.pop()||new V0,h=this.renderer.renderTexture,f=e[0].resolution,c=e[0].multisample,v=e[0].padding,p=e[0].autoFit,_=(n=e[0].legacy)!==null&&n!==void 0?n:!0,y=1;y<e.length;y++){var b=e[y];f=Math.min(f,b.resolution),c=Math.min(c,b.multisample),v=this.useMaxPadding?Math.max(v,b.padding):v+b.padding,p=p&&b.autoFit,_=_||((i=b.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),o.push(u),u.resolution=f,u.multisample=c,u.legacy=_,u.target=t,u.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),u.sourceFrame.pad(v);var m=this.tempRect.copyFrom(h.sourceFrame);s.projection.transform&&this.transformAABB($l.copyFrom(s.projection.transform).invert(),m),p?(u.sourceFrame.fit(m),(u.sourceFrame.width<=0||u.sourceFrame.height<=0)&&(u.sourceFrame.width=0,u.sourceFrame.height=0)):u.sourceFrame.intersects(m)||(u.sourceFrame.width=0,u.sourceFrame.height=0),this.roundFrame(u.sourceFrame,h.current?h.current.resolution:s.resolution,h.sourceFrame,h.destinationFrame,s.projection.transform),u.renderTexture=this.getOptimalFilterTexture(u.sourceFrame.width,u.sourceFrame.height,f,c),u.filters=e,u.destinationFrame.width=u.renderTexture.width,u.destinationFrame.height=u.renderTexture.height;var w=this.tempRect;w.x=0,w.y=0,w.width=u.sourceFrame.width,w.height=u.sourceFrame.height,u.renderTexture.filterFrame=u.sourceFrame,u.bindingSourceFrame.copyFrom(h.sourceFrame),u.bindingDestinationFrame.copyFrom(h.destinationFrame),u.transform=s.projection.transform,s.projection.transform=null,h.bind(u.renderTexture,u.sourceFrame,w),s.framebuffer.clear(0,0,0,0)},r.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),n=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*e.resolution),o[1]=Math.round(s[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=e.sourceFrame.width*s[2]-.5*o[2],u[3]=e.sourceFrame.height*s[3]-.5*o[3],e.legacy){var h=i.filterArea;h[0]=e.destinationFrame.width,h[1]=e.destinationFrame.height,h[2]=e.sourceFrame.x,h[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var f=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,e.renderTexture,f.renderTexture,Lr.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var c=e.renderTexture,v=this.getOptimalFilterTexture(c.width,c.height,e.resolution);v.filterFrame=c.filterFrame;var p=0;for(p=0;p<n.length-1;++p){p===1&&e.multisample>1&&(v=this.getOptimalFilterTexture(c.width,c.height,e.resolution),v.filterFrame=c.filterFrame),n[p].apply(this,c,v,Lr.CLEAR,e);var _=c;c=v,v=_}n[p].apply(this,c,f.renderTexture,Lr.BLEND,e),p>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(v)}e.clear(),this.statePool.push(e)},r.prototype.bindAndClear=function(t,e){e===void 0&&(e=Lr.CLEAR);var n=this.renderer,i=n.renderTexture,s=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,i.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var u=s.stateId&1||this.forceClear;(e===Lr.CLEAR||e===Lr.BLIT&&u)&&this.renderer.framebuffer.clear(0,0,0,0)},r.prototype.applyFilter=function(t,e,n,i){var s=this.renderer;s.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Ur.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Ur.TRIANGLE_STRIP))},r.prototype.calculateSpriteMatrix=function(t,e){var n=this.activeState,i=n.sourceFrame,s=n.destinationFrame,o=e._texture.orig,u=t.set(s.width,0,0,s.height,i.x,i.y),h=e.worldTransform.copyTo(Nt.TEMP_MATRIX);return h.invert(),u.prepend(h),u.scale(1/o.width,1/o.height),u.translate(e.anchor.x,e.anchor.y),u},r.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},r.prototype.getOptimalFilterTexture=function(t,e,n,i){return n===void 0&&(n=1),i===void 0&&(i=vt.NONE),this.texturePool.getOptimalTexture(t,e,n,i)},r.prototype.getFilterTexture=function(t,e,n){if(typeof t=="number"){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,n||vt.NONE);return s.filterFrame=t.filterFrame,s},r.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},r.prototype.emptyPool=function(){this.texturePool.clear(!0)},r.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},r.prototype.transformAABB=function(t,e){var n=wa[0],i=wa[1],s=wa[2],o=wa[3];n.set(e.left,e.top),i.set(e.left,e.bottom),s.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(n,n),t.apply(i,i),t.apply(s,s),t.apply(o,o);var u=Math.min(n.x,i.x,s.x,o.x),h=Math.min(n.y,i.y,s.y,o.y),f=Math.max(n.x,i.x,s.x,o.x),c=Math.max(n.y,i.y,s.y,o.y);e.x=u,e.y=h,e.width=f-u,e.height=c-h},r.prototype.roundFrame=function(t,e,n,i,s){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(s){var o=s.a,u=s.b,h=s.c,f=s.d;if((Math.abs(u)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(f)>1e-4))return}s=s?$l.copyFrom(s):$l.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,t),t.ceil(e),this.transformAABB(s.invert(),t)}},r}(),mo=function(){function r(t){this.renderer=t}return r.prototype.flush=function(){},r.prototype.destroy=function(){this.renderer=null},r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.render=function(t){},r}(),ec=function(){function r(t){this.renderer=t,this.emptyRenderer=new mo(t),this.currentRenderer=this.emptyRenderer}return r.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},r.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.copyBoundTextures=function(t,e){for(var n=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)},r.prototype.boundArray=function(t,e,n,i){for(var s=t.elements,o=t.ids,u=t.count,h=0,f=0;f<u;f++){var c=s[f],v=c._batchLocation;if(v>=0&&v<i&&e[v]===c){o[f]=v;continue}for(;h<i;){var p=e[h];if(p&&p._batchEnabled===n&&p._batchLocation===h){h++;continue}o[f]=h,c._batchLocation=h,e[h]=c;break}}},r.prototype.destroy=function(){this.renderer=null},r}(),i_=0,tc=function(){function r(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(r.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),r.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=i_++},r.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=i_++,this.renderer.runners.contextChange.emit(t)},r.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},r.prototype.createContext=function(t,e){var n;if(fe.PREFER_ENV>=hn.WEBGL2&&(n=t.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},r.prototype.getExtensions=function(){var t=this.gl,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},r.prototype.handleContextLost=function(t){var e=this;t.preventDefault(),setTimeout(function(){e.gl.isContextLost()&&e.extensions.loseContext&&e.extensions.loseContext.restoreContext()},0)},r.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},r.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},r.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},r.prototype.validateContext=function(t){var e=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},r}(),Y0=function(){function r(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=vt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return r}(),fI=new Ye,rc=function(){function r(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Qa(10,10),this.msaaSamples=null}return r.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ye,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;fe.PREFER_ENV===hn.WEBGL_LEGACY&&(e=null,n=null),e?t.drawBuffers=function(i){return e.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},r.prototype.bind=function(t,e,n){n===void 0&&(n=0);var i=this.gl;if(t){var s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=n),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var u=t.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var h=e.width>>n,f=e.height>>n,c=h/e.width;this.setViewport(e.x*c,e.y*c,h,f)}else{var h=t.width>>n,f=t.height>>n;this.setViewport(0,0,h,f)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},r.prototype.setViewport=function(t,e,n,i){var s=this.viewport;t=Math.round(t),e=Math.round(e),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==t||s.y!==e)&&(s.x=t,s.y=e,s.width=n,s.height=i,this.gl.viewport(t,e,n,i))},Object.defineProperty(r.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),r.prototype.clear=function(t,e,n,i,s){s===void 0&&(s=Qs.COLOR|Qs.DEPTH);var o=this.gl;o.clearColor(t,e,n,i),o.clear(s)},r.prototype.initFramebuffer=function(t){var e=this.gl,n=new Y0(e.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},r.prototype.resizeFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,t.width,t.height)),n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),n.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,s=i.length;e.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var u=i[o],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},r.prototype.updateFramebuffer=function(t,e){var n=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures,o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var u=[],h=0;h<o;h++){var f=s[h],c=f.parentTextureArray||f;this.renderer.texture.bind(c,0),!(h===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,f.target,c._glTextures[this.CONTEXT_UID].texture,e),u.push(n.COLOR_ATTACHMENT0+h))}if(u.length>1&&n.drawBuffers(u),t.depthTexture){var v=this.writeDepthTexture;if(v){var p=t.depthTexture;this.renderer.texture.bind(p,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,e)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},r.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},r.prototype.detectSamples=function(t){var e=this.msaaSamples,n=vt.NONE;if(t<=1||e===null)return n;for(var i=0;i<e.length;i++)if(e[i]<=t){n=e[i];break}return n===1&&(n=vt.NONE),n},r.prototype.blit=function(t,e,n){var i=this,s=i.current,o=i.renderer,u=i.gl,h=i.CONTEXT_UID;if(o.context.webGLVersion===2&&s){var f=s.glFramebuffers[h];if(f){if(!t){if(!f.msaaBuffer)return;var c=s.colorTextures[0];if(!c)return;f.blitFramebuffer||(f.blitFramebuffer=new Qa(s.width,s.height),f.blitFramebuffer.addColorTexture(0,c)),t=f.blitFramebuffer,t.colorTextures[0]!==c&&(t.colorTextures[0]=c,t.dirtyId++,t.dirtyFormat++),(t.width!==s.width||t.height!==s.height)&&(t.width=s.width,t.height=s.height,t.dirtyId++,t.dirtySize++)}e||(e=fI,e.width=s.width,e.height=s.height),n||(n=e);var v=e.width===n.width&&e.height===n.height;this.bind(t),u.bindFramebuffer(u.READ_FRAMEBUFFER,f.framebuffer),u.blitFramebuffer(e.left,e.top,e.right,e.bottom,n.left,n.top,n.right,n.bottom,u.COLOR_BUFFER_BIT,v?u.NEAREST:u.LINEAR)}}},r.prototype.disposeFramebuffer=function(t,e){var n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete t.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},r.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],t)},r.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(!(!e||e.stencil)){t.stencil=!0;var n=t.width,i=t.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),e.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,e.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),e.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},r.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ye},r.prototype.destroy=function(){this.renderer=null},r}(),eh={5126:4,5123:2,5121:1},nc=function(){function r(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return r.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;fe.PREFER_ENV===hn.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(s){return n.bindVertexArrayOES(s)},t.deleteVertexArray=function(s){return n.deleteVertexArrayOES(s)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(e.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(s,o){return i.vertexAttribDivisorANGLE(s,o)},t.drawElementsInstanced=function(s,o,u,h,f){return i.drawElementsInstancedANGLE(s,o,u,h,f)},t.drawArraysInstanced=function(s,o,u,h){return i.drawArraysInstancedANGLE(s,o,u,h)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex},r.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var n=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);var o=i[e.program.id]||this.initGeometryVao(t,e,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},r.prototype.reset=function(){this.unbind()},r.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,n=0;n<t.buffers.length;n++){var i=t.buffers[n];e.update(i)}},r.prototype.checkCompatibility=function(t,e){var n=t.attributes,i=e.attributeData;for(var s in i)if(!n[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},r.prototype.getSignature=function(t,e){var n=t.attributes,i=e.attributeData,s=["g",t.id];for(var o in n)i[o]&&s.push(o,i[o].location);return s.join("-")},r.prototype.initGeometryVao=function(t,e,n){n===void 0&&(n=!0);var i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=e.program;u.glPrograms[s]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,u);var h=this.getSignature(t,u),f=t.glVertexArrayObjects[this.CONTEXT_UID],c=f[h];if(c)return f[u.id]=c,c;var v=t.buffers,p=t.attributes,_={},y={};for(var b in v)_[b]=0,y[b]=0;for(var b in p)!p[b].size&&u.attributeData[b]?p[b].size=u.attributeData[b].size:p[b].size||console.warn("PIXI Geometry attribute '"+b+"' size cannot be determined (likely the bound shader does not have the attribute)"),_[p[b].buffer]+=p[b].size*eh[p[b].type];for(var b in p){var m=p[b],w=m.size;m.stride===void 0&&(_[m.buffer]===w*eh[m.type]?m.stride=0:m.stride=_[m.buffer]),m.start===void 0&&(m.start=y[m.buffer],y[m.buffer]+=w*eh[m.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(var E=0;E<v.length;E++){var T=v[E];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(t,u),this._activeVao=c,f[u.id]=c,f[h]=c,c},r.prototype.disposeGeometry=function(t,e){var n;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=t.buffers,u=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(t.disposeRunner.remove(this),!!i){if(u)for(var h=0;h<o.length;h++){var f=o[h]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!e&&u.dispose(o[h],e))}if(!e){for(var c in i)if(c[0]==="g"){var v=i[c];this._activeVao===v&&this.unbind(),s.deleteVertexArray(v)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},r.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],t)},r.prototype.activateVao=function(t,e){var n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,u=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);var h=null;for(var f in u){var c=u[f],v=o[c.buffer],p=v._glBuffers[i];if(e.attributeData[f]){h!==p&&(s.bind(v),h=p);var _=e.attributeData[f].location;if(n.enableVertexAttribArray(_),n.vertexAttribPointer(_,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(_,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},r.prototype.draw=function(t,e,n,i){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var u=o.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,e||o.indexBuffer.data.length,h,(n||0)*u,i||1):s.drawElements(t,e||o.indexBuffer.data.length,h,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,n,e||o.getSize(),i||1):s.drawArrays(t,n,e||o.getSize());return this},r.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},r.prototype.destroy=function(){this.renderer=null},r}(),j0=function(){function r(t){t===void 0&&(t=null),this.type=Mt.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fe.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(r.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),r.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Mt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},r.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},r}();function s_(r,t,e){var n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}function o_(r,t){var e=r.getShaderSource(t).split(`
`).map(function(f,c){return c+": "+f}),n=r.getShaderInfoLog(t),i=n.split(`
`),s={},o=i.map(function(f){return parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(f){return f&&!s[f]?(s[f]=!0,!0):!1}),u=[""];o.forEach(function(f){e[f-1]="%c"+e[f-1]+"%c",u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var h=e.join(`
`);u[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,u),console.groupEnd()}function cI(r,t,e,n){r.getProgramParameter(t,r.LINK_STATUS)||(r.getShaderParameter(e,r.COMPILE_STATUS)||o_(r,e),r.getShaderParameter(n,r.COMPILE_STATUS)||o_(r,n),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(t)))}function th(r){for(var t=new Array(r),e=0;e<t.length;e++)t[e]=!1;return t}function q0(r,t){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return th(2*t);case"bvec3":return th(3*t);case"bvec4":return th(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var K0={},Bs=K0;function Z0(){if(Bs===K0||Bs&&Bs.isContextLost()){var r=fe.ADAPTER.createCanvas(),t=void 0;fe.PREFER_ENV>=hn.WEBGL2&&(t=r.getContext("webgl2",{})),t||(t=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Bs=t}return Bs}var xa;function dI(){if(!xa){xa=hr.MEDIUM;var r=Z0();if(r&&r.getShaderPrecisionFormat){var t=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);xa=t.precision?hr.HIGH:hr.MEDIUM}}return xa}function a_(r,t,e){if(r.substring(0,9)!=="precision"){var n=t;return t===hr.HIGH&&e!==hr.HIGH&&(n=hr.MEDIUM),"precision "+n+` float;
`+r}else if(e!==hr.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}var pI={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function J0(r){return pI[r]}var Ta=null,u_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Q0(r,t){if(!Ta){var e=Object.keys(u_);Ta={};for(var n=0;n<e.length;++n){var i=e[n];Ta[r[i]]=u_[i]}}return Ta[t]}var Ri=[{test:function(r){return r.type==="float"&&r.size===1&&!r.isArray},code:function(r){return`
            if(uv["`+r+'"] !== ud["'+r+`"].value)
            {
                ud["`+r+'"].value = uv["'+r+`"]
                gl.uniform1f(ud["`+r+'"].location, uv["'+r+`"])
            }
            `}},{test:function(r,t){return(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(t==null||t.castToBaseTexture!==void 0)},code:function(r){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+r+`"], t);

            if(ud["`+r+`"].value !== t)
            {
                ud["`+r+`"].value = t;
                gl.uniform1i(ud["`+r+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(r,t){return r.type==="mat3"&&r.size===1&&!r.isArray&&t.a!==void 0},code:function(r){return`
            gl.uniformMatrix3fv(ud["`+r+'"].location, false, uv["'+r+`"].toArray(true));
            `},codeUbo:function(r){return`
                var `+r+"_matrix = uv."+r+`.toArray(true);

                data[offset] = `+r+`_matrix[0];
                data[offset+1] = `+r+`_matrix[1];
                data[offset+2] = `+r+`_matrix[2];
        
                data[offset + 4] = `+r+`_matrix[3];
                data[offset + 5] = `+r+`_matrix[4];
                data[offset + 6] = `+r+`_matrix[5];
        
                data[offset + 8] = `+r+`_matrix[6];
                data[offset + 9] = `+r+`_matrix[7];
                data[offset + 10] = `+r+`_matrix[8];
            `}},{test:function(r,t){return r.type==="vec2"&&r.size===1&&!r.isArray&&t.x!==void 0},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+r+`"].location, v.x, v.y);
                }`},codeUbo:function(r){return`
                v = uv.`+r+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(r){return r.type==="vec2"&&r.size===1&&!r.isArray},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+r+`"].location, v[0], v[1]);
                }
            `}},{test:function(r,t){return r.type==="vec4"&&r.size===1&&!r.isArray&&t.width!==void 0},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+r+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(r){return`
                    v = uv.`+r+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(r){return r.type==="vec4"&&r.size===1&&!r.isArray},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+r+`"].location, v[0], v[1], v[2], v[3])
                }`}}],vI={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},_I={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function gI(r,t){var e,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in r.uniforms){var s=t[i];if(!s){!((e=r.uniforms[i])===null||e===void 0)&&e.group&&(r.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=r.uniforms[i],u=!1,h=0;h<Ri.length;h++)if(Ri[h].test(s,o)){n.push(Ri[h].code(i,o)),u=!0;break}if(!u){var f=s.size===1&&!s.isArray?vI:_I,c=f[s.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+c+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var mI=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function yI(r){for(var t="",e=0;e<r;++e)e>0&&(t+=`
else `),e<r-1&&(t+="if(test == "+e+".0){}");return t}function $0(r,t){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var n=mI.replace(/%forloop%/gi,yI(r));if(t.shaderSource(e,n),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))r=r/2|0;else break}return r}var Us;function bI(){if(typeof Us=="boolean")return Us;try{var r=new Function("param1","param2","param3","return param1[param2] === param3;");Us=r({a:"b"},"a","b")===!0}catch{Us=!1}return Us}var wI=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,xI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,TI=0,Ea={},_s=function(){function r(t,e,n){n===void 0&&(n="pixi-shader"),this.id=TI++,this.vertexSrc=t||r.defaultVertexSrc,this.fragmentSrc=e||r.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Ea[n]?(Ea[n]++,n+="-"+Ea[n]):Ea[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=a_(this.vertexSrc,fe.PRECISION_VERTEX,hr.HIGH),this.fragmentSrc=a_(this.fragmentSrc,fe.PRECISION_FRAGMENT,dI())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(r,"defaultVertexSrc",{get:function(){return xI},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return wI},enumerable:!1,configurable:!0}),r.from=function(t,e,n){var i=t+e,s=Yh[i];return s||(Yh[i]=s=new r(t,e,n)),s},r}(),Mn=function(){function r(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof Jn?this.uniformGroup=e:this.uniformGroup=new Jn(e):this.uniformGroup=new Jn({}),this.disposeRunner=new zt("disposeShader")}return r.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var n in e.uniforms){var i=e.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},r.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(r.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),r.from=function(t,e,n){var i=_s.from(t,e);return new r(i,n)},r}(),rh=0,nh=1,ih=2,sh=3,oh=4,ah=5,ii=function(){function r(){this.data=0,this.blendMode=Pe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(r.prototype,"blend",{get:function(){return!!(this.data&1<<rh)},set:function(t){!!(this.data&1<<rh)!==t&&(this.data^=1<<rh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsets",{get:function(){return!!(this.data&1<<nh)},set:function(t){!!(this.data&1<<nh)!==t&&(this.data^=1<<nh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"culling",{get:function(){return!!(this.data&1<<ih)},set:function(t){!!(this.data&1<<ih)!==t&&(this.data^=1<<ih)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depthTest",{get:function(){return!!(this.data&1<<sh)},set:function(t){!!(this.data&1<<sh)!==t&&(this.data^=1<<sh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depthMask",{get:function(){return!!(this.data&1<<ah)},set:function(t){!!(this.data&1<<ah)!==t&&(this.data^=1<<ah)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<oh)},set:function(t){!!(this.data&1<<oh)!==t&&(this.data^=1<<oh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Pe.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},r.for2d=function(){var t=new r;return t.depthTest=!1,t.blend=!0,t},r}(),EI=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,SI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,dn=function(r){gt(t,r);function t(e,n,i){var s=this,o=_s.from(e||t.defaultVertexSrc,n||t.defaultFragmentSrc);return s=r.call(this,o,i)||this,s.padding=0,s.resolution=fe.FILTER_RESOLUTION,s.multisample=fe.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new ii,s}return t.prototype.apply=function(e,n,i,s,o){e.applyFilter(this,n,i,s)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return SI},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return EI},enumerable:!1,configurable:!0}),t}(Mn),AI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,RI=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,l_=new Nt,_u=function(){function r(t,e){this._texture=t,this.mapCoord=new Nt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),r.prototype.multiplyUvs=function(t,e){e===void 0&&(e=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var s=t[i],o=t[i+1];e[i]=s*n.a+o*n.c+n.tx,e[i+1]=s*n.b+o*n.d+n.ty}return e},r.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=e.orig,s=e.trim;s&&(l_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(l_));var o=e.baseTexture,u=this.uClampFrame,h=this.clampMargin/o.resolution,f=this.clampOffset;return u[0]=(e._frame.x+h+f)/o.width,u[1]=(e._frame.y+h+f)/o.height,u[2]=(e._frame.x+e._frame.width-h+f)/o.width,u[3]=(e._frame.y+e._frame.height-h+f)/o.height,this.uClampOffset[0]=f/o.realWidth,this.uClampOffset[1]=f/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&e.rotate===0,!0},r}(),eg=function(r){gt(t,r);function t(e,n,i){var s=this,o=null;return typeof e!="string"&&n===void 0&&i===void 0&&(o=e,e=void 0,n=void 0,i=void 0),s=r.call(this,e||AI,n||RI,i)||this,s.maskSprite=o,s.maskMatrix=new Nt,s}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,n,i,s){var o=this._maskSprite,u=o._texture;u.valid&&(u.uvMatrix||(u.uvMatrix=new _u(u,0)),u.uvMatrix.update(),this.uniforms.npmAlpha=u.baseTexture.alphaMode?0:1,this.uniforms.mask=u,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(u.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=u.uvMatrix.uClampFrame,e.applyFilter(this,n,i,s))},t}(dn),ic=function(){function r(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return r.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},r.prototype.push=function(t,e){var n=e;if(!n.isMaskData){var i=this.maskDataPool.pop()||new j0;i.pooled=!0,i.maskObject=e,n=i}var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==Mt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Mt.SCISSOR:this.renderer.scissor.push(n);break;case Mt.STENCIL:this.renderer.stencil.push(n);break;case Mt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Mt.COLOR:this.pushColorMask(n);break}n.type===Mt.SPRITE&&this.maskStack.push(n)},r.prototype.pop=function(t){var e=this.maskStack.pop();if(!(!e||e._target!==t)){if(e.enabled)switch(e.type){case Mt.SCISSOR:this.renderer.scissor.pop(e);break;case Mt.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Mt.SPRITE:this.popSpriteMask(e);break;case Mt.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Mt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},r.prototype.detect=function(t){var e=t.maskObject;e?e.isSprite?t.type=Mt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Mt.SCISSOR:t.type=Mt.STENCIL:t.type=Mt.COLOR},r.prototype.pushSpriteMask=function(t){var e,n,i=t.maskObject,s=t._target,o=t._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new eg]));var u=this.renderer,h=u.renderTexture,f,c;if(h.current){var v=h.current;f=t.resolution||v.resolution,c=(e=t.multisample)!==null&&e!==void 0?e:v.multisample}else f=t.resolution||u.resolution,c=(n=t.multisample)!==null&&n!==void 0?n:u.multisample;o[0].resolution=f,o[0].multisample=c,o[0].maskSprite=i;var p=s.filterArea;s.filterArea=i.getBounds(!0),u.filter.push(s,o),s.filterArea=p,t._filters||this.alphaMaskIndex++},r.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},r.prototype.pushColorMask=function(t){var e=t._colorMask,n=t._colorMask=e&t.colorMask;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},r.prototype.popColorMask=function(t){var e=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==e&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},r.prototype.destroy=function(){this.renderer=null},r}(),tg=function(){function r(t){this.renderer=t,this.maskStack=[],this.glConst=0}return r.prototype.getStackLength=function(){return this.maskStack.length},r.prototype.setMaskStack=function(t){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==n&&(i===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},r.prototype._useCurrent=function(){},r.prototype.destroy=function(){this.renderer=null,this.maskStack=null},r}(),h_=new Nt,f_=[],sc=function(r){gt(t,r);function t(e){var n=r.call(this,e)||this;return n.glConst=fe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){var n;if(!e._scissorRectLocal){var i=e._scissorRect,s=e.maskObject,o=this.renderer,u=o.renderTexture,h=s.getBounds(!0,(n=f_.pop())!==null&&n!==void 0?n:new Ye);this.roundFrameToPixels(h,u.current?u.current.resolution:o.resolution,u.sourceFrame,u.destinationFrame,o.projection.transform),i&&h.fit(i),e._scissorRectLocal=h}},t.isMatrixRotated=function(e){if(!e)return!1;var n=e.a,i=e.b,s=e.c,o=e.d;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},t.prototype.testScissor=function(e){var n=e.maskObject;if(!n.isFastRect||!n.isFastRect()||t.isMatrixRotated(n.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var i=e._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(e,n,i,s,o){t.isMatrixRotated(o)||(o=o?h_.copyFrom(o):h_.identity(),o.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*n),e.y=Math.round(e.y*n),e.width=Math.round(e.width*n),e.height=Math.round(e.height*n))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var n=this.renderer.gl;e._scissorRect||n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(e){var n=this.renderer.gl;e&&f_.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=e.y:n=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,n,e.width,e.height)},t}(tg),oc=function(r){gt(t,r);function t(e){var n=r.call(this,e)||this;return n.glConst=fe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var n=e.maskObject,i=this.renderer.gl,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;var o=e._colorMask;o!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(e._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()},t.prototype.pop=function(e){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;s!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(i._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(tg),ac=function(){function r(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Nt,this.transform=null}return r.prototype.update=function(t,e,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},r.prototype.calculateProjection=function(t,e,n,i){var s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/e.width*2,s.d=o*(1/e.height*2),s.tx=-1-e.x*s.a,s.ty=-o-e.y*s.d},r.prototype.setTransform=function(t){},r.prototype.destroy=function(){this.renderer=null},r}(),vi=new Ye,ks=new Ye,uc=function(){function r(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ye,this.destinationFrame=new Ye,this.viewportFrame=new Ye}return r.prototype.bind=function(t,e,n){t===void 0&&(t=null);var i=this.renderer;this.current=t;var s,o,u;t?(s=t.baseTexture,u=s.resolution,e||(vi.width=t.frame.width,vi.height=t.frame.height,e=vi),n||(ks.x=t.frame.x,ks.y=t.frame.y,ks.width=e.width,ks.height=e.height,n=ks),o=s.framebuffer):(u=i.resolution,e||(vi.width=i.screen.width,vi.height=i.screen.height,e=vi),n||(n=vi,n.width=e.width,n.height=e.height));var h=this.viewportFrame;h.x=n.x*u,h.y=n.y*u,h.width=n.width*u,h.height=n.height*u,t||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(n,e,u,!o),t?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},r.prototype.clear=function(t,e){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,s=n.width!==i.width||n.height!==i.height;if(s){var o=this.viewportFrame,u=o.x,h=o.y,f=o.width,c=o.height;u=Math.round(u),h=Math.round(h),f=Math.round(f),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,h,f,c)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),s&&this.renderer.scissor.pop()},r.prototype.resize=function(){this.bind(null)},r.prototype.reset=function(){this.bind(null)},r.prototype.destroy=function(){this.renderer=null},r}();function CI(r,t,e,n,i){e.buffer.update(i)}var PI={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},rg={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function ng(r){for(var t=r.map(function(h){return{data:h,offset:0,dataLen:0,dirty:0}}),e=0,n=0,i=0,s=0;s<t.length;s++){var o=t[s];if(e=rg[o.data.type],o.data.size>1&&(e=Math.max(e,16)*o.data.size),o.dataLen=e,n%e!==0&&n<16){var u=n%e%16;n+=u,i+=u}n+e>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=e,n=e):(o.offset=i,n+=e,i+=e)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function ig(r,t){var e=[];for(var n in r)t[n]&&e.push(t[n]);return e.sort(function(i,s){return i.index-s.index}),e}function sg(r,t){if(!r.autoManage)return{size:0,syncFunc:CI};for(var e=ig(r.uniforms,t),n=ng(e),i=n.uboElements,s=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],u=0;u<i.length;u++){for(var h=i[u],f=r.uniforms[h.data.name],c=h.data.name,v=!1,p=0;p<Ri.length;p++){var _=Ri[p];if(_.codeUbo&&_.test(h.data,f)){o.push("offset = "+h.offset/4+";",Ri[p].codeUbo(h.data.name,f)),v=!0;break}}if(!v)if(h.data.size>1){var y=J0(h.data.type),b=Math.max(rg[h.data.type]/16,1),m=y/b,w=(4-m%4)%4;o.push(`
                cv = ud.`+c+`.value;
                v = uv.`+c+`;
                offset = `+h.offset/4+`;

                t = 0;

                for(var i=0; i < `+h.data.size*b+`; i++)
                {
                    for(var j = 0; j < `+m+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+w+`;
                }

                `)}else{var E=PI[h.data.type];o.push(`
                cv = ud.`+c+`.value;
                v = uv.`+c+`;
                offset = `+h.offset/4+`;
                `+E+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var II=function(){function r(){}return r}(),og=function(){function r(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return r.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},r}();function OI(r,t){for(var e={},n=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var s=t.getActiveAttrib(r,i);if(s.name.indexOf("gl_")!==0){var o=Q0(t,s.type),u={type:o,name:s.name,size:J0(o),location:t.getAttribLocation(r,s.name)};e[s.name]=u}}return e}function MI(r,t){for(var e={},n=t.getProgramParameter(r,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var s=t.getActiveUniform(r,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),h=Q0(t,s.type);e[o]={name:o,index:i,type:h,size:s.size,isArray:u,value:q0(h,s.size)}}return e}function ag(r,t){var e=s_(r,r.VERTEX_SHADER,t.vertexSrc),n=s_(r,r.FRAGMENT_SHADER,t.fragmentSrc),i=r.createProgram();if(r.attachShader(i,e),r.attachShader(i,n),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||cI(r,i,e,n),t.attributeData=OI(i,r),t.uniformData=MI(i,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort(function(c,v){return c>v?1:-1});for(var o=0;o<s.length;o++)t.attributeData[s[o]].location=o,r.bindAttribLocation(i,o,s[o]);r.linkProgram(i)}r.deleteShader(e),r.deleteShader(n);var u={};for(var o in t.uniformData){var h=t.uniformData[o];u[o]={location:r.getUniformLocation(i,o),value:q0(h.type,h.size)}}var f=new og(i,u);return f}var DI=0,Sa={textureCount:0,uboCount:0},lc=function(){function r(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=DI++}return r.prototype.systemCheck=function(){if(!bI())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},r.prototype.contextChange=function(t){this.gl=t,this.reset()},r.prototype.bind=function(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),e||(Sa.textureCount=0,Sa.uboCount=0,this.syncUniformGroup(t.uniformGroup,Sa)),i},r.prototype.setUniforms=function(t){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,t,this.renderer)},r.prototype.syncUniformGroup=function(t,e){var n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,e))},r.prototype.syncUniforms=function(t,e,n){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(e.uniformData,t.uniforms,this.renderer,n)},r.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=gI(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},r.prototype.syncUniformBufferGroup=function(t,e){var n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;var i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,e);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,Sa,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[e])},r.prototype.createSyncBufferGroup=function(t,e,n){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var s=this.gl.getUniformBlockIndex(e.program,n);e.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(e.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),u=this._uboCache[o];if(u||(u=this._uboCache[o]=sg(t,this.shader.program.uniformData)),t.autoManage){var h=new Float32Array(u.size/4);t.buffer.update(h)}return e.uniformGroups[t.id]=u.syncFunc,e.uniformGroups[t.id]},r.prototype.getSignature=function(t,e,n){var i=t.uniforms,s=[n+"-"];for(var o in i)s.push(o),e[o]&&s.push(e[o].type);return s.join("-")},r.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},r.prototype.generateProgram=function(t){var e=this.gl,n=t.program,i=ag(e,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},r.prototype.reset=function(){this.program=null,this.shader=null},r.prototype.disposeShader=function(t){this.shader===t&&(this.shader=null)},r.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},r}();function FI(r,t){return t===void 0&&(t=[]),t[Pe.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.ADD]=[r.ONE,r.ONE],t[Pe.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.NONE]=[0,0],t[Pe.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],t[Pe.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[Pe.SRC_IN]=[r.DST_ALPHA,r.ZERO],t[Pe.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],t[Pe.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],t[Pe.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],t[Pe.DST_IN]=[r.ZERO,r.SRC_ALPHA],t[Pe.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],t[Pe.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],t[Pe.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],t[Pe.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],t}var NI=0,LI=1,BI=2,UI=3,kI=4,GI=5,hc=function(){function r(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Pe.NONE,this._blendEq=!1,this.map=[],this.map[NI]=this.setBlend,this.map[LI]=this.setOffset,this.map[BI]=this.setCullFace,this.map[UI]=this.setDepthTest,this.map[kI]=this.setFrontFace,this.map[GI]=this.setDepthMask,this.checks=[],this.defaultState=new ii,this.defaultState.blend=!0}return r.prototype.contextChange=function(t){this.gl=t,this.blendModes=FI(t),this.set(this.defaultState),this.reset()},r.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,n=0;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},r.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},r.prototype.setBlend=function(t){this.updateCheck(r.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(t){this.updateCheck(r.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setDepthMask=function(t){this.gl.depthMask(t)},r.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},r.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},r.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(t,e){var n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)},r.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},r.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},r.prototype.destroy=function(){this.gl=null},r}(),fc=function(){function r(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=fe.GC_MAX_IDLE,this.checkCountMax=fe.GC_MAX_CHECK_COUNT,this.mode=fe.GC_MODE}return r.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==eo.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},r.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,n=!1,i=0;i<e.length;i++){var s=e[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),e[i]=null,n=!0)}if(n){for(var o=0,i=0;i<e.length;i++)e[i]!==null&&(e[o++]=e[i]);e.length=o}},r.prototype.unload=function(t){var e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},r.prototype.destroy=function(){this.renderer=null},r}();function HI(r){var t,e,n,i,s,o,u,h,f,c,v,p,_,y,b,m,w,E,T,C,R,P,I;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?I=(t={},t[Ie.UNSIGNED_BYTE]=(e={},e[le.RGBA]=r.RGBA8,e[le.RGB]=r.RGB8,e[le.RG]=r.RG8,e[le.RED]=r.R8,e[le.RGBA_INTEGER]=r.RGBA8UI,e[le.RGB_INTEGER]=r.RGB8UI,e[le.RG_INTEGER]=r.RG8UI,e[le.RED_INTEGER]=r.R8UI,e[le.ALPHA]=r.ALPHA,e[le.LUMINANCE]=r.LUMINANCE,e[le.LUMINANCE_ALPHA]=r.LUMINANCE_ALPHA,e),t[Ie.BYTE]=(n={},n[le.RGBA]=r.RGBA8_SNORM,n[le.RGB]=r.RGB8_SNORM,n[le.RG]=r.RG8_SNORM,n[le.RED]=r.R8_SNORM,n[le.RGBA_INTEGER]=r.RGBA8I,n[le.RGB_INTEGER]=r.RGB8I,n[le.RG_INTEGER]=r.RG8I,n[le.RED_INTEGER]=r.R8I,n),t[Ie.UNSIGNED_SHORT]=(i={},i[le.RGBA_INTEGER]=r.RGBA16UI,i[le.RGB_INTEGER]=r.RGB16UI,i[le.RG_INTEGER]=r.RG16UI,i[le.RED_INTEGER]=r.R16UI,i[le.DEPTH_COMPONENT]=r.DEPTH_COMPONENT16,i),t[Ie.SHORT]=(s={},s[le.RGBA_INTEGER]=r.RGBA16I,s[le.RGB_INTEGER]=r.RGB16I,s[le.RG_INTEGER]=r.RG16I,s[le.RED_INTEGER]=r.R16I,s),t[Ie.UNSIGNED_INT]=(o={},o[le.RGBA_INTEGER]=r.RGBA32UI,o[le.RGB_INTEGER]=r.RGB32UI,o[le.RG_INTEGER]=r.RG32UI,o[le.RED_INTEGER]=r.R32UI,o[le.DEPTH_COMPONENT]=r.DEPTH_COMPONENT24,o),t[Ie.INT]=(u={},u[le.RGBA_INTEGER]=r.RGBA32I,u[le.RGB_INTEGER]=r.RGB32I,u[le.RG_INTEGER]=r.RG32I,u[le.RED_INTEGER]=r.R32I,u),t[Ie.FLOAT]=(h={},h[le.RGBA]=r.RGBA32F,h[le.RGB]=r.RGB32F,h[le.RG]=r.RG32F,h[le.RED]=r.R32F,h[le.DEPTH_COMPONENT]=r.DEPTH_COMPONENT32F,h),t[Ie.HALF_FLOAT]=(f={},f[le.RGBA]=r.RGBA16F,f[le.RGB]=r.RGB16F,f[le.RG]=r.RG16F,f[le.RED]=r.R16F,f),t[Ie.UNSIGNED_SHORT_5_6_5]=(c={},c[le.RGB]=r.RGB565,c),t[Ie.UNSIGNED_SHORT_4_4_4_4]=(v={},v[le.RGBA]=r.RGBA4,v),t[Ie.UNSIGNED_SHORT_5_5_5_1]=(p={},p[le.RGBA]=r.RGB5_A1,p),t[Ie.UNSIGNED_INT_2_10_10_10_REV]=(_={},_[le.RGBA]=r.RGB10_A2,_[le.RGBA_INTEGER]=r.RGB10_A2UI,_),t[Ie.UNSIGNED_INT_10F_11F_11F_REV]=(y={},y[le.RGB]=r.R11F_G11F_B10F,y),t[Ie.UNSIGNED_INT_5_9_9_9_REV]=(b={},b[le.RGB]=r.RGB9_E5,b),t[Ie.UNSIGNED_INT_24_8]=(m={},m[le.DEPTH_STENCIL]=r.DEPTH24_STENCIL8,m),t[Ie.FLOAT_32_UNSIGNED_INT_24_8_REV]=(w={},w[le.DEPTH_STENCIL]=r.DEPTH32F_STENCIL8,w),t):I=(E={},E[Ie.UNSIGNED_BYTE]=(T={},T[le.RGBA]=r.RGBA,T[le.RGB]=r.RGB,T[le.ALPHA]=r.ALPHA,T[le.LUMINANCE]=r.LUMINANCE,T[le.LUMINANCE_ALPHA]=r.LUMINANCE_ALPHA,T),E[Ie.UNSIGNED_SHORT_5_6_5]=(C={},C[le.RGB]=r.RGB,C),E[Ie.UNSIGNED_SHORT_4_4_4_4]=(R={},R[le.RGBA]=r.RGBA,R),E[Ie.UNSIGNED_SHORT_5_5_5_1]=(P={},P[le.RGBA]=r.RGBA,P),E),I}var Ha=function(){function r(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ie.UNSIGNED_BYTE,this.internalFormat=le.RGBA,this.samplerType=0}return r}(),cc=function(){function r(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ke,this.hasIntegerTextures=!1}return r.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=HI(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Ha(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ha(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},r.prototype.bind=function(t,e){e===void 0&&(e=0);var n=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},r.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},r.prototype.unbind=function(t){var e=this,n=e.gl,i=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(var s=0;s<i.length;s++)i[s]===t&&(this.currentLocation!==s&&(n.activeTexture(n.TEXTURE0+s),this.currentLocation=s),n.bindTexture(t.target,this.emptyTextures[t.target].texture),i[s]=null)},r.prototype.ensureSamplerType=function(t){var e=this,n=e.boundTextures,i=e.hasIntegerTextures,s=e.CONTEXT_UID;if(i)for(var o=t-1;o>=0;--o){var u=n[o];if(u){var h=u._glTextures[s];h.samplerType!==$s.FLOAT&&this.renderer.texture.unbind(u)}}},r.prototype.initTexture=function(t){var e=new Ha(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},r.prototype.initTextureType=function(t,e){var n,i;e.internalFormat=(i=(n=this.internalFormats[t.type])===null||n===void 0?void 0:n[t.format])!==null&&i!==void 0?i:t.format,this.webGLVersion===2&&t.type===Ie.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},r.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var n=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(n,t,e))e.samplerType!==$s.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,s=t.realHeight,o=n.gl;(e.width!==i||e.height!==s||e.dirtyId<0)&&(e.width=i,e.height=s,o.texImage2D(t.target,0,e.internalFormat,i,s,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},r.prototype.destroyTexture=function(t,e){var n=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);i!==-1&&Ai(this.managedTextures,i,1)}},r.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&((t.mipmap===xr.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?e.mipmap=!1:e.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?e.wrapMode=Qr.CLAMP:e.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},r.prototype.setStyle=function(t,e){var n=this.gl;if(e.mipmap&&t.mipmap!==xr.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===jt.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===jt.LINEAR){var s=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===jt.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===jt.LINEAR?n.LINEAR:n.NEAREST)},r.prototype.destroy=function(){this.renderer=null},r}(),ug={__proto__:null,FilterSystem:$f,BatchSystem:ec,ContextSystem:tc,FramebufferSystem:rc,GeometrySystem:nc,MaskSystem:ic,ScissorSystem:sc,StencilSystem:oc,ProjectionSystem:ac,RenderTextureSystem:uc,ShaderSystem:lc,StateSystem:hc,TextureGCSystem:fc,TextureSystem:cc},uh=new Nt,lg=function(r){gt(t,r);function t(e,n){e===void 0&&(e=ss.UNKNOWN);var i=r.call(this)||this;return n=Object.assign({},fe.RENDER_OPTIONS,n),i.options=n,i.type=e,i.screen=new Ye(0,0,n.width,n.height),i.view=n.view||fe.ADAPTER.createCanvas(),i.resolution=n.resolution||fe.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(nr("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(e){for(var n in e)this.plugins[n]=new e[n](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,n){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=s+"px"),this.emit("resize",i,s)},t.prototype.generateTexture=function(e,n,i,s){n===void 0&&(n={}),typeof n=="number"&&(nr("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:s});var o=n.region,u=rI(n,["region"]);s=o||e.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var h=ni.create(Jh({width:s.width,height:s.height},u));return uh.tx=-s.x,uh.ty=-s.y,this.render(e,{renderTexture:h,clear:!1,transform:uh,skipUpdateTransform:!!e.parent}),h},t.prototype.destroy=function(e){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=ss.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Bf(e),ei(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(ps),XI=function(){function r(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return r}(),WI=function(){function r(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return r.prototype.destroy=function(){this.renderer=null},r.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},r.prototype.bind=function(t){var e=this,n=e.gl,i=e.CONTEXT_UID,s=t._glBuffers[i]||this.createGLBuffer(t);n.bindBuffer(t.type,s.buffer)},r.prototype.bindBufferBase=function(t,e){var n=this,i=n.gl,s=n.CONTEXT_UID;if(this.boundBufferBases[e]!==t){var o=t._glBuffers[s]||this.createGLBuffer(t);this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,o.buffer)}},r.prototype.bindBufferRange=function(t,e,n){var i=this,s=i.gl,o=i.CONTEXT_UID;n=n||0;var u=t._glBuffers[o]||this.createGLBuffer(t);s.bindBufferRange(s.UNIFORM_BUFFER,e||0,u.buffer,n*256,256)},r.prototype.update=function(t){var e=this,n=e.gl,i=e.CONTEXT_UID,s=t._glBuffers[i];if(t._updateID!==s.updateID)if(s.updateID=t._updateID,n.bindBuffer(t.type,s.buffer),s.byteLength>=t.data.byteLength)n.bufferSubData(t.type,0,t.data);else{var o=t.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;s.byteLength=t.data.byteLength,n.bufferData(t.type,t.data,o)}},r.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(e||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},r.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),n=0;n<e.length;n++)this.dispose(this.managedBuffers[e[n]],t)},r.prototype.createGLBuffer=function(t){var e=this,n=e.CONTEXT_UID,i=e.gl;return t._glBuffers[n]=new XI(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[n]},r}(),dc=function(r){gt(t,r);function t(e){var n=r.call(this,ss.WEBGL,e)||this;return e=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new zt("destroy"),contextChange:new zt("contextChange"),reset:new zt("reset"),update:new zt("update"),postrender:new zt("postrender"),prerender:new zt("prerender"),resize:new zt("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Jn({projectionMatrix:new Nt},!0),n.addSystem(ic,"mask").addSystem(tc,"context").addSystem(hc,"state").addSystem(lc,"shader").addSystem(cc,"texture").addSystem(WI,"buffer").addSystem(nc,"geometry").addSystem(rc,"framebuffer").addSystem(sc,"scissor").addSystem(oc,"stencil").addSystem(ac,"projection").addSystem(fc,"textureGC").addSystem($f,"filter").addSystem(uc,"renderTexture").addSystem(ec,"batch"),n.initPlugins(t.__plugins),n.multisample=void 0,e.context?n.context.initFromContext(e.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:e.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,R0(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return t.create=function(e){if(C0())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var e=this.gl,n;if(this.context.webGLVersion===1){var i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{var i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}n>=vt.HIGH?this.multisample=vt.HIGH:n>=vt.MEDIUM?this.multisample=vt.MEDIUM:n>=vt.LOW?this.multisample=vt.LOW:this.multisample=vt.NONE},t.prototype.addSystem=function(e,n){var i=new e(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var s in this.runners)this.runners[s].add(i);return this},t.prototype.render=function(e,n){var i,s,o,u;if(n&&(n instanceof ni?(nr("6.0.0","Renderer#render arguments changed, use options instead."),i=n,s=arguments[2],o=arguments[3],u=arguments[4]):(i=n.renderTexture,s=n.clear,o=n.transform,u=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=e),!u){var h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(s!==void 0?s:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,n,i,s){n===void 0&&(n={});var o=r.prototype.generateTexture.call(this,e,n,i,s);return this.framebuffer.blit(),o},t.prototype.resize=function(e,n){r.prototype.resize.call(this,e,n),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();r.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return nr("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,n){nr("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),cn.add({name:e,type:dt.RendererPlugin,ref:n})},t.__plugins={},t}(lg);cn.handleByMap(dt.RendererPlugin,dc.__plugins);function pc(r){return dc.create(r)}var zI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,VI=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,hg=zI,vc=VI,YI=function(){function r(t){nr("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return r.prototype.destroy=function(){this.renderer=null},r}(),$a=function(){function r(){this.texArray=null,this.blend=0,this.type=Ur.TRIANGLES,this.start=0,this.size=0,this.data=null}return r}(),eu=function(){function r(){this.elements=[],this.ids=[],this.count=0}return r.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},r}(),tu=function(){function r(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(r.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),r.prototype.view=function(t){return this[t+"View"]},r.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},r.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},r}(),fg=function(r){gt(t,r);function t(e){var n=r.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=ii.for2d(),n.size=fe.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return t.prototype.contextChange=function(){var e=this.renderer.gl;fe.PREFER_ENV===hn.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),fe.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=$0(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,n=t._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new $a);for(;n.length<s;)n.push(new eu);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this,n=e._bufferedTextures,i=e.MAX_TEXTURES,s=t._textureArrayPool,o=this.renderer.batch,u=this._tempBoundTextures,h=this.renderer.textureGC.count,f=++Ke._globalBatch,c=0,v=s[0],p=0;o.copyBoundTextures(u,i);for(var _=0;_<this._bufferSize;++_){var y=n[_];n[_]=null,y._batchEnabled!==f&&(v.count>=i&&(o.boundArray(v,u,f,i),this.buildDrawCalls(v,p,_),p=_,v=s[++c],++f),y._batchEnabled=f,y.touched=h,v.elements[v.count++]=y)}v.count>0&&(o.boundArray(v,u,f,i),this.buildDrawCalls(v,p,this._bufferSize),++c,++f);for(var _=0;_<u.length;_++)u[_]=null;Ke._globalBatch=f},t.prototype.buildDrawCalls=function(e,n,i){var s=this,o=s._bufferedElements,u=s._attributeBuffer,h=s._indexBuffer,f=s.vertexSize,c=t._drawCallPool,v=this._dcIndex,p=this._aIndex,_=this._iIndex,y=c[v];y.start=this._iIndex,y.texArray=e;for(var b=n;b<i;++b){var m=o[b],w=m._texture.baseTexture,E=Uf[w.alphaMode?1:0][m.blendMode];o[b]=null,n<b&&y.blend!==E&&(y.size=_-y.start,n=b,y=c[++v],y.texArray=e,y.start=_),this.packInterleavedGeometry(m,u,h,p,_),p+=m.vertexData.length/2*f,_+=m.indices.length,y.blend=E}n<i&&(y.size=_-y.start,++v),this._dcIndex=v,this._aIndex=p,this._iIndex=_},t.prototype.bindAndClearTexArray=function(e){for(var n=this.renderer.texture,i=0;i<e.count;i++)n.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,n=e._packedGeometries,i=e._attributeBuffer,s=e._indexBuffer;fe.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,i=n.gl,s=n.state,o=t._drawCallPool,u=null,h=0;h<e;h++){var f=o[h],c=f.texArray,v=f.type,p=f.size,_=f.start,y=f.blend;u!==c&&(u=c,this.bindAndClearTexArray(c)),this.state.blendMode=y,s.set(this.state),i.drawElements(v,p,i.UNSIGNED_SHORT,_*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),fe.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),r.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var n=so(Math.ceil(e/8)),i=Vh(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new tu(s*this.vertexSize*4)),o},t.prototype.getIndexBuffer=function(e){var n=so(Math.ceil(e/12)),i=Vh(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(s)),o},t.prototype.packInterleavedGeometry=function(e,n,i,s,o){for(var u=n.uint32View,h=n.float32View,f=s/this.vertexSize,c=e.uvs,v=e.indices,p=e.vertexData,_=e._texture.baseTexture._batchLocation,y=Math.min(e.worldAlpha,1),b=y<1&&e._texture.baseTexture.alphaMode?fu(e._tintRGB,y):e._tintRGB+(y*255<<24),m=0;m<p.length;m+=2)h[s++]=p[m],h[s++]=p[m+1],h[s++]=c[m],h[s++]=c[m+1],u[s++]=b,h[s++]=_;for(var m=0;m<v.length;m++)i[o++]=f+v[m]},t._drawCallPool=[],t._textureArrayPool=[],t}(mo),cg=function(){function r(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return r.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),n=0;n<t;n++)e[n]=n;this.defaultGroupCache[t]=Jn.from({uSamplers:e},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new _s(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Nt,default:this.defaultGroupCache[t]};return new Mn(this.programCache[t],s)},r.prototype.generateSampleSrc=function(t){var e="";e+=`
`,e+=`
`;for(var n=0;n<t;n++)n>0&&(e+=`
else `),n<t-1&&(e+="if(vTextureId < "+n+".5)"),e+=`
{`,e+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",e+=`
}`;return e+=`
`,e+=`
`,e},r}(),_c=function(r){gt(t,r);function t(e){e===void 0&&(e=!1);var n=r.call(this)||this;return n._buffer=new Ft(null,e,!1),n._indexBuffer=new Ft(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Ie.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Ie.FLOAT).addAttribute("aColor",n._buffer,4,!0,Ie.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Ie.FLOAT).addIndex(n._indexBuffer),n}return t}(vs),c_=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,d_=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,dg=function(){function r(){}return r.create=function(t){var e=Object.assign({vertex:c_,fragment:d_,geometryClass:_c,vertexSize:6},t),n=e.vertex,i=e.fragment,s=e.vertexSize,o=e.geometryClass;return function(u){gt(h,u);function h(f){var c=u.call(this,f)||this;return c.shaderGenerator=new cg(n,i),c.geometryClass=o,c.vertexSize=s,c}return h}(fg)},Object.defineProperty(r,"defaultVertexSrc",{get:function(){return c_},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentTemplate",{get:function(){return d_},enumerable:!1,configurable:!0}),r}(),gc=dg.create();Object.assign(gc,{extension:{name:"batch",type:dt.RendererPlugin}});var pg={},jI=function(r){Object.defineProperty(pg,r,{get:function(){return nr("6.0.0","PIXI.systems."+r+" has moved to PIXI."+r),X0[r]}})};for(var mc in X0)jI(mc);var vg={},qI=function(r){Object.defineProperty(vg,r,{get:function(){return nr("6.0.0","PIXI.resources."+r+" has moved to PIXI."+r),ug[r]}})};for(var mc in ug)qI(mc);var KI="6.5.9";/*!
 * @pixi/accessibility - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _g={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Pt.mixin(_g);var ZI=9,Aa=100,JI=0,QI=0,p_=2,v_=1,$I=-1e3,eO=-1e3,tO=2,gg=function(){function r(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(kr.tablet||kr.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=Aa+"px",e.style.height=Aa+"px",e.style.position="absolute",e.style.top=JI+"px",e.style.left=QI+"px",e.style.zIndex=p_.toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(r.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),r.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=v_+"px",e.style.height=v_+"px",e.style.position="absolute",e.style.top=$I+"px",e.style.left=eO+"px",e.style.zIndex=tO.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},r.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},r.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},r.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},r.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},r.prototype.update=function(){var t=performance.now();if(!(kr.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=e.left,i=e.top,s=e.width,o=e.height,u=this.renderer,h=u.width,f=u.height,c=u.resolution,v=s/h*c,p=o/f*c,_=this.div;_.style.left=n+"px",_.style.top=i+"px",_.style.width=h+"px",_.style.height=f+"px";for(var y=0;y<this.children.length;y++){var b=this.children[y];if(b.renderId!==this.renderId)b._accessibleActive=!1,Ai(this.children,y,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,y--;else{_=b._accessibleDiv;var m=b.hitArea,w=b.worldTransform;b.hitArea?(_.style.left=(w.tx+m.x*w.a)*v+"px",_.style.top=(w.ty+m.y*w.d)*p+"px",_.style.width=m.width*w.a*v+"px",_.style.height=m.height*w.d*p+"px"):(m=b.getBounds(),this.capHitArea(m),_.style.left=m.x*v+"px",_.style.top=m.y*p+"px",_.style.width=m.width*v+"px",_.style.height=m.height*p+"px",_.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(_.title=b.accessibleTitle),_.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&_.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==_.title||b.tabIndex!==_.tabIndex)&&(_.title=b.accessibleTitle,_.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(_))}}this.renderId++}},r.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},r.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,n=e.width,i=e.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>i&&(t.height=i-t.y)},r.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=Aa+"px",e.style.height=Aa+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=p_.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},r.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,n=t.target.displayObject,i=e.eventData;e.dispatchEvent(n,"click",i),e.dispatchEvent(n,"pointertap",i),e.dispatchEvent(n,"tap",i)},r.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,n=t.target.displayObject,i=e.eventData;e.dispatchEvent(n,"mouseover",i)},r.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,n=t.target.displayObject,i=e.eventData;e.dispatchEvent(n,"mouseout",i)},r.prototype._onKeyDown=function(t){t.keyCode===ZI&&this.activate()},r.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},r.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},r.extension={name:"accessibility",type:[dt.RendererPlugin,dt.CanvasRendererPlugin]},r}();/*!
 * @pixi/interaction - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $h=function(){function r(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new st,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(r.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),r.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},r.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},r.prototype.reset=function(){this.isPrimary=!1},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ef=function(r,t){return ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},ef(r,t)};function rO(r,t){ef(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var mg=function(){function r(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return r.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},r.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},r}(),Xa=function(){function r(t){this._pointerId=t,this._flags=r.FLAGS.NONE}return r.prototype._doSet=function(t,e){e?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(r.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"none",{get:function(){return this._flags===r.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"over",{get:function(){return(this._flags&r.FLAGS.OVER)!==0},set:function(t){this._doSet(r.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightDown",{get:function(){return(this._flags&r.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(r.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftDown",{get:function(){return(this._flags&r.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(r.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),r.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),r}(),nO=function(){function r(){this._tempPoint=new st}return r.prototype.recursiveFindHit=function(t,e,n,i,s){var o;if(!e||!e.visible)return!1;var u=t.data.global;s=e.interactive||s;var h=!1,f=s,c=!0;if(e.hitArea)i&&(e.worldTransform.applyInverse(u,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?h=!0:(i=!1,c=!1)),f=!1;else if(e._mask&&i){var v=e._mask.isMaskData?e._mask.maskObject:e._mask;v&&!(!((o=v.containsPoint)===null||o===void 0)&&o.call(v,u))&&(i=!1)}if(c&&e.interactiveChildren&&e.children)for(var p=e.children,_=p.length-1;_>=0;_--){var y=p[_],b=this.recursiveFindHit(t,y,n,i,f);if(b){if(!y.parent)continue;f=!1,b&&(t.target&&(i=!1),h=!0)}}return s&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(u)&&(h=!0),e.interactive&&(h&&!t.target&&(t.target=e),n&&n(t,e,!!h))),h},r.prototype.findHit=function(t,e,n,i){this.recursiveFindHit(t,e,n,i,!1)},r}(),yg={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(r){r?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Pt.mixin(yg);var Ra=1,Ca={target:null,data:{global:null}},bg=function(r){rO(t,r);function t(e,n){var i=r.call(this)||this;return n=n||{},i.renderer=e,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new $h,i.mouse.identifier=Ra,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Ra]=i.mouse,i.interactionDataPool=[],i.eventData=new mg,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new nO,i._tempDisplayObject=new Wf,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,n){return Ca.target=null,Ca.data.global=e,n||(n=this.lastObjectRendered),this.processInteractive(Ca,n,null,!0),Ca.target},t.prototype.setTargetElement=function(e,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=n,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(kt.system.add(this.tickerUpdate,this,tn.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(kt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var i=this.cursorStyles[e];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(e);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,n,i){(!i.stopPropagationHint||e===i.stopsPropagatingAt)&&(i.currentTarget=e,i.type=n,e.emit(n,i),e[n]&&e[n](i))},t.prototype.delayDispatchEvent=function(e,n,i){this.delayedEvents.push({displayObject:e,eventString:n,eventData:i})},t.prototype.mapPositionToPoint=function(e,n,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;e.x=(n-s.left)*(this.interactionDOMElement.width/s.width)*o,e.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*o},t.prototype.processInteractive=function(e,n,i,s){var o=this.search.findHit(e,n,i,s),u=this.delayedEvents;if(!u.length)return o;e.stopPropagationHint=!1;var h=u.length;this.delayedEvents=[];for(var f=0;f<h;f++){var c=u[f],v=c.displayObject,p=c.eventString,_=c.eventData;_.stopsPropagatingAt===v&&(_.stopPropagationHint=!0),this.dispatchEvent(v,p,_)}return o},t.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);if(this.autoPreventDefault&&n[0].isNormalized){var i=e.cancelable||!("cancelable"in e);i&&e.preventDefault()}for(var s=n.length,o=0;o<s;o++){var u=n[o],h=this.getInteractionDataForPointerId(u),f=this.configureInteractionEventForDOMEvent(this.eventData,u,h);if(f.data.originalEvent=e,this.processInteractive(f,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",f),u.pointerType==="touch")this.emit("touchstart",f);else if(u.pointerType==="mouse"||u.pointerType==="pen"){var c=u.button===2;this.emit(c?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,n,i){var s=e.data,o=e.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new Xa(o)),this.dispatchEvent(n,"pointerdown",e),s.pointerType==="touch")this.dispatchEvent(n,"touchstart",e);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var u=s.button===2;u?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,u?"rightdown":"mousedown",e)}}},t.prototype.onPointerComplete=function(e,n,i){var s=this.normalizeToPointerData(e),o=s.length,u=e.target;e.composedPath&&e.composedPath().length>0&&(u=e.composedPath()[0]);for(var h=u!==this.interactionDOMElement?"outside":"",f=0;f<o;f++){var c=s[f],v=this.getInteractionDataForPointerId(c),p=this.configureInteractionEventForDOMEvent(this.eventData,c,v);if(p.data.originalEvent=e,this.processInteractive(p,this.lastObjectRendered,i,n||!h),this.emit(n?"pointercancel":"pointerup"+h,p),c.pointerType==="mouse"||c.pointerType==="pen"){var _=c.button===2;this.emit(_?"rightup"+h:"mouseup"+h,p)}else c.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+h,p),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,n){var i=e.data,s=e.data.identifier;n.trackedPointers[s]!==void 0&&(delete n.trackedPointers[s],this.dispatchEvent(n,"pointercancel",e),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,n,i){var s=e.data,o=e.data.identifier,u=n.trackedPointers[o],h=s.pointerType==="touch",f=s.pointerType==="mouse"||s.pointerType==="pen",c=!1;if(f){var v=s.button===2,p=Xa.FLAGS,_=v?p.RIGHT_DOWN:p.LEFT_DOWN,y=u!==void 0&&u.flags&_;i?(this.dispatchEvent(n,v?"rightup":"mouseup",e),y&&(this.dispatchEvent(n,v?"rightclick":"click",e),c=!0)):y&&this.dispatchEvent(n,v?"rightupoutside":"mouseupoutside",e),u&&(v?u.rightDown=!1:u.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",e),h&&this.dispatchEvent(n,"touchend",e),u&&((!f||c)&&this.dispatchEvent(n,"pointertap",e),h&&(this.dispatchEvent(n,"tap",e),u.over=!1))):u&&(this.dispatchEvent(n,"pointerupoutside",e),h&&this.dispatchEvent(n,"touchendoutside",e)),u&&u.none&&delete n.trackedPointers[o]},t.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,s=0;s<i;s++){var o=n[s],u=this.getInteractionDataForPointerId(o),h=this.configureInteractionEventForDOMEvent(this.eventData,o,u);h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",h),o.pointerType==="touch"&&this.emit("touchmove",h),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",h)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,n,i){var s=e.data,o=s.pointerType==="touch",u=s.pointerType==="mouse"||s.pointerType==="pen";u&&this.processPointerOverOut(e,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",e),o&&this.dispatchEvent(n,"touchmove",e),u&&this.dispatchEvent(n,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(s.identifier)}},t.prototype.processPointerOverOut=function(e,n,i){var s=e.data,o=e.data.identifier,u=s.pointerType==="mouse"||s.pointerType==="pen",h=n.trackedPointers[o];i&&!h&&(h=n.trackedPointers[o]=new Xa(o)),h!==void 0&&(i&&this.mouseOverRenderer?(h.over||(h.over=!0,this.delayDispatchEvent(n,"pointerover",e),u&&this.delayDispatchEvent(n,"mouseover",e)),u&&this.cursor===null&&(this.cursor=n.cursor)):h.over&&(h.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),u&&this.dispatchEvent(n,"mouseout",e),h.none&&delete n.trackedPointers[o]))},t.prototype.onPointerOver=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e),i=n[0],s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)}},t.prototype.getInteractionDataForPointerId=function(e){var n=e.pointerId,i;return n===Ra||e.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new $h,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(e),i},t.prototype.releaseInteractionDataForPointerId=function(e){var n=this.activeInteractionData[e];n&&(delete this.activeInteractionData[e],n.reset(),this.interactionDataPool.push(n))},t.prototype.configureInteractionEventForDOMEvent=function(e,n,i){return e.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var i=0,s=e.changedTouches.length;i<s;i++){var o=e.changedTouches[i];typeof o.button>"u"&&(o.button=e.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=e.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){var u=e;typeof u.isPrimary>"u"&&(u.isPrimary=!0),typeof u.width>"u"&&(u.width=1),typeof u.height>"u"&&(u.height=1),typeof u.tiltX>"u"&&(u.tiltX=0),typeof u.tiltY>"u"&&(u.tiltY=0),typeof u.pointerType>"u"&&(u.pointerType="mouse"),typeof u.pointerId>"u"&&(u.pointerId=Ra),typeof u.pressure>"u"&&(u.pressure=.5),typeof u.twist>"u"&&(u.twist=0),typeof u.tangentialPressure>"u"&&(u.tangentialPressure=0),u.isNormalized=!0,n.push(u)}else n.push(e);return n},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t.extension={name:"interaction",type:[dt.RendererPlugin,dt.CanvasRendererPlugin]},t}(ps);/*!
 * @pixi/extract - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var iO=new Ye,sO=4,yc=function(){function r(t){this.renderer=t}return r.prototype.image=function(t,e,n){var i=new Image;return i.src=this.base64(t,e,n),i},r.prototype.base64=function(t,e,n){return this.canvas(t).toDataURL(e,n)},r.prototype.canvas=function(t,e){var n=this._rawPixels(t,e),i=n.pixels,s=n.width,o=n.height,u=n.flipY,h=new jh(s,o,1),f=h.context.getImageData(0,0,s,o);if(r.arrayPostDivide(i,f.data),h.context.putImageData(f,0,0),u){var c=new jh(h.width,h.height,1);c.context.scale(1,-1),c.context.drawImage(h.canvas,0,-o),h.destroy(),h=c}return h.canvas},r.prototype.pixels=function(t,e){var n=this._rawPixels(t,e).pixels;return r.arrayPostDivide(n,n),n},r.prototype._rawPixels=function(t,e){var n=this.renderer,i,s=!1,o,u=!1;if(t)if(t instanceof ni)o=t;else{var h=n.context.webGLVersion>=2?n.multisample:vt.NONE;if(o=this.renderer.generateTexture(t,{multisample:h}),h!==vt.NONE){var f=ni.create({width:o.width,height:o.height});n.framebuffer.bind(o.framebuffer),n.framebuffer.blit(f.framebuffer),n.framebuffer.bind(null),o.destroy(!0),o=f}u=!0}o?(i=o.baseTexture.resolution,e=e??o.frame,s=!1,n.renderTexture.bind(o)):(i=n.resolution,e||(e=iO,e.width=n.width,e.height=n.height),s=!0,n.renderTexture.bind(null));var c=Math.round(e.width*i),v=Math.round(e.height*i),p=new Uint8Array(sO*c*v),_=n.gl;return _.readPixels(Math.round(e.x*i),Math.round(e.y*i),c,v,_.RGBA,_.UNSIGNED_BYTE,p),u&&o.destroy(!0),{pixels:p,width:c,height:v,flipY:s}},r.prototype.destroy=function(){this.renderer=null},r.arrayPostDivide=function(t,e){for(var n=0;n<t.length;n+=4){var i=e[n+3]=t[n+3];i!==0?(e[n]=Math.round(Math.min(t[n]*255/i,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/i,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/i,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}},r.extension={name:"extract",type:dt.RendererPlugin},r}();/*!
 * @pixi/loaders - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Pa=function(){function r(t,e,n){e===void 0&&(e=!1),this._fn=t,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}return r.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},r}();function __(r,t){return r._head?(r._tail._next=t,t._prev=r._tail,r._tail=t):(r._head=t,r._tail=t),t._owner=r,t}var Cn=function(){function r(){this._head=this._tail=void 0}return r.prototype.handlers=function(t){t===void 0&&(t=!1);var e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n},r.prototype.has=function(t){if(!(t instanceof Pa))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},r.prototype.dispatch=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,e),i=i._next;return!0},r.prototype.add=function(t,e){if(e===void 0&&(e=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return __(this,new Pa(t,!1,e))},r.prototype.once=function(t,e){if(e===void 0&&(e=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return __(this,new Pa(t,!0,e))},r.prototype.detach=function(t){if(!(t instanceof Pa))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},r.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},r}();function wg(r,t){t=t||{};for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[t.strictMode?"strict":"loose"].exec(r),i={},s=14;s--;)i[e.key[s]]=n[s]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(o,u,h){u&&(i[e.q.name][u]=h)}),i}var lh,Ia=null,oO=0,g_=200,aO=204,uO=1223,lO=2;function m_(){}function y_(r,t,e){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(r[t]=e)}function hh(r){return r.toString().replace("object ","")}var St=function(){function r(t,e,n){if(this._dequeue=m_,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof e!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(r.STATUS_FLAGS.DATA_URL,e.indexOf("data:")===0),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=r.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=m_,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Cn,this.onProgress=new Cn,this.onComplete=new Cn,this.onAfterMiddleware=new Cn}return r.setExtensionLoadType=function(t,e){y_(r._loadTypeMap,t,e)},r.setExtensionXhrType=function(t,e){y_(r._xhrTypeMap,t,e)},Object.defineProperty(r.prototype,"isDataUrl",{get:function(){return this._hasFlag(r.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isComplete",{get:function(){return this._hasFlag(r.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isLoading",{get:function(){return this._hasFlag(r.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),r.prototype.complete=function(){this._clearEvents(),this._finish()},r.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=r.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},r.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(e)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(r.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this.type=r.TYPE.IMAGE,this._loadElement("image");break;case r.LOAD_TYPE.AUDIO:this.type=r.TYPE.AUDIO,this._loadSourceElement("audio");break;case r.LOAD_TYPE.VIDEO:this.type=r.TYPE.VIDEO,this._loadSourceElement("video");break;case r.LOAD_TYPE.XHR:default:typeof lh>"u"&&(lh=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),lh&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},r.prototype._hasFlag=function(t){return(this._flags&t)!==0},r.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},r.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},r.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(r.STATUS_FLAGS.COMPLETE,!0),this._setFlag(r.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},r.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=r.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},r.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},r.prototype._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=n,i},r.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},r.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},r.prototype._onTimeout=function(){this.abort("Load timed out.")},r.prototype._xhrOnError=function(){var t=this.xhr;this.abort(hh(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},r.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(hh(t)+" Request timed out.")},r.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(hh(t)+" Request was aborted by the user.")},r.prototype._xhrOnLoad=function(){var t=this.xhr,e="",n=typeof t.status>"u"?g_:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType>"u")&&(e=t.responseText),n===oO&&(e.length>0||t.responseType===r.XHR_RESPONSE_TYPE.BUFFER)?n=g_:n===uO&&(n=aO);var i=n/100|0;if(i===lO)if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=r.TYPE.TEXT;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=r.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var s=new DOMParser;this.data=s.parseFromString(e,"text/xml")}else{var o=document.createElement("div");o.innerHTML=e,this.data=o}this.type=r.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=t.response||e;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},r.prototype._determineCrossOrigin=function(t,e){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,Ia||(Ia=document.createElement("a")),Ia.href=t;var n=wg(Ia.href,{strictMode:!0}),i=!n.port&&e.port===""||n.port===e.port,s=n.protocol?n.protocol+":":"";return n.host!==e.hostname||!i||s!==e.protocol?"anonymous":""},r.prototype._determineXhrType=function(){return r._xhrTypeMap[this.extension]||r.XHR_RESPONSE_TYPE.TEXT},r.prototype._determineLoadType=function(){return r._loadTypeMap[this.extension]||r.LOAD_TYPE.XHR},r.prototype._getExtension=function(t){t===void 0&&(t=this.url);var e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?"),s=t.indexOf("#"),o=Math.min(i>-1?i:t.length,s>-1?s:t.length);t=t.substring(0,o),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},r.prototype._getMimeFromXhrType=function(t){switch(t){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r}();(function(r){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(r.STATUS_FLAGS||(r.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(r.TYPE||(r.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(r.LOAD_TYPE||(r.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(r.XHR_RESPONSE_TYPE||(r.XHR_RESPONSE_TYPE={})),r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,avif:r.LOAD_TYPE.IMAGE,svg:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE,mp3:r.LOAD_TYPE.AUDIO,ogg:r.LOAD_TYPE.AUDIO,wav:r.LOAD_TYPE.AUDIO,mp4:r.LOAD_TYPE.VIDEO,webm:r.LOAD_TYPE.VIDEO},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,avif:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT,ttf:r.XHR_RESPONSE_TYPE.BUFFER,otf:r.XHR_RESPONSE_TYPE.BUFFER},r.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(St||(St={}));function _i(){}function hO(r){return function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(r===null)throw new Error("Callback was already called.");var s=r;r=null,s.apply(this,n)}}var fO=function(){function r(t,e){this.data=t,this.callback=e}return r}(),fh=function(){function r(t,e){var n=this;if(e===void 0&&(e=1),this.workers=0,this.saturated=_i,this.unsaturated=_i,this.empty=_i,this.drain=_i,this.error=_i,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,s,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var u=new fO(i,typeof o=="function"?o:_i);s?n._tasks.unshift(u):n._tasks.push(u),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,hO(n._next(i)))}},this._worker=t,e===0)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return r.prototype._next=function(t){var e=this;return function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++)i[s]=n[s];e.workers-=1,t.callback.apply(t,i),i[0]!=null&&e.error(i[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},r.prototype.push=function(t,e){this._insert(t,!1,e)},r.prototype.kill=function(){this.workers=0,this.drain=_i,this.started=!1,this._tasks=[]},r.prototype.unshift=function(t,e){this._insert(t,!0,e)},r.prototype.length=function(){return this._tasks.length},r.prototype.running=function(){return this.workers},r.prototype.idle=function(){return this._tasks.length+this.workers===0},r.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},r.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},r.eachSeries=function(t,e,n,i){var s=0,o=t.length;function u(h){if(h||s===o){n&&n(h);return}i?setTimeout(function(){e(t[s++],u)},1):e(t[s++],u)}u()},r.queue=function(t,e){return new r(t,e)},r}(),ch=100,cO=/(#[\w-]+)?$/,as=function(){function r(t,e){var n=this;t===void 0&&(t=""),e===void 0&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(h,f){return n._loadResource(h,f)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(h,f){return n._loadResource(h,f)},this._queue=fh.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Cn,this.onError=new Cn,this.onLoad=new Cn,this.onStart=new Cn,this.onComplete=new Cn;for(var i=0;i<r._plugins.length;++i){var s=r._plugins[i],o=s.pre,u=s.use;o&&this.pre(o),u&&this.use(u)}this._protected=!1}return r.prototype._add=function(t,e,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new St(t,e,n),typeof i=="function"&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var s=n.parentResource,o=[],u=0;u<s.children.length;++u)s.children[u].isComplete||o.push(s.children[u]);var h=s.progressChunk*(o.length+1),f=h/(o.length+2);s.children.push(this.resources[t]),s.progressChunk=f;for(var u=0;u<o.length;++u)o[u].progressChunk=f;this.resources[t].progressChunk=f}return this._queue.push(this.resources[t]),this},r.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},r.prototype.use=function(t){return this._afterMiddleware.push(t),this},r.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},r.prototype.load=function(t){if(nr("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,n=ch/e,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(r.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),r.prototype._prepareUrl=function(t){var e=wg(t,{strictMode:!0}),n;if(e.protocol||!e.path||t.indexOf("//")===0?n=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?n=this.baseUrl+"/"+t:n=this.baseUrl+t,this.defaultQueryString){var i=cO.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},r.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,fh.eachSeries(this._beforeMiddleware,function(i,s){i.call(n,t,function(){s(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},r.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r.prototype._onComplete=function(){this.progress=ch,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),fh.eachSeries(this._afterMiddleware,function(n,i){n.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(ch,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&e._resourcesParsing.length===0&&e._onComplete()},!0)},r.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(r,"shared",{get:function(){var t=r._shared;return t||(t=new r,t._protected=!0,r._shared=t),t},enumerable:!1,configurable:!0}),r.registerPlugin=function(t){return nr("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),cn.add({type:dt.Loader,ref:t}),r},r._plugins=[],r}();cn.handleByList(dt.Loader,as._plugins);as.prototype.add=function(t,e,n,i){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if(typeof t=="object"&&(n=t,i=e||n.callback||n.onComplete,e=n.url,t=n.name||n.key||n.url),typeof e!="string"&&(i=n,n=e,e=t),typeof e!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(t,e,n,i)};var xg=function(){function r(){}return r.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?as.shared:new as},r.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},r.extension=dt.Application,r}(),Tg=function(){function r(){}return r.add=function(){St.setExtensionLoadType("svg",St.LOAD_TYPE.XHR),St.setExtensionXhrType("svg",St.XHR_RESPONSE_TYPE.TEXT)},r.use=function(t,e){if(t.data&&(t.type===St.TYPE.IMAGE||t.extension==="svg")){var n=t.data,i=t.url,s=t.name,o=t.metadata;Re.fromLoader(n,i,s,o).then(function(u){t.texture=u,e()}).catch(e)}else e()},r.extension=dt.Loader,r}(),dO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function pO(r){for(var t="",e=0;e<r.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)e<r.length?n[s]=r.charCodeAt(e++)&255:n[s]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=e-(r.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)t+=dO.charAt(i[s])}return t}function vO(r,t){if(!r.data){t();return}if(r.xhr&&r.xhrType===St.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof r.data=="string"){var e=r.xhr.getResponseHeader("content-type");if(e&&e.indexOf("image")===0){r.data=new Image,r.data.src="data:"+e+";base64,"+pO(r.xhr.responseText),r.type=St.TYPE.IMAGE,r.data.onload=function(){r.data.onload=null,t()};return}}else if(r.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(r.data);r.blob=r.data,r.data=new Image,r.data.src=i,r.type=St.TYPE.IMAGE,r.data.onload=function(){n.revokeObjectURL(i),r.data.onload=null,t()};return}}t()}var _O=function(){function r(){}return r.extension=dt.Loader,r.use=vO,r}();cn.add(Tg,_O);/*!
 * @pixi/compressed-textures - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ct,Ge;(function(r){r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(Ge||(Ge={}));var ho=(ct={},ct[Ge.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,ct[Ge.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,ct[Ge.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,ct[Ge.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,ct[Ge.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,ct[Ge.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,ct[Ge.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,ct[Ge.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,ct[Ge.COMPRESSED_R11_EAC]=.5,ct[Ge.COMPRESSED_SIGNED_R11_EAC]=.5,ct[Ge.COMPRESSED_RG11_EAC]=1,ct[Ge.COMPRESSED_SIGNED_RG11_EAC]=1,ct[Ge.COMPRESSED_RGB8_ETC2]=.5,ct[Ge.COMPRESSED_RGBA8_ETC2_EAC]=1,ct[Ge.COMPRESSED_SRGB8_ETC2]=.5,ct[Ge.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,ct[Ge.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ct[Ge.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ct[Ge.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,ct[Ge.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,ct[Ge.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,ct[Ge.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,ct[Ge.COMPRESSED_RGB_ETC1_WEBGL]=.5,ct[Ge.COMPRESSED_RGB_ATC_WEBGL]=.5,ct[Ge.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,ct[Ge.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,ct[Ge.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,ct);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tf=function(r,t){return tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},tf(r,t)};function Eg(r,t){tf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function gO(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function u(c){try{f(n.next(c))}catch(v){o(v)}}function h(c){try{f(n.throw(c))}catch(v){o(v)}}function f(c){c.done?s(c.value):i(c.value).then(u,h)}f((n=n.apply(r,t||[])).next())})}function mO(r,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(c){return h([f,c])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,i=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(f[0]===6&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(r,e)}catch(c){f=[6,c],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Sg=function(r){Eg(t,r);function t(e,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,s,o;return typeof e=="string"?(s=e,o=new Uint8Array):(s=null,o=e),i=r.call(this,o,n)||this,i.origin=s,i.buffer=o?new tu(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return gO(this,void 0,Promise,function(){var e,n,i;return mO(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return e=s.sent(),[4,e.blob()];case 2:return n=s.sent(),[4,n.arrayBuffer()];case 3:return i=s.sent(),this.data=new Uint32Array(i),this.buffer=new tu(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(Oi),ru=function(r){Eg(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=t._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||t._createLevelBuffers(e instanceof Uint8Array?e:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return t.prototype.upload=function(e,n,i){var s=e.gl,o=e.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var u=0,h=this.levels;u<h;u++){var f=this._levelBuffers[u],c=f.levelID,v=f.levelWidth,p=f.levelHeight,_=f.levelBuffer;s.compressedTexImage2D(s.TEXTURE_2D,c,this.format,v,p,0,_)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,n,i,s,o,u,h){for(var f=new Array(i),c=e.byteOffset,v=u,p=h,_=v+s-1&~(s-1),y=p+o-1&~(o-1),b=_*y*ho[n],m=0;m<i;m++)f[m]={levelID:m,levelWidth:i>1?v:_,levelHeight:i>1?p:y,levelBuffer:new Uint8Array(e.buffer,c,b)},c+=b,v=v>>1||1,p=p>>1||1,_=v+s-1&~(s-1),y=p+o-1&~(o-1),b=_*y*ho[n];return f},t}(Sg),Ag=function(){function r(){}return r.use=function(t,e){var n=t.data,i=this;if(t.type===St.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var s=n.textures,o=void 0,u=void 0,h=0,f=s.length;h<f;h++){var c=s[h],v=c.src,p=c.format;if(p||(u=v),r.textureFormats[p]){o=v;break}}if(o=o||u,!o){e(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(o===t.url){e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var _={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},y=Ei.resolve(t.url.replace(i.baseUrl,""),o),b=n.cacheID;i.add(b,y,_,function(m){if(m.error){e(m.error);return}var w=m.texture,E=w===void 0?null:w,T=m.textures,C=T===void 0?{}:T;Object.assign(t,{texture:E,textures:C}),e()})}else e()},Object.defineProperty(r,"textureExtensions",{get:function(){if(!r._textureExtensions){var t=fe.ADAPTER.createCanvas(),e=t.getContext("webgl");if(!e)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};r._textureExtensions=n}return r._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(r,"textureFormats",{get:function(){if(!r._textureFormats){var t=r.textureExtensions;r._textureFormats={};for(var e in t){var n=t[e];n&&Object.assign(r._textureFormats,Object.getPrototypeOf(n))}}return r._textureFormats},enumerable:!1,configurable:!0}),r.extension=dt.Loader,r}();function Rg(r,t,e){var n={textures:{},texture:null};if(!t)return n;var i=t.map(function(s){return new Re(new Ke(s,Object.assign({mipmap:xr.OFF,alphaMode:Xr.NO_PREMULTIPLIED_ALPHA},e)))});return i.forEach(function(s,o){var u=s.baseTexture,h=r+"-"+(o+1);Ke.addToCache(u,h),Re.addToCache(s,h),o===0&&(Ke.addToCache(u,r),Re.addToCache(s,r),n.texture=s),n.textures[h]=s}),n}var Gs,Kr,dh=4,Oa=124,yO=32,b_=20,bO=542327876,Ma={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},wO={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Da={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Jr;(function(r){r[r.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",r[r.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",r[r.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",r[r.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",r[r.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",r[r.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",r[r.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",r[r.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",r[r.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",r[r.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",r[r.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",r[r.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",r[r.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",r[r.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",r[r.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",r[r.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",r[r.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",r[r.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",r[r.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",r[r.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",r[r.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",r[r.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",r[r.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",r[r.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",r[r.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",r[r.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",r[r.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",r[r.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",r[r.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",r[r.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",r[r.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",r[r.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",r[r.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",r[r.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",r[r.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",r[r.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",r[r.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",r[r.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",r[r.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",r[r.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",r[r.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",r[r.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",r[r.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",r[r.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",r[r.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",r[r.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",r[r.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",r[r.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",r[r.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",r[r.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",r[r.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",r[r.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",r[r.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",r[r.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",r[r.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",r[r.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",r[r.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",r[r.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",r[r.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",r[r.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",r[r.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",r[r.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",r[r.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",r[r.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",r[r.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",r[r.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",r[r.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",r[r.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",r[r.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",r[r.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",r[r.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",r[r.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",r[r.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",r[r.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",r[r.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",r[r.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",r[r.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",r[r.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",r[r.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",r[r.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",r[r.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",r[r.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",r[r.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",r[r.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",r[r.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",r[r.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",r[r.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",r[r.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",r[r.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",r[r.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",r[r.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",r[r.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",r[r.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",r[r.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",r[r.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",r[r.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",r[r.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",r[r.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",r[r.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",r[r.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",r[r.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",r[r.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",r[r.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",r[r.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",r[r.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",r[r.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",r[r.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",r[r.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",r[r.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",r[r.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",r[r.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",r[r.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",r[r.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",r[r.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",r[r.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",r[r.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",r[r.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",r[r.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",r[r.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",r[r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",r[r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",r[r.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Jr||(Jr={}));var rf;(function(r){r[r.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",r[r.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",r[r.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(rf||(rf={}));var xO=1,TO=2,EO=4,SO=64,AO=512,RO=131072,CO=827611204,PO=861165636,IO=894720068,OO=808540228,MO=4,DO=(Gs={},Gs[CO]=Ge.COMPRESSED_RGBA_S3TC_DXT1_EXT,Gs[PO]=Ge.COMPRESSED_RGBA_S3TC_DXT3_EXT,Gs[IO]=Ge.COMPRESSED_RGBA_S3TC_DXT5_EXT,Gs),FO=(Kr={},Kr[Jr.DXGI_FORMAT_BC1_TYPELESS]=Ge.COMPRESSED_RGBA_S3TC_DXT1_EXT,Kr[Jr.DXGI_FORMAT_BC1_UNORM]=Ge.COMPRESSED_RGBA_S3TC_DXT1_EXT,Kr[Jr.DXGI_FORMAT_BC2_TYPELESS]=Ge.COMPRESSED_RGBA_S3TC_DXT3_EXT,Kr[Jr.DXGI_FORMAT_BC2_UNORM]=Ge.COMPRESSED_RGBA_S3TC_DXT3_EXT,Kr[Jr.DXGI_FORMAT_BC3_TYPELESS]=Ge.COMPRESSED_RGBA_S3TC_DXT5_EXT,Kr[Jr.DXGI_FORMAT_BC3_UNORM]=Ge.COMPRESSED_RGBA_S3TC_DXT5_EXT,Kr[Jr.DXGI_FORMAT_BC1_UNORM_SRGB]=Ge.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Kr[Jr.DXGI_FORMAT_BC2_UNORM_SRGB]=Ge.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Kr[Jr.DXGI_FORMAT_BC3_UNORM_SRGB]=Ge.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Kr);function Cg(r){var t=new Uint32Array(r),e=t[0];if(e!==bO)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(r,0,Oa/Uint32Array.BYTES_PER_ELEMENT),i=n[Ma.HEIGHT],s=n[Ma.WIDTH],o=n[Ma.MIPMAP_COUNT],u=new Uint32Array(r,Ma.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,yO/Uint32Array.BYTES_PER_ELEMENT),h=u[xO];if(h&EO){var f=u[wO.FOURCC];if(f!==OO){var c=DO[f],v=dh+Oa,p=new Uint8Array(r,v),_=new ru(p,{format:c,width:s,height:i,levels:o});return[_]}var y=dh+Oa,b=new Uint32Array(t.buffer,y,b_/Uint32Array.BYTES_PER_ELEMENT),m=b[Da.DXGI_FORMAT],w=b[Da.RESOURCE_DIMENSION],E=b[Da.MISC_FLAG],T=b[Da.ARRAY_SIZE],C=FO[m];if(C===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+m);if(E===MO)throw new Error("DDSParser does not support cubemap textures");if(w===rf.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var R=new Array,P=dh+Oa+b_;if(T===1)R.push(new Uint8Array(r,P));else{for(var I=ho[C],N=0,M=s,D=i,H=0;H<o;H++){var Z=Math.max(1,M+3&-4),X=Math.max(1,D+3&-4),de=Z*X*I;N+=de,M=M>>>1,D=D>>>1}for(var se=P,H=0;H<T;H++)R.push(new Uint8Array(r,se,N)),se+=N}return R.map(function(te){return new ru(te,{format:C,width:s,height:i,levels:o})})}throw h&SO?new Error("DDSParser does not support uncompressed texture data."):h&AO?new Error("DDSParser does not supported YUV uncompressed texture data."):h&RO?new Error("DDSParser does not support single-channel (lumninance) texture data!"):h&TO?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Yn,Sn,Hs,w_=[171,75,84,88,32,49,49,187,13,10,26,10],NO=67305985,Zr={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},nf=64,sf=(Yn={},Yn[Ie.UNSIGNED_BYTE]=1,Yn[Ie.UNSIGNED_SHORT]=2,Yn[Ie.INT]=4,Yn[Ie.UNSIGNED_INT]=4,Yn[Ie.FLOAT]=4,Yn[Ie.HALF_FLOAT]=8,Yn),Pg=(Sn={},Sn[le.RGBA]=4,Sn[le.RGB]=3,Sn[le.RG]=2,Sn[le.RED]=1,Sn[le.LUMINANCE]=1,Sn[le.LUMINANCE_ALPHA]=2,Sn[le.ALPHA]=1,Sn),Ig=(Hs={},Hs[Ie.UNSIGNED_SHORT_4_4_4_4]=2,Hs[Ie.UNSIGNED_SHORT_5_5_5_1]=2,Hs[Ie.UNSIGNED_SHORT_5_6_5]=2,Hs);function Og(r,t,e){e===void 0&&(e=!1);var n=new DataView(t);if(!LO(r,n))return null;var i=n.getUint32(Zr.ENDIANNESS,!0)===NO,s=n.getUint32(Zr.GL_TYPE,i),o=n.getUint32(Zr.GL_FORMAT,i),u=n.getUint32(Zr.GL_INTERNAL_FORMAT,i),h=n.getUint32(Zr.PIXEL_WIDTH,i),f=n.getUint32(Zr.PIXEL_HEIGHT,i)||1,c=n.getUint32(Zr.PIXEL_DEPTH,i)||1,v=n.getUint32(Zr.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(Zr.NUMBER_OF_FACES,i),_=n.getUint32(Zr.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(Zr.BYTES_OF_KEY_VALUE_DATA,i);if(f===0||c!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(v!==1)throw new Error("WebGL does not support array textures");var b=4,m=4,w=h+3&-4,E=f+3&-4,T=new Array(v),C=h*f;s===0&&(C=w*E);var R;if(s!==0?sf[s]?R=sf[s]*Pg[o]:R=Ig[s]:R=ho[u],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var P=e?UO(n,y,i):null,I=C*R,N=I,M=h,D=f,H=w,Z=E,X=nf+y,de=0;de<_;de++){for(var se=n.getUint32(X,i),te=X+4,Y=0;Y<v;Y++){var re=T[Y];re||(re=T[Y]=new Array(_)),re[de]={levelID:de,levelWidth:_>1||s!==0?M:H,levelHeight:_>1||s!==0?D:Z,levelBuffer:new Uint8Array(t,te,N)},te+=N}X+=se+4,X=X%4!==0?X+4-X%4:X,M=M>>1||1,D=D>>1||1,H=M+b-1&~(b-1),Z=D+m-1&~(m-1),N=H*Z*R}return s!==0?{uncompressed:T.map(function(ue){var q=ue[0].levelBuffer,W=!1;return s===Ie.FLOAT?q=new Float32Array(ue[0].levelBuffer.buffer,ue[0].levelBuffer.byteOffset,ue[0].levelBuffer.byteLength/4):s===Ie.UNSIGNED_INT?(W=!0,q=new Uint32Array(ue[0].levelBuffer.buffer,ue[0].levelBuffer.byteOffset,ue[0].levelBuffer.byteLength/4)):s===Ie.INT&&(W=!0,q=new Int32Array(ue[0].levelBuffer.buffer,ue[0].levelBuffer.byteOffset,ue[0].levelBuffer.byteLength/4)),{resource:new Oi(q,{width:ue[0].levelWidth,height:ue[0].levelHeight}),type:s,format:W?BO(o):o}}),kvData:P}:{compressed:T.map(function(ue){return new ru(null,{format:u,width:h,height:f,levels:_,levelBuffers:ue})}),kvData:P}}function LO(r,t){for(var e=0;e<w_.length;e++)if(t.getUint8(e)!==w_[e])return console.error(r+" is not a valid *.ktx file!"),!1;return!0}function BO(r){switch(r){case le.RGBA:return le.RGBA_INTEGER;case le.RGB:return le.RGB_INTEGER;case le.RG:return le.RG_INTEGER;case le.RED:return le.RED_INTEGER;default:return r}}function UO(r,t,e){for(var n=new Map,i=0;i<t;){var s=r.getUint32(nf+i,e),o=nf+i+4,u=3-(s+3)%4;if(s===0||s>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var h=0;h<s&&r.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var f=new TextDecoder().decode(new Uint8Array(r.buffer,o,h)),c=new DataView(r.buffer,o+h+1,s-h-1);n.set(f,c),i+=4+s+u}return n}St.setExtensionXhrType("dds",St.XHR_RESPONSE_TYPE.BUFFER);var Mg=function(){function r(){}return r.use=function(t,e){if(t.extension==="dds"&&t.data)try{Object.assign(t,Rg(t.name||t.url,Cg(t.data),t.metadata))}catch(n){e(n);return}e()},r.extension=dt.Loader,r}();St.setExtensionXhrType("ktx",St.XHR_RESPONSE_TYPE.BUFFER);var Dg=function(){function r(){}return r.use=function(t,e){if(t.extension==="ktx"&&t.data)try{var n=t.name||t.url,i=Og(n,t.data,this.loadKeyValueData),s=i.compressed,o=i.uncompressed,u=i.kvData;if(s){var h=Rg(n,s,t.metadata);if(u&&h.textures)for(var f in h.textures)h.textures[f].baseTexture.ktxKeyValueData=u;Object.assign(t,h)}else if(o){var c={};o.forEach(function(v,p){var _=new Re(new Ke(v.resource,{mipmap:xr.OFF,alphaMode:Xr.NO_PREMULTIPLIED_ALPHA,type:v.type,format:v.format})),y=n+"-"+(p+1);u&&(_.baseTexture.ktxKeyValueData=u),Ke.addToCache(_.baseTexture,y),Re.addToCache(_,y),p===0&&(c[n]=_,Ke.addToCache(_.baseTexture,n),Re.addToCache(_,n)),c[y]=_}),Object.assign(t,{textures:c})}}catch(v){e(v);return}e()},r.extension=dt.Loader,r.loadKeyValueData=!1,r}();/*!
 * @pixi/particle-container - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var of=function(r,t){return of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},of(r,t)};function Fg(r,t){of(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var kO=function(r){Fg(t,r);function t(e,n,i,s){e===void 0&&(e=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var o=r.call(this)||this,u=16384;return i>u&&(i=u),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=Pe.NORMAL,o.autoResize=s,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,ei(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var n=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(cr),x_=function(){function r(t,e,n){this.geometry=new vs,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var s=t[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Ie.FLOAT,offset:s.offset},e[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return r.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ft(O0(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new Ft(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new Ft(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Ie.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Ie.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},r.prototype.uploadDynamic=function(t,e,n){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(t,e,n,s.type===Ie.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},r.prototype.uploadStatic=function(t,e,n){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(t,e,n,s.type===Ie.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},r.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},r}(),GO=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,HO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Ng=function(r){Fg(t,r);function t(e){var n=r.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Nt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ie.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Mn.from(HO,GO,{}),n.state=ii.for2d(),n}return t.prototype.render=function(e){var n=e.children,i=e._maxSize,s=e._batchSize,o=this.renderer,u=n.length;if(u!==0){u>i&&!e.autoResize&&(u=i);var h=e._buffers;h||(h=e._buffers=this.generateBuffers(e));var f=n[0]._texture.baseTexture,c=f.alphaMode>0;this.state.blendMode=kf(e.blendMode,c),o.state.set(this.state);var v=o.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=I0(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=f,this.renderer.shader.bind(this.shader);for(var _=!1,y=0,b=0;y<u;y+=s,b+=1){var m=u-y;m>s&&(m=s),b>=h.length&&h.push(this._generateOneMoreBuffer(e));var w=h[b];w.uploadDynamic(n,y,m);var E=e._bufferUpdateIDs[b]||0;_=_||w._updateID<E,_&&(w._updateID=e._updateID,w.uploadStatic(n,y,m)),o.geometry.bind(w.geometry),v.drawElements(v.TRIANGLES,m*6,v.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var n=[],i=e._maxSize,s=e._batchSize,o=e._properties,u=0;u<i;u+=s)n.push(new x_(this.properties,o,s));return n},t.prototype._generateOneMoreBuffer=function(e){var n=e._batchSize,i=e._properties;return new x_(this.properties,i,n)},t.prototype.uploadVertices=function(e,n,i,s,o,u){for(var h=0,f=0,c=0,v=0,p=0;p<i;++p){var _=e[n+p],y=_._texture,b=_.scale.x,m=_.scale.y,w=y.trim,E=y.orig;w?(f=w.x-_.anchor.x*E.width,h=f+w.width,v=w.y-_.anchor.y*E.height,c=v+w.height):(h=E.width*(1-_.anchor.x),f=E.width*-_.anchor.x,c=E.height*(1-_.anchor.y),v=E.height*-_.anchor.y),s[u]=f*b,s[u+1]=v*m,s[u+o]=h*b,s[u+o+1]=v*m,s[u+o*2]=h*b,s[u+o*2+1]=c*m,s[u+o*3]=f*b,s[u+o*3+1]=c*m,u+=o*4}},t.prototype.uploadPosition=function(e,n,i,s,o,u){for(var h=0;h<i;h++){var f=e[n+h].position;s[u]=f.x,s[u+1]=f.y,s[u+o]=f.x,s[u+o+1]=f.y,s[u+o*2]=f.x,s[u+o*2+1]=f.y,s[u+o*3]=f.x,s[u+o*3+1]=f.y,u+=o*4}},t.prototype.uploadRotation=function(e,n,i,s,o,u){for(var h=0;h<i;h++){var f=e[n+h].rotation;s[u]=f,s[u+o]=f,s[u+o*2]=f,s[u+o*3]=f,u+=o*4}},t.prototype.uploadUvs=function(e,n,i,s,o,u){for(var h=0;h<i;++h){var f=e[n+h]._texture._uvs;f?(s[u]=f.x0,s[u+1]=f.y0,s[u+o]=f.x1,s[u+o+1]=f.y1,s[u+o*2]=f.x2,s[u+o*2+1]=f.y2,s[u+o*3]=f.x3,s[u+o*3+1]=f.y3,u+=o*4):(s[u]=0,s[u+1]=0,s[u+o]=0,s[u+o+1]=0,s[u+o*2]=0,s[u+o*2+1]=0,s[u+o*3]=0,s[u+o*3+1]=0,u+=o*4)}},t.prototype.uploadTint=function(e,n,i,s,o,u){for(var h=0;h<i;++h){var f=e[n+h],c=f._texture.baseTexture.alphaMode>0,v=f.alpha,p=v<1&&c?fu(f._tintRGB,v):f._tintRGB+(v*255<<24);s[u]=p,s[u+o]=p,s[u+o*2]=p,s[u+o*3]=p,u+=o*4}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t.extension={name:"particle",type:dt.RendererPlugin},t}(mo);/*!
 * @pixi/graphics - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var un;(function(r){r.MITER="miter",r.BEVEL="bevel",r.ROUND="round"})(un||(un={}));var On;(function(r){r.BUTT="butt",r.ROUND="round",r.SQUARE="square"})(On||(On={}));var us={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(r,t){if(t===void 0&&(t=20),!this.adaptive||!r||isNaN(r))return t;var e=Math.ceil(r/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},bc=function(){function r(){this.color=16777215,this.alpha=1,this.texture=Re.WHITE,this.matrix=null,this.visible=!1,this.reset()}return r.prototype.clone=function(){var t=new r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},r.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Re.WHITE,this.matrix=null,this.visible=!1},r.prototype.destroy=function(){this.texture=null,this.matrix=null},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var af=function(r,t){return af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},af(r,t)};function wc(r,t){af(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function T_(r,t){var e,n;t===void 0&&(t=!1);var i=r.length;if(!(i<6)){for(var s=0,o=0,u=r[i-2],h=r[i-1];o<i;o+=2){var f=r[o],c=r[o+1];s+=(f-u)*(c+h),u=f,h=c}if(!t&&s>0||t&&s<=0)for(var v=i/2,o=v+v%2;o<i;o+=2){var p=i-o-2,_=i-o-1,y=o,b=o+1;e=[r[y],r[p]],r[p]=e[0],r[y]=e[1],n=[r[b],r[_]],r[_]=n[0],r[b]=n[1]}}}var xc={build:function(r){r.points=r.shape.points.slice()},triangulate:function(r,t){var e=r.points,n=r.holes,i=t.points,s=t.indices;if(e.length>=6){T_(e,!1);for(var o=[],u=0;u<n.length;u++){var h=n[u];T_(h.points,!0),o.push(e.length/2),e=e.concat(h.points)}var f=os(e,o,2);if(!f)return;for(var c=i.length/2,u=0;u<f.length;u+=3)s.push(f[u]+c),s.push(f[u+1]+c),s.push(f[u+2]+c);for(var u=0;u<e.length;u++)i.push(e[u])}}},fo={build:function(r){var t=r.points,e,n,i,s,o,u;if(r.type===Gt.CIRC){var h=r.shape;e=h.x,n=h.y,o=u=h.radius,i=s=0}else if(r.type===Gt.ELIP){var f=r.shape;e=f.x,n=f.y,o=f.width,u=f.height,i=s=0}else{var c=r.shape,v=c.width/2,p=c.height/2;e=c.x+v,n=c.y+p,o=u=Math.max(0,Math.min(c.radius,Math.min(v,p))),i=v-o,s=p-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){t.length=0;return}var _=Math.ceil(2.3*Math.sqrt(o+u)),y=_*8+(i?4:0)+(s?4:0);if(t.length=y,y!==0){if(_===0){t.length=8,t[0]=t[6]=e+i,t[1]=t[3]=n+s,t[2]=t[4]=e-i,t[5]=t[7]=n-s;return}var b=0,m=_*4+(i?2:0)+2,w=m,E=y;{var T=i+o,C=s,R=e+T,P=e-T,I=n+C;if(t[b++]=R,t[b++]=I,t[--m]=I,t[--m]=P,s){var N=n-C;t[w++]=P,t[w++]=N,t[--E]=N,t[--E]=R}}for(var M=1;M<_;M++){var D=Math.PI/2*(M/_),T=i+Math.cos(D)*o,C=s+Math.sin(D)*u,R=e+T,P=e-T,I=n+C,N=n-C;t[b++]=R,t[b++]=I,t[--m]=I,t[--m]=P,t[w++]=P,t[w++]=N,t[--E]=N,t[--E]=R}{var T=i,C=s+u,R=e+T,P=e-T,I=n+C,N=n-C;t[b++]=R,t[b++]=I,t[--E]=N,t[--E]=R,i&&(t[b++]=P,t[b++]=I,t[--E]=N,t[--E]=P)}}},triangulate:function(r,t){var e=r.points,n=t.points,i=t.indices;if(e.length!==0){var s=n.length/2,o=s,u,h;if(r.type!==Gt.RREC){var f=r.shape;u=f.x,h=f.y}else{var c=r.shape;u=c.x+c.width/2,h=c.y+c.height/2}var v=r.matrix;n.push(r.matrix?v.a*u+v.c*h+v.tx:u,r.matrix?v.b*u+v.d*h+v.ty:h),s++,n.push(e[0],e[1]);for(var p=2;p<e.length;p+=2)n.push(e[p],e[p+1]),i.push(s++,o,s);i.push(o+1,o,s)}}},Lg={build:function(r){var t=r.shape,e=t.x,n=t.y,i=t.width,s=t.height,o=r.points;o.length=0,o.push(e,n,e+i,n,e+i,n+s,e,n+s)},triangulate:function(r,t){var e=r.points,n=t.points,i=n.length/2;n.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Ji(r,t,e){var n=t-r;return r+n*e}function Fa(r,t,e,n,i,s,o){o===void 0&&(o=[]);for(var u=20,h=o,f=0,c=0,v=0,p=0,_=0,y=0,b=0,m=0;b<=u;++b)m=b/u,f=Ji(r,e,m),c=Ji(t,n,m),v=Ji(e,i,m),p=Ji(n,s,m),_=Ji(f,v,m),y=Ji(c,p,m),!(b===0&&h[h.length-2]===_&&h[h.length-1]===y)&&h.push(_,y);return h}var Bg={build:function(r){if(co.nextRoundedRectBehavior){fo.build(r);return}var t=r.shape,e=r.points,n=t.x,i=t.y,s=t.width,o=t.height,u=Math.max(0,Math.min(t.radius,Math.min(s,o)/2));e.length=0,u?(Fa(n,i+u,n,i,n+u,i,e),Fa(n+s-u,i,n+s,i,n+s,i+u,e),Fa(n+s,i+o-u,n+s,i+o,n+s-u,i+o,e),Fa(n+u,i+o,n,i+o,n,i+o-u,e)):e.push(n,i,n+s,i,n+s,i+o,n,i+o)},triangulate:function(r,t){if(co.nextRoundedRectBehavior){fo.triangulate(r,t);return}for(var e=r.points,n=t.points,i=t.indices,s=n.length/2,o=os(e,null,2),u=0,h=o.length;u<h;u+=3)i.push(o[u]+s),i.push(o[u+1]+s),i.push(o[u+2]+s);for(var u=0,h=e.length;u<h;u++)n.push(e[u],e[++u])}};function E_(r,t,e,n,i,s,o,u){var h=r-e*i,f=t-n*i,c=r+e*s,v=t+n*s,p,_;o?(p=n,_=-e):(p=-n,_=e);var y=h+p,b=f+_,m=c+p,w=v+_;return u.push(y,b),u.push(m,w),2}function gi(r,t,e,n,i,s,o,u){var h=e-r,f=n-t,c=Math.atan2(h,f),v=Math.atan2(i-r,s-t);u&&c<v?c+=Math.PI*2:!u&&c>v&&(v+=Math.PI*2);var p=c,_=v-c,y=Math.abs(_),b=Math.sqrt(h*h+f*f),m=(15*y*Math.sqrt(b)/Math.PI>>0)+1,w=_/m;if(p+=w,u){o.push(r,t),o.push(e,n);for(var E=1,T=p;E<m;E++,T+=w)o.push(r,t),o.push(r+Math.sin(T)*b,t+Math.cos(T)*b);o.push(r,t),o.push(i,s)}else{o.push(e,n),o.push(r,t);for(var E=1,T=p;E<m;E++,T+=w)o.push(r+Math.sin(T)*b,t+Math.cos(T)*b),o.push(r,t);o.push(i,s),o.push(r,t)}return m*2}function XO(r,t){var e=r.shape,n=r.points||e.points.slice(),i=t.closePointEps;if(n.length!==0){var s=r.lineStyle,o=new st(n[0],n[1]),u=new st(n[n.length-2],n[n.length-1]),h=e.type!==Gt.POLY||e.closeStroke,f=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(h){n=n.slice(),f&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));var c=(o.x+u.x)*.5,v=(u.y+o.y)*.5;n.unshift(c,v),n.push(c,v)}var p=t.points,_=n.length/2,y=n.length,b=p.length/2,m=s.width/2,w=m*m,E=s.miterLimit*s.miterLimit,T=n[0],C=n[1],R=n[2],P=n[3],I=0,N=0,M=-(C-P),D=T-R,H=0,Z=0,X=Math.sqrt(M*M+D*D);M/=X,D/=X,M*=m,D*=m;var de=s.alignment,se=(1-de)*2,te=de*2;h||(s.cap===On.ROUND?y+=gi(T-M*(se-te)*.5,C-D*(se-te)*.5,T-M*se,C-D*se,T+M*te,C+D*te,p,!0)+2:s.cap===On.SQUARE&&(y+=E_(T,C,M,D,se,te,!0,p))),p.push(T-M*se,C-D*se),p.push(T+M*te,C+D*te);for(var Y=1;Y<_-1;++Y){T=n[(Y-1)*2],C=n[(Y-1)*2+1],R=n[Y*2],P=n[Y*2+1],I=n[(Y+1)*2],N=n[(Y+1)*2+1],M=-(C-P),D=T-R,X=Math.sqrt(M*M+D*D),M/=X,D/=X,M*=m,D*=m,H=-(P-N),Z=R-I,X=Math.sqrt(H*H+Z*Z),H/=X,Z/=X,H*=m,Z*=m;var re=R-T,ue=C-P,q=R-I,W=N-P,he=re*q+ue*W,Ae=ue*q-W*re,Ce=Ae<0;if(Math.abs(Ae)<.001*Math.abs(he)){p.push(R-M*se,P-D*se),p.push(R+M*te,P+D*te),he>=0&&(s.join===un.ROUND?y+=gi(R,P,R-M*se,P-D*se,R-H*se,P-Z*se,p,!1)+4:y+=2,p.push(R-H*te,P-Z*te),p.push(R+H*se,P+Z*se));continue}var We=(-M+T)*(-D+P)-(-M+R)*(-D+C),ze=(-H+I)*(-Z+P)-(-H+R)*(-Z+N),Qe=(re*ze-q*We)/Ae,ge=(W*We-ue*ze)/Ae,G=(Qe-R)*(Qe-R)+(ge-P)*(ge-P),Le=R+(Qe-R)*se,$=P+(ge-P)*se,Me=R-(Qe-R)*te,oe=P-(ge-P)*te,k=Math.min(re*re+ue*ue,q*q+W*W),Ze=Ce?se:te,je=k+Ze*Ze*w,ne=G<=je;ne?s.join===un.BEVEL||G/w>E?(Ce?(p.push(Le,$),p.push(R+M*te,P+D*te),p.push(Le,$),p.push(R+H*te,P+Z*te)):(p.push(R-M*se,P-D*se),p.push(Me,oe),p.push(R-H*se,P-Z*se),p.push(Me,oe)),y+=2):s.join===un.ROUND?Ce?(p.push(Le,$),p.push(R+M*te,P+D*te),y+=gi(R,P,R+M*te,P+D*te,R+H*te,P+Z*te,p,!0)+4,p.push(Le,$),p.push(R+H*te,P+Z*te)):(p.push(R-M*se,P-D*se),p.push(Me,oe),y+=gi(R,P,R-M*se,P-D*se,R-H*se,P-Z*se,p,!1)+4,p.push(R-H*se,P-Z*se),p.push(Me,oe)):(p.push(Le,$),p.push(Me,oe)):(p.push(R-M*se,P-D*se),p.push(R+M*te,P+D*te),s.join===un.ROUND?Ce?y+=gi(R,P,R+M*te,P+D*te,R+H*te,P+Z*te,p,!0)+2:y+=gi(R,P,R-M*se,P-D*se,R-H*se,P-Z*se,p,!1)+2:s.join===un.MITER&&G/w<=E&&(Ce?(p.push(Me,oe),p.push(Me,oe)):(p.push(Le,$),p.push(Le,$)),y+=2),p.push(R-H*se,P-Z*se),p.push(R+H*te,P+Z*te),y+=2)}T=n[(_-2)*2],C=n[(_-2)*2+1],R=n[(_-1)*2],P=n[(_-1)*2+1],M=-(C-P),D=T-R,X=Math.sqrt(M*M+D*D),M/=X,D/=X,M*=m,D*=m,p.push(R-M*se,P-D*se),p.push(R+M*te,P+D*te),h||(s.cap===On.ROUND?y+=gi(R-M*(se-te)*.5,P-D*(se-te)*.5,R-M*se,P-D*se,R+M*te,P+D*te,p,!1)+2:s.cap===On.SQUARE&&(y+=E_(R,P,M,D,se,te,!1,p)));for(var Qt=t.indices,Nn=us.epsilon*us.epsilon,Y=b;Y<y+b-2;++Y)T=p[Y*2],C=p[Y*2+1],R=p[(Y+1)*2],P=p[(Y+1)*2+1],I=p[(Y+2)*2],N=p[(Y+2)*2+1],!(Math.abs(T*(P-N)+R*(N-C)+I*(C-P))<Nn)&&Qt.push(Y,Y+1,Y+2)}}function WO(r,t){var e=0,n=r.shape,i=r.points||n.points,s=n.type!==Gt.POLY||n.closeStroke;if(i.length!==0){var o=t.points,u=t.indices,h=i.length/2,f=o.length/2,c=f;for(o.push(i[0],i[1]),e=1;e<h;e++)o.push(i[e*2],i[e*2+1]),u.push(c,c+1),c++;s&&u.push(c,f)}}function uf(r,t){r.lineStyle.native?WO(r,t):XO(r,t)}var lf=function(){function r(){}return r.curveTo=function(t,e,n,i,s,o){var u=o[o.length-2],h=o[o.length-1],f=h-e,c=u-t,v=i-e,p=n-t,_=Math.abs(f*p-c*v);if(_<1e-8||s===0)return(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e),null;var y=f*f+c*c,b=v*v+p*p,m=f*v+c*p,w=s*Math.sqrt(y)/_,E=s*Math.sqrt(b)/_,T=w*m/y,C=E*m/b,R=w*p+E*c,P=w*v+E*f,I=c*(E+T),N=f*(E+T),M=p*(w+C),D=v*(w+C),H=Math.atan2(N-P,I-R),Z=Math.atan2(D-P,M-R);return{cx:R+t,cy:P+e,radius:s,startAngle:H,endAngle:Z,anticlockwise:c*v>p*f}},r.arc=function(t,e,n,i,s,o,u,h,f){for(var c=u-o,v=us._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/ao)*40),p=c/(v*2),_=p*2,y=Math.cos(p),b=Math.sin(p),m=v-1,w=m%1/m,E=0;E<=m;++E){var T=E+w*E,C=p+o+_*T,R=Math.cos(C),P=-Math.sin(C);f.push((y*R+b*P)*s+n,(y*-P+b*R)*s+i)}},r}(),Ug=function(){function r(){}return r.curveLength=function(t,e,n,i,s,o,u,h){for(var f=10,c=0,v=0,p=0,_=0,y=0,b=0,m=0,w=0,E=0,T=0,C=0,R=t,P=e,I=1;I<=f;++I)v=I/f,p=v*v,_=p*v,y=1-v,b=y*y,m=b*y,w=m*t+3*b*v*n+3*y*p*s+_*u,E=m*e+3*b*v*i+3*y*p*o+_*h,T=R-w,C=P-E,R=w,P=E,c+=Math.sqrt(T*T+C*C);return c},r.curveTo=function(t,e,n,i,s,o,u){var h=u[u.length-2],f=u[u.length-1];u.length-=2;var c=us._segmentsCount(r.curveLength(h,f,t,e,n,i,s,o)),v=0,p=0,_=0,y=0,b=0;u.push(h,f);for(var m=1,w=0;m<=c;++m)w=m/c,v=1-w,p=v*v,_=p*v,y=w*w,b=y*w,u.push(_*h+3*p*w*t+3*v*y*n+b*s,_*f+3*p*w*e+3*v*y*i+b*o)},r}(),kg=function(){function r(){}return r.curveLength=function(t,e,n,i,s,o){var u=t-2*n+s,h=e-2*i+o,f=2*n-2*t,c=2*i-2*e,v=4*(u*u+h*h),p=4*(u*f+h*c),_=f*f+c*c,y=2*Math.sqrt(v+p+_),b=Math.sqrt(v),m=2*v*b,w=2*Math.sqrt(_),E=p/b;return(m*y+b*p*(y-w)+(4*_*v-p*p)*Math.log((2*b+E+y)/(E+w)))/(4*m)},r.curveTo=function(t,e,n,i,s){for(var o=s[s.length-2],u=s[s.length-1],h=us._segmentsCount(r.curveLength(o,u,t,e,n,i)),f=0,c=0,v=1;v<=h;++v){var p=v/h;f=o+(t-o)*p,c=u+(e-u)*p,s.push(f+(t+(n-t)*p-f)*p,c+(e+(i-e)*p-c)*p)}},r}(),Gg=function(){function r(){this.reset()}return r.prototype.begin=function(t,e,n){this.reset(),this.style=t,this.start=e,this.attribStart=n},r.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},r.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},r}(),mi,Wa=(mi={},mi[Gt.POLY]=xc,mi[Gt.CIRC]=fo,mi[Gt.ELIP]=fo,mi[Gt.RECT]=Lg,mi[Gt.RREC]=Bg,mi),hf=[],zs=[],ff=function(){function r(t,e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=e,this.matrix=i,this.type=t.type}return r.prototype.clone=function(){return new r(this.shape,this.fillStyle,this.lineStyle,this.matrix)},r.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},r}(),Qi=new st,Hg=function(r){wc(t,r);function t(){var e=r.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new uo,e.boundsDirty=-1,e}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),zs.push(this.drawCalls[e]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var n=this.batches[e];n.reset(),hf.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,n,i,s){n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=null);var o=new ff(e,n,i,s);return this.graphicsData.push(o),this.dirty++,this},t.prototype.drawHole=function(e,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new ff(e,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){r.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var n=this.graphicsData,i=0;i<n.length;++i){var s=n[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,Qi):Qi.copyFrom(e),s.shape.contains(Qi.x,Qi.y))){var o=!1;if(s.holes)for(var u=0;u<s.holes.length;u++){var h=s.holes[u];if(h.shape.contains(Qi.x,Qi.y)){o=!0;break}}if(!o)return!0}}return!1},t.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,n=this.graphicsData,i=null,s=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],s=i.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var u=n[o],h=u.fillStyle,f=u.lineStyle,c=Wa[u.type];c.build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(h.visible||f.visible)&&this.processHoles(u.holes);for(var v=0;v<2;v++){var p=v===0?h:f;if(p.visible){var _=p.texture.baseTexture,y=this.indices.length,b=this.points.length/2;_.wrapMode=Qr.REPEAT,v===0?this.processFill(u):this.processLine(u);var m=this.points.length/2-b;m!==0&&(i&&!this._compareStyles(s,p)&&(i.end(y,b),i=null),i||(i=hf.pop()||new Gg,i.begin(p,y,b),this.batches.push(i),s=p),this.addUvs(this.points,e,p.texture,b,m,p.matrix))}}}var w=this.indices.length,E=this.points.length/2;if(i&&i.end(w,E),this.batches.length===0){this.batchable=!0;return}var T=E>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&T===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=T?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(e,n){return!(!e||!n||e.texture.baseTexture!==n.texture.baseTexture||e.color+e.alpha!==n.color+n.alpha||!!e.native!=!!n.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,n=this.graphicsData.length;e<n;e++){var i=this.graphicsData[e],s=i.fillStyle,o=i.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,n=0,i=e.length;n<i;n++)for(var s=e[n],o=0;o<s.size;o++){var u=s.start+o;this.indicesUint16[u]=this.indicesUint16[u]-s.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var e=++Ke._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),zs.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,o=zs.pop();o||(o=new $a,o.texArray=new eu),o.texArray.count=0,o.start=0,o.size=0,o.type=Ur.TRIANGLES;var u=0,h=null,f=0,c=!1,v=Ur.TRIANGLES,p=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var _=this.batches[n],y=8,b=_.style,m=b.texture.baseTexture;c!==!!b.native&&(c=!!b.native,v=c?Ur.LINES:Ur.TRIANGLES,h=null,u=y,e++),h!==m&&(h=m,m._batchEnabled!==e&&(u===y&&(e++,u=0,o.size>0&&(o=zs.pop(),o||(o=new $a,o.texArray=new eu),this.drawCalls.push(o)),o.start=p,o.size=0,o.texArray.count=0,o.type=v),m.touched=1,m._batchEnabled=e,m._batchLocation=u,m.wrapMode=Qr.REPEAT,o.texArray.elements[o.texArray.count++]=m,u++)),o.size+=_.size,p+=_.size,f=m._batchLocation,this.addColors(i,b.color,b.alpha,_.attribSize,_.attribStart),this.addTextureIds(s,f,_.attribSize,_.attribStart)}Ke._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,n=this.uvs,i=this.colors,s=this.textureIds,o=new ArrayBuffer(e.length*3*4),u=new Float32Array(o),h=new Uint32Array(o),f=0,c=0;c<e.length/2;c++)u[f++]=e[c*2],u[f++]=e[c*2+1],u[f++]=n[c*2],u[f++]=n[c*2+1],h[f++]=i[c],u[f++]=s[c];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){if(e.holes.length)xc.triangulate(e,this);else{var n=Wa[e.type];n.triangulate(e,this)}},t.prototype.processLine=function(e){uf(e,this);for(var n=0;n<e.holes.length;n++)uf(e.holes[n],this)},t.prototype.processHoles=function(e){for(var n=0;n<e.length;n++){var i=e[n],s=Wa[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,n){for(var i=0;i<e.length/2;i++){var s=e[i*2],o=e[i*2+1];e[i*2]=n.a*s+n.c*o+n.tx,e[i*2+1]=n.b*s+n.d*o+n.ty}},t.prototype.addColors=function(e,n,i,s,o){o===void 0&&(o=0);var u=(n>>16)+(n&65280)+((n&255)<<16),h=fu(u,i);e.length=Math.max(e.length,o+s);for(var f=0;f<s;f++)e[o+f]=h},t.prototype.addTextureIds=function(e,n,i,s){s===void 0&&(s=0),e.length=Math.max(e.length,s+i);for(var o=0;o<i;o++)e[s+o]=n},t.prototype.addUvs=function(e,n,i,s,o,u){u===void 0&&(u=null);for(var h=0,f=n.length,c=i.frame;h<o;){var v=e[(s+h)*2],p=e[(s+h)*2+1];if(u){var _=u.a*v+u.c*p+u.tx;p=u.b*v+u.d*p+u.ty,v=_}h++,n.push(v/c.width,p/c.height)}var y=i.baseTexture;(c.width<y.width||c.height<y.height)&&this.adjustUvs(n,i,f,o)},t.prototype.adjustUvs=function(e,n,i,s){for(var o=n.baseTexture,u=1e-6,h=i+s*2,f=n.frame,c=f.width/o.width,v=f.height/o.height,p=f.x/f.width,_=f.y/f.height,y=Math.floor(e[i]+u),b=Math.floor(e[i+1]+u),m=i+2;m<h;m+=2)y=Math.min(y,Math.floor(e[m]+u)),b=Math.min(b,Math.floor(e[m+1]+u));p-=y,_-=b;for(var m=i;m<h;m+=2)e[m]=(e[m]+p)*c,e[m+1]=(e[m+1]+_)*v},t.BATCHABLE_SIZE=100,t}(_c),Xg=function(r){wc(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=On.BUTT,e.join=un.MITER,e.miterLimit=10,e}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){r.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(bc),zO=new Float32Array(3),ph={},co=function(r){wc(t,r);function t(e){e===void 0&&(e=null);var n=r.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new bc,n._lineStyle=new Xg,n._matrix=null,n._holeMode=!1,n.state=ii.for2d(),n._geometry=e||new Hg,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=Pe.NORMAL,n}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,n,i,s,o){return e===void 0&&(e=null),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=.5),o===void 0&&(o=!1),typeof e=="number"&&(e={width:e,color:n,alpha:i,alignment:s,native:o}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Re.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:On.BUTT,join:un.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new js,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[n-2],e[n-1]))}else this.currentPath=new js,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,n){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=n,this},t.prototype.lineTo=function(e,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],o=i[i.length-1];return(s!==e||o!==n)&&i.push(e,n),this},t.prototype._initCurve=function(e,n){e===void 0&&(e=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,n]):this.moveTo(e,n)},t.prototype.quadraticCurveTo=function(e,n,i,s){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),kg.curveTo(e,n,i,s,o),this},t.prototype.bezierCurveTo=function(e,n,i,s,o,u){return this._initCurve(),Ug.curveTo(e,n,i,s,o,u,this.currentPath.points),this},t.prototype.arcTo=function(e,n,i,s,o){this._initCurve(e,n);var u=this.currentPath.points,h=lf.curveTo(e,n,i,s,o,u);if(h){var f=h.cx,c=h.cy,v=h.radius,p=h.startAngle,_=h.endAngle,y=h.anticlockwise;this.arc(f,c,v,p,_,y)}return this},t.prototype.arc=function(e,n,i,s,o,u){if(u===void 0&&(u=!1),s===o)return this;!u&&o<=s?o+=ao:u&&s<=o&&(s+=ao);var h=o-s;if(h===0)return this;var f=e+Math.cos(s)*i,c=n+Math.sin(s)*i,v=this._geometry.closePointEps,p=this.currentPath?this.currentPath.points:null;if(p){var _=Math.abs(p[p.length-2]-f),y=Math.abs(p[p.length-1]-c);_<v&&y<v||p.push(f,c)}else this.moveTo(f,c),p=this.currentPath.points;return lf.arc(f,c,e,n,i,s,o,u,p),this},t.prototype.beginFill=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=1),this.beginTextureFill({texture:Re.WHITE,color:e,alpha:n})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Re.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,n,i,s){return this.drawShape(new Ye(e,n,i,s))},t.prototype.drawRoundedRect=function(e,n,i,s,o){return this.drawShape(new k0(e,n,i,s,o))},t.prototype.drawCircle=function(e,n,i){return this.drawShape(new B0(e,n,i))},t.prototype.drawEllipse=function(e,n,i,s){return this.drawShape(new U0(e,n,i,s))},t.prototype.drawPolygon=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];var s,o=!0,u=n[0];u.points?(o=u.closeStroke,s=u.points):Array.isArray(n[0])?s=n[0]:s=n;var h=new js(s);return h.closeStroke=o,this.drawShape(h),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Gt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,n=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(var s=0;s<i;s++){var o=e.batches[s],u=o.style.color,h=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),f=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),v={vertexData:h,blendMode:n,indices:c,uvs:f,_batchRGB:ei(u),_tintRGB:u,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=v}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}},t.prototype._renderDirect=function(e){var n=this._resolveDirectShader(e),i=this._geometry,s=this.tint,o=this.worldAlpha,u=n.uniforms,h=i.drawCalls;u.translationMatrix=this.transform.worldTransform,u.tint[0]=(s>>16&255)/255*o,u.tint[1]=(s>>8&255)/255*o,u.tint[2]=(s&255)/255*o,u.tint[3]=o,e.shader.bind(n),e.geometry.bind(i,n),e.state.set(this.state);for(var f=0,c=h.length;f<c;f++)this._renderDrawCallDirect(e,i.drawCalls[f])},t.prototype._renderDrawCallDirect=function(e,n){for(var i=n.texArray,s=n.type,o=n.size,u=n.start,h=i.count,f=0;f<h;f++)e.texture.bind(i.elements[f],f);e.geometry.draw(s,o,u)},t.prototype._resolveDirectShader=function(e){var n=this.shader,i=this.pluginName;if(!n){if(!ph[i]){for(var s=e.plugins[i].MAX_TEXTURES,o=new Int32Array(s),u=0;u<s;u++)o[u]=u;var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new Nt,default:Jn.from({uSamplers:o},!0)},f=e.plugins[i]._shader.program;ph[i]=new Mn(f,h)}n=ph[i]}return n},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var n=e.bounds,i=n.minX,s=n.minY,o=n.maxX,u=n.maxY;this._bounds.addFrame(this.transform,i,s,o,u)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=ei(this.tint,zO),n=0;n<this.batches.length;n++){var i=this.batches[n],s=i._batchRGB,o=e[0]*s[0]*255,u=e[1]*s[1]*255,h=e[2]*s[2]*255,f=(o<<16)+(u<<8)+(h|0);i._tintRGB=(f>>16)+(f&65280)+((f&255)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,u=n.d,h=n.tx,f=n.ty,c=this._geometry.points,v=this.vertexData,p=0,_=0;_<c.length;_+=2){var y=c[_],b=c[_+1];v[p++]=i*y+o*b+h,v[p++]=u*b+s*y+f}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,r.prototype.destroy.call(this,e)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new st,t}(cr),VO={buildPoly:xc,buildCircle:fo,buildRectangle:Lg,buildRoundedRectangle:Bg,buildLine:uf,ArcUtils:lf,BezierUtils:Ug,QuadraticUtils:kg,BatchPart:Gg,FILL_COMMANDS:Wa,BATCH_POOL:hf,DRAW_CALL_POOL:zs};/*!
 * @pixi/sprite - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cf=function(r,t){return cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},cf(r,t)};function YO(r,t){cf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Xs=new st,jO=new Uint16Array([0,1,2,0,2,3]),fr=function(r){YO(t,r);function t(e){var n=r.call(this)||this;return n._anchor=new In(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Pe.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||Re.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=jO,n.pluginName="batch",n.isSprite=!0,n._roundPixels=fe.ROUND_PIXELS,n}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Si(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Si(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===e._updateID)){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,u=n.d,h=n.tx,f=n.ty,c=this.vertexData,v=e.trim,p=e.orig,_=this._anchor,y=0,b=0,m=0,w=0;if(v?(b=v.x-_._x*p.width,y=b+v.width,w=v.y-_._y*p.height,m=w+v.height):(b=-_._x*p.width,y=b+p.width,w=-_._y*p.height,m=w+p.height),c[0]=i*b+o*w+h,c[1]=u*w+s*b+f,c[2]=i*y+o*w+h,c[3]=u*w+s*y+f,c[4]=i*y+o*m+h,c[5]=u*m+s*y+f,c[6]=i*b+o*m+h,c[7]=u*m+s*b+f,this._roundPixels)for(var E=fe.RESOLUTION,T=0;T<c.length;++T)c[T]=Math.round((c[T]*E|0)/E)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,n=this.vertexTrimmedData,i=e.orig,s=this._anchor,o=this.transform.worldTransform,u=o.a,h=o.b,f=o.c,c=o.d,v=o.tx,p=o.ty,_=-s._x*i.width,y=_+i.width,b=-s._y*i.height,m=b+i.height;n[0]=u*_+f*b+v,n[1]=c*b+h*_+p,n[2]=u*y+f*b+v,n[3]=c*b+h*y+p,n[4]=u*y+f*m+v,n[5]=c*m+h*y+p,n[6]=u*_+f*m+v,n[7]=c*m+h*_+p},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return this.children.length===0?(this._localBounds||(this._localBounds=new uo),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ye),e=this._localBoundsRect),this._localBounds.getRectangle(e)):r.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Xs);var n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x,o=0;return Xs.x>=s&&Xs.x<s+n&&(o=-i*this.anchor.y,Xs.y>=o&&Xs.y<o+i)},t.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof e=="boolean"?e:e&&e.texture;if(n){var i=typeof e=="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(e,n){var i=e instanceof Re?e:Re.from(e,n);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var n=Si(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var n=Si(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Re.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(cr);/*!
 * @pixi/text - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var df=function(r,t){return df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},df(r,t)};function qO(r,t){df(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ls;(function(r){r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(ls||(ls={}));var vh={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ls.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},KO=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Fn=function(){function r(t){this.styleID=0,this.reset(),gh(this,t,t)}return r.prototype.clone=function(){var t={};return gh(t,this,vh),new r(t)},r.prototype.reset=function(){gh(this,vh,vh)},Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=_h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=_h(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){ZO(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=_h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),r.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var i=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&KO.indexOf(i)<0&&(i='"'+i+'"'),e[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},r}();function S_(r){return typeof r=="number"?Bf(r):(typeof r=="string"&&r.indexOf("0x")===0&&(r=r.replace("0x","#")),r)}function _h(r){if(Array.isArray(r)){for(var t=0;t<r.length;++t)r[t]=S_(r[t]);return r}else return S_(r)}function ZO(r,t){if(!Array.isArray(r)||!Array.isArray(t)||r.length!==t.length)return!1;for(var e=0;e<r.length;++e)if(r[e]!==t[e])return!1;return!0}function gh(r,t,e){for(var n in e)Array.isArray(t[n])?r[n]=t[n].slice():r[n]=t[n]}var Na={willReadFrequently:!0},Wr=function(){function r(t,e,n,i,s,o,u,h,f){this.text=t,this.style=e,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=u,this.maxLineWidth=h,this.fontProperties=f}return r.measureText=function(t,e,n,i){i===void 0&&(i=r._canvas),n=n??e.wordWrap;var s=e.toFontString(),o=r.measureFont(s);o.fontSize===0&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var u=i.getContext("2d",Na);u.font=s;for(var h=n?r.wordWrap(t,e,i):t,f=h.split(/(?:\r\n|\r|\n)/),c=new Array(f.length),v=0,p=0;p<f.length;p++){var _=u.measureText(f[p]).width+(f[p].length-1)*e.letterSpacing;c[p]=_,v=Math.max(v,_)}var y=v+e.strokeThickness;e.dropShadow&&(y+=e.dropShadowDistance);var b=e.lineHeight||o.fontSize+e.strokeThickness,m=Math.max(b,o.fontSize+e.strokeThickness)+(f.length-1)*(b+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new r(t,e,y,m,f,c,b+e.leading,v,o)},r.wordWrap=function(t,e,n){n===void 0&&(n=r._canvas);for(var i=n.getContext("2d",Na),s=0,o="",u="",h=Object.create(null),f=e.letterSpacing,c=e.whiteSpace,v=r.collapseSpaces(c),p=r.collapseNewlines(c),_=!v,y=e.wordWrapWidth+f,b=r.tokenize(t),m=0;m<b.length;m++){var w=b[m];if(r.isNewline(w)){if(!p){u+=r.addLine(o),_=!v,o="",s=0;continue}w=" "}if(v){var E=r.isBreakingSpace(w),T=r.isBreakingSpace(o[o.length-1]);if(E&&T)continue}var C=r.getFromCache(w,f,h,i);if(C>y)if(o!==""&&(u+=r.addLine(o),o="",s=0),r.canBreakWords(w,e.breakWords))for(var R=r.wordWrapSplit(w),P=0;P<R.length;P++){for(var I=R[P],N=1;R[P+N];){var M=R[P+N],D=I[I.length-1];if(!r.canBreakChars(D,M,w,P,e.breakWords))I+=M;else break;N++}P+=I.length-1;var H=r.getFromCache(I,f,h,i);H+s>y&&(u+=r.addLine(o),_=!1,o="",s=0),o+=I,s+=H}else{o.length>0&&(u+=r.addLine(o),o="",s=0);var Z=m===b.length-1;u+=r.addLine(w,!Z),_=!1,o="",s=0}else C+s>y&&(_=!1,u+=r.addLine(o),o="",s=0),(o.length>0||!r.isBreakingSpace(w)||_)&&(o+=w,s+=C)}return u+=r.addLine(o,!1),u},r.addLine=function(t,e){return e===void 0&&(e=!0),t=r.trimRight(t),t=e?t+`
`:t,t},r.getFromCache=function(t,e,n,i){var s=n[t];if(typeof s!="number"){var o=t.length*e;s=i.measureText(t).width+o,n[t]=s}return s},r.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},r.collapseNewlines=function(t){return t==="normal"},r.trimRight=function(t){if(typeof t!="string")return"";for(var e=t.length-1;e>=0;e--){var n=t[e];if(!r.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},r.isNewline=function(t){return typeof t!="string"?!1:r._newlines.indexOf(t.charCodeAt(0))>=0},r.isBreakingSpace=function(t,e){return typeof t!="string"?!1:r._breakingSpaces.indexOf(t.charCodeAt(0))>=0},r.tokenize=function(t){var e=[],n="";if(typeof t!="string")return e;for(var i=0;i<t.length;i++){var s=t[i],o=t[i+1];if(r.isBreakingSpace(s,o)||r.isNewline(s)){n!==""&&(e.push(n),n=""),e.push(s);continue}n+=s}return n!==""&&e.push(n),e},r.canBreakWords=function(t,e){return e},r.canBreakChars=function(t,e,n,i,s){return!0},r.wordWrapSplit=function(t){return t.split("")},r.measureFont=function(t){if(r._fonts[t])return r._fonts[t];var e={ascent:0,descent:0,fontSize:0},n=r._canvas,i=r._context;i.font=t;var s=r.METRICS_STRING+r.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width),u=Math.ceil(i.measureText(r.BASELINE_SYMBOL).width),h=Math.ceil(r.HEIGHT_MULTIPLIER*u);u=u*r.BASELINE_MULTIPLIER|0,n.width=o,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,o,h),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,u);var f=i.getImageData(0,0,o,h).data,c=f.length,v=o*4,p=0,_=0,y=!1;for(p=0;p<u;++p){for(var b=0;b<v;b+=4)if(f[_+b]!==255){y=!0;break}if(!y)_+=v;else break}for(e.ascent=u-p,_=c-v,y=!1,p=h;p>u;--p){for(var b=0;b<v;b+=4)if(f[_+b]!==255){y=!0;break}if(!y)_-=v;else break}return e.descent=p-u,e.fontSize=e.ascent+e.descent,r._fonts[t]=e,e},r.clearMetrics=function(t){t===void 0&&(t=""),t?delete r._fonts[t]:r._fonts={}},Object.defineProperty(r,"_canvas",{get:function(){if(!r.__canvas){var t=void 0;try{var e=new OffscreenCanvas(0,0),n=e.getContext("2d",Na);if(n&&n.measureText)return r.__canvas=e,e;t=fe.ADAPTER.createCanvas()}catch{t=fe.ADAPTER.createCanvas()}t.width=t.height=10,r.__canvas=t}return r.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(r,"_context",{get:function(){return r.__context||(r.__context=r._canvas.getContext("2d",Na)),r.__context},enumerable:!1,configurable:!0}),r}();Wr._fonts={};Wr.METRICS_STRING="|ÉqÅ";Wr.BASELINE_SYMBOL="M";Wr.BASELINE_MULTIPLIER=1.4;Wr.HEIGHT_MULTIPLIER=2;Wr._newlines=[10,13];Wr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var JO={texture:!0,children:!1,baseTexture:!0},gu=function(r){qO(t,r);function t(e,n,i){var s=this,o=!1;i||(i=fe.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;var u=Re.from(i);return u.orig=new Ye,u.trim=new Ye,s=r.call(this,u)||this,s._ownCanvas=o,s.canvas=i,s.context=i.getContext("2d",{willReadFrequently:!0}),s._resolution=fe.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=e,s.style=n,s.localStyleID=-1,s}return t.prototype.updateText=function(e){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&e)){this._font=this._style.toFontString();var i=this.context,s=Wr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,u=s.height,h=s.lines,f=s.lineHeight,c=s.lineWidths,v=s.maxLineWidth,p=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,u)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var _,y,b=n.dropShadow?2:1,m=0;m<b;++m){var w=n.dropShadow&&m===0,E=w?Math.ceil(Math.max(1,u)+n.padding*2):0,T=E*this._resolution;if(w){i.fillStyle="black",i.strokeStyle="black";var C=n.dropShadowColor,R=ei(typeof C=="number"?C:ti(C)),P=n.dropShadowBlur*this._resolution,I=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+R[0]*255+","+R[1]*255+","+R[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=P,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*I,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*I+T}else i.fillStyle=this._generateFillStyle(n,h,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var N=(f-p.fontSize)/2;(!t.nextLineHeightBehavior||f-p.fontSize<0)&&(N=0);for(var M=0;M<h.length;M++)_=n.strokeThickness/2,y=n.strokeThickness/2+M*f+p.ascent+N,n.align==="right"?_+=v-c[M]:n.align==="center"&&(_+=(v-c[M])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(h[M],_+n.padding,y+n.padding-E,!0),n.fill&&this.drawLetterSpacing(h[M],_+n.padding,y+n.padding-E)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,n,i,s){s===void 0&&(s=!1);var o=this._style,u=o.letterSpacing,h=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(u===0||h){h&&(this.context.letterSpacing=u,this.context.textLetterSpacing=u),s?this.context.strokeText(e,n,i):this.context.fillText(e,n,i);return}for(var f=n,c=Array.from?Array.from(e):e.split(""),v=this.context.measureText(e).width,p=0,_=0;_<c.length;++_){var y=c[_];s?this.context.strokeText(y,f,i):this.context.fillText(y,f,i);for(var b="",m=_+1;m<c.length;++m)b+=c[m];p=this.context.measureText(b).width,f+=v-p+u,v=p}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var n=M0(e);n.data&&(e.width=n.width,e.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,s=this._style,o=s.trim?0:s.padding,u=i.baseTexture;i.trim.width=i._frame.width=e.width/this._resolution,i.trim.height=i._frame.height=e.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),u.setRealSize(e.width,e.height,this._resolution),i.updateUvs(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),r.prototype._render.call(this,e)},t.prototype.updateTransform=function(){this.updateText(!0),r.prototype.updateTransform.call(this)},t.prototype.getBounds=function(e,n){return this.updateText(!0),this._textureID===-1&&(e=!1),r.prototype.getBounds.call(this,e,n)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),r.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,n,i){var s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var o,u=e.dropShadow?e.dropShadowDistance:0,h=e.padding||0,f=this.canvas.width/this._resolution-u-h*2,c=this.canvas.height/this._resolution-u-h*2,v=s.slice(),p=e.fillGradientStops.slice();if(!p.length)for(var _=v.length+1,y=1;y<_;++y)p.push(y/_);if(v.unshift(s[0]),p.unshift(0),v.push(s[s.length-1]),p.push(1),e.fillGradientType===ls.LINEAR_VERTICAL){o=this.context.createLinearGradient(f/2,h,f/2,c+h);for(var b=i.fontProperties.fontSize+e.strokeThickness,y=0;y<n.length;y++){var m=i.lineHeight*(y-1)+b,w=i.lineHeight*y,E=w;y>0&&m>w&&(E=(w+m)/2);var T=w+b,C=i.lineHeight*(y+1),R=T;y+1<n.length&&C<T&&(R=(T+C)/2);for(var P=(R-E)/c,I=0;I<v.length;I++){var N=0;typeof p[I]=="number"?N=p[I]:N=I/v.length;var M=Math.min(1,Math.max(0,E/c+N*P));M=Number(M.toFixed(5)),o.addColorStop(M,v[I])}}}else{o=this.context.createLinearGradient(h,c/2,f+h,c/2);for(var D=v.length+1,H=1,y=0;y<v.length;y++){var Z=void 0;typeof p[y]=="number"?Z=p[y]:Z=H/D,o.addColorStop(Z,v[y]),H++}}return o},t.prototype.destroy=function(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},JO,e),r.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var n=Si(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var n=Si(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},e instanceof Fn?this._style=e:this._style=new Fn(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(fr);/*!
 * @pixi/prepare - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */fe.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pf=function(r,t){return pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},pf(r,t)};function QO(r,t){pf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Wg=function(){function r(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return r.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},r.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},r}();function $O(r,t){var e=!1;if(r&&r._textures&&r._textures.length){for(var n=0;n<r._textures.length;n++)if(r._textures[n]instanceof Re){var i=r._textures[n].baseTexture;t.indexOf(i)===-1&&(t.push(i),e=!0)}}return e}function eM(r,t){if(r.baseTexture instanceof Ke){var e=r.baseTexture;return t.indexOf(e)===-1&&t.push(e),!0}return!1}function tM(r,t){if(r._texture&&r._texture instanceof Re){var e=r._texture.baseTexture;return t.indexOf(e)===-1&&t.push(e),!0}return!1}function rM(r,t){return t instanceof gu?(t.updateText(!0),!0):!1}function nM(r,t){if(t instanceof Fn){var e=t.toFontString();return Wr.measureFont(e),!0}return!1}function iM(r,t){if(r instanceof gu){t.indexOf(r.style)===-1&&t.push(r.style),t.indexOf(r)===-1&&t.push(r);var e=r._texture.baseTexture;return t.indexOf(e)===-1&&t.push(e),!0}return!1}function sM(r,t){return r instanceof Fn?(t.indexOf(r)===-1&&t.push(r),!0):!1}var zg=function(){function r(t){var e=this;this.limiter=new Wg(fe.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(iM),this.registerFindHook(sM),this.registerFindHook($O),this.registerFindHook(eM),this.registerFindHook(tM),this.registerUploadHook(rM),this.registerUploadHook(nM)}return r.prototype.upload=function(t,e){var n=this;return typeof t=="function"&&(e=t,t=null),e&&nr("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){t&&n.add(t);var s=function(){e==null||e(),i()};n.queue.length?(n.completes.push(s),n.ticking||(n.ticking=!0,kt.system.addOnce(n.tick,n,tn.UTILITY))):s()})},r.prototype.tick=function(){setTimeout(this.delayedTick,0)},r.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)kt.system.addOnce(this.tick,this,tn.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var n=0,i=s.length;n<i;n++)s[n]()}},r.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},r.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},r.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof cr)for(var e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},r.prototype.destroy=function(){this.ticking&&kt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},r}();function Vg(r,t){return t instanceof Ke?(t._glTextures[r.CONTEXT_UID]||r.texture.bind(t),!0):!1}function oM(r,t){if(!(t instanceof co))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var n=e.batches,i=0;i<n.length;i++){var s=n[i].style.texture;s&&Vg(r,s.baseTexture)}return e.batchable||r.geometry.bind(e,t._resolveDirectShader(r)),!0}function aM(r,t){return r instanceof co?(t.push(r),!0):!1}var Yg=function(r){QO(t,r);function t(e){var n=r.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(aM),n.registerUploadHook(Vg),n.registerUploadHook(oM),n}return t.extension={name:"prepare",type:dt.RendererPlugin},t}(zg),uM=function(){function r(t){this.maxMilliseconds=t,this.frameStart=0}return r.prototype.beginFrame=function(){this.frameStart=Date.now()},r.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},r}();/*!
 * @pixi/spritesheet - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jg=function(){function r(t,e,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=t instanceof Re?t:null,this.baseTexture=t instanceof Ke?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r.prototype._updateResolution=function(t){t===void 0&&(t=null);var e=this.data.meta.scale,n=oo(t,null);return n===null&&(n=e!==void 0?parseFloat(e):1),n!==1&&this.baseTexture.setResolution(n),n},r.prototype.parse=function(t){var e=this;return t&&nr("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){e._callback=function(i){t==null||t(i),n(i)},e._batchIndex=0,e._frameKeys.length<=r.BATCH_SIZE?(e._processFrames(0),e._processAnimations(),e._parseComplete()):e._nextBatch()})},r.prototype._processFrames=function(t){for(var e=t,n=r.BATCH_SIZE;e-t<n&&e<this._frameKeys.length;){var i=this._frameKeys[e],s=this._frames[i],o=s.frame;if(o){var u=null,h=null,f=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new Ye(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);s.rotated?u=new Ye(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):u=new Ye(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new Ye(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Re(this.baseTexture,u,c,h,s.rotated?2:0,s.anchor),Re.addToCache(this.textures[i],i)}e++}},r.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var i=t[e][n];this.animations[e].push(this.textures[i])}}},r.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},r.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*r.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*r.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},r.prototype.destroy=function(t){var e;t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)===null||e===void 0||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},r.BATCH_SIZE=1e3,r}(),qg=function(){function r(){}return r.use=function(t,e){var n,i,s=this,o=t.name+"_image";if(!t.data||t.type!==St.TYPE.JSON||!t.data.frames||s.resources[o]){e();return}var u=(i=(n=t.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(u))for(var h=function(y){if(typeof y!="string")return"continue";var b=y.replace(".json",""),m=Ei.resolve(t.url.replace(s.baseUrl,""),y);if(s.resources[b]||Object.values(s.resources).some(function(E){return Ei.format(Ei.parse(E.url))===m}))return"continue";var w={crossOrigin:t.crossOrigin,loadType:St.LOAD_TYPE.XHR,xhrType:St.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};s.add(b,m,w)},f=0,c=u;f<c.length;f++){var v=c[f];h(v)}var p={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},_=r.getResourcePath(t,s.baseUrl);s.add(o,_,p,function(b){if(b.error){e(b.error);return}var m=new jg(b.texture,t.data,t.url);m.parse().then(function(){t.spritesheet=m,t.textures=m.textures,e()})})},r.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Ei.resolve(t.url.replace(e,""),t.data.meta.image)},r.extension=dt.Loader,r}();/*!
 * @pixi/sprite-tiling - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vf=function(r,t){return vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},vf(r,t)};function Kg(r,t){vf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Ws=new st,lM=function(r){Kg(t,r);function t(e,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var s=r.call(this,e)||this;return s.tileTransform=new Hf,s._width=n,s._height=i,s.uvMatrix=s.texture.uvMatrix||new _u(e),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,i,s)},t.prototype.getLocalBounds=function(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ye),e=this._localBoundsRect),this._bounds.getRectangle(e)):r.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ws);var n=this._width,i=this._height,s=-n*this.anchor._x;if(Ws.x>=s&&Ws.x<s+n){var o=-i*this.anchor._y;if(Ws.y>=o&&Ws.y<o+i)return!0}return!1},t.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,n){var i=e instanceof Re?e:Re.from(e,n);return new t(i,n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(fr),hM=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,A_=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,fM=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,cM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,dM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,La=new Nt,Zg=function(r){Kg(t,r);function t(e){var n=r.call(this,e)||this;return e.runners.contextChange.add(n),n.quad=new Qf,n.state=ii.for2d(),n}return t.prototype.contextChange=function(){var e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=Mn.from(A_,hM,n),this.shader=e.context.webGLVersion>1?Mn.from(cM,dM,n):Mn.from(A_,fM,n)},t.prototype.render=function(e){var n=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);var o=e.uvRespectAnchor?e.anchor.x:0,u=e.uvRespectAnchor?e.anchor.y:0;s=i.uvs,s[0]=s[6]=-o,s[1]=s[3]=-u,s[2]=s[4]=1-o,s[5]=s[7]=1-u,i.invalidate();var h=e._texture,f=h.baseTexture,c=f.alphaMode>0,v=e.tileTransform.localTransform,p=e.uvMatrix,_=f.isPowerOfTwo&&h.frame.width===f.width&&h.frame.height===f.height;_&&(f._glTextures[n.CONTEXT_UID]?_=f.wrapMode!==Qr.CLAMP:f.wrapMode===Qr.CLAMP&&(f.wrapMode=Qr.REPEAT));var y=_?this.simpleShader:this.shader,b=h.width,m=h.height,w=e._width,E=e._height;La.set(v.a*b/w,v.b*b/E,v.c*m/w,v.d*m/E,v.tx/w,v.ty/E),La.invert(),_?La.prepend(p.mapCoord):(y.uniforms.uMapCoord=p.mapCoord.toArray(!0),y.uniforms.uClampFrame=p.uClampFrame,y.uniforms.uClampOffset=p.uClampOffset),y.uniforms.uTransform=La.toArray(!0),y.uniforms.uColor=Gf(e.tint,e.worldAlpha,y.uniforms.uColor,c),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=h,n.shader.bind(y),n.geometry.bind(i),this.state.blendMode=kf(e.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t.extension={name:"tilingSprite",type:dt.RendererPlugin},t}(mo);/*!
 * @pixi/mesh - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _f=function(r,t){return _f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},_f(r,t)};function Tc(r,t){_f(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Jg=function(){function r(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return r.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},r}(),mh=new st,R_=new js,hs=function(r){Tc(t,r);function t(e,n,i,s){s===void 0&&(s=Ur.TRIANGLES);var o=r.call(this)||this;return o.geometry=e,o.shader=n,o.state=i||ii.for2d(),o.drawMode=s,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=fe.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ur.TRIANGLES&&n.length<t.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),e.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(n),e.state.set(this.state),e.geometry.bind(this.geometry,n),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry,n=e.buffers[0],i=n.data,s=n._updateID;if(!(s===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,u=o.a,h=o.b,f=o.c,c=o.d,v=o.tx,p=o.ty,_=this.vertexData,y=0;y<_.length/2;y++){var b=i[y*2],m=i[y*2+1];_[y*2]=u*b+f*m+v,_[y*2+1]=h*b+c*m+p}if(this._roundPixels)for(var w=fe.RESOLUTION,y=0;y<_.length;++y)_[y]=Math.round((_[y]*w|0)/w);this.vertexDirty=s}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Jg(e,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,mh);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=R_.points,s=this.geometry.getIndex().data,o=s.length,u=this.drawMode===4?3:1,h=0;h+2<o;h+=u){var f=s[h]*2,c=s[h+1]*2,v=s[h+2]*2;if(i[0]=n[f],i[1]=n[f+1],i[2]=n[c],i[3]=n[c+1],i[4]=n[v],i[5]=n[v+1],R_.contains(mh.x,mh.y))return!0}return!1},t.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(cr),pM=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,fs=function(r){Tc(t,r);function t(e,n){var i=this,s={uSampler:e,alpha:1,uTextureMatrix:Nt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(s,n.uniforms),i=r.call(this,n.program||_s.from(vM,pM),s)||this,i._colorDirty=!1,i.uvMatrix=new _u(e),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;Gf(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Mn),yo=function(r){Tc(t,r);function t(e,n,i){var s=r.call(this)||this,o=new Ft(e),u=new Ft(n,!0),h=new Ft(i,!0,!0);return s.addAttribute("aVertexPosition",o,2,!1,Ie.FLOAT).addAttribute("aTextureCoord",u,2,!1,Ie.FLOAT).addIndex(h),s._updateId=-1,s}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(vs);/*!
 * @pixi/text-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gf=function(r,t){return gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},gf(r,t)};function _M(r,t){gf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var po=function(){function r(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return r}(),Qg=function(){function r(){}return r.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},r.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in e){var s=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(var h in o){var f=o[h].split("="),c=f[0],v=f[1].replace(/"/gm,""),p=parseFloat(v),_=isNaN(p)?v:p;u[c]=_}n[s].push(u)}var y=new po;return n.info.forEach(function(b){return y.info.push({face:b.face,size:parseInt(b.size,10)})}),n.common.forEach(function(b){return y.common.push({lineHeight:parseInt(b.lineHeight,10)})}),n.page.forEach(function(b){return y.page.push({id:parseInt(b.id,10),file:b.file})}),n.char.forEach(function(b){return y.char.push({id:parseInt(b.id,10),page:parseInt(b.page,10),x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xoffset:parseInt(b.xoffset,10),yoffset:parseInt(b.yoffset,10),xadvance:parseInt(b.xadvance,10)})}),n.kerning.forEach(function(b){return y.kerning.push({first:parseInt(b.first,10),second:parseInt(b.second,10),amount:parseInt(b.amount,10)})}),n.distanceField.forEach(function(b){return y.distanceField.push({distanceRange:parseInt(b.distanceRange,10),fieldType:b.fieldType})}),y},r}(),nu=function(){function r(){}return r.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},r.parse=function(t){for(var e=new po,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),u=t.getElementsByTagName("kerning"),h=t.getElementsByTagName("distanceField"),f=0;f<n.length;f++)e.info.push({face:n[f].getAttribute("face"),size:parseInt(n[f].getAttribute("size"),10)});for(var f=0;f<i.length;f++)e.common.push({lineHeight:parseInt(i[f].getAttribute("lineHeight"),10)});for(var f=0;f<s.length;f++)e.page.push({id:parseInt(s[f].getAttribute("id"),10)||0,file:s[f].getAttribute("file")});for(var f=0;f<o.length;f++){var c=o[f];e.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(var f=0;f<u.length;f++)e.kerning.push({first:parseInt(u[f].getAttribute("first"),10),second:parseInt(u[f].getAttribute("second"),10),amount:parseInt(u[f].getAttribute("amount"),10)});for(var f=0;f<h.length;f++)e.distanceField.push({fieldType:h[f].getAttribute("fieldType"),distanceRange:parseInt(h[f].getAttribute("distanceRange"),10)});return e},r}(),$g=function(){function r(){}return r.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var e=new globalThis.DOMParser().parseFromString(t,"text/xml");return nu.test(e)}return!1},r.parse=function(t){var e=new globalThis.DOMParser().parseFromString(t,"text/xml");return nu.parse(e)},r}(),yh=[Qg,nu,$g];function Ec(r){for(var t=0;t<yh.length;t++)if(yh[t].test(r))return yh[t];return null}function gM(r,t,e,n,i,s){var o=e.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var u,h=e.dropShadow?e.dropShadowDistance:0,f=e.padding||0,c=r.width/n-h-f*2,v=r.height/n-h-f*2,p=o.slice(),_=e.fillGradientStops.slice();if(!_.length)for(var y=p.length+1,b=1;b<y;++b)_.push(b/y);if(p.unshift(o[0]),_.unshift(0),p.push(o[o.length-1]),_.push(1),e.fillGradientType===ls.LINEAR_VERTICAL){u=t.createLinearGradient(c/2,f,c/2,v+f);for(var m=0,w=s.fontProperties.fontSize+e.strokeThickness,E=w/v,b=0;b<i.length;b++)for(var T=s.lineHeight*b,C=0;C<p.length;C++){var R=0;typeof _[C]=="number"?R=_[C]:R=C/p.length;var P=T/v+R*E,I=Math.max(m,P);I=Math.min(I,1),u.addColorStop(I,p[C]),m=I}}else{u=t.createLinearGradient(f,v/2,c+f,v/2);for(var N=p.length+1,M=1,b=0;b<p.length;b++){var D=void 0;typeof _[b]=="number"?D=_[b]:D=M/N,u.addColorStop(D,p[b]),M++}}return u}function mM(r,t,e,n,i,s,o){var u=e.text,h=e.fontProperties;t.translate(n,i),t.scale(s,s);var f=o.strokeThickness/2,c=-(o.strokeThickness/2);if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=gM(r,t,o,s,[u],e),t.strokeStyle=o.stroke,o.dropShadow){var v=o.dropShadowColor,p=ei(typeof v=="number"?v:ti(v)),_=o.dropShadowBlur*s,y=o.dropShadowDistance*s;t.shadowColor="rgba("+p[0]*255+","+p[1]*255+","+p[2]*255+","+o.dropShadowAlpha+")",t.shadowBlur=_,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*y,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*y}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(u,f,c+e.lineHeight-h.descent),o.fill&&t.fillText(u,f,c+e.lineHeight-h.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function em(r){return Array.from?Array.from(r):r.split("")}function yM(r){typeof r=="string"&&(r=[r]);for(var t=[],e=0,n=r.length;e<n;e++){var i=r[e];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var u=s,h=o;u<=h;u++)t.push(String.fromCharCode(u))}else t.push.apply(t,em(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function za(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}var An=function(){function r(t,e,n){var i,s,o=t.info[0],u=t.common[0],h=t.page[0],f=t.distanceField[0],c=oo(h.file),v={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=u.lineHeight/c,this.chars={},this.pageTextures=v;for(var p=0;p<t.page.length;p++){var _=t.page[p],y=_.id,b=_.file;v[y]=e instanceof Array?e[p]:e[b],f!=null&&f.fieldType&&f.fieldType!=="none"&&(v[y].baseTexture.alphaMode=Xr.NO_PREMULTIPLIED_ALPHA,v[y].baseTexture.mipmap=xr.OFF)}for(var p=0;p<t.char.length;p++){var m=t.char[p],y=m.id,w=m.page,E=t.char[p],T=E.x,C=E.y,R=E.width,P=E.height,I=E.xoffset,N=E.yoffset,M=E.xadvance;T/=c,C/=c,R/=c,P/=c,I/=c,N/=c,M/=c;var D=new Ye(T+v[w].frame.x/c,C+v[w].frame.y/c,R,P);this.chars[y]={xOffset:I,yOffset:N,xAdvance:M,kerning:{},texture:new Re(v[w].baseTexture,D),page:w}}for(var p=0;p<t.kerning.length;p++){var H=t.kerning[p],Z=H.first,X=H.second,de=H.amount;Z/=c,X/=c,de/=c,this.chars[X]&&(this.chars[X].kerning[Z]=de)}this.distanceFieldRange=f==null?void 0:f.distanceRange,this.distanceFieldType=(s=(i=f==null?void 0:f.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&s!==void 0?s:"none"}return r.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},r.install=function(t,e,n){var i;if(t instanceof po)i=t;else{var s=Ec(t);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(t)}e instanceof Re&&(e=[e]);var o=new r(i,e,n);return r.available[o.font]=o,o},r.uninstall=function(t){var e=r.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete r.available[t]},r.from=function(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},r.defaultOptions,n),s=i.chars,o=i.padding,u=i.resolution,h=i.textureWidth,f=i.textureHeight,c=yM(s),v=e instanceof Fn?e:new Fn(e),p=h,_=new po;_.info[0]={face:v.fontFamily,size:v.fontSize},_.common[0]={lineHeight:v.fontSize};for(var y=0,b=0,m,w,E,T=0,C=[],R=0;R<c.length;R++){m||(m=fe.ADAPTER.createCanvas(),m.width=h,m.height=f,w=m.getContext("2d"),E=new Ke(m,{resolution:u}),C.push(new Re(E)),_.page.push({id:C.length-1,file:""}));var P=c[R],I=Wr.measureText(P,v,!1,m),N=I.width,M=Math.ceil(I.height),D=Math.ceil((v.fontStyle==="italic"?2:1)*N);if(b>=f-M*u){if(b===0)throw new Error("[BitmapFont] textureHeight "+f+"px is too small "+("(fontFamily: '"+v.fontFamily+"', fontSize: "+v.fontSize+"px, char: '"+P+"')"));--R,m=null,w=null,E=null,b=0,y=0,T=0;continue}if(T=Math.max(M+I.fontProperties.descent,T),D*u+y>=p){if(y===0)throw new Error("[BitmapFont] textureWidth "+h+"px is too small "+("(fontFamily: '"+v.fontFamily+"', fontSize: "+v.fontSize+"px, char: '"+P+"')"));--R,b+=T*u,b=Math.ceil(b),y=0,T=0;continue}mM(m,w,I,y,b,u,v);var H=za(I.text);_.char.push({id:H,page:C.length-1,x:y/u,y:b/u,width:D,height:M,xoffset:0,yoffset:0,xadvance:Math.ceil(N-(v.dropShadow?v.dropShadowDistance:0)-(v.stroke?v.strokeThickness:0))}),y+=(D+2*o)*u,y=Math.ceil(y)}for(var R=0,Z=c.length;R<Z;R++)for(var X=c[R],de=0;de<Z;de++){var se=c[de],te=w.measureText(X).width,Y=w.measureText(se).width,re=w.measureText(X+se).width,ue=re-(te+Y);ue&&_.kerning.push({first:za(X),second:za(se),amount:ue})}var q=new r(_,C,!0);return r.available[t]!==void 0&&r.uninstall(t),r.available[t]=q,q},r.ALPHA=[["a","z"],["A","Z"]," "],r.NUMERIC=[["0","9"]],r.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],r.ASCII=[[" ","~"]],r.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:r.ALPHANUMERIC},r.available={},r}(),bM=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,wM=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,C_=[],P_=[],I_=[],xM=function(r){_M(t,r);function t(e,n){n===void 0&&(n={});var i=r.call(this)||this;i._tint=16777215;var s=Object.assign({},t.styleDefaults,n),o=s.align,u=s.tint,h=s.maxWidth,f=s.letterSpacing,c=s.fontName,v=s.fontSize;if(!An.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=u,i._font=void 0,i._fontName=c,i._fontSize=v,i.text=e,i._maxWidth=h,i._maxLineHeight=0,i._letterSpacing=f,i._anchor=new In(function(){i.dirty=!0},i,0,0),i._roundPixels=fe.ROUND_PIXELS,i.dirty=!0,i._resolution=fe.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var e,n=An.available[this._fontName],i=this.fontSize,s=i/n.size,o=new st,u=[],h=[],f=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",v=em(c),p=this._maxWidth*n.size/i,_=n.distanceFieldType==="none"?C_:P_,y=null,b=0,m=0,w=0,E=-1,T=0,C=0,R=0,P=0,I=0;I<v.length;I++){var N=v[I],M=za(N);if(/(?:\s)/.test(N)&&(E=I,T=b,P++),N==="\r"||N===`
`){h.push(b),f.push(-1),m=Math.max(m,b),++w,++C,o.x=0,o.y+=n.lineHeight,y=null,P=0;continue}var D=n.chars[M];if(D){y&&D.kerning[y]&&(o.x+=D.kerning[y]);var H=I_.pop()||{texture:Re.EMPTY,line:0,charCode:0,prevSpaces:0,position:new st};H.texture=D.texture,H.line=w,H.charCode=M,H.position.x=o.x+D.xOffset+this._letterSpacing/2,H.position.y=o.y+D.yOffset,H.prevSpaces=P,u.push(H),b=H.position.x+Math.max(D.xAdvance-D.xOffset,D.texture.orig.width),o.x+=D.xAdvance+this._letterSpacing,R=Math.max(R,D.yOffset+D.texture.height),y=M,E!==-1&&p>0&&o.x>p&&(++C,Ai(u,1+E-C,1+I-E),I=E,E=-1,h.push(T),f.push(u.length>0?u[u.length-1].prevSpaces:0),m=Math.max(m,T),w++,o.x=0,o.y+=n.lineHeight,y=null,P=0)}}var Z=v[v.length-1];Z!=="\r"&&Z!==`
`&&(/(?:\s)/.test(Z)&&(b=T),h.push(b),m=Math.max(m,b),f.push(-1));for(var X=[],I=0;I<=w;I++){var de=0;this._align==="right"?de=m-h[I]:this._align==="center"?de=(m-h[I])/2:this._align==="justify"&&(de=f[I]<0?0:(m-h[I])/f[I]),X.push(de)}var se=u.length,te={},Y=[],re=this._activePagesMeshData;_.push.apply(_,re);for(var I=0;I<se;I++){var ue=u[I].texture,q=ue.baseTexture.uid;if(!te[q]){var W=_.pop();if(!W){var he=new yo,Ae=void 0,Ce=void 0;n.distanceFieldType==="none"?(Ae=new fs(Re.EMPTY),Ce=Pe.NORMAL):(Ae=new fs(Re.EMPTY,{program:_s.from(wM,bM),uniforms:{uFWidth:0}}),Ce=Pe.NORMAL_NPM);var We=new hs(he,Ae);We.blendMode=Ce,W={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:We,vertices:null,uvs:null,indices:null}}W.index=0,W.indexCount=0,W.vertexCount=0,W.uvsCount=0,W.total=0;var ze=this._textureCache;ze[q]=ze[q]||new Re(ue.baseTexture),W.mesh.texture=ze[q],W.mesh.tint=this._tint,Y.push(W),te[q]=W}te[q].total++}for(var I=0;I<re.length;I++)Y.indexOf(re[I])===-1&&this.removeChild(re[I].mesh);for(var I=0;I<Y.length;I++)Y[I].mesh.parent!==this&&this.addChild(Y[I].mesh);this._activePagesMeshData=Y;for(var I in te){var W=te[I],Qe=W.total;if(!(((e=W.indices)===null||e===void 0?void 0:e.length)>6*Qe)||W.vertices.length<hs.BATCHABLE_SIZE*2)W.vertices=new Float32Array(4*2*Qe),W.uvs=new Float32Array(4*2*Qe),W.indices=new Uint16Array(6*Qe);else for(var ge=W.total,G=W.vertices,Le=ge*4*2;Le<G.length;Le++)G[Le]=0;W.mesh.size=6*Qe}for(var I=0;I<se;I++){var N=u[I],$=N.position.x+X[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&($=Math.round($));var Me=$*s,oe=N.position.y*s,ue=N.texture,k=te[ue.baseTexture.uid],Ze=ue.frame,je=ue._uvs,ne=k.index++;k.indices[ne*6+0]=0+ne*4,k.indices[ne*6+1]=1+ne*4,k.indices[ne*6+2]=2+ne*4,k.indices[ne*6+3]=0+ne*4,k.indices[ne*6+4]=2+ne*4,k.indices[ne*6+5]=3+ne*4,k.vertices[ne*8+0]=Me,k.vertices[ne*8+1]=oe,k.vertices[ne*8+2]=Me+Ze.width*s,k.vertices[ne*8+3]=oe,k.vertices[ne*8+4]=Me+Ze.width*s,k.vertices[ne*8+5]=oe+Ze.height*s,k.vertices[ne*8+6]=Me,k.vertices[ne*8+7]=oe+Ze.height*s,k.uvs[ne*8+0]=je.x0,k.uvs[ne*8+1]=je.y0,k.uvs[ne*8+2]=je.x1,k.uvs[ne*8+3]=je.y1,k.uvs[ne*8+4]=je.x2,k.uvs[ne*8+5]=je.y2,k.uvs[ne*8+6]=je.x3,k.uvs[ne*8+7]=je.y3}this._textWidth=m*s,this._textHeight=(o.y+n.lineHeight)*s;for(var I in te){var W=te[I];if(this.anchor.x!==0||this.anchor.y!==0)for(var Qt=0,Nn=this._textWidth*this.anchor.x,rn=this._textHeight*this.anchor.y,ir=0;ir<W.total;ir++)W.vertices[Qt++]-=Nn,W.vertices[Qt++]-=rn,W.vertices[Qt++]-=Nn,W.vertices[Qt++]-=rn,W.vertices[Qt++]-=Nn,W.vertices[Qt++]-=rn,W.vertices[Qt++]-=Nn,W.vertices[Qt++]-=rn;this._maxLineHeight=R*s;var Ln=W.mesh.geometry.getBuffer("aVertexPosition"),si=W.mesh.geometry.getBuffer("aTextureCoord"),bo=W.mesh.geometry.getIndex();Ln.data=W.vertices,si.data=W.uvs,bo.data=W.indices,Ln.update(),si.update(),bo.update()}for(var I=0;I<u.length;I++)I_.push(u[I]);this._font=n,this.dirty=!1},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);var n=An.available[this._fontName],i=n.distanceFieldRange,s=n.distanceFieldType,o=n.size;if(s!=="none")for(var u=this.worldTransform,h=u.a,f=u.b,c=u.c,v=u.d,p=Math.sqrt(h*h+f*f),_=Math.sqrt(c*c+v*v),y=(Math.abs(p)+Math.abs(_))/2,b=this.fontSize/o,m=0,w=this._activePagesMeshData;m<w.length;m++){var E=w[m];E.mesh.shader.uniforms.uFWidth=y*i*b*this._resolution}r.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(){return this.validate(),r.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){var e=An.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!An.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){var e;return(e=this._fontSize)!==null&&e!==void 0?e:An.available[this._fontName].size},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e){var n=this._textureCache,i=An.available[this._fontName],s=i.distanceFieldType==="none"?C_:P_;s.push.apply(s,this._activePagesMeshData);for(var o=0,u=this._activePagesMeshData;o<u.length;o++){var h=u[o];this.removeChild(h.mesh)}this._activePagesMeshData=[],s.filter(function(v){return n[v.mesh.texture.baseTexture.uid]}).forEach(function(v){v.mesh.texture=Re.EMPTY});for(var f in n){var c=n[f];c.destroy(),delete n[f]}this._font=null,this._textureCache=null,r.prototype.destroy.call(this,e)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(cr),tm=function(){function r(){}return r.add=function(){St.setExtensionXhrType("fnt",St.XHR_RESPONSE_TYPE.TEXT)},r.use=function(t,e){var n=Ec(t.data);if(!n){e();return}for(var i=r.getBaseUrl(this,t),s=n.parse(t.data),o={},u=function(b){o[b.metadata.pageFile]=b.texture,Object.keys(o).length===s.page.length&&(t.bitmapFont=An.install(s,o,!0),e())},h=0;h<s.page.length;++h){var f=s.page[h].file,c=i+f,v=!1;for(var p in this.resources){var _=this.resources[p];if(_.url===c){_.metadata.pageFile=f,_.texture?u(_):_.onAfterMiddleware.add(u),v=!0;break}}if(!v){var y={crossOrigin:t.crossOrigin,loadType:St.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},t.metadata.imageMetadata),parentResource:t};this.add(c,y,u)}}},r.getBaseUrl=function(t,e){var n=e.isDataUrl?"":r.dirname(e.url);return e.isDataUrl&&(n==="."&&(n=""),t.baseUrl&&n&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(t.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},r.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":e===""?"/":e},r.extension=dt.Loader,r}();/*!
 * @pixi/filter-alpha - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mf=function(r,t){return mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},mf(r,t)};function TM(r,t){mf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var EM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,SM=function(r){TM(t,r);function t(e){e===void 0&&(e=1);var n=r.call(this,hg,EM,{uAlpha:1})||this;return n.alpha=e,n}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(dn);/*!
 * @pixi/filter-blur - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yf=function(r,t){return yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},yf(r,t)};function rm(r,t){yf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var AM=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function RM(r,t){var e=Math.ceil(r/2),n=AM,i="",s;t?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<r;o++){var u=s.replace("%index%",o.toString());u=u.replace("%sampleIndex%",o-(e-1)+".0"),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}var CM={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},PM=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function IM(r){for(var t=CM[r],e=t.length,n=PM,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,u=0;u<r;u++){var h=s.replace("%index%",u.toString());o=u,u>=e&&(o=r-u-1),h=h.replace("%value%",t[o].toString()),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}var bf=function(r){rm(t,r);function t(e,n,i,s,o){n===void 0&&(n=8),i===void 0&&(i=4),s===void 0&&(s=fe.FILTER_RESOLUTION),o===void 0&&(o=5);var u=this,h=RM(o,e),f=IM(o);return u=r.call(this,h,f)||this,u.horizontal=e,u.resolution=s,u._quality=0,u.quality=i,u.blur=n,u}return t.prototype.apply=function(e,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,i,s);else{var o=e.getFilterTexture(),u=e.renderer,h=n,f=o;this.state.blend=!1,e.applyFilter(this,h,f,Lr.CLEAR);for(var c=1;c<this.passes-1;c++){e.bindAndClear(h,Lr.BLIT),this.uniforms.uSampler=f;var v=f;f=h,h=v,u.shader.bind(this),u.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,f,i,s),e.returnFilterTexture(o)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+Math.abs(e)*2,this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(dn),OM=function(r){rm(t,r);function t(e,n,i,s){e===void 0&&(e=8),n===void 0&&(n=4),i===void 0&&(i=fe.FILTER_RESOLUTION),s===void 0&&(s=5);var o=r.call(this)||this;return o.blurXFilter=new bf(!0,e,n,i,s),o.blurYFilter=new bf(!1,e,n,i,s),o.resolution=i,o.quality=n,o.blur=e,o.repeatEdgePixels=!1,o}return t.prototype.apply=function(e,n,i,s){var o=Math.abs(this.blurXFilter.strength),u=Math.abs(this.blurYFilter.strength);if(o&&u){var h=e.getFilterTexture();this.blurXFilter.apply(e,n,h,Lr.CLEAR),this.blurYFilter.apply(e,h,i,s),e.returnFilterTexture(h)}else u?this.blurYFilter.apply(e,n,i,s):this.blurXFilter.apply(e,n,i,s)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(dn);/*!
 * @pixi/filter-color-matrix - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wf=function(r,t){return wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},wf(r,t)};function MM(r,t){wf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var DM=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,xf=function(r){MM(t,r);function t(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return e=r.call(this,vc,DM,n)||this,e.alpha=1,e}return t.prototype._loadMatrix=function(e,n){n===void 0&&(n=!1);var i=e;n&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(e,n,i){return e[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],e[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],e[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],e[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],e[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],e[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],e[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],e[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],e[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],e[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],e[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],e[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],e[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],e[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],e[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],e[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],e[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],e[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],e[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],e[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],e},t.prototype._colorMatrix=function(e){var n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},t.prototype.brightness=function(e,n){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.tint=function(e,n){var i=e>>16&255,s=e>>8&255,o=e&255,u=[i/255,0,0,0,0,0,s/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(u,n)},t.prototype.greyscale=function(e,n){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.blackAndWhite=function(e){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.hue=function(e,n){e=(e||0)/180*Math.PI;var i=Math.cos(e),s=Math.sin(e),o=Math.sqrt,u=1/3,h=o(u),f=i+(1-i)*u,c=u*(1-i)-h*s,v=u*(1-i)+h*s,p=u*(1-i)+h*s,_=i+u*(1-i),y=u*(1-i)-h*s,b=u*(1-i)-h*s,m=u*(1-i)+h*s,w=i+u*(1-i),E=[f,c,v,0,0,p,_,y,0,0,b,m,w,0,0,0,0,0,1,0];this._loadMatrix(E,n)},t.prototype.contrast=function(e,n){var i=(e||0)+1,s=-.5*(i-1),o=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(o,n)},t.prototype.saturate=function(e,n){e===void 0&&(e=0);var i=e*2/3+1,s=(i-1)*-.5,o=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.sepia=function(e){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.technicolor=function(e){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.polaroid=function(e){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.toBGR=function(e){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.kodachrome=function(e){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.browni=function(e){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.vintage=function(e){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.colorTone=function(e,n,i,s,o){e=e||.2,n=n||.15,i=i||16770432,s=s||3375104;var u=(i>>16&255)/255,h=(i>>8&255)/255,f=(i&255)/255,c=(s>>16&255)/255,v=(s>>8&255)/255,p=(s&255)/255,_=[.3,.59,.11,0,0,u,h,f,e,0,c,v,p,n,0,u-c,h-v,f-p,0,0];this._loadMatrix(_,o)},t.prototype.night=function(e,n){e=e||.1;var i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.predator=function(e,n){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.lsd=function(e){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)},t.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(dn);xf.prototype.grayscale=xf.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tf=function(r,t){return Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Tf(r,t)};function FM(r,t){Tf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var NM=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,LM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,BM=function(r){FM(t,r);function t(e,n){var i=this,s=new Nt;return e.renderable=!1,i=r.call(this,LM,NM,{mapSampler:e._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=e,i.maskMatrix=s,n==null&&(n=20),i.scale=new st(n,n),i}return t.prototype.apply=function(e,n,i,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,u=Math.sqrt(o.a*o.a+o.b*o.b),h=Math.sqrt(o.c*o.c+o.d*o.d);u!==0&&h!==0&&(this.uniforms.rotation[0]=o.a/u,this.uniforms.rotation[1]=o.b/u,this.uniforms.rotation[2]=o.c/h,this.uniforms.rotation[3]=o.d/h),e.applyFilter(this,n,i,s)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(dn);/*!
 * @pixi/filter-fxaa - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ef=function(r,t){return Ef=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Ef(r,t)};function UM(r,t){Ef(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var kM=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,GM=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,HM=function(r){UM(t,r);function t(){return r.call(this,kM,GM)||this}return t}(dn);/*!
 * @pixi/filter-noise - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sf=function(r,t){return Sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Sf(r,t)};function XM(r,t){Sf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var WM=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,zM=function(r){XM(t,r);function t(e,n){e===void 0&&(e=.5),n===void 0&&(n=Math.random());var i=r.call(this,vc,WM,{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=n,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(dn);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var nm=new Nt;Pt.prototype._cacheAsBitmap=!1;Pt.prototype._cacheData=null;Pt.prototype._cacheAsBitmapResolution=null;Pt.prototype._cacheAsBitmapMultisample=vt.NONE;var VM=function(){function r(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return r}();Object.defineProperties(Pt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(r){if(this._cacheAsBitmap!==r){this._cacheAsBitmap=r;var t;r?(this._cacheData||(this._cacheData=new VM),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});Pt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Pt.prototype._initCachedDisplayObject=function(t){var e;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var s=this.filters[0].padding;i.pad(s)}i.ceil(fe.RESOLUTION);var o=t.renderTexture.current,u=t.renderTexture.sourceFrame.clone(),h=t.renderTexture.destinationFrame.clone(),f=t.projection.transform,c=ni.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(e=this.cacheAsBitmapMultisample)!==null&&e!==void 0?e:t.multisample}),v="cacheAsBitmap_"+ri();this._cacheData.textureCacheId=v,Ke.addToCache(c.baseTexture,v),Re.addToCache(c,v);var p=this.transform.localTransform.copyTo(nm).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=f,t.renderTexture.bind(o,u,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var _=new fr(c);_.transform.worldTransform=this.transform.worldTransform,_.anchor.x=-(i.x/i.width),_.anchor.y=-(i.y/i.height),_.alpha=n,_._bounds=this._bounds,this._cacheData.sprite=_,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=_.containsPoint.bind(_)}};Pt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Pt.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=t.context,s=t._projTransform;e.ceil(fe.RESOLUTION);var o=ni.create({width:e.width,height:e.height}),u="cacheAsBitmap_"+ri();this._cacheData.textureCacheId=u,Ke.addToCache(o.baseTexture,u),Re.addToCache(o,u);var h=nm;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),t.context=i,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var f=new fr(o);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(e.x/e.width),f.anchor.y=-(e.y/e.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}};Pt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Pt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Pt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ke.removeFromCache(this._cacheData.textureCacheId),Re.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Pt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pt.prototype.name=null;cr.prototype.getChildByName=function(t,e){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===t)return this.children[n];if(e)for(var n=0,i=this.children.length;n<i;n++){var s=this.children[n];if(s.getChildByName){var o=s.getChildByName(t,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Pt.prototype.getGlobalPosition=function(t,e){return t===void 0&&(t=new st),e===void 0&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/app - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var im=function(){function r(){}return r.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){e.cancelResize();var n,i;if(e._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var s=e._resizeTo,o=s.clientWidth,u=s.clientHeight;n=o,i=u}e.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},r.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},r.extension=dt.Application,r}(),Sc=function(){function r(t){var e=this;this.stage=new cr,t=Object.assign({forceCanvas:!1},t),this.renderer=pc(t),r._plugins.forEach(function(n){n.init.call(e,t)})}return r.registerPlugin=function(t){nr("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),cn.add({type:dt.Application,ref:t})},r.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(r.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),r.prototype.destroy=function(t,e){var n=this,i=r._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(n)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},r._plugins=[],r}();cn.handleByList(dt.Application,Sc._plugins);cn.add(im);/*!
 * @pixi/mesh-extras - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Af=function(r,t){return Af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Af(r,t)};function gs(r,t){Af(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var sm=function(r){gs(t,r);function t(e,n,i,s){e===void 0&&(e=100),n===void 0&&(n=100),i===void 0&&(i=10),s===void 0&&(s=10);var o=r.call(this)||this;return o.segWidth=i,o.segHeight=s,o.width=e,o.height=n,o.build(),o}return t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,n=[],i=[],s=[],o=this.segWidth-1,u=this.segHeight-1,h=this.width/o,f=this.height/u,c=0;c<e;c++){var v=c%this.segWidth,p=c/this.segWidth|0;n.push(v*h,p*f),i.push(v/o,p/u)}for(var _=o*u,c=0;c<_;c++){var y=c%o,b=c/o|0,m=b*this.segWidth+y,w=b*this.segWidth+y+1,E=(b+1)*this.segWidth+y,T=(b+1)*this.segWidth+y+1;s.push(m,w,E,w,T,E)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(yo),om=function(r){gs(t,r);function t(e,n,i){e===void 0&&(e=200),i===void 0&&(i=0);var s=r.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return s.points=n,s._width=e,s.textureScale=i,s.build(),s}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(e.length<1)){n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),i.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));var o=i.data,u=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var h=0,f=e[0],c=this._width*this.textureScale,v=e.length,p=0;p<v;p++){var _=p*4;if(this.textureScale>0){var y=f.x-e[p].x,b=f.y-e[p].y,m=Math.sqrt(y*y+b*b);f=e[p],h+=m/c}else h=p/(v-1);o[_]=h,o[_+1]=0,o[_+2]=h,o[_+3]=1}for(var w=0,p=0;p<v-1;p++){var _=p*2;u[w++]=_,u[w++]=_+1,u[w++]=_+2,u[w++]=_+2,u[w++]=_+1,u[w++]=_+3}i.update(),s.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var n=e[0],i,s=0,o=0,u=this.buffers[0].data,h=e.length,f=0;f<h;f++){var c=e[f],v=f*4;f<e.length-1?i=e[f+1]:i=c,o=-(i.x-n.x),s=i.y-n.y;var p=Math.sqrt(s*s+o*o),_=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=p,o/=p,s*=_,o*=_,u[v]=c.x+s,u[v+1]=c.y+o,u[v+2]=c.x-s,u[v+3]=c.y-o,n=c}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(yo),YM=function(r){gs(t,r);function t(e,n,i){i===void 0&&(i=0);var s=this,o=new om(e.height,n,i),u=new fs(e);return i>0&&(e.baseTexture.wrapMode=Qr.REPEAT),s=r.call(this,o,u)||this,s.autoUpdate=!0,s}return t.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),r.prototype._render.call(this,e)},t}(hs),am=function(r){gs(t,r);function t(e,n,i){var s=this,o=new sm(e.width,e.height,n,i),u=new fs(Re.WHITE);return s=r.call(this,o,u)||this,s.texture=e,s.autoResize=!0,s}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,n=this.shader.texture,i=n.width,s=n.height;this.autoResize&&(e.width!==i||e.height!==s)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),r.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),r.prototype.destroy.call(this,e)},t}(hs),jM=function(r){gs(t,r);function t(e,n,i,s,o){e===void 0&&(e=Re.EMPTY);var u=this,h=new yo(n,i,s);h.getBuffer("aVertexPosition").static=!1;var f=new fs(e);return u=r.call(this,h,f,null,o)||this,u.autoUpdate=!0,u}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),r.prototype._render.call(this,e)},t}(hs),Ba=10,qM=function(r){gs(t,r);function t(e,n,i,s,o){n===void 0&&(n=Ba),i===void 0&&(i=Ba),s===void 0&&(s=Ba),o===void 0&&(o=Ba);var u=r.call(this,Re.WHITE,4,4)||this;return u._origWidth=e.orig.width,u._origHeight=e.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=n,u._rightWidth=s,u._topHeight=i,u._bottomHeight=o,u.texture=e,u}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,o=Math.min(n,s);return o},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,s=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=s*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(am);/*!
 * @pixi/sprite-animated - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rf=function(r,t){return Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Rf(r,t)};function KM(r,t){Rf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ZM=function(r){KM(t,r);function t(e,n){n===void 0&&(n=!0);var i=r.call(this,e[0]instanceof Re?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(kt.shared.add(this.update,this,tn.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var n=this.animationSpeed*e,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),r.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var n=[],i=0;i<e.length;++i)n.push(Re.from(e[i]));return new t(n)},t.fromImages=function(e){for(var n=[],i=0;i<e.length;++i)n.push(Re.from(e[i]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Re)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(kt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(fr);/*!
 * pixi.js - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */cn.add(gg,yc,bg,Ng,Yg,gc,Zg,tm,Ag,Mg,Dg,qg,H0,xg);var JM={AlphaFilter:SM,BlurFilter:OM,BlurFilterPass:bf,ColorMatrixFilter:xf,DisplacementFilter:BM,FXAAFilter:HM,NoiseFilter:zM};const QM=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return Xr},AbstractBatchRenderer:fg,AbstractMultiResource:pu,AbstractRenderer:lg,AccessibilityManager:gg,AnimatedSprite:ZM,AppLoaderPlugin:xg,Application:Sc,ArrayResource:zf,Attribute:Qh,get BLEND_MODES(){return Pe},get BUFFER_BITS(){return Qs},get BUFFER_TYPE(){return $r},BaseImageResource:fn,BasePrepare:zg,BaseRenderTexture:Zf,BaseTexture:Ke,BatchDrawCall:$a,BatchGeometry:_c,BatchPluginFactory:dg,BatchRenderer:gc,BatchShaderGenerator:cg,BatchSystem:ec,BatchTextureArray:eu,BitmapFont:An,BitmapFontData:po,BitmapFontLoader:tm,BitmapText:xM,BlobResource:Sg,Bounds:uo,BrowserAdapter:x0,Buffer:Ft,BufferResource:Oi,get CLEAR_MODES(){return Lr},get COLOR_MASK_BITS(){return Nh},CanvasResource:Vf,Circle:B0,CompressedTextureLoader:Ag,CompressedTextureResource:ru,Container:cr,ContextSystem:tc,CountLimiter:Wg,CubeResource:Yf,DDSLoader:Mg,DEG_TO_RAD:L0,get DRAW_MODES(){return Ur},DisplayObject:Pt,get ENV(){return hn},Ellipse:U0,get ExtensionType(){return dt},Extract:yc,get FORMATS(){return le},FORMATS_TO_COMPONENTS:Pg,FillStyle:bc,Filter:dn,FilterState:V0,FilterSystem:$f,Framebuffer:Qa,FramebufferSystem:rc,get GC_MODES(){return eo},GLFramebuffer:Y0,GLProgram:og,GLTexture:Ha,GRAPHICS_CURVES:us,Geometry:vs,GeometrySystem:nc,Graphics:co,GraphicsData:ff,GraphicsGeometry:Hg,IGLUniformData:II,INSTALLED:lo,get INTERNAL_FORMATS(){return Ge},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:ho,ImageBitmapResource:Kf,ImageResource:vu,InteractionData:$h,InteractionEvent:mg,InteractionManager:bg,InteractionTrackingData:Xa,KTXLoader:Dg,get LINE_CAP(){return On},get LINE_JOIN(){return un},LineStyle:Xg,Loader:as,get LoaderResource(){return St},get MASK_TYPES(){return Mt},get MIPMAP_MODES(){return xr},get MSAA_QUALITY(){return vt},MaskData:j0,MaskSystem:ic,Matrix:Nt,Mesh:hs,MeshBatchUvs:Jg,MeshGeometry:yo,MeshMaterial:fs,NineSlicePlane:qM,ObjectRenderer:mo,ObservablePoint:In,PI_2:ao,get PRECISION(){return hr},ParticleContainer:kO,ParticleRenderer:Ng,PlaneGeometry:sm,Point:st,Polygon:js,Prepare:Yg,Program:_s,ProjectionSystem:ac,Quad:z0,QuadUv:Qf,RAD_TO_DEG:N0,get RENDERER_TYPE(){return ss},Rectangle:Ye,RenderTexture:ni,RenderTexturePool:W0,RenderTextureSystem:uc,Renderer:dc,ResizePlugin:im,Resource:Pi,RopeGeometry:om,RoundedRectangle:k0,Runner:zt,get SAMPLER_TYPES(){return $s},get SCALE_MODES(){return jt},get SHAPES(){return Gt},SVGResource:jf,ScissorSystem:sc,Shader:Mn,ShaderSystem:lc,SimpleMesh:jM,SimplePlane:am,SimpleRope:YM,Sprite:fr,SpriteMaskFilter:eg,Spritesheet:jg,SpritesheetLoader:qg,State:ii,StateSystem:hc,StencilSystem:oc,System:YI,get TARGETS(){return Zn},get TEXT_GRADIENT(){return ls},get TYPES(){return Ie},TYPES_TO_BYTES_PER_COMPONENT:sf,TYPES_TO_BYTES_PER_PIXEL:Ig,TemporaryDisplayObject:Wf,Text:gu,TextFormat:Qg,TextMetrics:Wr,TextStyle:Fn,Texture:Re,TextureGCSystem:fc,TextureLoader:Tg,TextureMatrix:_u,TextureSystem:cc,TextureUvs:Jf,Ticker:kt,TickerPlugin:H0,TilingSprite:lM,TilingSpriteRenderer:Zg,TimeLimiter:uM,Transform:Hf,get UPDATE_PRIORITY(){return tn},UniformGroup:Jn,VERSION:KI,VideoResource:qf,ViewableBuffer:tu,get WRAP_MODES(){return Qr},XMLFormat:nu,XMLStringFormat:$g,accessibleTarget:_g,autoDetectFormat:Ec,autoDetectRenderer:pc,autoDetectResource:du,checkMaxIfStatementsInShader:$0,createUBOElements:ng,defaultFilterVertex:vc,defaultVertex:hg,extensions:cn,filters:JM,generateProgram:ag,generateUniformBufferSync:sg,getTestContext:Z0,getUBOData:ig,graphicsUtils:VO,groupD8:bt,interactiveTarget:yg,isMobile:kr,parseDDS:Cg,parseKTX:Og,resources:pg,settings:fe,systems:vg,uniformParsers:Ri,utils:$P},Symbol.toStringTag,{value:"Module"}));function um(r){return Object.keys(r).reduce((t,e)=>typeof r[e]>"u"?t:{...t,[e]:r[e]},{})}const $M=r=>({}),O_=r=>({});function e3(r){let t,e,n;return{c(){t=ae("div")},m(i,s){ve(i,t,s),e||(n=t0(r[0].call(null,t)),e=!0)},p:Oe,i:Oe,o:Oe,d(i){i&&pe(t),e=!1,n()}}}function t3(r){let t,e,n,i;const s=r[16].view,o=Tr(s,r,r[15],O_);return{c(){t=ae("div"),o&&o.c()},m(u,h){ve(u,t,h),o&&o.m(t,null),e=!0,n||(i=t0(r[0].call(null,t)),n=!0)},p(u,h){o&&o.p&&(!e||h&32768)&&Sr(o,s,u,u[15],e?Er(s,u[15],h,$M):Ar(u[15]),O_)},i(u){e||(V(o,u),e=!0)},o(u){Q(o,u),e=!1},d(u){u&&pe(t),o&&o.d(u),n=!1,i()}}}function r3(r){let t,e,n,i;const s=[t3,e3],o=[];function u(c,v){return c[1].view?0:1}t=u(r),e=o[t]=s[t](r);const h=r[16].default,f=Tr(h,r,r[15],null);return{c(){e.c(),n=be(),f&&f.c()},m(c,v){o[t].m(c,v),ve(c,n,v),f&&f.m(c,v),i=!0},p(c,[v]){let p=t;t=u(c),t===p?o[t].p(c,v):(tt(),Q(o[p],1,1,()=>{o[p]=null}),rt(),e=o[t],e?e.p(c,v):(e=o[t]=s[t](c),e.c()),V(e,1),e.m(n.parentNode,n)),f&&f.p&&(!i||v&32768)&&Sr(f,h,c,c[15],i?Er(h,c[15],v,null):Ar(c[15]),null)},i(c){i||(V(e),V(f,c),i=!0)},o(c){Q(e),Q(f,c),i=!1},d(c){o[t].d(c),c&&pe(n),f&&f.d(c)}}}function Ac(){return Of("pixi/renderer")}function n3(r,t,e){let{$$slots:n={},$$scope:i}=t;const s=e0(n),o=ds();let{width:u=800}=t,{height:h=600}=t,{useContextAlpha:f=void 0}=t,{autoDensity:c=!0}=t,{antialias:v=!1}=t,{preserveDrawingBuffer:p=!1}=t,{resolution:_=fe.RESOLUTION}=t,{forceCanvas:y=!1}=t,{backgroundColor:b=0}=t,{backgroundAlpha:m=1}=t,{clearBeforeRender:w=void 0}=t,{powerPreference:E=void 0}=t,{instance:T=pc(um({width:u,height:h,useContextAlpha:f,autoDensity:c,antialias:v,preserveDrawingBuffer:p,resolution:_,forceCanvas:y,backgroundColor:b,backgroundAlpha:m,clearBeforeRender:w,powerPreference:E}))}=t;is("pixi/renderer",{renderer:T,invalidate:()=>{o("invalidate")}});function C(R){R.childNodes.length?R.childNodes[0].appendChild(T.view):R.appendChild(T.view)}return ou(()=>{T.on("prerender",R=>o("prerender",R)),T.on("postrender",R=>o("postrender",R))}),r.$$set=R=>{"width"in R&&e(2,u=R.width),"height"in R&&e(3,h=R.height),"useContextAlpha"in R&&e(4,f=R.useContextAlpha),"autoDensity"in R&&e(5,c=R.autoDensity),"antialias"in R&&e(6,v=R.antialias),"preserveDrawingBuffer"in R&&e(7,p=R.preserveDrawingBuffer),"resolution"in R&&e(8,_=R.resolution),"forceCanvas"in R&&e(9,y=R.forceCanvas),"backgroundColor"in R&&e(10,b=R.backgroundColor),"backgroundAlpha"in R&&e(11,m=R.backgroundAlpha),"clearBeforeRender"in R&&e(12,w=R.clearBeforeRender),"powerPreference"in R&&e(13,E=R.powerPreference),"instance"in R&&e(14,T=R.instance),"$$scope"in R&&e(15,i=R.$$scope)},[C,s,u,h,f,c,v,p,_,y,b,m,w,E,T,i,n]}class i3 extends ht{constructor(t){super(),lt(this,t,n3,r3,ot,{width:2,height:3,useContextAlpha:4,autoDensity:5,antialias:6,preserveDrawingBuffer:7,resolution:8,forceCanvas:9,backgroundColor:10,backgroundAlpha:11,clearBeforeRender:12,powerPreference:13,instance:14})}}function s3(r){let t;const e=r[7].default,n=Tr(e,r,r[6],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),t=!0},p(i,[s]){n&&n.p&&(!t||s&64)&&Sr(n,e,i,i[6],t?Er(e,i[6],s,null):Ar(i[6]),null)},i(i){t||(V(n,i),t=!0)},o(i){Q(n,i),t=!1},d(i){n&&n.d(i)}}}function o3(r,t,e){let{$$slots:n={},$$scope:i}=t;const s=ds();let{autoStart:o=!0}=t,{maxFPS:u=0}=t,{minFPS:h=10}=t,{speed:f=1}=t,{instance:c=new kt}=t,{priority:v=tn.LOW}=t;is("pixi/ticker",{ticker:c});const{applyProp:p}=Rc(c);return ou(()=>(c.add(_=>{s("tick",_)},v),()=>{c.destroy()})),r.$$set=_=>{"autoStart"in _&&e(0,o=_.autoStart),"maxFPS"in _&&e(1,u=_.maxFPS),"minFPS"in _&&e(2,h=_.minFPS),"speed"in _&&e(3,f=_.speed),"instance"in _&&e(4,c=_.instance),"priority"in _&&e(5,v=_.priority),"$$scope"in _&&e(6,i=_.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&p("autoStart",o),r.$$.dirty&2&&p("maxFPS",u),r.$$.dirty&4&&p("minFPS",h),r.$$.dirty&8&&p("speed",f)},[o,u,h,f,c,v,i,n]}class lm extends ht{constructor(t){super(),lt(this,t,o3,s3,ot,{autoStart:0,maxFPS:1,minFPS:2,speed:3,instance:4,priority:5})}}function a3(r){return Array.isArray(r)?new st(r[0],r[1]):typeof r=="number"?new st(r,r):r instanceof st||r instanceof In?r:new st(r.x,r.y)}function Rc(r,t){const e=t;return{applyProps:n=>u3(r,n,{...e,...t}),applyProp:(n,i)=>hm(r,n,i,n!==null?e==null?void 0:e[n]:void 0)}}function u3(r,t,e){if(r)for(const[n,i]of Object.entries(t))hm(r,n,i,e==null?void 0:e[n])}function hm(r,t,e,n){r&&(t===null?n==null||n(e,r):r[t]!==e&&typeof e<"u"&&(n?n(e,r):r[t]instanceof st||r[t]instanceof In?r[t]=a3(e):r[t]=e))}function l3(r){let t;const e=r[40].default,n=Tr(e,r,r[39],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s[1]&256)&&Sr(n,e,i,i[39],t?Er(e,i[39],s,null):Ar(i[39]),null)},i(i){t||(V(n,i),t=!0)},o(i){Q(n,i),t=!1},d(i){n&&n.d(i)}}}function h3(){return Of("pixi/container")}function f3(r,t,e){let{$$slots:n={},$$scope:i}=t;const s=e0(n);let{accessible:o=!1}=t,{accessibleChildren:u=!0}=t,{accessibleHint:h=void 0}=t,{accessiblePointerEvents:f="auto"}=t,{accessibleTitle:c=void 0}=t,{accessibleType:v="button"}=t,{alpha:p=void 0}=t,{angle:_=void 0}=t,{buttonMode:y=void 0}=t,{cacheAsBitmap:b=void 0}=t,{cacheAsBitmapMultisample:m=vt.NONE}=t,{cacheAsBitmapResolution:w=void 0}=t,{cullable:E=void 0}=t,{cullArea:T=void 0}=t,{cursor:C=void 0}=t,{filterArea:R=void 0}=t,{filters:P=void 0}=t,{height:I=void 0}=t,{hitArea:N=void 0}=t,{interactive:M=!1}=t,{interactiveChildren:D=!0}=t,{isMask:H=void 0}=t,{isSprite:Z=void 0}=t,{mask:X=void 0}=t,{name:de=void 0}=t,{pivot:se=void 0}=t,{position:te=void 0}=t,{renderable:Y=void 0}=t,{rotation:re=void 0}=t,{scale:ue=void 0}=t,{skew:q=void 0}=t,{sortableChildren:W=void 0}=t,{width:he=void 0}=t,{transform:Ae=void 0}=t,{visible:Ce=void 0}=t,{x:We=void 0}=t,{y:ze=void 0}=t,{zIndex:Qe=void 0}=t,{instance:ge=new cr}=t;const{applyProp:G,applyProps:Le}=Rc(ge),{invalidate:$}=Ac(),{container:Me}=h3()??{},oe=ds();return ou(()=>{let k=-1,Ze=ge,je=Me;try{k=je.getChildIndex(Ze)}catch{}if(je&&k===-1&&je.addChild(Ze),oe("create",{instance:Ze}),s.default){const{instance:ne,...Qt}=t;Le(Qt)}return ge.on("click",ne=>oe("click",ne)),ge.on("mousedown",ne=>oe("mousedown",ne)),ge.on("mousemove",ne=>oe("mousemove",ne)),ge.on("mouseout",ne=>oe("mouseout",ne)),ge.on("mouseover",ne=>oe("mouseover",ne)),ge.on("mouseup",ne=>oe("mouseup",ne)),ge.on("mouseupoutside",ne=>oe("mouseupoutside",ne)),ge.on("mouseupoutside",ne=>oe("mouseupoutside",ne)),ge.on("pointercancel",ne=>oe("pointercancel",ne)),ge.on("pointerdown",ne=>oe("pointerdown",ne)),ge.on("pointermove",ne=>oe("pointermove",ne)),ge.on("pointerout",ne=>oe("pointerout",ne)),ge.on("pointerover",ne=>oe("pointerover",ne)),ge.on("pointertap",ne=>oe("pointertap",ne)),ge.on("pointerup",ne=>oe("pointerup",ne)),ge.on("pointerupoutside",ne=>oe("pointerupoutside",ne)),ge.on("removedFrom",ne=>oe("removedFrom",ne)),ge.on("rightclick",ne=>oe("rightclick",ne)),ge.on("rightdown",ne=>oe("rightdown",ne)),ge.on("rightup",ne=>oe("rightup",ne)),ge.on("rightupoutside",ne=>oe("rightupoutside",ne)),ge.on("tap",ne=>oe("tap",ne)),ge.on("touchcancel",ne=>oe("touchcancel",ne)),ge.on("touchend",ne=>oe("touchend",ne)),ge.on("touchendoutside",ne=>oe("touchendoutside",ne)),ge.on("touchmove",ne=>oe("touchmove",ne)),ge.on("touchstart",ne=>oe("touchstart",ne)),ge.on("added",ne=>oe("added",ne)),ge.on("removed",ne=>oe("removed",ne)),()=>{Ze==null||Ze.destroy(),je==null||je.removeChild(Ze),$()}}),r0(()=>{$()}),Me||is("pixi/stage",{stage:ge}),is("pixi/container",{container:ge}),r.$$set=k=>{e(46,t=Hr(Hr({},t),Va(k))),"accessible"in k&&e(0,o=k.accessible),"accessibleChildren"in k&&e(1,u=k.accessibleChildren),"accessibleHint"in k&&e(2,h=k.accessibleHint),"accessiblePointerEvents"in k&&e(3,f=k.accessiblePointerEvents),"accessibleTitle"in k&&e(4,c=k.accessibleTitle),"accessibleType"in k&&e(5,v=k.accessibleType),"alpha"in k&&e(6,p=k.alpha),"angle"in k&&e(7,_=k.angle),"buttonMode"in k&&e(8,y=k.buttonMode),"cacheAsBitmap"in k&&e(9,b=k.cacheAsBitmap),"cacheAsBitmapMultisample"in k&&e(10,m=k.cacheAsBitmapMultisample),"cacheAsBitmapResolution"in k&&e(11,w=k.cacheAsBitmapResolution),"cullable"in k&&e(12,E=k.cullable),"cullArea"in k&&e(13,T=k.cullArea),"cursor"in k&&e(14,C=k.cursor),"filterArea"in k&&e(15,R=k.filterArea),"filters"in k&&e(16,P=k.filters),"height"in k&&e(17,I=k.height),"hitArea"in k&&e(18,N=k.hitArea),"interactive"in k&&e(19,M=k.interactive),"interactiveChildren"in k&&e(20,D=k.interactiveChildren),"isMask"in k&&e(21,H=k.isMask),"isSprite"in k&&e(22,Z=k.isSprite),"mask"in k&&e(23,X=k.mask),"name"in k&&e(24,de=k.name),"pivot"in k&&e(25,se=k.pivot),"position"in k&&e(26,te=k.position),"renderable"in k&&e(27,Y=k.renderable),"rotation"in k&&e(28,re=k.rotation),"scale"in k&&e(29,ue=k.scale),"skew"in k&&e(30,q=k.skew),"sortableChildren"in k&&e(31,W=k.sortableChildren),"width"in k&&e(32,he=k.width),"transform"in k&&e(33,Ae=k.transform),"visible"in k&&e(34,Ce=k.visible),"x"in k&&e(35,We=k.x),"y"in k&&e(36,ze=k.y),"zIndex"in k&&e(37,Qe=k.zIndex),"instance"in k&&e(38,ge=k.instance),"$$scope"in k&&e(39,i=k.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&1&&G("accessible",o),r.$$.dirty[0]&2&&G("accessibleChildren",u),r.$$.dirty[0]&4&&G("accessibleHint",h),r.$$.dirty[0]&8&&G("accessiblePointerEvents",f),r.$$.dirty[0]&16&&G("accessibleTitle",c),r.$$.dirty[0]&32&&G("accessibleType",v),r.$$.dirty[0]&64&&G("alpha",p),r.$$.dirty[0]&128&&G("angle",_),r.$$.dirty[0]&256&&G("buttonMode",y),r.$$.dirty[0]&512&&G("cacheAsBitmap",b),r.$$.dirty[0]&2048&&G("cacheAsBitmapResolution",w),r.$$.dirty[0]&1024&&G("cacheAsBitmapMultisample",m),r.$$.dirty[0]&16384&&G("cursor",C),r.$$.dirty[0]&4096&&G("cullable",E),r.$$.dirty[0]&8192&&G("cullArea",T),r.$$.dirty[0]&32768&&G("filterArea",R),r.$$.dirty[0]&262144&&G("hitArea",N),r.$$.dirty[0]&65536&&G("filters",P),r.$$.dirty[0]&131072&&G("height",I),r.$$.dirty[0]&2097152&&G("isMask",H),r.$$.dirty[0]&4194304&&G("isSprite",Z),r.$$.dirty[0]&524288&&G("interactive",M),r.$$.dirty[0]&1048576&&G("interactiveChildren",D),r.$$.dirty[0]&8388608&&G("mask",X),r.$$.dirty[0]&16777216&&G("name",de),r.$$.dirty[0]&33554432&&G("pivot",se),r.$$.dirty[0]&67108864&&G("position",te),r.$$.dirty[0]&134217728&&G("renderable",Y),r.$$.dirty[0]&268435456&&G("rotation",re),r.$$.dirty[0]&536870912&&G("scale",ue),r.$$.dirty[0]&1073741824&&G("skew",q),r.$$.dirty[1]&1&&G("sortableChildren",W),r.$$.dirty[1]&4&&G("transform",Ae),r.$$.dirty[1]&8&&G("visible",Ce),r.$$.dirty[1]&16&&G("x",We),r.$$.dirty[1]&32&&G("y",ze),r.$$.dirty[1]&2&&G("width",he),r.$$.dirty[1]&64&&G("zIndex",Qe)},t=Va(t),[o,u,h,f,c,v,p,_,y,b,m,w,E,T,C,R,P,I,N,M,D,H,Z,X,de,se,te,Y,re,ue,q,W,he,Ae,Ce,We,ze,Qe,ge,i,n]}class Mi extends ht{constructor(t){super(),lt(this,t,f3,l3,ot,{accessible:0,accessibleChildren:1,accessibleHint:2,accessiblePointerEvents:3,accessibleTitle:4,accessibleType:5,alpha:6,angle:7,buttonMode:8,cacheAsBitmap:9,cacheAsBitmapMultisample:10,cacheAsBitmapResolution:11,cullable:12,cullArea:13,cursor:14,filterArea:15,filters:16,height:17,hitArea:18,interactive:19,interactiveChildren:20,isMask:21,isSprite:22,mask:23,name:24,pivot:25,position:26,renderable:27,rotation:28,scale:29,skew:30,sortableChildren:31,width:32,transform:33,visible:34,x:35,y:36,zIndex:37,instance:38},null,[-1,-1])}}const c3=r=>({}),M_=r=>({slot:"view"});function D_(r){let t,e;return t=new lm({}),t.$on("tick",r[18]),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p:Oe,i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function d3(r){let t;const e=r[17].default,n=Tr(e,r,r[22],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&4194304)&&Sr(n,e,i,i[22],t?Er(e,i[22],s,null):Ar(i[22]),null)},i(i){t||(V(n,i),t=!0)},o(i){Q(n,i),t=!1},d(i){n&&n.d(i)}}}function p3(r){let t,e;return t=new Mi({props:{instance:r[1].stage,$$slots:{default:[d3]},$$scope:{ctx:r}}}),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,i){const s={};i&2&&(s.instance=n[1].stage),i&4194304&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function v3(r){let t,e,n,i=r[0]&&D_(r);return e=new lm({props:{instance:r[1].ticker,$$slots:{default:[p3]},$$scope:{ctx:r}}}),{c(){i&&i.c(),t=be(),Se(e.$$.fragment)},m(s,o){i&&i.m(s,o),ve(s,t,o),xe(e,s,o),n=!0},p(s,o){s[0]?i?(i.p(s,o),o&1&&V(i,1)):(i=D_(s),i.c(),V(i,1),i.m(t.parentNode,t)):i&&(tt(),Q(i,1,1,()=>{i=null}),rt());const u={};o&2&&(u.instance=s[1].ticker),o&4194306&&(u.$$scope={dirty:o,ctx:s}),e.$set(u)},i(s){n||(V(i),V(e.$$.fragment,s),n=!0)},o(s){Q(i),Q(e.$$.fragment,s),n=!1},d(s){i&&i.d(s),s&&pe(t),Te(e,s)}}}function _3(r){let t;return{c(){t=ae("div")},m(e,n){ve(e,t,n)},p:Oe,d(e){e&&pe(t)}}}function g3(r){let t;const e=r[17].view,n=Tr(e,r,r[22],M_),i=n||_3();return{c(){i&&i.c()},m(s,o){i&&i.m(s,o),t=!0},p(s,o){n&&n.p&&(!t||o&4194304)&&Sr(n,e,s,s[22],t?Er(e,s[22],o,c3):Ar(s[22]),M_)},i(s){t||(V(i,s),t=!0)},o(s){Q(i,s),t=!1},d(s){i&&i.d(s)}}}function m3(r){let t,e;return t=new i3({props:{instance:r[1].renderer,$$slots:{view:[g3],default:[v3]},$$scope:{ctx:r}}}),t.$on("invalidate",r[19]),t.$on("prerender",r[20]),t.$on("postrender",r[21]),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,[i]){const s={};i&2&&(s.instance=n[1].renderer),i&4194311&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function Cc(){return Of("pixi/app")??{}}function y3(r,t,e){let{$$slots:n={},$$scope:i}=t,{autoStart:s=!0}=t,{width:o=800}=t,{height:u=600}=t,{useContextAlpha:h=void 0}=t,{autoDensity:f=!0}=t,{antialias:c=!1}=t,{preserveDrawingBuffer:v=!1}=t,{resolution:p=fe.RESOLUTION}=t,{forceCanvas:_=!1}=t,{backgroundColor:y=0}=t,{backgroundAlpha:b=1}=t,{clearBeforeRender:m=void 0}=t,{powerPreference:w=void 0}=t,{resizeTo:E=void 0}=t,{render:T="auto"}=t,{instance:C=new Sc(um({autoStart:s,width:o,height:u,useContextAlpha:h,autoDensity:f,antialias:c,preserveDrawingBuffer:v,resolution:p,forceCanvas:_,backgroundColor:y,backgroundAlpha:b,clearBeforeRender:m,powerPreference:w,resizeTo:E}))}=t,R=!0;is("pixi/app",{app:C}),T&&C.ticker.remove(C.render,C);const P=()=>{T==="demand"?R&&(e(2,R=!1),C.renderer.render(C.stage)):T==="auto"&&C.renderer.render(C.stage)},I=()=>{e(2,R=!0)};function N(D){nt.call(this,r,D)}function M(D){nt.call(this,r,D)}return r.$$set=D=>{"autoStart"in D&&e(3,s=D.autoStart),"width"in D&&e(4,o=D.width),"height"in D&&e(5,u=D.height),"useContextAlpha"in D&&e(6,h=D.useContextAlpha),"autoDensity"in D&&e(7,f=D.autoDensity),"antialias"in D&&e(8,c=D.antialias),"preserveDrawingBuffer"in D&&e(9,v=D.preserveDrawingBuffer),"resolution"in D&&e(10,p=D.resolution),"forceCanvas"in D&&e(11,_=D.forceCanvas),"backgroundColor"in D&&e(12,y=D.backgroundColor),"backgroundAlpha"in D&&e(13,b=D.backgroundAlpha),"clearBeforeRender"in D&&e(14,m=D.clearBeforeRender),"powerPreference"in D&&e(15,w=D.powerPreference),"resizeTo"in D&&e(16,E=D.resizeTo),"render"in D&&e(0,T=D.render),"instance"in D&&e(1,C=D.instance),"$$scope"in D&&e(22,i=D.$$scope)},[T,C,R,s,o,u,h,f,c,v,p,_,y,b,m,w,E,n,P,I,N,M,i]}class b3 extends ht{constructor(t){super(),lt(this,t,y3,m3,ot,{autoStart:3,width:4,height:5,useContextAlpha:6,autoDensity:7,antialias:8,preserveDrawingBuffer:9,resolution:10,forceCanvas:11,backgroundColor:12,backgroundAlpha:13,clearBeforeRender:14,powerPreference:15,resizeTo:16,render:0,instance:1})}}const w3=r=>({progress:r&1}),F_=r=>({progress:r[0]});function x3(r){let t;const e=r[7].default,n=Tr(e,r,r[6],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&64)&&Sr(n,e,i,i[6],t?Er(e,i[6],s,null):Ar(i[6]),null)},i(i){t||(V(n,i),t=!0)},o(i){Q(n,i),t=!1},d(i){n&&n.d(i)}}}function T3(r){let t;const e=r[7].loading,n=Tr(e,r,r[6],F_);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&65)&&Sr(n,e,i,i[6],t?Er(e,i[6],s,w3):Ar(i[6]),F_)},i(i){t||(V(n,i),t=!0)},o(i){Q(n,i),t=!1},d(i){n&&n.d(i)}}}function E3(r){let t,e,n,i;const s=[T3,x3],o=[];function u(h,f){return h[1]?0:1}return t=u(r),e=o[t]=s[t](r),{c(){e.c(),n=qt()},m(h,f){o[t].m(h,f),ve(h,n,f),i=!0},p(h,[f]){let c=t;t=u(h),t===c?o[t].p(h,f):(tt(),Q(o[c],1,1,()=>{o[c]=null}),rt(),e=o[t],e?e.p(h,f):(e=o[t]=s[t](h),e.c()),V(e,1),e.m(n.parentNode,n))},i(h){i||(V(e),i=!0)},o(h){Q(e),i=!1},d(h){o[t].d(h),h&&pe(n)}}}function S3(r,t,e){let{$$slots:n={},$$scope:i}=t;const s=ds();let{resources:o=[]}=t,{baseUrl:u=""}=t,{concurrency:h=10}=t,{instance:f=new as}=t;is("pixi/loader",{loader:f});const{invalidate:c}=Ac();let v=0,p=o.length>0;return ou(()=>{u&&e(2,f.baseUrl=u,f),h&&e(2,f.concurrency=h,f),o.forEach(I=>{Array.isArray(I)?f.add(...I):f.add(I)}),f.load();function _(I){s("complete",I),c(),e(1,p=!1)}function y(I){s("progress",I),c(),e(0,v=I.progress)}function b(I){s("error",I),c()}function m(I){s("start",I),c()}function w(I){s("load",I),c()}const E=f.onComplete.add(_),T=f.onProgress.add(y),C=f.onError.add(b),R=f.onStart.add(m),P=f.onLoad.add(w);return()=>{f.onComplete.detach(E),f.onProgress.detach(T),f.onError.detach(C),f.onStart.detach(R),f.onLoad.detach(P)}}),r.$$set=_=>{"resources"in _&&e(3,o=_.resources),"baseUrl"in _&&e(4,u=_.baseUrl),"concurrency"in _&&e(5,h=_.concurrency),"instance"in _&&e(2,f=_.instance),"$$scope"in _&&e(6,i=_.$$scope)},[v,p,f,o,u,h,i,n]}class A3 extends ht{constructor(t){super(),lt(this,t,S3,E3,ot,{resources:3,baseUrl:4,concurrency:5,instance:2})}}function R3(r){let t;const e=r[7].default,n=Tr(e,r,r[38],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s[1]&128)&&Sr(n,e,i,i[38],t?Er(e,i[38],s,null):Ar(i[38]),null)},i(i){t||(V(n,i),t=!0)},o(i){Q(n,i),t=!1},d(i){n&&n.d(i)}}}function C3(r){let t,e;const n=[r[1],{instance:r[0]}];let i={$$slots:{default:[R3]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=Hr(i,n[s]);return t=new Mi({props:i}),t.$on("create",r[8]),t.$on("click",r[9]),t.$on("mousedown",r[10]),t.$on("mousemove",r[11]),t.$on("mouseout",r[12]),t.$on("mouseover",r[13]),t.$on("mouseup",r[14]),t.$on("mouseupoutside",r[15]),t.$on("mouseupoutside",r[16]),t.$on("pointercancel",r[17]),t.$on("pointerdown",r[18]),t.$on("pointermove",r[19]),t.$on("pointerout",r[20]),t.$on("pointerover",r[21]),t.$on("pointertap",r[22]),t.$on("pointerup",r[23]),t.$on("pointerupoutside",r[24]),t.$on("removedFrom",r[25]),t.$on("rightclick",r[26]),t.$on("rightdown",r[27]),t.$on("rightup",r[28]),t.$on("rightupoutside",r[29]),t.$on("tap",r[30]),t.$on("touchcancel",r[31]),t.$on("touchend",r[32]),t.$on("touchendoutside",r[33]),t.$on("touchmove",r[34]),t.$on("touchstart",r[35]),t.$on("added",r[36]),t.$on("removed",r[37]),{c(){Se(t.$$.fragment)},m(s,o){xe(t,s,o),e=!0},p(s,o){const u=o[0]&3?vo(n,[o[0]&2&&_o(s[1]),o[0]&1&&{instance:s[0]}]):{};o[1]&128&&(u.$$scope={dirty:o,ctx:s}),t.$set(u)},i(s){e||(V(t.$$.fragment,s),e=!0)},o(s){Q(t.$$.fragment,s),e=!1},d(s){Te(t,s)}}}function P3(r,t,e){const n=["anchor","blendMode","pluginName","roundPixels","texture","instance"];let i=Ya(t,n),{$$slots:s={},$$scope:o}=t,{anchor:u=void 0}=t,{blendMode:h=Pe.NORMAL}=t,{pluginName:f=void 0}=t,{roundPixels:c=void 0}=t,{texture:v}=t,{instance:p=new fr(v)}=t;const{applyProp:_}=Rc(p),{invalidate:y}=Ac();r0(()=>{y()});function b(G){nt.call(this,r,G)}function m(G){nt.call(this,r,G)}function w(G){nt.call(this,r,G)}function E(G){nt.call(this,r,G)}function T(G){nt.call(this,r,G)}function C(G){nt.call(this,r,G)}function R(G){nt.call(this,r,G)}function P(G){nt.call(this,r,G)}function I(G){nt.call(this,r,G)}function N(G){nt.call(this,r,G)}function M(G){nt.call(this,r,G)}function D(G){nt.call(this,r,G)}function H(G){nt.call(this,r,G)}function Z(G){nt.call(this,r,G)}function X(G){nt.call(this,r,G)}function de(G){nt.call(this,r,G)}function se(G){nt.call(this,r,G)}function te(G){nt.call(this,r,G)}function Y(G){nt.call(this,r,G)}function re(G){nt.call(this,r,G)}function ue(G){nt.call(this,r,G)}function q(G){nt.call(this,r,G)}function W(G){nt.call(this,r,G)}function he(G){nt.call(this,r,G)}function Ae(G){nt.call(this,r,G)}function Ce(G){nt.call(this,r,G)}function We(G){nt.call(this,r,G)}function ze(G){nt.call(this,r,G)}function Qe(G){nt.call(this,r,G)}function ge(G){nt.call(this,r,G)}return r.$$set=G=>{t=Hr(Hr({},t),Va(G)),e(1,i=Ya(t,n)),"anchor"in G&&e(2,u=G.anchor),"blendMode"in G&&e(3,h=G.blendMode),"pluginName"in G&&e(4,f=G.pluginName),"roundPixels"in G&&e(5,c=G.roundPixels),"texture"in G&&e(6,v=G.texture),"instance"in G&&e(0,p=G.instance),"$$scope"in G&&e(38,o=G.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&4&&_("anchor",u),r.$$.dirty[0]&8&&_("blendMode",h),r.$$.dirty[0]&16&&_("pluginName",f),r.$$.dirty[0]&32&&_("roundPixels",c),r.$$.dirty[0]&64&&_("texture",v),r.$$.dirty[0]&64&&v.on("update",()=>y())},[p,i,u,h,f,c,v,s,b,m,w,E,T,C,R,P,I,N,M,D,H,Z,X,de,se,te,Y,re,ue,q,W,he,Ae,Ce,We,ze,Qe,ge,o]}class Gr extends ht{constructor(t){super(),lt(this,t,P3,C3,ot,{anchor:2,blendMode:3,pluginName:4,roundPixels:5,texture:6,instance:0},null,[-1,-1])}}var Ii={},I3={get exports(){return Ii},set exports(r){Ii=r}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,t){(function(){var e,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",f=500,c="__lodash_placeholder__",v=1,p=2,_=4,y=1,b=2,m=1,w=2,E=4,T=8,C=16,R=32,P=64,I=128,N=256,M=512,D=30,H="...",Z=800,X=16,de=1,se=2,te=3,Y=1/0,re=9007199254740991,ue=17976931348623157e292,q=0/0,W=4294967295,he=W-1,Ae=W>>>1,Ce=[["ary",I],["bind",m],["bindKey",w],["curry",T],["curryRight",C],["flip",M],["partial",R],["partialRight",P],["rearg",N]],We="[object Arguments]",ze="[object Array]",Qe="[object AsyncFunction]",ge="[object Boolean]",G="[object Date]",Le="[object DOMException]",$="[object Error]",Me="[object Function]",oe="[object GeneratorFunction]",k="[object Map]",Ze="[object Number]",je="[object Null]",ne="[object Object]",Qt="[object Promise]",Nn="[object Proxy]",rn="[object RegExp]",ir="[object Set]",Ln="[object String]",si="[object Symbol]",bo="[object Undefined]",ms="[object WeakMap]",fm="[object WeakSet]",ys="[object ArrayBuffer]",Di="[object DataView]",mu="[object Float32Array]",yu="[object Float64Array]",bu="[object Int8Array]",wu="[object Int16Array]",xu="[object Int32Array]",Tu="[object Uint8Array]",Eu="[object Uint8ClampedArray]",Su="[object Uint16Array]",Au="[object Uint32Array]",cm=/\b__p \+= '';/g,dm=/\b(__p \+=) '' \+/g,pm=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pc=/&(?:amp|lt|gt|quot|#39);/g,Ic=/[&<>"']/g,vm=RegExp(Pc.source),_m=RegExp(Ic.source),gm=/<%-([\s\S]+?)%>/g,mm=/<%([\s\S]+?)%>/g,Oc=/<%=([\s\S]+?)%>/g,ym=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bm=/^\w*$/,wm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ru=/[\\^$.*+?()[\]{}|]/g,xm=RegExp(Ru.source),Cu=/^\s+/,Tm=/\s/,Em=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Sm=/\{\n\/\* \[wrapped with (.+)\] \*/,Am=/,? & /,Rm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cm=/[()=,{}\[\]\/\s]/,Pm=/\\(\\)?/g,Im=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mc=/\w*$/,Om=/^[-+]0x[0-9a-f]+$/i,Mm=/^0b[01]+$/i,Dm=/^\[object .+?Constructor\]$/,Fm=/^0o[0-7]+$/i,Nm=/^(?:0|[1-9]\d*)$/,Lm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wo=/($^)/,Bm=/['\n\r\u2028\u2029\\]/g,xo="\\ud800-\\udfff",Um="\\u0300-\\u036f",km="\\ufe20-\\ufe2f",Gm="\\u20d0-\\u20ff",Dc=Um+km+Gm,Fc="\\u2700-\\u27bf",Nc="a-z\\xdf-\\xf6\\xf8-\\xff",Hm="\\xac\\xb1\\xd7\\xf7",Xm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wm="\\u2000-\\u206f",zm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lc="A-Z\\xc0-\\xd6\\xd8-\\xde",Bc="\\ufe0e\\ufe0f",Uc=Hm+Xm+Wm+zm,Pu="['’]",Vm="["+xo+"]",kc="["+Uc+"]",To="["+Dc+"]",Gc="\\d+",Ym="["+Fc+"]",Hc="["+Nc+"]",Xc="[^"+xo+Uc+Gc+Fc+Nc+Lc+"]",Iu="\\ud83c[\\udffb-\\udfff]",jm="(?:"+To+"|"+Iu+")",Wc="[^"+xo+"]",Ou="(?:\\ud83c[\\udde6-\\uddff]){2}",Mu="[\\ud800-\\udbff][\\udc00-\\udfff]",Fi="["+Lc+"]",zc="\\u200d",Vc="(?:"+Hc+"|"+Xc+")",qm="(?:"+Fi+"|"+Xc+")",Yc="(?:"+Pu+"(?:d|ll|m|re|s|t|ve))?",jc="(?:"+Pu+"(?:D|LL|M|RE|S|T|VE))?",qc=jm+"?",Kc="["+Bc+"]?",Km="(?:"+zc+"(?:"+[Wc,Ou,Mu].join("|")+")"+Kc+qc+")*",Zm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zc=Kc+qc+Km,Qm="(?:"+[Ym,Ou,Mu].join("|")+")"+Zc,$m="(?:"+[Wc+To+"?",To,Ou,Mu,Vm].join("|")+")",e1=RegExp(Pu,"g"),t1=RegExp(To,"g"),Du=RegExp(Iu+"(?="+Iu+")|"+$m+Zc,"g"),r1=RegExp([Fi+"?"+Hc+"+"+Yc+"(?="+[kc,Fi,"$"].join("|")+")",qm+"+"+jc+"(?="+[kc,Fi+Vc,"$"].join("|")+")",Fi+"?"+Vc+"+"+Yc,Fi+"+"+jc,Jm,Zm,Gc,Qm].join("|"),"g"),n1=RegExp("["+zc+xo+Dc+Bc+"]"),i1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,s1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],o1=-1,mt={};mt[mu]=mt[yu]=mt[bu]=mt[wu]=mt[xu]=mt[Tu]=mt[Eu]=mt[Su]=mt[Au]=!0,mt[We]=mt[ze]=mt[ys]=mt[ge]=mt[Di]=mt[G]=mt[$]=mt[Me]=mt[k]=mt[Ze]=mt[ne]=mt[rn]=mt[ir]=mt[Ln]=mt[ms]=!1;var _t={};_t[We]=_t[ze]=_t[ys]=_t[Di]=_t[ge]=_t[G]=_t[mu]=_t[yu]=_t[bu]=_t[wu]=_t[xu]=_t[k]=_t[Ze]=_t[ne]=_t[rn]=_t[ir]=_t[Ln]=_t[si]=_t[Tu]=_t[Eu]=_t[Su]=_t[Au]=!0,_t[$]=_t[Me]=_t[ms]=!1;var a1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},u1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},h1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},f1=parseFloat,c1=parseInt,Jc=typeof jn=="object"&&jn&&jn.Object===Object&&jn,d1=typeof self=="object"&&self&&self.Object===Object&&self,Vt=Jc||d1||Function("return this")(),Fu=t&&!t.nodeType&&t,oi=Fu&&!0&&r&&!r.nodeType&&r,Qc=oi&&oi.exports===Fu,Nu=Qc&&Jc.process,Rr=function(){try{var B=oi&&oi.require&&oi.require("util").types;return B||Nu&&Nu.binding&&Nu.binding("util")}catch{}}(),$c=Rr&&Rr.isArrayBuffer,ed=Rr&&Rr.isDate,td=Rr&&Rr.isMap,rd=Rr&&Rr.isRegExp,nd=Rr&&Rr.isSet,id=Rr&&Rr.isTypedArray;function dr(B,j,z){switch(z.length){case 0:return B.call(j);case 1:return B.call(j,z[0]);case 2:return B.call(j,z[0],z[1]);case 3:return B.call(j,z[0],z[1],z[2])}return B.apply(j,z)}function p1(B,j,z,me){for(var Ue=-1,it=B==null?0:B.length;++Ue<it;){var Lt=B[Ue];j(me,Lt,z(Lt),B)}return me}function Cr(B,j){for(var z=-1,me=B==null?0:B.length;++z<me&&j(B[z],z,B)!==!1;);return B}function v1(B,j){for(var z=B==null?0:B.length;z--&&j(B[z],z,B)!==!1;);return B}function sd(B,j){for(var z=-1,me=B==null?0:B.length;++z<me;)if(!j(B[z],z,B))return!1;return!0}function Bn(B,j){for(var z=-1,me=B==null?0:B.length,Ue=0,it=[];++z<me;){var Lt=B[z];j(Lt,z,B)&&(it[Ue++]=Lt)}return it}function Eo(B,j){var z=B==null?0:B.length;return!!z&&Ni(B,j,0)>-1}function Lu(B,j,z){for(var me=-1,Ue=B==null?0:B.length;++me<Ue;)if(z(j,B[me]))return!0;return!1}function yt(B,j){for(var z=-1,me=B==null?0:B.length,Ue=Array(me);++z<me;)Ue[z]=j(B[z],z,B);return Ue}function Un(B,j){for(var z=-1,me=j.length,Ue=B.length;++z<me;)B[Ue+z]=j[z];return B}function Bu(B,j,z,me){var Ue=-1,it=B==null?0:B.length;for(me&&it&&(z=B[++Ue]);++Ue<it;)z=j(z,B[Ue],Ue,B);return z}function _1(B,j,z,me){var Ue=B==null?0:B.length;for(me&&Ue&&(z=B[--Ue]);Ue--;)z=j(z,B[Ue],Ue,B);return z}function Uu(B,j){for(var z=-1,me=B==null?0:B.length;++z<me;)if(j(B[z],z,B))return!0;return!1}var g1=ku("length");function m1(B){return B.split("")}function y1(B){return B.match(Rm)||[]}function od(B,j,z){var me;return z(B,function(Ue,it,Lt){if(j(Ue,it,Lt))return me=it,!1}),me}function So(B,j,z,me){for(var Ue=B.length,it=z+(me?1:-1);me?it--:++it<Ue;)if(j(B[it],it,B))return it;return-1}function Ni(B,j,z){return j===j?O1(B,j,z):So(B,ad,z)}function b1(B,j,z,me){for(var Ue=z-1,it=B.length;++Ue<it;)if(me(B[Ue],j))return Ue;return-1}function ad(B){return B!==B}function ud(B,j){var z=B==null?0:B.length;return z?Hu(B,j)/z:q}function ku(B){return function(j){return j==null?e:j[B]}}function Gu(B){return function(j){return B==null?e:B[j]}}function ld(B,j,z,me,Ue){return Ue(B,function(it,Lt,pt){z=me?(me=!1,it):j(z,it,Lt,pt)}),z}function w1(B,j){var z=B.length;for(B.sort(j);z--;)B[z]=B[z].value;return B}function Hu(B,j){for(var z,me=-1,Ue=B.length;++me<Ue;){var it=j(B[me]);it!==e&&(z=z===e?it:z+it)}return z}function Xu(B,j){for(var z=-1,me=Array(B);++z<B;)me[z]=j(z);return me}function x1(B,j){return yt(j,function(z){return[z,B[z]]})}function hd(B){return B&&B.slice(0,pd(B)+1).replace(Cu,"")}function pr(B){return function(j){return B(j)}}function Wu(B,j){return yt(j,function(z){return B[z]})}function bs(B,j){return B.has(j)}function fd(B,j){for(var z=-1,me=B.length;++z<me&&Ni(j,B[z],0)>-1;);return z}function cd(B,j){for(var z=B.length;z--&&Ni(j,B[z],0)>-1;);return z}function T1(B,j){for(var z=B.length,me=0;z--;)B[z]===j&&++me;return me}var E1=Gu(a1),S1=Gu(u1);function A1(B){return"\\"+h1[B]}function R1(B,j){return B==null?e:B[j]}function Li(B){return n1.test(B)}function C1(B){return i1.test(B)}function P1(B){for(var j,z=[];!(j=B.next()).done;)z.push(j.value);return z}function zu(B){var j=-1,z=Array(B.size);return B.forEach(function(me,Ue){z[++j]=[Ue,me]}),z}function dd(B,j){return function(z){return B(j(z))}}function kn(B,j){for(var z=-1,me=B.length,Ue=0,it=[];++z<me;){var Lt=B[z];(Lt===j||Lt===c)&&(B[z]=c,it[Ue++]=z)}return it}function Ao(B){var j=-1,z=Array(B.size);return B.forEach(function(me){z[++j]=me}),z}function I1(B){var j=-1,z=Array(B.size);return B.forEach(function(me){z[++j]=[me,me]}),z}function O1(B,j,z){for(var me=z-1,Ue=B.length;++me<Ue;)if(B[me]===j)return me;return-1}function M1(B,j,z){for(var me=z+1;me--;)if(B[me]===j)return me;return me}function Bi(B){return Li(B)?F1(B):g1(B)}function zr(B){return Li(B)?N1(B):m1(B)}function pd(B){for(var j=B.length;j--&&Tm.test(B.charAt(j)););return j}var D1=Gu(l1);function F1(B){for(var j=Du.lastIndex=0;Du.test(B);)++j;return j}function N1(B){return B.match(Du)||[]}function L1(B){return B.match(r1)||[]}var B1=function B(j){j=j==null?Vt:Ui.defaults(Vt.Object(),j,Ui.pick(Vt,s1));var z=j.Array,me=j.Date,Ue=j.Error,it=j.Function,Lt=j.Math,pt=j.Object,Vu=j.RegExp,U1=j.String,Pr=j.TypeError,Ro=z.prototype,k1=it.prototype,ki=pt.prototype,Co=j["__core-js_shared__"],Po=k1.toString,ft=ki.hasOwnProperty,G1=0,vd=function(){var a=/[^.]+$/.exec(Co&&Co.keys&&Co.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Io=ki.toString,H1=Po.call(pt),X1=Vt._,W1=Vu("^"+Po.call(ft).replace(Ru,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oo=Qc?j.Buffer:e,Gn=j.Symbol,Mo=j.Uint8Array,_d=Oo?Oo.allocUnsafe:e,Do=dd(pt.getPrototypeOf,pt),gd=pt.create,md=ki.propertyIsEnumerable,Fo=Ro.splice,yd=Gn?Gn.isConcatSpreadable:e,ws=Gn?Gn.iterator:e,ai=Gn?Gn.toStringTag:e,No=function(){try{var a=ci(pt,"defineProperty");return a({},"",{}),a}catch{}}(),z1=j.clearTimeout!==Vt.clearTimeout&&j.clearTimeout,V1=me&&me.now!==Vt.Date.now&&me.now,Y1=j.setTimeout!==Vt.setTimeout&&j.setTimeout,Lo=Lt.ceil,Bo=Lt.floor,Yu=pt.getOwnPropertySymbols,j1=Oo?Oo.isBuffer:e,bd=j.isFinite,q1=Ro.join,K1=dd(pt.keys,pt),Bt=Lt.max,Kt=Lt.min,Z1=me.now,J1=j.parseInt,wd=Lt.random,Q1=Ro.reverse,ju=ci(j,"DataView"),xs=ci(j,"Map"),qu=ci(j,"Promise"),Gi=ci(j,"Set"),Ts=ci(j,"WeakMap"),Es=ci(pt,"create"),Uo=Ts&&new Ts,Hi={},$1=di(ju),ey=di(xs),ty=di(qu),ry=di(Gi),ny=di(Ts),ko=Gn?Gn.prototype:e,Ss=ko?ko.valueOf:e,xd=ko?ko.toString:e;function S(a){if(Rt(a)&&!ke(a)&&!(a instanceof $e)){if(a instanceof Ir)return a;if(ft.call(a,"__wrapped__"))return Tp(a)}return new Ir(a)}var Xi=function(){function a(){}return function(l){if(!Tt(l))return{};if(gd)return gd(l);a.prototype=l;var d=new a;return a.prototype=e,d}}();function Go(){}function Ir(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=e}S.templateSettings={escape:gm,evaluate:mm,interpolate:Oc,variable:"",imports:{_:S}},S.prototype=Go.prototype,S.prototype.constructor=S,Ir.prototype=Xi(Go.prototype),Ir.prototype.constructor=Ir;function $e(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function iy(){var a=new $e(this.__wrapped__);return a.__actions__=sr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=sr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=sr(this.__views__),a}function sy(){if(this.__filtered__){var a=new $e(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function oy(){var a=this.__wrapped__.value(),l=this.__dir__,d=ke(a),g=l<0,x=d?a.length:0,A=mb(0,x,this.__views__),O=A.start,F=A.end,U=F-O,J=g?F:O-1,ee=this.__iteratees__,ie=ee.length,ce=0,Ee=Kt(U,this.__takeCount__);if(!d||!g&&x==U&&Ee==U)return Yd(a,this.__actions__);var Fe=[];e:for(;U--&&ce<Ee;){J+=l;for(var Ve=-1,Ne=a[J];++Ve<ie;){var Je=ee[Ve],et=Je.iteratee,gr=Je.type,tr=et(Ne);if(gr==se)Ne=tr;else if(!tr){if(gr==de)continue e;break e}}Fe[ce++]=Ne}return Fe}$e.prototype=Xi(Go.prototype),$e.prototype.constructor=$e;function ui(a){var l=-1,d=a==null?0:a.length;for(this.clear();++l<d;){var g=a[l];this.set(g[0],g[1])}}function ay(){this.__data__=Es?Es(null):{},this.size=0}function uy(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function ly(a){var l=this.__data__;if(Es){var d=l[a];return d===h?e:d}return ft.call(l,a)?l[a]:e}function hy(a){var l=this.__data__;return Es?l[a]!==e:ft.call(l,a)}function fy(a,l){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=Es&&l===e?h:l,this}ui.prototype.clear=ay,ui.prototype.delete=uy,ui.prototype.get=ly,ui.prototype.has=hy,ui.prototype.set=fy;function pn(a){var l=-1,d=a==null?0:a.length;for(this.clear();++l<d;){var g=a[l];this.set(g[0],g[1])}}function cy(){this.__data__=[],this.size=0}function dy(a){var l=this.__data__,d=Ho(l,a);if(d<0)return!1;var g=l.length-1;return d==g?l.pop():Fo.call(l,d,1),--this.size,!0}function py(a){var l=this.__data__,d=Ho(l,a);return d<0?e:l[d][1]}function vy(a){return Ho(this.__data__,a)>-1}function _y(a,l){var d=this.__data__,g=Ho(d,a);return g<0?(++this.size,d.push([a,l])):d[g][1]=l,this}pn.prototype.clear=cy,pn.prototype.delete=dy,pn.prototype.get=py,pn.prototype.has=vy,pn.prototype.set=_y;function vn(a){var l=-1,d=a==null?0:a.length;for(this.clear();++l<d;){var g=a[l];this.set(g[0],g[1])}}function gy(){this.size=0,this.__data__={hash:new ui,map:new(xs||pn),string:new ui}}function my(a){var l=$o(this,a).delete(a);return this.size-=l?1:0,l}function yy(a){return $o(this,a).get(a)}function by(a){return $o(this,a).has(a)}function wy(a,l){var d=$o(this,a),g=d.size;return d.set(a,l),this.size+=d.size==g?0:1,this}vn.prototype.clear=gy,vn.prototype.delete=my,vn.prototype.get=yy,vn.prototype.has=by,vn.prototype.set=wy;function li(a){var l=-1,d=a==null?0:a.length;for(this.__data__=new vn;++l<d;)this.add(a[l])}function xy(a){return this.__data__.set(a,h),this}function Ty(a){return this.__data__.has(a)}li.prototype.add=li.prototype.push=xy,li.prototype.has=Ty;function Vr(a){var l=this.__data__=new pn(a);this.size=l.size}function Ey(){this.__data__=new pn,this.size=0}function Sy(a){var l=this.__data__,d=l.delete(a);return this.size=l.size,d}function Ay(a){return this.__data__.get(a)}function Ry(a){return this.__data__.has(a)}function Cy(a,l){var d=this.__data__;if(d instanceof pn){var g=d.__data__;if(!xs||g.length<i-1)return g.push([a,l]),this.size=++d.size,this;d=this.__data__=new vn(g)}return d.set(a,l),this.size=d.size,this}Vr.prototype.clear=Ey,Vr.prototype.delete=Sy,Vr.prototype.get=Ay,Vr.prototype.has=Ry,Vr.prototype.set=Cy;function Td(a,l){var d=ke(a),g=!d&&pi(a),x=!d&&!g&&Vn(a),A=!d&&!g&&!x&&Yi(a),O=d||g||x||A,F=O?Xu(a.length,U1):[],U=F.length;for(var J in a)(l||ft.call(a,J))&&!(O&&(J=="length"||x&&(J=="offset"||J=="parent")||A&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||yn(J,U)))&&F.push(J);return F}function Ed(a){var l=a.length;return l?a[sl(0,l-1)]:e}function Py(a,l){return ea(sr(a),hi(l,0,a.length))}function Iy(a){return ea(sr(a))}function Ku(a,l,d){(d!==e&&!Yr(a[l],d)||d===e&&!(l in a))&&_n(a,l,d)}function As(a,l,d){var g=a[l];(!(ft.call(a,l)&&Yr(g,d))||d===e&&!(l in a))&&_n(a,l,d)}function Ho(a,l){for(var d=a.length;d--;)if(Yr(a[d][0],l))return d;return-1}function Oy(a,l,d,g){return Hn(a,function(x,A,O){l(g,x,d(x),O)}),g}function Sd(a,l){return a&&sn(l,Ht(l),a)}function My(a,l){return a&&sn(l,ar(l),a)}function _n(a,l,d){l=="__proto__"&&No?No(a,l,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[l]=d}function Zu(a,l){for(var d=-1,g=l.length,x=z(g),A=a==null;++d<g;)x[d]=A?e:Il(a,l[d]);return x}function hi(a,l,d){return a===a&&(d!==e&&(a=a<=d?a:d),l!==e&&(a=a>=l?a:l)),a}function Or(a,l,d,g,x,A){var O,F=l&v,U=l&p,J=l&_;if(d&&(O=x?d(a,g,x,A):d(a)),O!==e)return O;if(!Tt(a))return a;var ee=ke(a);if(ee){if(O=bb(a),!F)return sr(a,O)}else{var ie=Zt(a),ce=ie==Me||ie==oe;if(Vn(a))return Kd(a,F);if(ie==ne||ie==We||ce&&!x){if(O=U||ce?{}:pp(a),!F)return U?lb(a,My(O,a)):ub(a,Sd(O,a))}else{if(!_t[ie])return x?a:{};O=wb(a,ie,F)}}A||(A=new Vr);var Ee=A.get(a);if(Ee)return Ee;A.set(a,O),Wp(a)?a.forEach(function(Ne){O.add(Or(Ne,l,d,Ne,a,A))}):Hp(a)&&a.forEach(function(Ne,Je){O.set(Je,Or(Ne,l,d,Je,a,A))});var Fe=J?U?_l:vl:U?ar:Ht,Ve=ee?e:Fe(a);return Cr(Ve||a,function(Ne,Je){Ve&&(Je=Ne,Ne=a[Je]),As(O,Je,Or(Ne,l,d,Je,a,A))}),O}function Dy(a){var l=Ht(a);return function(d){return Ad(d,a,l)}}function Ad(a,l,d){var g=d.length;if(a==null)return!g;for(a=pt(a);g--;){var x=d[g],A=l[x],O=a[x];if(O===e&&!(x in a)||!A(O))return!1}return!0}function Rd(a,l,d){if(typeof a!="function")throw new Pr(o);return Ds(function(){a.apply(e,d)},l)}function Rs(a,l,d,g){var x=-1,A=Eo,O=!0,F=a.length,U=[],J=l.length;if(!F)return U;d&&(l=yt(l,pr(d))),g?(A=Lu,O=!1):l.length>=i&&(A=bs,O=!1,l=new li(l));e:for(;++x<F;){var ee=a[x],ie=d==null?ee:d(ee);if(ee=g||ee!==0?ee:0,O&&ie===ie){for(var ce=J;ce--;)if(l[ce]===ie)continue e;U.push(ee)}else A(l,ie,g)||U.push(ee)}return U}var Hn=ep(nn),Cd=ep(Qu,!0);function Fy(a,l){var d=!0;return Hn(a,function(g,x,A){return d=!!l(g,x,A),d}),d}function Xo(a,l,d){for(var g=-1,x=a.length;++g<x;){var A=a[g],O=l(A);if(O!=null&&(F===e?O===O&&!_r(O):d(O,F)))var F=O,U=A}return U}function Ny(a,l,d,g){var x=a.length;for(d=Xe(d),d<0&&(d=-d>x?0:x+d),g=g===e||g>x?x:Xe(g),g<0&&(g+=x),g=d>g?0:Vp(g);d<g;)a[d++]=l;return a}function Pd(a,l){var d=[];return Hn(a,function(g,x,A){l(g,x,A)&&d.push(g)}),d}function Yt(a,l,d,g,x){var A=-1,O=a.length;for(d||(d=Tb),x||(x=[]);++A<O;){var F=a[A];l>0&&d(F)?l>1?Yt(F,l-1,d,g,x):Un(x,F):g||(x[x.length]=F)}return x}var Ju=tp(),Id=tp(!0);function nn(a,l){return a&&Ju(a,l,Ht)}function Qu(a,l){return a&&Id(a,l,Ht)}function Wo(a,l){return Bn(l,function(d){return bn(a[d])})}function fi(a,l){l=Wn(l,a);for(var d=0,g=l.length;a!=null&&d<g;)a=a[on(l[d++])];return d&&d==g?a:e}function Od(a,l,d){var g=l(a);return ke(a)?g:Un(g,d(a))}function $t(a){return a==null?a===e?bo:je:ai&&ai in pt(a)?gb(a):Ib(a)}function $u(a,l){return a>l}function Ly(a,l){return a!=null&&ft.call(a,l)}function By(a,l){return a!=null&&l in pt(a)}function Uy(a,l,d){return a>=Kt(l,d)&&a<Bt(l,d)}function el(a,l,d){for(var g=d?Lu:Eo,x=a[0].length,A=a.length,O=A,F=z(A),U=1/0,J=[];O--;){var ee=a[O];O&&l&&(ee=yt(ee,pr(l))),U=Kt(ee.length,U),F[O]=!d&&(l||x>=120&&ee.length>=120)?new li(O&&ee):e}ee=a[0];var ie=-1,ce=F[0];e:for(;++ie<x&&J.length<U;){var Ee=ee[ie],Fe=l?l(Ee):Ee;if(Ee=d||Ee!==0?Ee:0,!(ce?bs(ce,Fe):g(J,Fe,d))){for(O=A;--O;){var Ve=F[O];if(!(Ve?bs(Ve,Fe):g(a[O],Fe,d)))continue e}ce&&ce.push(Fe),J.push(Ee)}}return J}function ky(a,l,d,g){return nn(a,function(x,A,O){l(g,d(x),A,O)}),g}function Cs(a,l,d){l=Wn(l,a),a=mp(a,l);var g=a==null?a:a[on(Dr(l))];return g==null?e:dr(g,a,d)}function Md(a){return Rt(a)&&$t(a)==We}function Gy(a){return Rt(a)&&$t(a)==ys}function Hy(a){return Rt(a)&&$t(a)==G}function Ps(a,l,d,g,x){return a===l?!0:a==null||l==null||!Rt(a)&&!Rt(l)?a!==a&&l!==l:Xy(a,l,d,g,Ps,x)}function Xy(a,l,d,g,x,A){var O=ke(a),F=ke(l),U=O?ze:Zt(a),J=F?ze:Zt(l);U=U==We?ne:U,J=J==We?ne:J;var ee=U==ne,ie=J==ne,ce=U==J;if(ce&&Vn(a)){if(!Vn(l))return!1;O=!0,ee=!1}if(ce&&!ee)return A||(A=new Vr),O||Yi(a)?fp(a,l,d,g,x,A):vb(a,l,U,d,g,x,A);if(!(d&y)){var Ee=ee&&ft.call(a,"__wrapped__"),Fe=ie&&ft.call(l,"__wrapped__");if(Ee||Fe){var Ve=Ee?a.value():a,Ne=Fe?l.value():l;return A||(A=new Vr),x(Ve,Ne,d,g,A)}}return ce?(A||(A=new Vr),_b(a,l,d,g,x,A)):!1}function Wy(a){return Rt(a)&&Zt(a)==k}function tl(a,l,d,g){var x=d.length,A=x,O=!g;if(a==null)return!A;for(a=pt(a);x--;){var F=d[x];if(O&&F[2]?F[1]!==a[F[0]]:!(F[0]in a))return!1}for(;++x<A;){F=d[x];var U=F[0],J=a[U],ee=F[1];if(O&&F[2]){if(J===e&&!(U in a))return!1}else{var ie=new Vr;if(g)var ce=g(J,ee,U,a,l,ie);if(!(ce===e?Ps(ee,J,y|b,g,ie):ce))return!1}}return!0}function Dd(a){if(!Tt(a)||Sb(a))return!1;var l=bn(a)?W1:Dm;return l.test(di(a))}function zy(a){return Rt(a)&&$t(a)==rn}function Vy(a){return Rt(a)&&Zt(a)==ir}function Yy(a){return Rt(a)&&oa(a.length)&&!!mt[$t(a)]}function Fd(a){return typeof a=="function"?a:a==null?ur:typeof a=="object"?ke(a)?Bd(a[0],a[1]):Ld(a):rv(a)}function rl(a){if(!Ms(a))return K1(a);var l=[];for(var d in pt(a))ft.call(a,d)&&d!="constructor"&&l.push(d);return l}function jy(a){if(!Tt(a))return Pb(a);var l=Ms(a),d=[];for(var g in a)g=="constructor"&&(l||!ft.call(a,g))||d.push(g);return d}function nl(a,l){return a<l}function Nd(a,l){var d=-1,g=or(a)?z(a.length):[];return Hn(a,function(x,A,O){g[++d]=l(x,A,O)}),g}function Ld(a){var l=ml(a);return l.length==1&&l[0][2]?_p(l[0][0],l[0][1]):function(d){return d===a||tl(d,a,l)}}function Bd(a,l){return bl(a)&&vp(l)?_p(on(a),l):function(d){var g=Il(d,a);return g===e&&g===l?Ol(d,a):Ps(l,g,y|b)}}function zo(a,l,d,g,x){a!==l&&Ju(l,function(A,O){if(x||(x=new Vr),Tt(A))qy(a,l,O,d,zo,g,x);else{var F=g?g(xl(a,O),A,O+"",a,l,x):e;F===e&&(F=A),Ku(a,O,F)}},ar)}function qy(a,l,d,g,x,A,O){var F=xl(a,d),U=xl(l,d),J=O.get(U);if(J){Ku(a,d,J);return}var ee=A?A(F,U,d+"",a,l,O):e,ie=ee===e;if(ie){var ce=ke(U),Ee=!ce&&Vn(U),Fe=!ce&&!Ee&&Yi(U);ee=U,ce||Ee||Fe?ke(F)?ee=F:It(F)?ee=sr(F):Ee?(ie=!1,ee=Kd(U,!0)):Fe?(ie=!1,ee=Zd(U,!0)):ee=[]:Fs(U)||pi(U)?(ee=F,pi(F)?ee=Yp(F):(!Tt(F)||bn(F))&&(ee=pp(U))):ie=!1}ie&&(O.set(U,ee),x(ee,U,g,A,O),O.delete(U)),Ku(a,d,ee)}function Ud(a,l){var d=a.length;if(d)return l+=l<0?d:0,yn(l,d)?a[l]:e}function kd(a,l,d){l.length?l=yt(l,function(A){return ke(A)?function(O){return fi(O,A.length===1?A[0]:A)}:A}):l=[ur];var g=-1;l=yt(l,pr(De()));var x=Nd(a,function(A,O,F){var U=yt(l,function(J){return J(A)});return{criteria:U,index:++g,value:A}});return w1(x,function(A,O){return ab(A,O,d)})}function Ky(a,l){return Gd(a,l,function(d,g){return Ol(a,g)})}function Gd(a,l,d){for(var g=-1,x=l.length,A={};++g<x;){var O=l[g],F=fi(a,O);d(F,O)&&Is(A,Wn(O,a),F)}return A}function Zy(a){return function(l){return fi(l,a)}}function il(a,l,d,g){var x=g?b1:Ni,A=-1,O=l.length,F=a;for(a===l&&(l=sr(l)),d&&(F=yt(a,pr(d)));++A<O;)for(var U=0,J=l[A],ee=d?d(J):J;(U=x(F,ee,U,g))>-1;)F!==a&&Fo.call(F,U,1),Fo.call(a,U,1);return a}function Hd(a,l){for(var d=a?l.length:0,g=d-1;d--;){var x=l[d];if(d==g||x!==A){var A=x;yn(x)?Fo.call(a,x,1):ul(a,x)}}return a}function sl(a,l){return a+Bo(wd()*(l-a+1))}function Jy(a,l,d,g){for(var x=-1,A=Bt(Lo((l-a)/(d||1)),0),O=z(A);A--;)O[g?A:++x]=a,a+=d;return O}function ol(a,l){var d="";if(!a||l<1||l>re)return d;do l%2&&(d+=a),l=Bo(l/2),l&&(a+=a);while(l);return d}function qe(a,l){return Tl(gp(a,l,ur),a+"")}function Qy(a){return Ed(ji(a))}function $y(a,l){var d=ji(a);return ea(d,hi(l,0,d.length))}function Is(a,l,d,g){if(!Tt(a))return a;l=Wn(l,a);for(var x=-1,A=l.length,O=A-1,F=a;F!=null&&++x<A;){var U=on(l[x]),J=d;if(U==="__proto__"||U==="constructor"||U==="prototype")return a;if(x!=O){var ee=F[U];J=g?g(ee,U,F):e,J===e&&(J=Tt(ee)?ee:yn(l[x+1])?[]:{})}As(F,U,J),F=F[U]}return a}var Xd=Uo?function(a,l){return Uo.set(a,l),a}:ur,eb=No?function(a,l){return No(a,"toString",{configurable:!0,enumerable:!1,value:Dl(l),writable:!0})}:ur;function tb(a){return ea(ji(a))}function Mr(a,l,d){var g=-1,x=a.length;l<0&&(l=-l>x?0:x+l),d=d>x?x:d,d<0&&(d+=x),x=l>d?0:d-l>>>0,l>>>=0;for(var A=z(x);++g<x;)A[g]=a[g+l];return A}function rb(a,l){var d;return Hn(a,function(g,x,A){return d=l(g,x,A),!d}),!!d}function Vo(a,l,d){var g=0,x=a==null?g:a.length;if(typeof l=="number"&&l===l&&x<=Ae){for(;g<x;){var A=g+x>>>1,O=a[A];O!==null&&!_r(O)&&(d?O<=l:O<l)?g=A+1:x=A}return x}return al(a,l,ur,d)}function al(a,l,d,g){var x=0,A=a==null?0:a.length;if(A===0)return 0;l=d(l);for(var O=l!==l,F=l===null,U=_r(l),J=l===e;x<A;){var ee=Bo((x+A)/2),ie=d(a[ee]),ce=ie!==e,Ee=ie===null,Fe=ie===ie,Ve=_r(ie);if(O)var Ne=g||Fe;else J?Ne=Fe&&(g||ce):F?Ne=Fe&&ce&&(g||!Ee):U?Ne=Fe&&ce&&!Ee&&(g||!Ve):Ee||Ve?Ne=!1:Ne=g?ie<=l:ie<l;Ne?x=ee+1:A=ee}return Kt(A,he)}function Wd(a,l){for(var d=-1,g=a.length,x=0,A=[];++d<g;){var O=a[d],F=l?l(O):O;if(!d||!Yr(F,U)){var U=F;A[x++]=O===0?0:O}}return A}function zd(a){return typeof a=="number"?a:_r(a)?q:+a}function vr(a){if(typeof a=="string")return a;if(ke(a))return yt(a,vr)+"";if(_r(a))return xd?xd.call(a):"";var l=a+"";return l=="0"&&1/a==-Y?"-0":l}function Xn(a,l,d){var g=-1,x=Eo,A=a.length,O=!0,F=[],U=F;if(d)O=!1,x=Lu;else if(A>=i){var J=l?null:db(a);if(J)return Ao(J);O=!1,x=bs,U=new li}else U=l?[]:F;e:for(;++g<A;){var ee=a[g],ie=l?l(ee):ee;if(ee=d||ee!==0?ee:0,O&&ie===ie){for(var ce=U.length;ce--;)if(U[ce]===ie)continue e;l&&U.push(ie),F.push(ee)}else x(U,ie,d)||(U!==F&&U.push(ie),F.push(ee))}return F}function ul(a,l){return l=Wn(l,a),a=mp(a,l),a==null||delete a[on(Dr(l))]}function Vd(a,l,d,g){return Is(a,l,d(fi(a,l)),g)}function Yo(a,l,d,g){for(var x=a.length,A=g?x:-1;(g?A--:++A<x)&&l(a[A],A,a););return d?Mr(a,g?0:A,g?A+1:x):Mr(a,g?A+1:0,g?x:A)}function Yd(a,l){var d=a;return d instanceof $e&&(d=d.value()),Bu(l,function(g,x){return x.func.apply(x.thisArg,Un([g],x.args))},d)}function ll(a,l,d){var g=a.length;if(g<2)return g?Xn(a[0]):[];for(var x=-1,A=z(g);++x<g;)for(var O=a[x],F=-1;++F<g;)F!=x&&(A[x]=Rs(A[x]||O,a[F],l,d));return Xn(Yt(A,1),l,d)}function jd(a,l,d){for(var g=-1,x=a.length,A=l.length,O={};++g<x;){var F=g<A?l[g]:e;d(O,a[g],F)}return O}function hl(a){return It(a)?a:[]}function fl(a){return typeof a=="function"?a:ur}function Wn(a,l){return ke(a)?a:bl(a,l)?[a]:xp(at(a))}var nb=qe;function zn(a,l,d){var g=a.length;return d=d===e?g:d,!l&&d>=g?a:Mr(a,l,d)}var qd=z1||function(a){return Vt.clearTimeout(a)};function Kd(a,l){if(l)return a.slice();var d=a.length,g=_d?_d(d):new a.constructor(d);return a.copy(g),g}function cl(a){var l=new a.constructor(a.byteLength);return new Mo(l).set(new Mo(a)),l}function ib(a,l){var d=l?cl(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function sb(a){var l=new a.constructor(a.source,Mc.exec(a));return l.lastIndex=a.lastIndex,l}function ob(a){return Ss?pt(Ss.call(a)):{}}function Zd(a,l){var d=l?cl(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function Jd(a,l){if(a!==l){var d=a!==e,g=a===null,x=a===a,A=_r(a),O=l!==e,F=l===null,U=l===l,J=_r(l);if(!F&&!J&&!A&&a>l||A&&O&&U&&!F&&!J||g&&O&&U||!d&&U||!x)return 1;if(!g&&!A&&!J&&a<l||J&&d&&x&&!g&&!A||F&&d&&x||!O&&x||!U)return-1}return 0}function ab(a,l,d){for(var g=-1,x=a.criteria,A=l.criteria,O=x.length,F=d.length;++g<O;){var U=Jd(x[g],A[g]);if(U){if(g>=F)return U;var J=d[g];return U*(J=="desc"?-1:1)}}return a.index-l.index}function Qd(a,l,d,g){for(var x=-1,A=a.length,O=d.length,F=-1,U=l.length,J=Bt(A-O,0),ee=z(U+J),ie=!g;++F<U;)ee[F]=l[F];for(;++x<O;)(ie||x<A)&&(ee[d[x]]=a[x]);for(;J--;)ee[F++]=a[x++];return ee}function $d(a,l,d,g){for(var x=-1,A=a.length,O=-1,F=d.length,U=-1,J=l.length,ee=Bt(A-F,0),ie=z(ee+J),ce=!g;++x<ee;)ie[x]=a[x];for(var Ee=x;++U<J;)ie[Ee+U]=l[U];for(;++O<F;)(ce||x<A)&&(ie[Ee+d[O]]=a[x++]);return ie}function sr(a,l){var d=-1,g=a.length;for(l||(l=z(g));++d<g;)l[d]=a[d];return l}function sn(a,l,d,g){var x=!d;d||(d={});for(var A=-1,O=l.length;++A<O;){var F=l[A],U=g?g(d[F],a[F],F,d,a):e;U===e&&(U=a[F]),x?_n(d,F,U):As(d,F,U)}return d}function ub(a,l){return sn(a,yl(a),l)}function lb(a,l){return sn(a,cp(a),l)}function jo(a,l){return function(d,g){var x=ke(d)?p1:Oy,A=l?l():{};return x(d,a,De(g,2),A)}}function Wi(a){return qe(function(l,d){var g=-1,x=d.length,A=x>1?d[x-1]:e,O=x>2?d[2]:e;for(A=a.length>3&&typeof A=="function"?(x--,A):e,O&&er(d[0],d[1],O)&&(A=x<3?e:A,x=1),l=pt(l);++g<x;){var F=d[g];F&&a(l,F,g,A)}return l})}function ep(a,l){return function(d,g){if(d==null)return d;if(!or(d))return a(d,g);for(var x=d.length,A=l?x:-1,O=pt(d);(l?A--:++A<x)&&g(O[A],A,O)!==!1;);return d}}function tp(a){return function(l,d,g){for(var x=-1,A=pt(l),O=g(l),F=O.length;F--;){var U=O[a?F:++x];if(d(A[U],U,A)===!1)break}return l}}function hb(a,l,d){var g=l&m,x=Os(a);function A(){var O=this&&this!==Vt&&this instanceof A?x:a;return O.apply(g?d:this,arguments)}return A}function rp(a){return function(l){l=at(l);var d=Li(l)?zr(l):e,g=d?d[0]:l.charAt(0),x=d?zn(d,1).join(""):l.slice(1);return g[a]()+x}}function zi(a){return function(l){return Bu(ev($p(l).replace(e1,"")),a,"")}}function Os(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var d=Xi(a.prototype),g=a.apply(d,l);return Tt(g)?g:d}}function fb(a,l,d){var g=Os(a);function x(){for(var A=arguments.length,O=z(A),F=A,U=Vi(x);F--;)O[F]=arguments[F];var J=A<3&&O[0]!==U&&O[A-1]!==U?[]:kn(O,U);if(A-=J.length,A<d)return ap(a,l,qo,x.placeholder,e,O,J,e,e,d-A);var ee=this&&this!==Vt&&this instanceof x?g:a;return dr(ee,this,O)}return x}function np(a){return function(l,d,g){var x=pt(l);if(!or(l)){var A=De(d,3);l=Ht(l),d=function(F){return A(x[F],F,x)}}var O=a(l,d,g);return O>-1?x[A?l[O]:O]:e}}function ip(a){return mn(function(l){var d=l.length,g=d,x=Ir.prototype.thru;for(a&&l.reverse();g--;){var A=l[g];if(typeof A!="function")throw new Pr(o);if(x&&!O&&Qo(A)=="wrapper")var O=new Ir([],!0)}for(g=O?g:d;++g<d;){A=l[g];var F=Qo(A),U=F=="wrapper"?gl(A):e;U&&wl(U[0])&&U[1]==(I|T|R|N)&&!U[4].length&&U[9]==1?O=O[Qo(U[0])].apply(O,U[3]):O=A.length==1&&wl(A)?O[F]():O.thru(A)}return function(){var J=arguments,ee=J[0];if(O&&J.length==1&&ke(ee))return O.plant(ee).value();for(var ie=0,ce=d?l[ie].apply(this,J):ee;++ie<d;)ce=l[ie].call(this,ce);return ce}})}function qo(a,l,d,g,x,A,O,F,U,J){var ee=l&I,ie=l&m,ce=l&w,Ee=l&(T|C),Fe=l&M,Ve=ce?e:Os(a);function Ne(){for(var Je=arguments.length,et=z(Je),gr=Je;gr--;)et[gr]=arguments[gr];if(Ee)var tr=Vi(Ne),mr=T1(et,tr);if(g&&(et=Qd(et,g,x,Ee)),A&&(et=$d(et,A,O,Ee)),Je-=mr,Ee&&Je<J){var Ot=kn(et,tr);return ap(a,l,qo,Ne.placeholder,d,et,Ot,F,U,J-Je)}var jr=ie?d:this,xn=ce?jr[a]:a;return Je=et.length,F?et=Ob(et,F):Fe&&Je>1&&et.reverse(),ee&&U<Je&&(et.length=U),this&&this!==Vt&&this instanceof Ne&&(xn=Ve||Os(xn)),xn.apply(jr,et)}return Ne}function sp(a,l){return function(d,g){return ky(d,a,l(g),{})}}function Ko(a,l){return function(d,g){var x;if(d===e&&g===e)return l;if(d!==e&&(x=d),g!==e){if(x===e)return g;typeof d=="string"||typeof g=="string"?(d=vr(d),g=vr(g)):(d=zd(d),g=zd(g)),x=a(d,g)}return x}}function dl(a){return mn(function(l){return l=yt(l,pr(De())),qe(function(d){var g=this;return a(l,function(x){return dr(x,g,d)})})})}function Zo(a,l){l=l===e?" ":vr(l);var d=l.length;if(d<2)return d?ol(l,a):l;var g=ol(l,Lo(a/Bi(l)));return Li(l)?zn(zr(g),0,a).join(""):g.slice(0,a)}function cb(a,l,d,g){var x=l&m,A=Os(a);function O(){for(var F=-1,U=arguments.length,J=-1,ee=g.length,ie=z(ee+U),ce=this&&this!==Vt&&this instanceof O?A:a;++J<ee;)ie[J]=g[J];for(;U--;)ie[J++]=arguments[++F];return dr(ce,x?d:this,ie)}return O}function op(a){return function(l,d,g){return g&&typeof g!="number"&&er(l,d,g)&&(d=g=e),l=wn(l),d===e?(d=l,l=0):d=wn(d),g=g===e?l<d?1:-1:wn(g),Jy(l,d,g,a)}}function Jo(a){return function(l,d){return typeof l=="string"&&typeof d=="string"||(l=Fr(l),d=Fr(d)),a(l,d)}}function ap(a,l,d,g,x,A,O,F,U,J){var ee=l&T,ie=ee?O:e,ce=ee?e:O,Ee=ee?A:e,Fe=ee?e:A;l|=ee?R:P,l&=~(ee?P:R),l&E||(l&=~(m|w));var Ve=[a,l,x,Ee,ie,Fe,ce,F,U,J],Ne=d.apply(e,Ve);return wl(a)&&yp(Ne,Ve),Ne.placeholder=g,bp(Ne,a,l)}function pl(a){var l=Lt[a];return function(d,g){if(d=Fr(d),g=g==null?0:Kt(Xe(g),292),g&&bd(d)){var x=(at(d)+"e").split("e"),A=l(x[0]+"e"+(+x[1]+g));return x=(at(A)+"e").split("e"),+(x[0]+"e"+(+x[1]-g))}return l(d)}}var db=Gi&&1/Ao(new Gi([,-0]))[1]==Y?function(a){return new Gi(a)}:Ll;function up(a){return function(l){var d=Zt(l);return d==k?zu(l):d==ir?I1(l):x1(l,a(l))}}function gn(a,l,d,g,x,A,O,F){var U=l&w;if(!U&&typeof a!="function")throw new Pr(o);var J=g?g.length:0;if(J||(l&=~(R|P),g=x=e),O=O===e?O:Bt(Xe(O),0),F=F===e?F:Xe(F),J-=x?x.length:0,l&P){var ee=g,ie=x;g=x=e}var ce=U?e:gl(a),Ee=[a,l,d,g,x,ee,ie,A,O,F];if(ce&&Cb(Ee,ce),a=Ee[0],l=Ee[1],d=Ee[2],g=Ee[3],x=Ee[4],F=Ee[9]=Ee[9]===e?U?0:a.length:Bt(Ee[9]-J,0),!F&&l&(T|C)&&(l&=~(T|C)),!l||l==m)var Fe=hb(a,l,d);else l==T||l==C?Fe=fb(a,l,F):(l==R||l==(m|R))&&!x.length?Fe=cb(a,l,d,g):Fe=qo.apply(e,Ee);var Ve=ce?Xd:yp;return bp(Ve(Fe,Ee),a,l)}function lp(a,l,d,g){return a===e||Yr(a,ki[d])&&!ft.call(g,d)?l:a}function hp(a,l,d,g,x,A){return Tt(a)&&Tt(l)&&(A.set(l,a),zo(a,l,e,hp,A),A.delete(l)),a}function pb(a){return Fs(a)?e:a}function fp(a,l,d,g,x,A){var O=d&y,F=a.length,U=l.length;if(F!=U&&!(O&&U>F))return!1;var J=A.get(a),ee=A.get(l);if(J&&ee)return J==l&&ee==a;var ie=-1,ce=!0,Ee=d&b?new li:e;for(A.set(a,l),A.set(l,a);++ie<F;){var Fe=a[ie],Ve=l[ie];if(g)var Ne=O?g(Ve,Fe,ie,l,a,A):g(Fe,Ve,ie,a,l,A);if(Ne!==e){if(Ne)continue;ce=!1;break}if(Ee){if(!Uu(l,function(Je,et){if(!bs(Ee,et)&&(Fe===Je||x(Fe,Je,d,g,A)))return Ee.push(et)})){ce=!1;break}}else if(!(Fe===Ve||x(Fe,Ve,d,g,A))){ce=!1;break}}return A.delete(a),A.delete(l),ce}function vb(a,l,d,g,x,A,O){switch(d){case Di:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case ys:return!(a.byteLength!=l.byteLength||!A(new Mo(a),new Mo(l)));case ge:case G:case Ze:return Yr(+a,+l);case $:return a.name==l.name&&a.message==l.message;case rn:case Ln:return a==l+"";case k:var F=zu;case ir:var U=g&y;if(F||(F=Ao),a.size!=l.size&&!U)return!1;var J=O.get(a);if(J)return J==l;g|=b,O.set(a,l);var ee=fp(F(a),F(l),g,x,A,O);return O.delete(a),ee;case si:if(Ss)return Ss.call(a)==Ss.call(l)}return!1}function _b(a,l,d,g,x,A){var O=d&y,F=vl(a),U=F.length,J=vl(l),ee=J.length;if(U!=ee&&!O)return!1;for(var ie=U;ie--;){var ce=F[ie];if(!(O?ce in l:ft.call(l,ce)))return!1}var Ee=A.get(a),Fe=A.get(l);if(Ee&&Fe)return Ee==l&&Fe==a;var Ve=!0;A.set(a,l),A.set(l,a);for(var Ne=O;++ie<U;){ce=F[ie];var Je=a[ce],et=l[ce];if(g)var gr=O?g(et,Je,ce,l,a,A):g(Je,et,ce,a,l,A);if(!(gr===e?Je===et||x(Je,et,d,g,A):gr)){Ve=!1;break}Ne||(Ne=ce=="constructor")}if(Ve&&!Ne){var tr=a.constructor,mr=l.constructor;tr!=mr&&"constructor"in a&&"constructor"in l&&!(typeof tr=="function"&&tr instanceof tr&&typeof mr=="function"&&mr instanceof mr)&&(Ve=!1)}return A.delete(a),A.delete(l),Ve}function mn(a){return Tl(gp(a,e,Ap),a+"")}function vl(a){return Od(a,Ht,yl)}function _l(a){return Od(a,ar,cp)}var gl=Uo?function(a){return Uo.get(a)}:Ll;function Qo(a){for(var l=a.name+"",d=Hi[l],g=ft.call(Hi,l)?d.length:0;g--;){var x=d[g],A=x.func;if(A==null||A==a)return x.name}return l}function Vi(a){var l=ft.call(S,"placeholder")?S:a;return l.placeholder}function De(){var a=S.iteratee||Fl;return a=a===Fl?Fd:a,arguments.length?a(arguments[0],arguments[1]):a}function $o(a,l){var d=a.__data__;return Eb(l)?d[typeof l=="string"?"string":"hash"]:d.map}function ml(a){for(var l=Ht(a),d=l.length;d--;){var g=l[d],x=a[g];l[d]=[g,x,vp(x)]}return l}function ci(a,l){var d=R1(a,l);return Dd(d)?d:e}function gb(a){var l=ft.call(a,ai),d=a[ai];try{a[ai]=e;var g=!0}catch{}var x=Io.call(a);return g&&(l?a[ai]=d:delete a[ai]),x}var yl=Yu?function(a){return a==null?[]:(a=pt(a),Bn(Yu(a),function(l){return md.call(a,l)}))}:Bl,cp=Yu?function(a){for(var l=[];a;)Un(l,yl(a)),a=Do(a);return l}:Bl,Zt=$t;(ju&&Zt(new ju(new ArrayBuffer(1)))!=Di||xs&&Zt(new xs)!=k||qu&&Zt(qu.resolve())!=Qt||Gi&&Zt(new Gi)!=ir||Ts&&Zt(new Ts)!=ms)&&(Zt=function(a){var l=$t(a),d=l==ne?a.constructor:e,g=d?di(d):"";if(g)switch(g){case $1:return Di;case ey:return k;case ty:return Qt;case ry:return ir;case ny:return ms}return l});function mb(a,l,d){for(var g=-1,x=d.length;++g<x;){var A=d[g],O=A.size;switch(A.type){case"drop":a+=O;break;case"dropRight":l-=O;break;case"take":l=Kt(l,a+O);break;case"takeRight":a=Bt(a,l-O);break}}return{start:a,end:l}}function yb(a){var l=a.match(Sm);return l?l[1].split(Am):[]}function dp(a,l,d){l=Wn(l,a);for(var g=-1,x=l.length,A=!1;++g<x;){var O=on(l[g]);if(!(A=a!=null&&d(a,O)))break;a=a[O]}return A||++g!=x?A:(x=a==null?0:a.length,!!x&&oa(x)&&yn(O,x)&&(ke(a)||pi(a)))}function bb(a){var l=a.length,d=new a.constructor(l);return l&&typeof a[0]=="string"&&ft.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function pp(a){return typeof a.constructor=="function"&&!Ms(a)?Xi(Do(a)):{}}function wb(a,l,d){var g=a.constructor;switch(l){case ys:return cl(a);case ge:case G:return new g(+a);case Di:return ib(a,d);case mu:case yu:case bu:case wu:case xu:case Tu:case Eu:case Su:case Au:return Zd(a,d);case k:return new g;case Ze:case Ln:return new g(a);case rn:return sb(a);case ir:return new g;case si:return ob(a)}}function xb(a,l){var d=l.length;if(!d)return a;var g=d-1;return l[g]=(d>1?"& ":"")+l[g],l=l.join(d>2?", ":" "),a.replace(Em,`{
/* [wrapped with `+l+`] */
`)}function Tb(a){return ke(a)||pi(a)||!!(yd&&a&&a[yd])}function yn(a,l){var d=typeof a;return l=l??re,!!l&&(d=="number"||d!="symbol"&&Nm.test(a))&&a>-1&&a%1==0&&a<l}function er(a,l,d){if(!Tt(d))return!1;var g=typeof l;return(g=="number"?or(d)&&yn(l,d.length):g=="string"&&l in d)?Yr(d[l],a):!1}function bl(a,l){if(ke(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||_r(a)?!0:bm.test(a)||!ym.test(a)||l!=null&&a in pt(l)}function Eb(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function wl(a){var l=Qo(a),d=S[l];if(typeof d!="function"||!(l in $e.prototype))return!1;if(a===d)return!0;var g=gl(d);return!!g&&a===g[0]}function Sb(a){return!!vd&&vd in a}var Ab=Co?bn:Ul;function Ms(a){var l=a&&a.constructor,d=typeof l=="function"&&l.prototype||ki;return a===d}function vp(a){return a===a&&!Tt(a)}function _p(a,l){return function(d){return d==null?!1:d[a]===l&&(l!==e||a in pt(d))}}function Rb(a){var l=ia(a,function(g){return d.size===f&&d.clear(),g}),d=l.cache;return l}function Cb(a,l){var d=a[1],g=l[1],x=d|g,A=x<(m|w|I),O=g==I&&d==T||g==I&&d==N&&a[7].length<=l[8]||g==(I|N)&&l[7].length<=l[8]&&d==T;if(!(A||O))return a;g&m&&(a[2]=l[2],x|=d&m?0:E);var F=l[3];if(F){var U=a[3];a[3]=U?Qd(U,F,l[4]):F,a[4]=U?kn(a[3],c):l[4]}return F=l[5],F&&(U=a[5],a[5]=U?$d(U,F,l[6]):F,a[6]=U?kn(a[5],c):l[6]),F=l[7],F&&(a[7]=F),g&I&&(a[8]=a[8]==null?l[8]:Kt(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=x,a}function Pb(a){var l=[];if(a!=null)for(var d in pt(a))l.push(d);return l}function Ib(a){return Io.call(a)}function gp(a,l,d){return l=Bt(l===e?a.length-1:l,0),function(){for(var g=arguments,x=-1,A=Bt(g.length-l,0),O=z(A);++x<A;)O[x]=g[l+x];x=-1;for(var F=z(l+1);++x<l;)F[x]=g[x];return F[l]=d(O),dr(a,this,F)}}function mp(a,l){return l.length<2?a:fi(a,Mr(l,0,-1))}function Ob(a,l){for(var d=a.length,g=Kt(l.length,d),x=sr(a);g--;){var A=l[g];a[g]=yn(A,d)?x[A]:e}return a}function xl(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var yp=wp(Xd),Ds=Y1||function(a,l){return Vt.setTimeout(a,l)},Tl=wp(eb);function bp(a,l,d){var g=l+"";return Tl(a,xb(g,Mb(yb(g),d)))}function wp(a){var l=0,d=0;return function(){var g=Z1(),x=X-(g-d);if(d=g,x>0){if(++l>=Z)return arguments[0]}else l=0;return a.apply(e,arguments)}}function ea(a,l){var d=-1,g=a.length,x=g-1;for(l=l===e?g:l;++d<l;){var A=sl(d,x),O=a[A];a[A]=a[d],a[d]=O}return a.length=l,a}var xp=Rb(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(wm,function(d,g,x,A){l.push(x?A.replace(Pm,"$1"):g||d)}),l});function on(a){if(typeof a=="string"||_r(a))return a;var l=a+"";return l=="0"&&1/a==-Y?"-0":l}function di(a){if(a!=null){try{return Po.call(a)}catch{}try{return a+""}catch{}}return""}function Mb(a,l){return Cr(Ce,function(d){var g="_."+d[0];l&d[1]&&!Eo(a,g)&&a.push(g)}),a.sort()}function Tp(a){if(a instanceof $e)return a.clone();var l=new Ir(a.__wrapped__,a.__chain__);return l.__actions__=sr(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function Db(a,l,d){(d?er(a,l,d):l===e)?l=1:l=Bt(Xe(l),0);var g=a==null?0:a.length;if(!g||l<1)return[];for(var x=0,A=0,O=z(Lo(g/l));x<g;)O[A++]=Mr(a,x,x+=l);return O}function Fb(a){for(var l=-1,d=a==null?0:a.length,g=0,x=[];++l<d;){var A=a[l];A&&(x[g++]=A)}return x}function Nb(){var a=arguments.length;if(!a)return[];for(var l=z(a-1),d=arguments[0],g=a;g--;)l[g-1]=arguments[g];return Un(ke(d)?sr(d):[d],Yt(l,1))}var Lb=qe(function(a,l){return It(a)?Rs(a,Yt(l,1,It,!0)):[]}),Bb=qe(function(a,l){var d=Dr(l);return It(d)&&(d=e),It(a)?Rs(a,Yt(l,1,It,!0),De(d,2)):[]}),Ub=qe(function(a,l){var d=Dr(l);return It(d)&&(d=e),It(a)?Rs(a,Yt(l,1,It,!0),e,d):[]});function kb(a,l,d){var g=a==null?0:a.length;return g?(l=d||l===e?1:Xe(l),Mr(a,l<0?0:l,g)):[]}function Gb(a,l,d){var g=a==null?0:a.length;return g?(l=d||l===e?1:Xe(l),l=g-l,Mr(a,0,l<0?0:l)):[]}function Hb(a,l){return a&&a.length?Yo(a,De(l,3),!0,!0):[]}function Xb(a,l){return a&&a.length?Yo(a,De(l,3),!0):[]}function Wb(a,l,d,g){var x=a==null?0:a.length;return x?(d&&typeof d!="number"&&er(a,l,d)&&(d=0,g=x),Ny(a,l,d,g)):[]}function Ep(a,l,d){var g=a==null?0:a.length;if(!g)return-1;var x=d==null?0:Xe(d);return x<0&&(x=Bt(g+x,0)),So(a,De(l,3),x)}function Sp(a,l,d){var g=a==null?0:a.length;if(!g)return-1;var x=g-1;return d!==e&&(x=Xe(d),x=d<0?Bt(g+x,0):Kt(x,g-1)),So(a,De(l,3),x,!0)}function Ap(a){var l=a==null?0:a.length;return l?Yt(a,1):[]}function zb(a){var l=a==null?0:a.length;return l?Yt(a,Y):[]}function Vb(a,l){var d=a==null?0:a.length;return d?(l=l===e?1:Xe(l),Yt(a,l)):[]}function Yb(a){for(var l=-1,d=a==null?0:a.length,g={};++l<d;){var x=a[l];g[x[0]]=x[1]}return g}function Rp(a){return a&&a.length?a[0]:e}function jb(a,l,d){var g=a==null?0:a.length;if(!g)return-1;var x=d==null?0:Xe(d);return x<0&&(x=Bt(g+x,0)),Ni(a,l,x)}function qb(a){var l=a==null?0:a.length;return l?Mr(a,0,-1):[]}var Kb=qe(function(a){var l=yt(a,hl);return l.length&&l[0]===a[0]?el(l):[]}),Zb=qe(function(a){var l=Dr(a),d=yt(a,hl);return l===Dr(d)?l=e:d.pop(),d.length&&d[0]===a[0]?el(d,De(l,2)):[]}),Jb=qe(function(a){var l=Dr(a),d=yt(a,hl);return l=typeof l=="function"?l:e,l&&d.pop(),d.length&&d[0]===a[0]?el(d,e,l):[]});function Qb(a,l){return a==null?"":q1.call(a,l)}function Dr(a){var l=a==null?0:a.length;return l?a[l-1]:e}function $b(a,l,d){var g=a==null?0:a.length;if(!g)return-1;var x=g;return d!==e&&(x=Xe(d),x=x<0?Bt(g+x,0):Kt(x,g-1)),l===l?M1(a,l,x):So(a,ad,x,!0)}function e2(a,l){return a&&a.length?Ud(a,Xe(l)):e}var t2=qe(Cp);function Cp(a,l){return a&&a.length&&l&&l.length?il(a,l):a}function r2(a,l,d){return a&&a.length&&l&&l.length?il(a,l,De(d,2)):a}function n2(a,l,d){return a&&a.length&&l&&l.length?il(a,l,e,d):a}var i2=mn(function(a,l){var d=a==null?0:a.length,g=Zu(a,l);return Hd(a,yt(l,function(x){return yn(x,d)?+x:x}).sort(Jd)),g});function s2(a,l){var d=[];if(!(a&&a.length))return d;var g=-1,x=[],A=a.length;for(l=De(l,3);++g<A;){var O=a[g];l(O,g,a)&&(d.push(O),x.push(g))}return Hd(a,x),d}function El(a){return a==null?a:Q1.call(a)}function o2(a,l,d){var g=a==null?0:a.length;return g?(d&&typeof d!="number"&&er(a,l,d)?(l=0,d=g):(l=l==null?0:Xe(l),d=d===e?g:Xe(d)),Mr(a,l,d)):[]}function a2(a,l){return Vo(a,l)}function u2(a,l,d){return al(a,l,De(d,2))}function l2(a,l){var d=a==null?0:a.length;if(d){var g=Vo(a,l);if(g<d&&Yr(a[g],l))return g}return-1}function h2(a,l){return Vo(a,l,!0)}function f2(a,l,d){return al(a,l,De(d,2),!0)}function c2(a,l){var d=a==null?0:a.length;if(d){var g=Vo(a,l,!0)-1;if(Yr(a[g],l))return g}return-1}function d2(a){return a&&a.length?Wd(a):[]}function p2(a,l){return a&&a.length?Wd(a,De(l,2)):[]}function v2(a){var l=a==null?0:a.length;return l?Mr(a,1,l):[]}function _2(a,l,d){return a&&a.length?(l=d||l===e?1:Xe(l),Mr(a,0,l<0?0:l)):[]}function g2(a,l,d){var g=a==null?0:a.length;return g?(l=d||l===e?1:Xe(l),l=g-l,Mr(a,l<0?0:l,g)):[]}function m2(a,l){return a&&a.length?Yo(a,De(l,3),!1,!0):[]}function y2(a,l){return a&&a.length?Yo(a,De(l,3)):[]}var b2=qe(function(a){return Xn(Yt(a,1,It,!0))}),w2=qe(function(a){var l=Dr(a);return It(l)&&(l=e),Xn(Yt(a,1,It,!0),De(l,2))}),x2=qe(function(a){var l=Dr(a);return l=typeof l=="function"?l:e,Xn(Yt(a,1,It,!0),e,l)});function T2(a){return a&&a.length?Xn(a):[]}function E2(a,l){return a&&a.length?Xn(a,De(l,2)):[]}function S2(a,l){return l=typeof l=="function"?l:e,a&&a.length?Xn(a,e,l):[]}function Sl(a){if(!(a&&a.length))return[];var l=0;return a=Bn(a,function(d){if(It(d))return l=Bt(d.length,l),!0}),Xu(l,function(d){return yt(a,ku(d))})}function Pp(a,l){if(!(a&&a.length))return[];var d=Sl(a);return l==null?d:yt(d,function(g){return dr(l,e,g)})}var A2=qe(function(a,l){return It(a)?Rs(a,l):[]}),R2=qe(function(a){return ll(Bn(a,It))}),C2=qe(function(a){var l=Dr(a);return It(l)&&(l=e),ll(Bn(a,It),De(l,2))}),P2=qe(function(a){var l=Dr(a);return l=typeof l=="function"?l:e,ll(Bn(a,It),e,l)}),I2=qe(Sl);function O2(a,l){return jd(a||[],l||[],As)}function M2(a,l){return jd(a||[],l||[],Is)}var D2=qe(function(a){var l=a.length,d=l>1?a[l-1]:e;return d=typeof d=="function"?(a.pop(),d):e,Pp(a,d)});function Ip(a){var l=S(a);return l.__chain__=!0,l}function F2(a,l){return l(a),a}function ta(a,l){return l(a)}var N2=mn(function(a){var l=a.length,d=l?a[0]:0,g=this.__wrapped__,x=function(A){return Zu(A,a)};return l>1||this.__actions__.length||!(g instanceof $e)||!yn(d)?this.thru(x):(g=g.slice(d,+d+(l?1:0)),g.__actions__.push({func:ta,args:[x],thisArg:e}),new Ir(g,this.__chain__).thru(function(A){return l&&!A.length&&A.push(e),A}))});function L2(){return Ip(this)}function B2(){return new Ir(this.value(),this.__chain__)}function U2(){this.__values__===e&&(this.__values__=zp(this.value()));var a=this.__index__>=this.__values__.length,l=a?e:this.__values__[this.__index__++];return{done:a,value:l}}function k2(){return this}function G2(a){for(var l,d=this;d instanceof Go;){var g=Tp(d);g.__index__=0,g.__values__=e,l?x.__wrapped__=g:l=g;var x=g;d=d.__wrapped__}return x.__wrapped__=a,l}function H2(){var a=this.__wrapped__;if(a instanceof $e){var l=a;return this.__actions__.length&&(l=new $e(this)),l=l.reverse(),l.__actions__.push({func:ta,args:[El],thisArg:e}),new Ir(l,this.__chain__)}return this.thru(El)}function X2(){return Yd(this.__wrapped__,this.__actions__)}var W2=jo(function(a,l,d){ft.call(a,d)?++a[d]:_n(a,d,1)});function z2(a,l,d){var g=ke(a)?sd:Fy;return d&&er(a,l,d)&&(l=e),g(a,De(l,3))}function V2(a,l){var d=ke(a)?Bn:Pd;return d(a,De(l,3))}var Y2=np(Ep),j2=np(Sp);function q2(a,l){return Yt(ra(a,l),1)}function K2(a,l){return Yt(ra(a,l),Y)}function Z2(a,l,d){return d=d===e?1:Xe(d),Yt(ra(a,l),d)}function Op(a,l){var d=ke(a)?Cr:Hn;return d(a,De(l,3))}function Mp(a,l){var d=ke(a)?v1:Cd;return d(a,De(l,3))}var J2=jo(function(a,l,d){ft.call(a,d)?a[d].push(l):_n(a,d,[l])});function Q2(a,l,d,g){a=or(a)?a:ji(a),d=d&&!g?Xe(d):0;var x=a.length;return d<0&&(d=Bt(x+d,0)),aa(a)?d<=x&&a.indexOf(l,d)>-1:!!x&&Ni(a,l,d)>-1}var $2=qe(function(a,l,d){var g=-1,x=typeof l=="function",A=or(a)?z(a.length):[];return Hn(a,function(O){A[++g]=x?dr(l,O,d):Cs(O,l,d)}),A}),ew=jo(function(a,l,d){_n(a,d,l)});function ra(a,l){var d=ke(a)?yt:Nd;return d(a,De(l,3))}function tw(a,l,d,g){return a==null?[]:(ke(l)||(l=l==null?[]:[l]),d=g?e:d,ke(d)||(d=d==null?[]:[d]),kd(a,l,d))}var rw=jo(function(a,l,d){a[d?0:1].push(l)},function(){return[[],[]]});function nw(a,l,d){var g=ke(a)?Bu:ld,x=arguments.length<3;return g(a,De(l,4),d,x,Hn)}function iw(a,l,d){var g=ke(a)?_1:ld,x=arguments.length<3;return g(a,De(l,4),d,x,Cd)}function sw(a,l){var d=ke(a)?Bn:Pd;return d(a,sa(De(l,3)))}function ow(a){var l=ke(a)?Ed:Qy;return l(a)}function aw(a,l,d){(d?er(a,l,d):l===e)?l=1:l=Xe(l);var g=ke(a)?Py:$y;return g(a,l)}function uw(a){var l=ke(a)?Iy:tb;return l(a)}function lw(a){if(a==null)return 0;if(or(a))return aa(a)?Bi(a):a.length;var l=Zt(a);return l==k||l==ir?a.size:rl(a).length}function hw(a,l,d){var g=ke(a)?Uu:rb;return d&&er(a,l,d)&&(l=e),g(a,De(l,3))}var fw=qe(function(a,l){if(a==null)return[];var d=l.length;return d>1&&er(a,l[0],l[1])?l=[]:d>2&&er(l[0],l[1],l[2])&&(l=[l[0]]),kd(a,Yt(l,1),[])}),na=V1||function(){return Vt.Date.now()};function cw(a,l){if(typeof l!="function")throw new Pr(o);return a=Xe(a),function(){if(--a<1)return l.apply(this,arguments)}}function Dp(a,l,d){return l=d?e:l,l=a&&l==null?a.length:l,gn(a,I,e,e,e,e,l)}function Fp(a,l){var d;if(typeof l!="function")throw new Pr(o);return a=Xe(a),function(){return--a>0&&(d=l.apply(this,arguments)),a<=1&&(l=e),d}}var Al=qe(function(a,l,d){var g=m;if(d.length){var x=kn(d,Vi(Al));g|=R}return gn(a,g,l,d,x)}),Np=qe(function(a,l,d){var g=m|w;if(d.length){var x=kn(d,Vi(Np));g|=R}return gn(l,g,a,d,x)});function Lp(a,l,d){l=d?e:l;var g=gn(a,T,e,e,e,e,e,l);return g.placeholder=Lp.placeholder,g}function Bp(a,l,d){l=d?e:l;var g=gn(a,C,e,e,e,e,e,l);return g.placeholder=Bp.placeholder,g}function Up(a,l,d){var g,x,A,O,F,U,J=0,ee=!1,ie=!1,ce=!0;if(typeof a!="function")throw new Pr(o);l=Fr(l)||0,Tt(d)&&(ee=!!d.leading,ie="maxWait"in d,A=ie?Bt(Fr(d.maxWait)||0,l):A,ce="trailing"in d?!!d.trailing:ce);function Ee(Ot){var jr=g,xn=x;return g=x=e,J=Ot,O=a.apply(xn,jr),O}function Fe(Ot){return J=Ot,F=Ds(Je,l),ee?Ee(Ot):O}function Ve(Ot){var jr=Ot-U,xn=Ot-J,nv=l-jr;return ie?Kt(nv,A-xn):nv}function Ne(Ot){var jr=Ot-U,xn=Ot-J;return U===e||jr>=l||jr<0||ie&&xn>=A}function Je(){var Ot=na();if(Ne(Ot))return et(Ot);F=Ds(Je,Ve(Ot))}function et(Ot){return F=e,ce&&g?Ee(Ot):(g=x=e,O)}function gr(){F!==e&&qd(F),J=0,g=U=x=F=e}function tr(){return F===e?O:et(na())}function mr(){var Ot=na(),jr=Ne(Ot);if(g=arguments,x=this,U=Ot,jr){if(F===e)return Fe(U);if(ie)return qd(F),F=Ds(Je,l),Ee(U)}return F===e&&(F=Ds(Je,l)),O}return mr.cancel=gr,mr.flush=tr,mr}var dw=qe(function(a,l){return Rd(a,1,l)}),pw=qe(function(a,l,d){return Rd(a,Fr(l)||0,d)});function vw(a){return gn(a,M)}function ia(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new Pr(o);var d=function(){var g=arguments,x=l?l.apply(this,g):g[0],A=d.cache;if(A.has(x))return A.get(x);var O=a.apply(this,g);return d.cache=A.set(x,O)||A,O};return d.cache=new(ia.Cache||vn),d}ia.Cache=vn;function sa(a){if(typeof a!="function")throw new Pr(o);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function _w(a){return Fp(2,a)}var gw=nb(function(a,l){l=l.length==1&&ke(l[0])?yt(l[0],pr(De())):yt(Yt(l,1),pr(De()));var d=l.length;return qe(function(g){for(var x=-1,A=Kt(g.length,d);++x<A;)g[x]=l[x].call(this,g[x]);return dr(a,this,g)})}),Rl=qe(function(a,l){var d=kn(l,Vi(Rl));return gn(a,R,e,l,d)}),kp=qe(function(a,l){var d=kn(l,Vi(kp));return gn(a,P,e,l,d)}),mw=mn(function(a,l){return gn(a,N,e,e,e,l)});function yw(a,l){if(typeof a!="function")throw new Pr(o);return l=l===e?l:Xe(l),qe(a,l)}function bw(a,l){if(typeof a!="function")throw new Pr(o);return l=l==null?0:Bt(Xe(l),0),qe(function(d){var g=d[l],x=zn(d,0,l);return g&&Un(x,g),dr(a,this,x)})}function ww(a,l,d){var g=!0,x=!0;if(typeof a!="function")throw new Pr(o);return Tt(d)&&(g="leading"in d?!!d.leading:g,x="trailing"in d?!!d.trailing:x),Up(a,l,{leading:g,maxWait:l,trailing:x})}function xw(a){return Dp(a,1)}function Tw(a,l){return Rl(fl(l),a)}function Ew(){if(!arguments.length)return[];var a=arguments[0];return ke(a)?a:[a]}function Sw(a){return Or(a,_)}function Aw(a,l){return l=typeof l=="function"?l:e,Or(a,_,l)}function Rw(a){return Or(a,v|_)}function Cw(a,l){return l=typeof l=="function"?l:e,Or(a,v|_,l)}function Pw(a,l){return l==null||Ad(a,l,Ht(l))}function Yr(a,l){return a===l||a!==a&&l!==l}var Iw=Jo($u),Ow=Jo(function(a,l){return a>=l}),pi=Md(function(){return arguments}())?Md:function(a){return Rt(a)&&ft.call(a,"callee")&&!md.call(a,"callee")},ke=z.isArray,Mw=$c?pr($c):Gy;function or(a){return a!=null&&oa(a.length)&&!bn(a)}function It(a){return Rt(a)&&or(a)}function Dw(a){return a===!0||a===!1||Rt(a)&&$t(a)==ge}var Vn=j1||Ul,Fw=ed?pr(ed):Hy;function Nw(a){return Rt(a)&&a.nodeType===1&&!Fs(a)}function Lw(a){if(a==null)return!0;if(or(a)&&(ke(a)||typeof a=="string"||typeof a.splice=="function"||Vn(a)||Yi(a)||pi(a)))return!a.length;var l=Zt(a);if(l==k||l==ir)return!a.size;if(Ms(a))return!rl(a).length;for(var d in a)if(ft.call(a,d))return!1;return!0}function Bw(a,l){return Ps(a,l)}function Uw(a,l,d){d=typeof d=="function"?d:e;var g=d?d(a,l):e;return g===e?Ps(a,l,e,d):!!g}function Cl(a){if(!Rt(a))return!1;var l=$t(a);return l==$||l==Le||typeof a.message=="string"&&typeof a.name=="string"&&!Fs(a)}function kw(a){return typeof a=="number"&&bd(a)}function bn(a){if(!Tt(a))return!1;var l=$t(a);return l==Me||l==oe||l==Qe||l==Nn}function Gp(a){return typeof a=="number"&&a==Xe(a)}function oa(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=re}function Tt(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function Rt(a){return a!=null&&typeof a=="object"}var Hp=td?pr(td):Wy;function Gw(a,l){return a===l||tl(a,l,ml(l))}function Hw(a,l,d){return d=typeof d=="function"?d:e,tl(a,l,ml(l),d)}function Xw(a){return Xp(a)&&a!=+a}function Ww(a){if(Ab(a))throw new Ue(s);return Dd(a)}function zw(a){return a===null}function Vw(a){return a==null}function Xp(a){return typeof a=="number"||Rt(a)&&$t(a)==Ze}function Fs(a){if(!Rt(a)||$t(a)!=ne)return!1;var l=Do(a);if(l===null)return!0;var d=ft.call(l,"constructor")&&l.constructor;return typeof d=="function"&&d instanceof d&&Po.call(d)==H1}var Pl=rd?pr(rd):zy;function Yw(a){return Gp(a)&&a>=-re&&a<=re}var Wp=nd?pr(nd):Vy;function aa(a){return typeof a=="string"||!ke(a)&&Rt(a)&&$t(a)==Ln}function _r(a){return typeof a=="symbol"||Rt(a)&&$t(a)==si}var Yi=id?pr(id):Yy;function jw(a){return a===e}function qw(a){return Rt(a)&&Zt(a)==ms}function Kw(a){return Rt(a)&&$t(a)==fm}var Zw=Jo(nl),Jw=Jo(function(a,l){return a<=l});function zp(a){if(!a)return[];if(or(a))return aa(a)?zr(a):sr(a);if(ws&&a[ws])return P1(a[ws]());var l=Zt(a),d=l==k?zu:l==ir?Ao:ji;return d(a)}function wn(a){if(!a)return a===0?a:0;if(a=Fr(a),a===Y||a===-Y){var l=a<0?-1:1;return l*ue}return a===a?a:0}function Xe(a){var l=wn(a),d=l%1;return l===l?d?l-d:l:0}function Vp(a){return a?hi(Xe(a),0,W):0}function Fr(a){if(typeof a=="number")return a;if(_r(a))return q;if(Tt(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=Tt(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=hd(a);var d=Mm.test(a);return d||Fm.test(a)?c1(a.slice(2),d?2:8):Om.test(a)?q:+a}function Yp(a){return sn(a,ar(a))}function Qw(a){return a?hi(Xe(a),-re,re):a===0?a:0}function at(a){return a==null?"":vr(a)}var $w=Wi(function(a,l){if(Ms(l)||or(l)){sn(l,Ht(l),a);return}for(var d in l)ft.call(l,d)&&As(a,d,l[d])}),jp=Wi(function(a,l){sn(l,ar(l),a)}),ua=Wi(function(a,l,d,g){sn(l,ar(l),a,g)}),ex=Wi(function(a,l,d,g){sn(l,Ht(l),a,g)}),tx=mn(Zu);function rx(a,l){var d=Xi(a);return l==null?d:Sd(d,l)}var nx=qe(function(a,l){a=pt(a);var d=-1,g=l.length,x=g>2?l[2]:e;for(x&&er(l[0],l[1],x)&&(g=1);++d<g;)for(var A=l[d],O=ar(A),F=-1,U=O.length;++F<U;){var J=O[F],ee=a[J];(ee===e||Yr(ee,ki[J])&&!ft.call(a,J))&&(a[J]=A[J])}return a}),ix=qe(function(a){return a.push(e,hp),dr(qp,e,a)});function sx(a,l){return od(a,De(l,3),nn)}function ox(a,l){return od(a,De(l,3),Qu)}function ax(a,l){return a==null?a:Ju(a,De(l,3),ar)}function ux(a,l){return a==null?a:Id(a,De(l,3),ar)}function lx(a,l){return a&&nn(a,De(l,3))}function hx(a,l){return a&&Qu(a,De(l,3))}function fx(a){return a==null?[]:Wo(a,Ht(a))}function cx(a){return a==null?[]:Wo(a,ar(a))}function Il(a,l,d){var g=a==null?e:fi(a,l);return g===e?d:g}function dx(a,l){return a!=null&&dp(a,l,Ly)}function Ol(a,l){return a!=null&&dp(a,l,By)}var px=sp(function(a,l,d){l!=null&&typeof l.toString!="function"&&(l=Io.call(l)),a[l]=d},Dl(ur)),vx=sp(function(a,l,d){l!=null&&typeof l.toString!="function"&&(l=Io.call(l)),ft.call(a,l)?a[l].push(d):a[l]=[d]},De),_x=qe(Cs);function Ht(a){return or(a)?Td(a):rl(a)}function ar(a){return or(a)?Td(a,!0):jy(a)}function gx(a,l){var d={};return l=De(l,3),nn(a,function(g,x,A){_n(d,l(g,x,A),g)}),d}function mx(a,l){var d={};return l=De(l,3),nn(a,function(g,x,A){_n(d,x,l(g,x,A))}),d}var yx=Wi(function(a,l,d){zo(a,l,d)}),qp=Wi(function(a,l,d,g){zo(a,l,d,g)}),bx=mn(function(a,l){var d={};if(a==null)return d;var g=!1;l=yt(l,function(A){return A=Wn(A,a),g||(g=A.length>1),A}),sn(a,_l(a),d),g&&(d=Or(d,v|p|_,pb));for(var x=l.length;x--;)ul(d,l[x]);return d});function wx(a,l){return Kp(a,sa(De(l)))}var xx=mn(function(a,l){return a==null?{}:Ky(a,l)});function Kp(a,l){if(a==null)return{};var d=yt(_l(a),function(g){return[g]});return l=De(l),Gd(a,d,function(g,x){return l(g,x[0])})}function Tx(a,l,d){l=Wn(l,a);var g=-1,x=l.length;for(x||(x=1,a=e);++g<x;){var A=a==null?e:a[on(l[g])];A===e&&(g=x,A=d),a=bn(A)?A.call(a):A}return a}function Ex(a,l,d){return a==null?a:Is(a,l,d)}function Sx(a,l,d,g){return g=typeof g=="function"?g:e,a==null?a:Is(a,l,d,g)}var Zp=up(Ht),Jp=up(ar);function Ax(a,l,d){var g=ke(a),x=g||Vn(a)||Yi(a);if(l=De(l,4),d==null){var A=a&&a.constructor;x?d=g?new A:[]:Tt(a)?d=bn(A)?Xi(Do(a)):{}:d={}}return(x?Cr:nn)(a,function(O,F,U){return l(d,O,F,U)}),d}function Rx(a,l){return a==null?!0:ul(a,l)}function Cx(a,l,d){return a==null?a:Vd(a,l,fl(d))}function Px(a,l,d,g){return g=typeof g=="function"?g:e,a==null?a:Vd(a,l,fl(d),g)}function ji(a){return a==null?[]:Wu(a,Ht(a))}function Ix(a){return a==null?[]:Wu(a,ar(a))}function Ox(a,l,d){return d===e&&(d=l,l=e),d!==e&&(d=Fr(d),d=d===d?d:0),l!==e&&(l=Fr(l),l=l===l?l:0),hi(Fr(a),l,d)}function Mx(a,l,d){return l=wn(l),d===e?(d=l,l=0):d=wn(d),a=Fr(a),Uy(a,l,d)}function Dx(a,l,d){if(d&&typeof d!="boolean"&&er(a,l,d)&&(l=d=e),d===e&&(typeof l=="boolean"?(d=l,l=e):typeof a=="boolean"&&(d=a,a=e)),a===e&&l===e?(a=0,l=1):(a=wn(a),l===e?(l=a,a=0):l=wn(l)),a>l){var g=a;a=l,l=g}if(d||a%1||l%1){var x=wd();return Kt(a+x*(l-a+f1("1e-"+((x+"").length-1))),l)}return sl(a,l)}var Fx=zi(function(a,l,d){return l=l.toLowerCase(),a+(d?Qp(l):l)});function Qp(a){return Ml(at(a).toLowerCase())}function $p(a){return a=at(a),a&&a.replace(Lm,E1).replace(t1,"")}function Nx(a,l,d){a=at(a),l=vr(l);var g=a.length;d=d===e?g:hi(Xe(d),0,g);var x=d;return d-=l.length,d>=0&&a.slice(d,x)==l}function Lx(a){return a=at(a),a&&_m.test(a)?a.replace(Ic,S1):a}function Bx(a){return a=at(a),a&&xm.test(a)?a.replace(Ru,"\\$&"):a}var Ux=zi(function(a,l,d){return a+(d?"-":"")+l.toLowerCase()}),kx=zi(function(a,l,d){return a+(d?" ":"")+l.toLowerCase()}),Gx=rp("toLowerCase");function Hx(a,l,d){a=at(a),l=Xe(l);var g=l?Bi(a):0;if(!l||g>=l)return a;var x=(l-g)/2;return Zo(Bo(x),d)+a+Zo(Lo(x),d)}function Xx(a,l,d){a=at(a),l=Xe(l);var g=l?Bi(a):0;return l&&g<l?a+Zo(l-g,d):a}function Wx(a,l,d){a=at(a),l=Xe(l);var g=l?Bi(a):0;return l&&g<l?Zo(l-g,d)+a:a}function zx(a,l,d){return d||l==null?l=0:l&&(l=+l),J1(at(a).replace(Cu,""),l||0)}function Vx(a,l,d){return(d?er(a,l,d):l===e)?l=1:l=Xe(l),ol(at(a),l)}function Yx(){var a=arguments,l=at(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var jx=zi(function(a,l,d){return a+(d?"_":"")+l.toLowerCase()});function qx(a,l,d){return d&&typeof d!="number"&&er(a,l,d)&&(l=d=e),d=d===e?W:d>>>0,d?(a=at(a),a&&(typeof l=="string"||l!=null&&!Pl(l))&&(l=vr(l),!l&&Li(a))?zn(zr(a),0,d):a.split(l,d)):[]}var Kx=zi(function(a,l,d){return a+(d?" ":"")+Ml(l)});function Zx(a,l,d){return a=at(a),d=d==null?0:hi(Xe(d),0,a.length),l=vr(l),a.slice(d,d+l.length)==l}function Jx(a,l,d){var g=S.templateSettings;d&&er(a,l,d)&&(l=e),a=at(a),l=ua({},l,g,lp);var x=ua({},l.imports,g.imports,lp),A=Ht(x),O=Wu(x,A),F,U,J=0,ee=l.interpolate||wo,ie="__p += '",ce=Vu((l.escape||wo).source+"|"+ee.source+"|"+(ee===Oc?Im:wo).source+"|"+(l.evaluate||wo).source+"|$","g"),Ee="//# sourceURL="+(ft.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++o1+"]")+`
`;a.replace(ce,function(Ne,Je,et,gr,tr,mr){return et||(et=gr),ie+=a.slice(J,mr).replace(Bm,A1),Je&&(F=!0,ie+=`' +
__e(`+Je+`) +
'`),tr&&(U=!0,ie+=`';
`+tr+`;
__p += '`),et&&(ie+=`' +
((__t = (`+et+`)) == null ? '' : __t) +
'`),J=mr+Ne.length,Ne}),ie+=`';
`;var Fe=ft.call(l,"variable")&&l.variable;if(!Fe)ie=`with (obj) {
`+ie+`
}
`;else if(Cm.test(Fe))throw new Ue(u);ie=(U?ie.replace(cm,""):ie).replace(dm,"$1").replace(pm,"$1;"),ie="function("+(Fe||"obj")+`) {
`+(Fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ie+`return __p
}`;var Ve=tv(function(){return it(A,Ee+"return "+ie).apply(e,O)});if(Ve.source=ie,Cl(Ve))throw Ve;return Ve}function Qx(a){return at(a).toLowerCase()}function $x(a){return at(a).toUpperCase()}function eT(a,l,d){if(a=at(a),a&&(d||l===e))return hd(a);if(!a||!(l=vr(l)))return a;var g=zr(a),x=zr(l),A=fd(g,x),O=cd(g,x)+1;return zn(g,A,O).join("")}function tT(a,l,d){if(a=at(a),a&&(d||l===e))return a.slice(0,pd(a)+1);if(!a||!(l=vr(l)))return a;var g=zr(a),x=cd(g,zr(l))+1;return zn(g,0,x).join("")}function rT(a,l,d){if(a=at(a),a&&(d||l===e))return a.replace(Cu,"");if(!a||!(l=vr(l)))return a;var g=zr(a),x=fd(g,zr(l));return zn(g,x).join("")}function nT(a,l){var d=D,g=H;if(Tt(l)){var x="separator"in l?l.separator:x;d="length"in l?Xe(l.length):d,g="omission"in l?vr(l.omission):g}a=at(a);var A=a.length;if(Li(a)){var O=zr(a);A=O.length}if(d>=A)return a;var F=d-Bi(g);if(F<1)return g;var U=O?zn(O,0,F).join(""):a.slice(0,F);if(x===e)return U+g;if(O&&(F+=U.length-F),Pl(x)){if(a.slice(F).search(x)){var J,ee=U;for(x.global||(x=Vu(x.source,at(Mc.exec(x))+"g")),x.lastIndex=0;J=x.exec(ee);)var ie=J.index;U=U.slice(0,ie===e?F:ie)}}else if(a.indexOf(vr(x),F)!=F){var ce=U.lastIndexOf(x);ce>-1&&(U=U.slice(0,ce))}return U+g}function iT(a){return a=at(a),a&&vm.test(a)?a.replace(Pc,D1):a}var sT=zi(function(a,l,d){return a+(d?" ":"")+l.toUpperCase()}),Ml=rp("toUpperCase");function ev(a,l,d){return a=at(a),l=d?e:l,l===e?C1(a)?L1(a):y1(a):a.match(l)||[]}var tv=qe(function(a,l){try{return dr(a,e,l)}catch(d){return Cl(d)?d:new Ue(d)}}),oT=mn(function(a,l){return Cr(l,function(d){d=on(d),_n(a,d,Al(a[d],a))}),a});function aT(a){var l=a==null?0:a.length,d=De();return a=l?yt(a,function(g){if(typeof g[1]!="function")throw new Pr(o);return[d(g[0]),g[1]]}):[],qe(function(g){for(var x=-1;++x<l;){var A=a[x];if(dr(A[0],this,g))return dr(A[1],this,g)}})}function uT(a){return Dy(Or(a,v))}function Dl(a){return function(){return a}}function lT(a,l){return a==null||a!==a?l:a}var hT=ip(),fT=ip(!0);function ur(a){return a}function Fl(a){return Fd(typeof a=="function"?a:Or(a,v))}function cT(a){return Ld(Or(a,v))}function dT(a,l){return Bd(a,Or(l,v))}var pT=qe(function(a,l){return function(d){return Cs(d,a,l)}}),vT=qe(function(a,l){return function(d){return Cs(a,d,l)}});function Nl(a,l,d){var g=Ht(l),x=Wo(l,g);d==null&&!(Tt(l)&&(x.length||!g.length))&&(d=l,l=a,a=this,x=Wo(l,Ht(l)));var A=!(Tt(d)&&"chain"in d)||!!d.chain,O=bn(a);return Cr(x,function(F){var U=l[F];a[F]=U,O&&(a.prototype[F]=function(){var J=this.__chain__;if(A||J){var ee=a(this.__wrapped__),ie=ee.__actions__=sr(this.__actions__);return ie.push({func:U,args:arguments,thisArg:a}),ee.__chain__=J,ee}return U.apply(a,Un([this.value()],arguments))})}),a}function _T(){return Vt._===this&&(Vt._=X1),this}function Ll(){}function gT(a){return a=Xe(a),qe(function(l){return Ud(l,a)})}var mT=dl(yt),yT=dl(sd),bT=dl(Uu);function rv(a){return bl(a)?ku(on(a)):Zy(a)}function wT(a){return function(l){return a==null?e:fi(a,l)}}var xT=op(),TT=op(!0);function Bl(){return[]}function Ul(){return!1}function ET(){return{}}function ST(){return""}function AT(){return!0}function RT(a,l){if(a=Xe(a),a<1||a>re)return[];var d=W,g=Kt(a,W);l=De(l),a-=W;for(var x=Xu(g,l);++d<a;)l(d);return x}function CT(a){return ke(a)?yt(a,on):_r(a)?[a]:sr(xp(at(a)))}function PT(a){var l=++G1;return at(a)+l}var IT=Ko(function(a,l){return a+l},0),OT=pl("ceil"),MT=Ko(function(a,l){return a/l},1),DT=pl("floor");function FT(a){return a&&a.length?Xo(a,ur,$u):e}function NT(a,l){return a&&a.length?Xo(a,De(l,2),$u):e}function LT(a){return ud(a,ur)}function BT(a,l){return ud(a,De(l,2))}function UT(a){return a&&a.length?Xo(a,ur,nl):e}function kT(a,l){return a&&a.length?Xo(a,De(l,2),nl):e}var GT=Ko(function(a,l){return a*l},1),HT=pl("round"),XT=Ko(function(a,l){return a-l},0);function WT(a){return a&&a.length?Hu(a,ur):0}function zT(a,l){return a&&a.length?Hu(a,De(l,2)):0}return S.after=cw,S.ary=Dp,S.assign=$w,S.assignIn=jp,S.assignInWith=ua,S.assignWith=ex,S.at=tx,S.before=Fp,S.bind=Al,S.bindAll=oT,S.bindKey=Np,S.castArray=Ew,S.chain=Ip,S.chunk=Db,S.compact=Fb,S.concat=Nb,S.cond=aT,S.conforms=uT,S.constant=Dl,S.countBy=W2,S.create=rx,S.curry=Lp,S.curryRight=Bp,S.debounce=Up,S.defaults=nx,S.defaultsDeep=ix,S.defer=dw,S.delay=pw,S.difference=Lb,S.differenceBy=Bb,S.differenceWith=Ub,S.drop=kb,S.dropRight=Gb,S.dropRightWhile=Hb,S.dropWhile=Xb,S.fill=Wb,S.filter=V2,S.flatMap=q2,S.flatMapDeep=K2,S.flatMapDepth=Z2,S.flatten=Ap,S.flattenDeep=zb,S.flattenDepth=Vb,S.flip=vw,S.flow=hT,S.flowRight=fT,S.fromPairs=Yb,S.functions=fx,S.functionsIn=cx,S.groupBy=J2,S.initial=qb,S.intersection=Kb,S.intersectionBy=Zb,S.intersectionWith=Jb,S.invert=px,S.invertBy=vx,S.invokeMap=$2,S.iteratee=Fl,S.keyBy=ew,S.keys=Ht,S.keysIn=ar,S.map=ra,S.mapKeys=gx,S.mapValues=mx,S.matches=cT,S.matchesProperty=dT,S.memoize=ia,S.merge=yx,S.mergeWith=qp,S.method=pT,S.methodOf=vT,S.mixin=Nl,S.negate=sa,S.nthArg=gT,S.omit=bx,S.omitBy=wx,S.once=_w,S.orderBy=tw,S.over=mT,S.overArgs=gw,S.overEvery=yT,S.overSome=bT,S.partial=Rl,S.partialRight=kp,S.partition=rw,S.pick=xx,S.pickBy=Kp,S.property=rv,S.propertyOf=wT,S.pull=t2,S.pullAll=Cp,S.pullAllBy=r2,S.pullAllWith=n2,S.pullAt=i2,S.range=xT,S.rangeRight=TT,S.rearg=mw,S.reject=sw,S.remove=s2,S.rest=yw,S.reverse=El,S.sampleSize=aw,S.set=Ex,S.setWith=Sx,S.shuffle=uw,S.slice=o2,S.sortBy=fw,S.sortedUniq=d2,S.sortedUniqBy=p2,S.split=qx,S.spread=bw,S.tail=v2,S.take=_2,S.takeRight=g2,S.takeRightWhile=m2,S.takeWhile=y2,S.tap=F2,S.throttle=ww,S.thru=ta,S.toArray=zp,S.toPairs=Zp,S.toPairsIn=Jp,S.toPath=CT,S.toPlainObject=Yp,S.transform=Ax,S.unary=xw,S.union=b2,S.unionBy=w2,S.unionWith=x2,S.uniq=T2,S.uniqBy=E2,S.uniqWith=S2,S.unset=Rx,S.unzip=Sl,S.unzipWith=Pp,S.update=Cx,S.updateWith=Px,S.values=ji,S.valuesIn=Ix,S.without=A2,S.words=ev,S.wrap=Tw,S.xor=R2,S.xorBy=C2,S.xorWith=P2,S.zip=I2,S.zipObject=O2,S.zipObjectDeep=M2,S.zipWith=D2,S.entries=Zp,S.entriesIn=Jp,S.extend=jp,S.extendWith=ua,Nl(S,S),S.add=IT,S.attempt=tv,S.camelCase=Fx,S.capitalize=Qp,S.ceil=OT,S.clamp=Ox,S.clone=Sw,S.cloneDeep=Rw,S.cloneDeepWith=Cw,S.cloneWith=Aw,S.conformsTo=Pw,S.deburr=$p,S.defaultTo=lT,S.divide=MT,S.endsWith=Nx,S.eq=Yr,S.escape=Lx,S.escapeRegExp=Bx,S.every=z2,S.find=Y2,S.findIndex=Ep,S.findKey=sx,S.findLast=j2,S.findLastIndex=Sp,S.findLastKey=ox,S.floor=DT,S.forEach=Op,S.forEachRight=Mp,S.forIn=ax,S.forInRight=ux,S.forOwn=lx,S.forOwnRight=hx,S.get=Il,S.gt=Iw,S.gte=Ow,S.has=dx,S.hasIn=Ol,S.head=Rp,S.identity=ur,S.includes=Q2,S.indexOf=jb,S.inRange=Mx,S.invoke=_x,S.isArguments=pi,S.isArray=ke,S.isArrayBuffer=Mw,S.isArrayLike=or,S.isArrayLikeObject=It,S.isBoolean=Dw,S.isBuffer=Vn,S.isDate=Fw,S.isElement=Nw,S.isEmpty=Lw,S.isEqual=Bw,S.isEqualWith=Uw,S.isError=Cl,S.isFinite=kw,S.isFunction=bn,S.isInteger=Gp,S.isLength=oa,S.isMap=Hp,S.isMatch=Gw,S.isMatchWith=Hw,S.isNaN=Xw,S.isNative=Ww,S.isNil=Vw,S.isNull=zw,S.isNumber=Xp,S.isObject=Tt,S.isObjectLike=Rt,S.isPlainObject=Fs,S.isRegExp=Pl,S.isSafeInteger=Yw,S.isSet=Wp,S.isString=aa,S.isSymbol=_r,S.isTypedArray=Yi,S.isUndefined=jw,S.isWeakMap=qw,S.isWeakSet=Kw,S.join=Qb,S.kebabCase=Ux,S.last=Dr,S.lastIndexOf=$b,S.lowerCase=kx,S.lowerFirst=Gx,S.lt=Zw,S.lte=Jw,S.max=FT,S.maxBy=NT,S.mean=LT,S.meanBy=BT,S.min=UT,S.minBy=kT,S.stubArray=Bl,S.stubFalse=Ul,S.stubObject=ET,S.stubString=ST,S.stubTrue=AT,S.multiply=GT,S.nth=e2,S.noConflict=_T,S.noop=Ll,S.now=na,S.pad=Hx,S.padEnd=Xx,S.padStart=Wx,S.parseInt=zx,S.random=Dx,S.reduce=nw,S.reduceRight=iw,S.repeat=Vx,S.replace=Yx,S.result=Tx,S.round=HT,S.runInContext=B,S.sample=ow,S.size=lw,S.snakeCase=jx,S.some=hw,S.sortedIndex=a2,S.sortedIndexBy=u2,S.sortedIndexOf=l2,S.sortedLastIndex=h2,S.sortedLastIndexBy=f2,S.sortedLastIndexOf=c2,S.startCase=Kx,S.startsWith=Zx,S.subtract=XT,S.sum=WT,S.sumBy=zT,S.template=Jx,S.times=RT,S.toFinite=wn,S.toInteger=Xe,S.toLength=Vp,S.toLower=Qx,S.toNumber=Fr,S.toSafeInteger=Qw,S.toString=at,S.toUpper=$x,S.trim=eT,S.trimEnd=tT,S.trimStart=rT,S.truncate=nT,S.unescape=iT,S.uniqueId=PT,S.upperCase=sT,S.upperFirst=Ml,S.each=Op,S.eachRight=Mp,S.first=Rp,Nl(S,function(){var a={};return nn(S,function(l,d){ft.call(S.prototype,d)||(a[d]=l)}),a}(),{chain:!1}),S.VERSION=n,Cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){S[a].placeholder=S}),Cr(["drop","take"],function(a,l){$e.prototype[a]=function(d){d=d===e?1:Bt(Xe(d),0);var g=this.__filtered__&&!l?new $e(this):this.clone();return g.__filtered__?g.__takeCount__=Kt(d,g.__takeCount__):g.__views__.push({size:Kt(d,W),type:a+(g.__dir__<0?"Right":"")}),g},$e.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),Cr(["filter","map","takeWhile"],function(a,l){var d=l+1,g=d==de||d==te;$e.prototype[a]=function(x){var A=this.clone();return A.__iteratees__.push({iteratee:De(x,3),type:d}),A.__filtered__=A.__filtered__||g,A}}),Cr(["head","last"],function(a,l){var d="take"+(l?"Right":"");$e.prototype[a]=function(){return this[d](1).value()[0]}}),Cr(["initial","tail"],function(a,l){var d="drop"+(l?"":"Right");$e.prototype[a]=function(){return this.__filtered__?new $e(this):this[d](1)}}),$e.prototype.compact=function(){return this.filter(ur)},$e.prototype.find=function(a){return this.filter(a).head()},$e.prototype.findLast=function(a){return this.reverse().find(a)},$e.prototype.invokeMap=qe(function(a,l){return typeof a=="function"?new $e(this):this.map(function(d){return Cs(d,a,l)})}),$e.prototype.reject=function(a){return this.filter(sa(De(a)))},$e.prototype.slice=function(a,l){a=Xe(a);var d=this;return d.__filtered__&&(a>0||l<0)?new $e(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),l!==e&&(l=Xe(l),d=l<0?d.dropRight(-l):d.take(l-a)),d)},$e.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},$e.prototype.toArray=function(){return this.take(W)},nn($e.prototype,function(a,l){var d=/^(?:filter|find|map|reject)|While$/.test(l),g=/^(?:head|last)$/.test(l),x=S[g?"take"+(l=="last"?"Right":""):l],A=g||/^find/.test(l);x&&(S.prototype[l]=function(){var O=this.__wrapped__,F=g?[1]:arguments,U=O instanceof $e,J=F[0],ee=U||ke(O),ie=function(Je){var et=x.apply(S,Un([Je],F));return g&&ce?et[0]:et};ee&&d&&typeof J=="function"&&J.length!=1&&(U=ee=!1);var ce=this.__chain__,Ee=!!this.__actions__.length,Fe=A&&!ce,Ve=U&&!Ee;if(!A&&ee){O=Ve?O:new $e(this);var Ne=a.apply(O,F);return Ne.__actions__.push({func:ta,args:[ie],thisArg:e}),new Ir(Ne,ce)}return Fe&&Ve?a.apply(this,F):(Ne=this.thru(ie),Fe?g?Ne.value()[0]:Ne.value():Ne)})}),Cr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Ro[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",g=/^(?:pop|shift)$/.test(a);S.prototype[a]=function(){var x=arguments;if(g&&!this.__chain__){var A=this.value();return l.apply(ke(A)?A:[],x)}return this[d](function(O){return l.apply(ke(O)?O:[],x)})}}),nn($e.prototype,function(a,l){var d=S[l];if(d){var g=d.name+"";ft.call(Hi,g)||(Hi[g]=[]),Hi[g].push({name:l,func:d})}}),Hi[qo(e,w).name]=[{name:"wrapper",func:e}],$e.prototype.clone=iy,$e.prototype.reverse=sy,$e.prototype.value=oy,S.prototype.at=N2,S.prototype.chain=L2,S.prototype.commit=B2,S.prototype.next=U2,S.prototype.plant=G2,S.prototype.reverse=H2,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=X2,S.prototype.first=S.prototype.head,ws&&(S.prototype[ws]=k2),S},Ui=B1();oi?((oi.exports=Ui)._=Ui,Fu._=Ui):Vt._=Ui}).call(jn)})(I3,Ii);function N_(r){let t,e,n;const i=[{texture:r[1]},r[2]];function s(u){r[7](u)}let o={};for(let u=0;u<i.length;u+=1)o=Hr(o,i[u]);return r[0]!==void 0&&(o.instance=r[0]),t=new Gr({props:o}),He.push(()=>ut(t,"instance",s)),{c(){Se(t.$$.fragment)},m(u,h){xe(t,u,h),n=!0},p(u,h){const f=h&6?vo(i,[h&2&&{texture:u[1]},h&4&&_o(u[2])]):{};!e&&h&1&&(e=!0,f.instance=u[0],wt(()=>e=!1)),t.$set(f)},i(u){n||(V(t.$$.fragment,u),n=!0)},o(u){Q(t.$$.fragment,u),n=!1},d(u){Te(t,u)}}}function O3(r){let t,e,n=r[1]&&N_(r);return{c(){n&&n.c(),t=qt()},m(i,s){n&&n.m(i,s),ve(i,t,s),e=!0},p(i,[s]){i[1]?n?(n.p(i,s),s&2&&V(n,1)):(n=N_(i),n.c(),V(n,1),n.m(t.parentNode,t)):n&&(tt(),Q(n,1,1,()=>{n=null}),rt())},i(i){e||(V(n),e=!0)},o(i){Q(n),e=!1},d(i){n&&n.d(i),i&&pe(t)}}}function M3(r,t,e){const n=["width","height","texture","instance"];let i=Ya(t,n),{width:s}=t,{height:o}=t,{texture:u}=t,{instance:h=void 0}=t,f={width:-1,height:-1},c;function v(p){h=p,e(0,h)}return r.$$set=p=>{t=Hr(Hr({},t),Va(p)),e(2,i=Ya(t,n)),"width"in p&&e(3,s=p.width),"height"in p&&e(4,o=p.height),"texture"in p&&e(5,u=p.texture),"instance"in p&&e(0,h=p.instance)},r.$$.update=()=>{if(r.$$.dirty&120&&u&&!Ii.isEqual(f,{width:s,height:o})){e(6,f={width:s,height:o});let{app:p}=Cc(),_=new fr(u);_.width=s,_.height=o,e(1,c=p.renderer.generateTexture(_,{scaleMode:jt.LINEAR,region:new Ye(0,0,s,o)}))}},[h,c,i,s,o,u,f,v]}class D3 extends ht{constructor(t){super(),lt(this,t,M3,O3,ot,{width:3,height:4,texture:5,instance:0})}}function F3(r){let t,e;return t=new Gr({props:{texture:r[5]}}),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,i){const s={};i&32&&(s.texture=n[5]),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function N3(r){let t,e;return t=new Mi({props:{$$slots:{default:[L3]},$$scope:{ctx:r}}}),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,i){const s={};i&16415&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function L3(r){let t,e,n,i,s,o;t=new Gr({props:{texture:r[3]}});const u=[{texture:r[2]},r[0].layers[r[1]].pos];let h={};for(let f=0;f<u.length;f+=1)h=Hr(h,u[f]);return n=new Gr({props:h}),s=new Gr({props:{texture:r[4]}}),{c(){Se(t.$$.fragment),e=be(),Se(n.$$.fragment),i=be(),Se(s.$$.fragment)},m(f,c){xe(t,f,c),ve(f,e,c),xe(n,f,c),ve(f,i,c),xe(s,f,c),o=!0},p(f,c){const v={};c&8&&(v.texture=f[3]),t.$set(v);const p=c&7?vo(u,[c&4&&{texture:f[2]},c&3&&_o(f[0].layers[f[1]].pos)]):{};n.$set(p);const _={};c&16&&(_.texture=f[4]),s.$set(_)},i(f){o||(V(t.$$.fragment,f),V(n.$$.fragment,f),V(s.$$.fragment,f),o=!0)},o(f){Q(t.$$.fragment,f),Q(n.$$.fragment,f),Q(s.$$.fragment,f),o=!1},d(f){Te(t,f),f&&pe(e),Te(n,f),f&&pe(i),Te(s,f)}}}function B3(r){let t,e,n,i;const s=[N3,F3],o=[];function u(h,f){return h[4]&&h[3]&&h[2]?0:h[5]?1:-1}return~(t=u(r))&&(e=o[t]=s[t](r)),{c(){e&&e.c(),n=qt()},m(h,f){~t&&o[t].m(h,f),ve(h,n,f),i=!0},p(h,[f]){let c=t;t=u(h),t===c?~t&&o[t].p(h,f):(e&&(tt(),Q(o[c],1,1,()=>{o[c]=null}),rt()),~t?(e=o[t],e?e.p(h,f):(e=o[t]=s[t](h),e.c()),V(e,1),e.m(n.parentNode,n)):e=null)},i(h){i||(V(e),i=!0)},o(h){Q(e),i=!1},d(h){~t&&o[t].d(h),h&&pe(n)}}}function U3(r,t,e){let n,{renderSlot:i}=t,{selectedLayer:s}=t,o={},u=new WeakMap,h={width:-1,height:-1},f,{app:c}=Cc(),v,p,_,y;function b(w){if(!u.has(w.image)){let E=new Re(new Ke(w.image)),T=new fr(E);T.x=w.pos.x,T.y=w.pos.y,T.width=w.rect.width,T.height=w.rect.height,u.set(w.image,c.renderer.generateTexture(T,{scaleMode:jt.LINEAR,region:new Ye(0,0,117,166),multisample:vt.HIGH}))}return u.get(w.image)}function m(w){let E=new cr;for(let T of[...w].reverse())E.addChild(new fr(b(T)));return c.renderer.generateTexture(E,{scaleMode:jt.NEAREST,region:new Ye(0,0,117,166)})}return r.$$set=w=>{"renderSlot"in w&&e(0,i=w.renderSlot),"selectedLayer"in w&&e(1,s=w.selectedLayer)},r.$$.update=()=>{if(r.$$.dirty&3&&e(9,n=s!==void 0?i.layers[s].rect:void 0),r.$$.dirty&3&&s!==void 0&&(u.delete(i.layers[s].image),e(7,h={width:-1,height:-1}),e(2,f=void 0)),r.$$.dirty&67&&(Ii.isEqual(o,{selected:s,layers:i.layers.map(w=>w.image.src)})||(e(6,o={selected:s,layers:i.layers.map(w=>w.image.src)}),e(8,y=s!==void 0?new Re(new Ke(i.layers[s].image)):void 0),e(3,v=s!==void 0?m(i.layers.slice(s+1)):void 0),e(4,p=s!==void 0?m(i.layers.slice(0,s)):void 0),e(5,_=s===void 0?m(i.layers):void 0))),r.$$.dirty&896&&y&&!Ii.isEqual(h,n)){e(7,h={...n});let w=new fr(y);w.width=h.width,w.height=h.height,e(2,f=c.renderer.generateTexture(w,{scaleMode:jt.NEAREST,region:new Ye(0,0,h.width,h.height)}))}},[i,s,f,v,p,_,o,h,y,n]}class k3 extends ht{constructor(t){super(),lt(this,t,U3,B3,ot,{renderSlot:0,selectedLayer:1})}}/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cf=function(r,t){return Cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},Cf(r,t)};function G3(r,t){Cf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var H3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,X3=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`,iu=function(r){G3(t,r);function t(e,n){e===void 0&&(e=0),n===void 0&&(n=1);var i=r.call(this,H3,X3)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=e,i.alpha=n,i}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(e){var n=this.uniforms.color;typeof e=="number"?(ei(e,n),this._color=e):(n[0]=e[0],n[1]=e[1],n[2]=e[2],this._color=P0(n))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){this.uniforms.alpha=e,this._alpha=e},enumerable:!1,configurable:!0}),t}(dn),Pf={},W3={get exports(){return Pf},set exports(r){Pf=r}};(function(r){(function(){function t(b,m){document.addEventListener?b.addEventListener("scroll",m,!1):b.attachEvent("scroll",m)}function e(b){document.body?b():document.addEventListener?document.addEventListener("DOMContentLoaded",function m(){document.removeEventListener("DOMContentLoaded",m),b()}):document.attachEvent("onreadystatechange",function m(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",m),b())})}function n(b){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(b)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(b,m){b.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+m+";"}function s(b){var m=b.g.offsetWidth,w=m+100;return b.j.style.width=w+"px",b.i.scrollLeft=w,b.h.scrollLeft=b.h.scrollWidth+100,b.l!==m?(b.l=m,!0):!1}function o(b,m){function w(){var T=E;s(T)&&T.g.parentNode!==null&&m(T.l)}var E=b;t(b.h,w),t(b.i,w),s(b)}function u(b,m,w){m=m||{},w=w||window,this.family=b,this.style=m.style||"normal",this.weight=m.weight||"normal",this.stretch=m.stretch||"normal",this.context=w}var h=null,f=null,c=null,v=null;function p(b){return f===null&&(_(b)&&/Apple/.test(window.navigator.vendor)?(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),f=!!b&&603>parseInt(b[1],10)):f=!1),f}function _(b){return v===null&&(v=!!b.document.fonts),v}function y(b,m){var w=b.style,E=b.weight;if(c===null){var T=document.createElement("div");try{T.style.font="condensed 100px sans-serif"}catch{}c=T.style.font!==""}return[w,E,c?b.stretch:"","100px",m].join(" ")}u.prototype.load=function(b,m){var w=this,E=b||"BESbswy",T=0,C=m||3e3,R=new Date().getTime();return new Promise(function(P,I){if(_(w.context)&&!p(w.context)){var N=new Promise(function(D,H){function Z(){new Date().getTime()-R>=C?H(Error(""+C+"ms timeout exceeded")):w.context.document.fonts.load(y(w,'"'+w.family+'"'),E).then(function(X){1<=X.length?D():setTimeout(Z,25)},H)}Z()}),M=new Promise(function(D,H){T=setTimeout(function(){H(Error(""+C+"ms timeout exceeded"))},C)});Promise.race([M,N]).then(function(){clearTimeout(T),P(w)},I)}else e(function(){function D(){var he;(he=se!=-1&&te!=-1||se!=-1&&Y!=-1||te!=-1&&Y!=-1)&&((he=se!=te&&se!=Y&&te!=Y)||(h===null&&(he=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!he&&(536>parseInt(he[1],10)||parseInt(he[1],10)===536&&11>=parseInt(he[2],10))),he=h&&(se==re&&te==re&&Y==re||se==ue&&te==ue&&Y==ue||se==q&&te==q&&Y==q)),he=!he),he&&(W.parentNode!==null&&W.parentNode.removeChild(W),clearTimeout(T),P(w))}function H(){if(new Date().getTime()-R>=C)W.parentNode!==null&&W.parentNode.removeChild(W),I(Error(""+C+"ms timeout exceeded"));else{var he=w.context.document.hidden;(he===!0||he===void 0)&&(se=Z.g.offsetWidth,te=X.g.offsetWidth,Y=de.g.offsetWidth,D()),T=setTimeout(H,50)}}var Z=new n(E),X=new n(E),de=new n(E),se=-1,te=-1,Y=-1,re=-1,ue=-1,q=-1,W=document.createElement("div");W.dir="ltr",i(Z,y(w,"sans-serif")),i(X,y(w,"serif")),i(de,y(w,"monospace")),W.appendChild(Z.g),W.appendChild(X.g),W.appendChild(de.g),w.context.document.body.appendChild(W),re=Z.g.offsetWidth,ue=X.g.offsetWidth,q=de.g.offsetWidth,H(),o(Z,function(he){se=he,D()}),i(Z,y(w,'"'+w.family+'",sans-serif')),o(X,function(he){te=he,D()}),i(X,y(w,'"'+w.family+'",serif')),o(de,function(he){Y=he,D()}),i(de,y(w,'"'+w.family+'",monospace'))})})},r.exports=u})()})(W3);const z3=Pf,V3=r=>({fonts:r&1}),L_=r=>({fonts:r[0]});function Y3(r){return{c:Oe,m:Oe,p:Oe,i:Oe,o:Oe,d:Oe}}function j3(r){let t;const e=r[3].default,n=Tr(e,r,r[2],L_);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&5)&&Sr(n,e,i,i[2],t?Er(e,i[2],s,V3):Ar(i[2]),L_)},i(i){t||(V(n,i),t=!0)},o(i){Q(n,i),t=!1},d(i){n&&n.d(i)}}}function q3(r){return{c:Oe,m:Oe,p:Oe,i:Oe,o:Oe,d:Oe}}function K3(r){let t,e,n,i={ctx:r,current:null,token:null,hasCatch:!1,pending:q3,then:j3,catch:Y3,blocks:[,,,]};return lv(e=r[1],i),{c(){t=qt(),i.block.c()},m(s,o){ve(s,t,o),i.block.m(s,i.anchor=o),i.mount=()=>t.parentNode,i.anchor=t,n=!0},p(s,[o]){r=s,i.ctx=r,o&2&&e!==(e=r[1])&&lv(e,i)||QT(i,r,o)},i(s){n||(V(i.block),n=!0)},o(s){for(let o=0;o<3;o+=1){const u=i.blocks[o];Q(u)}n=!1},d(s){s&&pe(t),i.block.d(s),i.token=null,i=null}}}function Z3(r,t,e){let n,{$$slots:i={},$$scope:s}=t,{fonts:o}=t;return r.$$set=u=>{"fonts"in u&&e(0,o=u.fonts),"$$scope"in u&&e(2,s=u.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&e(1,n=Promise.all(o.map(u=>new z3(u).load())))},[o,n,s,i]}class J3 extends ht{constructor(t){super(),lt(this,t,Z3,K3,ot,{fonts:0})}}function B_(r){let t,e;return t=new Gr({props:{texture:r[3],x:r[0],y:r[1],anchor:r[2]}}),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,i){const s={};i&8&&(s.texture=n[3]),i&1&&(s.x=n[0]),i&2&&(s.y=n[1]),i&4&&(s.anchor=n[2]),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function Q3(r){let t,e,n=r[3]&&B_(r);return{c(){n&&n.c(),t=qt()},m(i,s){n&&n.m(i,s),ve(i,t,s),e=!0},p(i,[s]){i[3]?n?(n.p(i,s),s&8&&V(n,1)):(n=B_(i),n.c(),V(n,1),n.m(t.parentNode,t)):n&&(tt(),Q(n,1,1,()=>{n=null}),rt())},i(i){e||(V(n),e=!0)},o(i){Q(n),e=!1},d(i){n&&n.d(i),i&&pe(t)}}}function $3(r,t,e){let{text:n}=t,{style:i={}}=t,{maxWidth:s}=t,{maxHeight:o}=t,{x:u=0}=t,{y:h=0}=t,{anchor:f=0}=t,c,v={};function p(y,b){let m=new Fn(y);m.wordWrapWidth=b;let w=Wr.measureText(n,m,m.wordWrap),E=1;return w.width>s&&(E=s/w.width),w.height*E>o&&(E*=o/(w.height*E)),E}function _(){e(8,v={text:n,style:i});let{app:y}=Cc(),b=new Fn({...i,wordWrap:!0,wordWrapWidth:s}),m=p(b,s);if(m<1){let E=s/m,T=E;for(m=p(b,E);T>2;){T/=2;let C={width:E-T,scale:p(b,E-T)},R={width:E+T,scale:p(b,E+T)};if(C.scale>m&&C.scale>R.scale){E=C.width,m=C.scale;continue}if(R.scale>m&&R.scale>C.scale){E=R.width,m=R.scale;continue}}b.wordWrapWidth=E}let w=new gu(n,b);return w.width*=m,w.height*=m,y.renderer.generateTexture(w,{scaleMode:jt.LINEAR,region:new Ye(0,0,w.width,w.height)})}return r.$$set=y=>{"text"in y&&e(4,n=y.text),"style"in y&&e(5,i=y.style),"maxWidth"in y&&e(6,s=y.maxWidth),"maxHeight"in y&&e(7,o=y.maxHeight),"x"in y&&e(0,u=y.x),"y"in y&&e(1,h=y.y),"anchor"in y&&e(2,f=y.anchor)},r.$$.update=()=>{r.$$.dirty&304&&(Ii.isEqual(v,{text:n,style:i})||e(3,c=_()))},[u,h,f,c,n,i,s,o,v]}class eD extends ht{constructor(t){super(),lt(this,t,$3,Q3,ot,{text:4,style:5,maxWidth:6,maxHeight:7,x:0,y:1,anchor:2})}}const{document:U_}=au;function k_(r,t,e){const n=r.slice();return n[23]=t[e],n[25]=e,n}function G_(r,t,e){const n=r.slice();return n[26]=t[e],n[25]=e,n}function bh(r){const t=r.slice(),e=t[3][t[0]];t[23]=e;const n=t[23].layers[t[4]];return t[26]=n,t}function H_(r,t,e){const n=r.slice();return n[23]=t[e],n}function X_(r,t,e){const n=r.slice();return n[23]=t[e],n[30]=t,n[25]=e,n}function tD(r){let t,e,n,i,s,o,u;function h(c){r[9](c,r[25])}let f={texture:Re.from(Ff),x:-2,y:-2};return r[2][r[25]]!==void 0&&(f.instance=r[2][r[25]]),t=new Gr({props:f}),He.push(()=>ut(t,"instance",h)),i=new Gr({props:{texture:Re.WHITE,filters:[new iu(ti(r[23].background))],width:117,height:166}}),o=new k3({props:{renderSlot:r[23],selectedLayer:r[0]===r[25]?r[4]:void 0}}),{c(){Se(t.$$.fragment),n=be(),Se(i.$$.fragment),s=be(),Se(o.$$.fragment)},m(c,v){xe(t,c,v),ve(c,n,v),xe(i,c,v),ve(c,s,v),xe(o,c,v),u=!0},p(c,v){r=c;const p={};!e&&v[0]&12&&(e=!0,p.instance=r[2][r[25]],wt(()=>e=!1)),t.$set(p);const _={};v[0]&8&&(_.filters=[new iu(ti(r[23].background))]),i.$set(_);const y={};v[0]&8&&(y.renderSlot=r[23]),v[0]&25&&(y.selectedLayer=r[0]===r[25]?r[4]:void 0),o.$set(y)},i(c){u||(V(t.$$.fragment,c),V(i.$$.fragment,c),V(o.$$.fragment,c),u=!0)},o(c){Q(t.$$.fragment,c),Q(i.$$.fragment,c),Q(o.$$.fragment,c),u=!1},d(c){Te(t,c),c&&pe(n),Te(i,c),c&&pe(s),Te(o,c)}}}function W_(r,t){let e,n,i;const s=[{mask:t[2][t[25]]},t[23].pos,{zIndex:1}];let o={$$slots:{default:[tD]},$$scope:{ctx:t}};for(let u=0;u<s.length;u+=1)o=Hr(o,s[u]);return n=new Mi({props:o}),{key:r,first:null,c(){e=qt(),Se(n.$$.fragment),this.first=e},m(u,h){ve(u,e,h),xe(n,u,h),i=!0},p(u,h){t=u;const f=h[0]&12?vo(s,[{mask:t[2][t[25]]},h[0]&8&&_o(t[23].pos),s[2]]):{};h[0]&29|h[1]&1&&(f.$$scope={dirty:h,ctx:t}),n.$set(f)},i(u){i||(V(n.$$.fragment,u),i=!0)},o(u){Q(n.$$.fragment,u),i=!1},d(u){u&&pe(e),Te(n,u)}}}function z_(r){let t,e;return t=new Mi({props:{x:r[23].pos.x+1,y:r[23].pos.y+167,zIndex:3,$$slots:{default:[rD]},$$scope:{ctx:r}}}),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,i){const s={};i[0]&8&&(s.x=n[23].pos.x+1),i[0]&8&&(s.y=n[23].pos.y+167),i[0]&8|i[1]&1&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function rD(r){let t,e,n,i;return t=new Gr({props:{texture:Re.from(o0)}}),n=new eD({props:{text:r[23].name.trim(),style:{fill:ti(r[23].color),breakWords:!0,fontFamily:["Noto Sans TC","Noto Sans SC","Noto Sans JP","sans-serif"],fontSize:15,fontWeight:"bold",align:"center",textBaseline:"alphabetic"},anchor:.5,x:56,y:14,maxWidth:108,maxHeight:26}}),{c(){Se(t.$$.fragment),e=be(),Se(n.$$.fragment)},m(s,o){xe(t,s,o),ve(s,e,o),xe(n,s,o),i=!0},p(s,o){const u={};o[0]&8&&(u.text=s[23].name.trim()),o[0]&8&&(u.style={fill:ti(s[23].color),breakWords:!0,fontFamily:["Noto Sans TC","Noto Sans SC","Noto Sans JP","sans-serif"],fontSize:15,fontWeight:"bold",align:"center",textBaseline:"alphabetic"}),n.$set(u)},i(s){i||(V(t.$$.fragment,s),V(n.$$.fragment,s),i=!0)},o(s){Q(t.$$.fragment,s),Q(n.$$.fragment,s),i=!1},d(s){Te(t,s),s&&pe(e),Te(n,s)}}}function V_(r){var i;let t,e,n=((i=r[23].name)==null?void 0:i.length)&&z_(r);return{c(){n&&n.c(),t=qt()},m(s,o){n&&n.m(s,o),ve(s,t,o),e=!0},p(s,o){var u;(u=s[23].name)!=null&&u.length?n?(n.p(s,o),o[0]&8&&V(n,1)):(n=z_(s),n.c(),V(n,1),n.m(t.parentNode,t)):n&&(tt(),Q(n,1,1,()=>{n=null}),rt())},i(s){e||(V(n),e=!0)},o(s){Q(n),e=!1},d(s){n&&n.d(s),s&&pe(t)}}}function Y_(r){let t,e,n,i;t=new Gr({props:{texture:Re.WHITE,width:680,height:680,filters:[new iu(0)]}});const s=[{texture:new Re(new Ke(r[26].image))},{alpha:.75},{x:r[23].pos.x+r[26].pos.x},{y:r[23].pos.y+r[26].pos.y},r[26].rect];let o={};for(let u=0;u<s.length;u+=1)o=Hr(o,s[u]);return n=new D3({props:o}),{c(){Se(t.$$.fragment),e=be(),Se(n.$$.fragment)},m(u,h){xe(t,u,h),ve(u,e,h),xe(n,u,h),i=!0},p(u,h){const f=h[0]&25?vo(s,[{texture:new Re(new Ke(u[26].image))},s[1],h[0]&25&&{x:u[23].pos.x+u[26].pos.x},h[0]&25&&{y:u[23].pos.y+u[26].pos.y},h[0]&25&&_o(u[26].rect)]):{};n.$set(f)},i(u){i||(V(t.$$.fragment,u),V(n.$$.fragment,u),i=!0)},o(u){Q(t.$$.fragment,u),Q(n.$$.fragment,u),i=!1},d(u){Te(t,u),u&&pe(e),Te(n,u)}}}function nD(r){let t,e,n=r[0]!==void 0&&r[4]!==void 0&&Y_(bh(r));return{c(){n&&n.c(),t=qt()},m(i,s){n&&n.m(i,s),ve(i,t,s),e=!0},p(i,s){i[0]!==void 0&&i[4]!==void 0?n?(n.p(bh(i),s),s[0]&17&&V(n,1)):(n=Y_(bh(i)),n.c(),V(n,1),n.m(t.parentNode,t)):n&&(tt(),Q(n,1,1,()=>{n=null}),rt())},i(i){e||(V(n),e=!0)},o(i){Q(n),e=!1},d(i){n&&n.d(i),i&&pe(t)}}}function iD(r){let t,e,n=[],i=new Map,s,o,u,h,f,c;t=new Gr({props:{texture:Re.WHITE,width:680,height:680,zIndex:0}});let v=r[3];const p=m=>m[23];for(let m=0;m<v.length;m+=1){let w=X_(r,v,m),E=p(w);i.set(E,n[m]=W_(E,w))}o=new Gr({props:{texture:Re.from(r[6].lang==="zh-TW"?Th:Eh),width:680,height:680,zIndex:2}});let _=r[3],y=[];for(let m=0;m<_.length;m+=1)y[m]=V_(H_(r,_,m));const b=m=>Q(y[m],1,1,()=>{y[m]=null});return f=new Mi({props:{mask:r[5],alpha:.8,zIndex:4,$$slots:{default:[nD]},$$scope:{ctx:r}}}),{c(){Se(t.$$.fragment),e=be();for(let m=0;m<n.length;m+=1)n[m].c();s=be(),Se(o.$$.fragment),u=be();for(let m=0;m<y.length;m+=1)y[m].c();h=be(),Se(f.$$.fragment)},m(m,w){xe(t,m,w),ve(m,e,w);for(let E=0;E<n.length;E+=1)n[E].m(m,w);ve(m,s,w),xe(o,m,w),ve(m,u,w);for(let E=0;E<y.length;E+=1)y[E].m(m,w);ve(m,h,w),xe(f,m,w),c=!0},p(m,w){w[0]&29&&(v=m[3],tt(),n=Df(n,w,p,1,m,v,i,s.parentNode,$T,W_,s,X_),rt());const E={};if(w[0]&64&&(E.texture=Re.from(m[6].lang==="zh-TW"?Th:Eh)),o.$set(E),w[0]&8){_=m[3];let C;for(C=0;C<_.length;C+=1){const R=H_(m,_,C);y[C]?(y[C].p(R,w),V(y[C],1)):(y[C]=V_(R),y[C].c(),V(y[C],1),y[C].m(h.parentNode,h))}for(tt(),C=_.length;C<y.length;C+=1)b(C);rt()}const T={};w[0]&32&&(T.mask=m[5]),w[0]&25|w[1]&1&&(T.$$scope={dirty:w,ctx:m}),f.$set(T)},i(m){if(!c){V(t.$$.fragment,m);for(let w=0;w<v.length;w+=1)V(n[w]);V(o.$$.fragment,m);for(let w=0;w<_.length;w+=1)V(y[w]);V(f.$$.fragment,m),c=!0}},o(m){Q(t.$$.fragment,m);for(let w=0;w<n.length;w+=1)Q(n[w]);Q(o.$$.fragment,m),y=y.filter(Boolean);for(let w=0;w<y.length;w+=1)Q(y[w]);Q(f.$$.fragment,m),c=!1},d(m){Te(t,m),m&&pe(e);for(let w=0;w<n.length;w+=1)n[w].d(m);m&&pe(s),Te(o,m),m&&pe(u),If(y,m),m&&pe(h),Te(f,m)}}}function sD(r){let t,e;return t=new Mi({props:{sortableChildren:!0,$$slots:{default:[iD]},$$scope:{ctx:r}}}),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,i){const s={};i[0]&125|i[1]&1&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function oD(r){let t,e;return t=new J3({props:{fonts:["Noto Sans TC","Noto Sans SC","Noto Sans JP"],$$slots:{default:[sD]},$$scope:{ctx:r}}}),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,i){const s={};i[0]&125|i[1]&1&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function aD(r){let t,e;return t=new A3({props:{resources:[Th,Eh,Ff,o0],$$slots:{default:[oD]},$$scope:{ctx:r}}}),{c(){Se(t.$$.fragment)},m(n,i){xe(t,n,i),e=!0},p(n,i){const s={};i[0]&125|i[1]&1&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){Q(t.$$.fragment,n),e=!1},d(n){Te(t,n)}}}function uD(r){let t=[],e=new Map,n,i,s,o=[...r[23].layers].reverse();const u=f=>f[26].image;for(let f=0;f<o.length;f+=1){let c=G_(r,o,f),v=u(c);e.set(v,t[f]=j_(v,c))}let h=r[4]!==void 0&&q_(r);return{c(){for(let f=0;f<t.length;f+=1)t[f].c();n=be(),h&&h.c(),i=qt()},m(f,c){for(let v=0;v<t.length;v+=1)t[v].m(f,c);ve(f,n,c),h&&h.m(f,c),ve(f,i,c),s=!0},p(f,c){c[0]&24&&(o=[...f[23].layers].reverse(),t=Df(t,c,u,1,f,o,e,n.parentNode,s0,j_,n,G_)),f[4]!==void 0?h?(h.p(f,c),c[0]&16&&V(h,1)):(h=q_(f),h.c(),V(h,1),h.m(i.parentNode,i)):h&&(tt(),Q(h,1,1,()=>{h=null}),rt())},i(f){s||(V(h),s=!0)},o(f){Q(h),s=!1},d(f){for(let c=0;c<t.length;c+=1)t[c].d(f);f&&pe(n),h&&h.d(f),f&&pe(i)}}}function lD(r){let t,e,n;function i(){return r[11](r[25])}return{c(){t=ae("button"),L(t,"class","block h-full w-full")},m(s,o){ve(s,t,o),e||(n=_e(t,"click",i),e=!0)},p(s,o){r=s},i:Oe,o:Oe,d(s){s&&pe(t),e=!1,n()}}}function j_(r,t){let e,n,i;function s(){return t[12](t[23],t[25])}return{key:r,first:null,c(){e=ae("div"),L(e,"class","absolute z-10"),Be(e,"top",t[26].pos.y+"px"),Be(e,"left",t[26].pos.x+"px"),Be(e,"width",t[26].rect.width+"px"),Be(e,"height",t[26].rect.height+"px"),this.first=e},m(o,u){ve(o,e,u),n||(i=_e(e,"mousedown",s),n=!0)},p(o,u){t=o,u[0]&8&&Be(e,"top",t[26].pos.y+"px"),u[0]&8&&Be(e,"left",t[26].pos.x+"px"),u[0]&8&&Be(e,"width",t[26].rect.width+"px"),u[0]&8&&Be(e,"height",t[26].rect.height+"px")},d(o){o&&pe(e),n=!1,i()}}}function q_(r){let t,e,n,i,s,o;function u(p){r[13](p)}function h(p){r[14](p)}function f(p){r[15](p)}function c(p){r[16](p)}let v={ratio:r[3][r[0]].layers[r[4]].image.width/r[3][r[0]].layers[r[4]].image.height};return r[3][r[0]].layers[r[4]].pos.x!==void 0&&(v.x=r[3][r[0]].layers[r[4]].pos.x),r[3][r[0]].layers[r[4]].pos.y!==void 0&&(v.y=r[3][r[0]].layers[r[4]].pos.y),r[3][r[0]].layers[r[4]].rect.width!==void 0&&(v.width=r[3][r[0]].layers[r[4]].rect.width),r[3][r[0]].layers[r[4]].rect.height!==void 0&&(v.height=r[3][r[0]].layers[r[4]].rect.height),t=new nE({props:v}),He.push(()=>ut(t,"x",u)),He.push(()=>ut(t,"y",h)),He.push(()=>ut(t,"width",f)),He.push(()=>ut(t,"height",c)),{c(){Se(t.$$.fragment)},m(p,_){xe(t,p,_),o=!0},p(p,_){const y={};_[0]&25&&(y.ratio=p[3][p[0]].layers[p[4]].image.width/p[3][p[0]].layers[p[4]].image.height),!e&&_[0]&25&&(e=!0,y.x=p[3][p[0]].layers[p[4]].pos.x,wt(()=>e=!1)),!n&&_[0]&25&&(n=!0,y.y=p[3][p[0]].layers[p[4]].pos.y,wt(()=>n=!1)),!i&&_[0]&25&&(i=!0,y.width=p[3][p[0]].layers[p[4]].rect.width,wt(()=>i=!1)),!s&&_[0]&25&&(s=!0,y.height=p[3][p[0]].layers[p[4]].rect.height,wt(()=>s=!1)),t.$set(y)},i(p){o||(V(t.$$.fragment,p),o=!0)},o(p){Q(t.$$.fragment,p),o=!1},d(p){Te(t,p)}}}function K_(r){let t,e,n,i,s;const o=[lD,uD],u=[];function h(f,c){return f[0]!==f[25]?0:1}return e=h(r),n=u[e]=o[e](r),{c(){t=ae("div"),n.c(),i=be(),L(t,"class","slot svelte-p2cpum"),Be(t,"left",r[23].pos.x+"px"),Be(t,"top",r[23].pos.y+"px"),ye(t,"outline",r[0]===r[25])},m(f,c){ve(f,t,c),u[e].m(t,null),K(t,i),s=!0},p(f,c){let v=e;e=h(f),e===v?u[e].p(f,c):(tt(),Q(u[v],1,1,()=>{u[v]=null}),rt(),n=u[e],n?n.p(f,c):(n=u[e]=o[e](f),n.c()),V(n,1),n.m(t,i)),(!s||c[0]&8)&&Be(t,"left",f[23].pos.x+"px"),(!s||c[0]&8)&&Be(t,"top",f[23].pos.y+"px"),(!s||c[0]&1)&&ye(t,"outline",f[0]===f[25])},i(f){s||(V(n),s=!0)},o(f){Q(n),s=!1},d(f){f&&pe(t),u[e].d()}}}function Z_(r){let t,e,n,i,s;function o(c){r[17](c)}function u(c){r[18](c)}function h(c){r[19](c)}let f={};return r[3][r[0]]!==void 0&&(f.slot=r[3][r[0]]),r[4]!==void 0&&(f.selectedLayer=r[4]),r[0]!==void 0&&(f.selectedSlot=r[0]),t=new eA({props:f}),He.push(()=>ut(t,"slot",o)),He.push(()=>ut(t,"selectedLayer",u)),He.push(()=>ut(t,"selectedSlot",h)),{c(){Se(t.$$.fragment)},m(c,v){xe(t,c,v),s=!0},p(c,v){const p={};!e&&v[0]&9&&(e=!0,p.slot=c[3][c[0]],wt(()=>e=!1)),!n&&v[0]&16&&(n=!0,p.selectedLayer=c[4],wt(()=>n=!1)),!i&&v[0]&1&&(i=!0,p.selectedSlot=c[0],wt(()=>i=!1)),t.$set(p)},i(c){s||(V(t.$$.fragment,c),s=!0)},o(c){Q(t.$$.fragment,c),s=!1},d(c){Te(t,c)}}}function hD(r){let t,e,n,i,s,o,u,h,f,c,v,p=r[6]("label.export")+"",_,y,b,m,w,E,T=r[6]("label.language")+"",C,R,P,I,N,M,D,H=r[6]("label.credit")+"",Z,X,de,se,te=r[6]("label.translate")+"",Y,re,ue,q,W=r[6]("label.code")+"",he,Ae,Ce,We,ze;U_.title=t=r[6]("title");function Qe(oe){r[10](oe)}let ge={width:680,height:680,backgroundColor:r[7],antialias:!0,resolution:1,render:"demand",$$slots:{default:[aD]},$$scope:{ctx:r}};r[1]!==void 0&&(ge.instance=r[1]),o=new b3({props:ge}),He.push(()=>ut(o,"instance",Qe));let G=r[3],Le=[];for(let oe=0;oe<G.length;oe+=1)Le[oe]=K_(k_(r,G,oe));const $=oe=>Q(Le[oe],1,1,()=>{Le[oe]=null});let Me=r[0]!==void 0&&Z_(r);return{c(){e=be(),n=ae("div"),i=ae("div"),s=ae("div"),Se(o.$$.fragment),h=be();for(let oe=0;oe<Le.length;oe+=1)Le[oe].c();f=be(),c=ae("div"),v=ae("button"),_=Jt(p),y=be(),b=ae("div"),Me&&Me.c(),m=be(),w=ae("div"),E=ae("p"),C=Jt(T),R=be(),P=ae("select"),I=ae("option"),I.textContent="中文",N=ae("option"),N.textContent="English",M=be(),D=ae("p"),Z=Jt(H),X=ae("a"),X.textContent="@EastAiruier",de=be(),se=ae("p"),Y=Jt(te),re=ae("a"),re.textContent="@Ichiroku16_Vt",ue=be(),q=ae("p"),he=Jt(W),Ae=ae("a"),Ae.textContent="eslym/vtuber-preference",L(s,"class","template svelte-p2cpum"),L(i,"class","flex flex-grow flex-row items-center justify-center overflow-hidden shadow-lg"),L(v,"class","bg-indigo-600 p-2 text-center text-lg font-bold text-white"),L(b,"class","h-0 flex-grow"),I.__value="zh-TW",I.value=I.__value,N.__value="en",N.value=N.__value,L(P,"class","bg-white"),r[6].lang===void 0&&ja(()=>r[20].call(P)),L(E,"class","font-bold not-italic"),L(X,"class","text-blue-700"),L(X,"target","_blank"),L(X,"rel","noreferrer"),L(X,"href","https://twitter.com/EastAiruier/status/1624174786359496704"),L(D,"class","mt-2"),L(re,"class","text-blue-700"),L(re,"target","_blank"),L(re,"rel","noreferrer"),L(re,"href","https://twitter.com/Ichiroku16_Vt/status/1628215427733266432"),L(se,"class","mt-2"),L(Ae,"href","https://github.com/eslym/vtuber-preference"),L(Ae,"class","text-blue-700"),L(Ae,"target","_blank"),L(Ae,"rel","noreferrer"),L(q,"class","mt-2"),L(w,"class","py-2 text-center text-sm italic"),L(c,"class","flex h-full w-80 flex-col overflow-auto border-slate-200 bg-white shadow"),L(n,"class","flex h-screen w-screen flex-row bg-opacity-90"),ye(n,"bg-black",r[0]!==void 0&&r[4]!==void 0)},m(oe,k){ve(oe,e,k),ve(oe,n,k),K(n,i),K(i,s),xe(o,s,null),K(s,h);for(let Ze=0;Ze<Le.length;Ze+=1)Le[Ze].m(s,null);K(n,f),K(n,c),K(c,v),K(v,_),K(c,y),K(c,b),Me&&Me.m(b,null),K(c,m),K(c,w),K(w,E),K(E,C),K(E,R),K(E,P),K(P,I),K(P,N),uv(P,r[6].lang),K(w,M),K(w,D),K(D,Z),K(D,X),K(w,de),K(w,se),K(se,Y),K(se,re),K(w,ue),K(w,q),K(q,he),K(q,Ae),Ce=!0,We||(ze=[_e(v,"click",r[8]),_e(P,"change",r[20])],We=!0)},p(oe,k){(!Ce||k[0]&64)&&t!==(t=oe[6]("title"))&&(U_.title=t);const Ze={};if(k[0]&125|k[1]&1&&(Ze.$$scope={dirty:k,ctx:oe}),!u&&k[0]&2&&(u=!0,Ze.instance=oe[1],wt(()=>u=!1)),o.$set(Ze),k[0]&25){G=oe[3];let je;for(je=0;je<G.length;je+=1){const ne=k_(oe,G,je);Le[je]?(Le[je].p(ne,k),V(Le[je],1)):(Le[je]=K_(ne),Le[je].c(),V(Le[je],1),Le[je].m(s,null))}for(tt(),je=G.length;je<Le.length;je+=1)$(je);rt()}(!Ce||k[0]&64)&&p!==(p=oe[6]("label.export")+"")&&yr(_,p),oe[0]!==void 0?Me?(Me.p(oe,k),k[0]&1&&V(Me,1)):(Me=Z_(oe),Me.c(),V(Me,1),Me.m(b,null)):Me&&(tt(),Q(Me,1,1,()=>{Me=null}),rt()),(!Ce||k[0]&64)&&T!==(T=oe[6]("label.language")+"")&&yr(C,T),k[0]&64&&uv(P,oe[6].lang),(!Ce||k[0]&64)&&H!==(H=oe[6]("label.credit")+"")&&yr(Z,H),(!Ce||k[0]&64)&&te!==(te=oe[6]("label.translate")+"")&&yr(Y,te),(!Ce||k[0]&64)&&W!==(W=oe[6]("label.code")+"")&&yr(he,W),(!Ce||k[0]&17)&&ye(n,"bg-black",oe[0]!==void 0&&oe[4]!==void 0)},i(oe){if(!Ce){V(o.$$.fragment,oe);for(let k=0;k<G.length;k+=1)V(Le[k]);V(Me),Ce=!0}},o(oe){Q(o.$$.fragment,oe),Le=Le.filter(Boolean);for(let k=0;k<Le.length;k+=1)Q(Le[k]);Q(Me),Ce=!1},d(oe){oe&&pe(e),oe&&pe(n),Te(o),If(Le,oe),Me&&Me.d(),We=!1,Dt(ze)}}}function fD(r,t,e){let n,i;Dn(r,$n,D=>e(6,i=D));let s=[],o=[],u=[{background:"#ffffff",color:"#000000",pos:{x:48,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:166,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:283,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:401,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:519,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:48,y:248},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:166,y:248},layers:[]},{background:"#ffffff",color:"#ff0000",pos:{x:283,y:248},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:401,y:248},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:519,y:248},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:48,y:448},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:166,y:448},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:283,y:448},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:401,y:448},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:519,y:448},layers:[]}];const h=ti("#ffffff");let f,c,v;function p(){if(!o[f]){let D=u[f],H=new cr,Z=H.addChild(new fr(Re.WHITE));Z.width=680,Z.height=680;let X=H.addChild(new fr(Re.from(Ff)));X.filters=[new iu(0)],X.x=D.pos.x-2,X.y=D.pos.y-2,o[f]=new fr(v.renderer.generateTexture(H))}return o[f]}async function _(){e(4,c=void 0),await ZT();let H=new yc(v.renderer).base64(v.stage,"image/jpeg"),Z=document.createElement("a");Z.download="output.jpg",Z.href=H,Z.click()}function y(D,H){r.$$.not_equal(s[H],D)&&(s[H]=D,e(2,s))}function b(D){v=D,e(1,v)}const m=D=>{e(0,f=D),e(4,c=void 0)},w=(D,H)=>e(4,c=D.layers.length-H-1);function E(D){r.$$.not_equal(u[f].layers[c].pos.x,D)&&(u[f].layers[c].pos.x=D,e(3,u))}function T(D){r.$$.not_equal(u[f].layers[c].pos.y,D)&&(u[f].layers[c].pos.y=D,e(3,u))}function C(D){r.$$.not_equal(u[f].layers[c].rect.width,D)&&(u[f].layers[c].rect.width=D,e(3,u))}function R(D){r.$$.not_equal(u[f].layers[c].rect.height,D)&&(u[f].layers[c].rect.height=D,e(3,u))}function P(D){r.$$.not_equal(u[f],D)&&(u[f]=D,e(3,u))}function I(D){c=D,e(4,c)}function N(D){f=D,e(0,f)}function M(){i.lang=qT(this),$n.set(i)}return r.$$.update=()=>{r.$$.dirty[0]&3&&e(5,n=v&&f!==void 0?p():null)},[f,v,s,u,c,n,i,h,_,y,b,m,w,E,T,C,R,P,I,N,M]}class cD extends ht{constructor(t){super(),lt(this,t,fD,hD,ot,{},null,[-1,-1])}}fe.SCALE_MODE=jt.LINEAR;fe.MIPMAP_TEXTURES=xr.ON;new cD({target:document.body});window.PIXI=QM;
