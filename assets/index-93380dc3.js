(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Ge(){}function De(r,e){for(const t in e)r[t]=e[t];return r}function yv(r){return r()}function ep(){return Object.create(null)}function Mn(r){r.forEach(yv)}function Il(r){return typeof r=="function"}function yr(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let No;function rp(r,e){return No||(No=document.createElement("a")),No.href=e,r===No.href}function nE(r){return Object.keys(r).length===0}function Vr(r,e,t,n){if(r){const i=bv(r,e,t,n);return r[0](i)}}function bv(r,e,t,n){return r[1]&&n?De(t.ctx.slice(),r[1](n(e))):t.ctx}function Yr(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let h=0;h<a;h+=1)s[h]=e.dirty[h]|i[h];return s}return e.dirty|i}return e.dirty}function jr(r,e,t,n,i,s){if(i){const a=bv(e,t,n,s);r.p(a,i)}}function qr(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Es(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function Fi(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function xv(r){const e={};for(const t in r)e[t]=!0;return e}function Tv(r){return r&&Il(r.destroy)?r.destroy:Ge}function gt(r,e){r.appendChild(e)}function Yt(r,e,t){r.insertBefore(e,t||null)}function Wt(r){r.parentNode&&r.parentNode.removeChild(r)}function Ev(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function Pt(r){return document.createElement(r)}function Xs(r){return document.createTextNode(r)}function Vt(){return Xs(" ")}function ai(){return Xs("")}function le(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Tt(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function iE(r){return Array.from(r.childNodes)}function Ol(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function np(r,e){r.value=e??""}function zt(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Ft(r,e,t){r.classList[t?"add":"remove"](e)}function sE(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(r,t,n,e),i}let ws;function bs(r){ws=r}function Ws(){if(!ws)throw new Error("Function called outside component initialization");return ws}function xa(r){Ws().$$.on_mount.push(r)}function Ml(r){Ws().$$.after_update.push(r)}function zs(){const r=Ws();return(e,t,{cancelable:n=!1}={})=>{const i=r.$$.callbacks[e];if(i){const s=sE(e,t,{cancelable:n});return i.slice().forEach(a=>{a.call(r,s)}),!s.defaultPrevented}return!0}}function Bi(r,e){return Ws().$$.context.set(r,e),e}function Dl(r){return Ws().$$.context.get(r)}function ot(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Oi=[],je=[],ua=[],Dh=[],wv=Promise.resolve();let Fh=!1;function Sv(){Fh||(Fh=!0,wv.then(Av))}function oE(){return Sv(),wv}function Bh(r){ua.push(r)}function Hr(r){Dh.push(r)}const nh=new Set;let Pi=0;function Av(){if(Pi!==0)return;const r=ws;do{try{for(;Pi<Oi.length;){const e=Oi[Pi];Pi++,bs(e),aE(e.$$)}}catch(e){throw Oi.length=0,Pi=0,e}for(bs(null),Oi.length=0,Pi=0;je.length;)je.pop()();for(let e=0;e<ua.length;e+=1){const t=ua[e];nh.has(t)||(nh.add(t),t())}ua.length=0}while(Oi.length);for(;Dh.length;)Dh.pop()();Fh=!1,nh.clear(),bs(r)}function aE(r){if(r.fragment!==null){r.update(),Mn(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Bh)}}const ha=new Set;let Qn;function nr(){Qn={r:0,c:[],p:Qn}}function ir(){Qn.r||Mn(Qn.c),Qn=Qn.p}function rt(r,e){r&&r.i&&(ha.delete(r),r.i(e))}function at(r,e,t,n){if(r&&r.o){if(ha.has(r))return;ha.add(r),Qn.c.push(()=>{ha.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Pv(r,e){r.d(1),e.delete(r.key)}function uE(r,e){at(r,1,1,()=>{e.delete(r.key)})}function Fl(r,e,t,n,i,s,a,h,l,f,d,v){let p=r.length,g=s.length,m=p;const x={};for(;m--;)x[r[m].key]=m;const y=[],E=new Map,R=new Map;for(m=g;m--;){const D=v(i,s,m),A=t(D);let F=a.get(A);F?n&&F.p(D,e):(F=f(A,D),F.c()),E.set(A,y[m]=F),A in x&&R.set(A,Math.abs(m-x[A]))}const S=new Set,O=new Set;function P(D){rt(D,1),D.m(h,d),a.set(D.key,D),d=D.first,g--}for(;p&&g;){const D=y[g-1],A=r[p-1],F=D.key,I=A.key;D===A?(d=D.first,p--,g--):E.has(I)?!a.has(F)||S.has(F)?P(D):O.has(I)?p--:R.get(F)>R.get(I)?(O.add(F),P(D)):(S.add(I),p--):(l(A,a),p--)}for(;p--;){const D=r[p];E.has(D.key)||l(D,a)}for(;g;)P(y[g-1]);return y}function ui(r,e){const t={},n={},i={$$scope:1};let s=r.length;for(;s--;){const a=r[s],h=e[s];if(h){for(const l in a)l in h||(n[l]=1);for(const l in h)i[l]||(t[l]=h[l],i[l]=1);r[s]=h}else for(const l in a)i[l]=1}for(const a in n)a in t||(t[a]=void 0);return t}function hi(r){return typeof r=="object"&&r!==null?r:{}}function Xr(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function se(r){r&&r.c()}function ee(r,e,t,n){const{fragment:i,after_update:s}=r.$$;i&&i.m(e,t),n||Bh(()=>{const a=r.$$.on_mount.map(yv).filter(Il);r.$$.on_destroy?r.$$.on_destroy.push(...a):Mn(a),r.$$.on_mount=[]}),s.forEach(Bh)}function re(r,e){const t=r.$$;t.fragment!==null&&(Mn(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function hE(r,e){r.$$.dirty[0]===-1&&(Oi.push(r),Sv(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function br(r,e,t,n,i,s,a,h=[-1]){const l=ws;bs(r);const f=r.$$={fragment:null,ctx:[],props:s,update:Ge,not_equal:i,bound:ep(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ep(),dirty:h,skip_bound:!1,root:e.target||l.$$.root};a&&a(f.root);let d=!1;if(f.ctx=t?t(r,e.props||{},(v,p,...g)=>{const m=g.length?g[0]:p;return f.ctx&&i(f.ctx[v],f.ctx[v]=m)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](m),d&&hE(r,v)),p}):[],f.update(),d=!0,Mn(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const v=iE(e.target);f.fragment&&f.fragment.l(v),v.forEach(Wt)}else f.fragment&&f.fragment.c();e.intro&&rt(r.$$.fragment),ee(r,e.target,e.anchor,e.customElement),Av()}bs(l)}class xr{$destroy(){re(this,1),this.$destroy=Ge}$on(e,t){if(!Il(t))return Ge;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!nE(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function lE(r){let e,t,n,i,s,a,h,l,f,d,v,p,g,m,x,y,E,R,S,O,P,D,A;return{c(){e=Pt("div"),t=Pt("div"),n=Pt("div"),i=Vt(),s=Pt("div"),a=Vt(),h=Pt("div"),l=Vt(),f=Pt("div"),d=Pt("div"),v=Vt(),p=Pt("div"),g=Vt(),m=Pt("div"),x=Vt(),y=Pt("div"),E=Pt("div"),R=Vt(),S=Pt("div"),O=Vt(),P=Pt("div"),Tt(n,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),Ft(n,"cursor-nw-resize",!r[4]),Ft(n,"dragging",r[4]&&r[5]===r[15]),Tt(s,"class","resizer h-[6px] border-b-2 border-dashed svelte-19ac299"),zt(s,"width",r[2]+"px"),Ft(s,"cursor-n-resize",!r[4]),Ft(s,"dragging",r[4]&&r[5]===r[13]),Tt(h,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),Ft(h,"cursor-ne-resize",!r[4]),Ft(h,"dragging",r[4]&&r[5]===r[16]),Tt(t,"class","flex flex-row"),Tt(d,"class","resizer w-[6px] border-r-2 border-dashed svelte-19ac299"),zt(d,"height",r[3]+"px"),Ft(d,"cursor-w-resize",!r[4]),Ft(d,"dragging",r[4]&&r[5]===r[12]),Tt(p,"class","cursor-move"),zt(p,"width",r[2]+"px"),zt(p,"height",r[3]+"px"),Tt(m,"class","resizer w-[6px] border-l-2 border-dashed svelte-19ac299"),zt(m,"height",r[3]+"px"),Ft(m,"cursor-e-resize",!r[4]),Ft(m,"dragging",r[4]&&r[5]===r[10]),Tt(f,"class","flex flex-row"),Tt(E,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),Ft(E,"cursor-sw-resize",!r[4]),Ft(E,"dragging",r[4]&&r[5]===r[17]),Tt(S,"class","resizer h-[6px] border-t-2 border-dashed svelte-19ac299"),zt(S,"width",r[2]+"px"),Ft(S,"cursor-s-resize",!r[4]),Ft(S,"dragging",r[4]&&r[5]===r[11]),Tt(P,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),Ft(P,"cursor-se-resize",!r[4]),Ft(P,"dragging",r[4]&&r[5]===r[14]),Tt(y,"class","flex flex-row"),Tt(e,"class","this svelte-19ac299"),zt(e,"left",r[0]-6+"px"),zt(e,"top",r[1]-6+"px"),zt(e,"width",r[2]+12+"px"),zt(e,"height",r[3]+12+"px"),Ft(e,"dragging",!!r[4])},m(F,I){Yt(F,e,I),gt(e,t),gt(t,n),gt(t,i),gt(t,s),gt(t,a),gt(t,h),gt(e,l),gt(e,f),gt(f,d),gt(f,v),gt(f,p),gt(f,g),gt(f,m),gt(e,x),gt(e,y),gt(y,E),gt(y,R),gt(y,S),gt(y,O),gt(y,P),D||(A=[le(window,"mouseup",r[19]),le(window,"mousemove",r[8]),le(n,"mousedown",r[20]),le(s,"mousedown",r[21]),le(h,"mousedown",r[22]),le(d,"mousedown",r[23]),le(p,"mousedown",r[24]),le(m,"mousedown",r[25]),le(E,"mousedown",r[26]),le(S,"mousedown",r[27]),le(P,"mousedown",r[28])],D=!0)},p(F,[I]){I&16&&Ft(n,"cursor-nw-resize",!F[4]),I&32816&&Ft(n,"dragging",F[4]&&F[5]===F[15]),I&4&&zt(s,"width",F[2]+"px"),I&16&&Ft(s,"cursor-n-resize",!F[4]),I&8240&&Ft(s,"dragging",F[4]&&F[5]===F[13]),I&16&&Ft(h,"cursor-ne-resize",!F[4]),I&65584&&Ft(h,"dragging",F[4]&&F[5]===F[16]),I&8&&zt(d,"height",F[3]+"px"),I&16&&Ft(d,"cursor-w-resize",!F[4]),I&4144&&Ft(d,"dragging",F[4]&&F[5]===F[12]),I&4&&zt(p,"width",F[2]+"px"),I&8&&zt(p,"height",F[3]+"px"),I&8&&zt(m,"height",F[3]+"px"),I&16&&Ft(m,"cursor-e-resize",!F[4]),I&1072&&Ft(m,"dragging",F[4]&&F[5]===F[10]),I&16&&Ft(E,"cursor-sw-resize",!F[4]),I&131120&&Ft(E,"dragging",F[4]&&F[5]===F[17]),I&4&&zt(S,"width",F[2]+"px"),I&16&&Ft(S,"cursor-s-resize",!F[4]),I&2096&&Ft(S,"dragging",F[4]&&F[5]===F[11]),I&16&&Ft(P,"cursor-se-resize",!F[4]),I&16432&&Ft(P,"dragging",F[4]&&F[5]===F[14]),I&1&&zt(e,"left",F[0]-6+"px"),I&2&&zt(e,"top",F[1]-6+"px"),I&4&&zt(e,"width",F[2]+12+"px"),I&8&&zt(e,"height",F[3]+12+"px"),I&16&&Ft(e,"dragging",!!F[4])},i:Ge,o:Ge,d(F){F&&Wt(e),D=!1,Mn(A)}}}function fE(r,e,t){let{x:n}=e,{y:i}=e,{width:s}=e,{height:a}=e,{ratio:h=s/a}=e,l,f=()=>{},d="",v=zs();function p(V,ft,ht){V.preventDefault(),t(4,l=V.target),t(5,f=ft),t(6,d=ht),document.body.classList.add(ht)}function g(V){l&&(f({x:V.clientX,y:V.clientY}),v("update",{pos:{x:n,y:i},rect:{width:s,height:a}}))}function m(V){V.preventDefault(),t(4,l=V.target);let ft=V.offsetX,ht=V.offsetY;t(5,f=q=>{let X=l.getBoundingClientRect(),ct=q.x-(X.x+ft),yt=q.y-(X.y+ht);t(0,n+=ct),t(1,i+=yt)})}function x(V,ft=!1){let ht=l.getBoundingClientRect(),q=V.x-(ht.x+1+ht.width/2),X=Math.max(s+(ft?-q:q),0),ct=Math.max(X/h,0),yt=(ct-a)/2;t(2,s=X),t(3,a=ct),t(1,i-=yt)}function y(V,ft=!1){let ht=l.getBoundingClientRect(),q=V.y-(ht.y+ht.height/2),X=Math.max(a+(ft?-q:q),0),ct=Math.max(X*h,0),yt=(ct-s)/2;t(2,s=ct),t(3,a=X),t(0,n-=yt)}function E(V){let ft=s;x(V,!0),t(0,n-=s-ft)}function R(V){let ft=a;y(V,!0),t(1,i-=a-ft)}function S(V,ft={}){let ht=l.getBoundingClientRect(),q=(V.x-(ht.x+ht.width/2))*(ft.x?-1:1),X=(V.y-(ht.y+ht.height/2))*(ft.y?-1:1),ct=Math.abs(q)<Math.abs(X)?q:X,yt=Math.min(Math.abs(q)/Math.max(s,1),Math.abs(X)/Math.max(a,1)),Et=Math.max(s+Math.max(s,1)*yt*(ct<0?-1:1),0);t(3,a=Math.max(Et/h,0)),t(2,s=Et)}function O(V){let ft={width:s,height:a};S(V,{x:!0,y:!0}),t(0,n-=s-ft.width),t(1,i-=a-ft.height)}function P(V){let ft=a;S(V,{y:!0}),t(1,i-=a-ft)}function D(V){let ft=s;S(V,{x:!0}),t(0,n-=s-ft)}const A=()=>{t(4,l=void 0),d.length&&document.body.classList.remove(d)},F=V=>p(V,O,"cursor-nw-resize"),I=V=>p(V,R,"cursor-n-resize"),B=V=>p(V,P,"cursor-ne-resize"),Z=V=>p(V,E,"cursor-w-resize"),nt=V=>m(V),_t=V=>p(V,x,"cursor-e-resize"),Rt=V=>p(V,D,"cursor-sw-resize"),$=V=>p(V,y,"cursor-s-resize"),Q=V=>p(V,S,"cursor-se-resize");return r.$$set=V=>{"x"in V&&t(0,n=V.x),"y"in V&&t(1,i=V.y),"width"in V&&t(2,s=V.width),"height"in V&&t(3,a=V.height),"ratio"in V&&t(18,h=V.ratio)},[n,i,s,a,l,f,d,p,g,m,x,y,E,R,S,O,P,D,h,A,F,I,B,Z,nt,_t,Rt,$,Q]}class cE extends xr{constructor(e){super(),br(this,e,fE,lE,yr,{x:0,y:1,width:2,height:3,ratio:18})}}const Rv="/assets/template-847a4edb.png",Ta="/assets/white-bg-f09f4570.jpg",Bl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAACmCAYAAADkrsA9AAABbmlDQ1BpY2MAACiRdZE9S8NQFIaftkqLHzioIOJQQcWhgiiKo1SwizrUClZdmpi2QtqGpEWKq+DiUHAQXfwa/Ae6Cq4KgqAIIm7ufi1S4rlGqIjecHMe3nvfw8kb8E+Zes6pG4dcvmjHY9HwfHIhHHzCTzshuhlJ6Y41PTuZ4N/1foNP1esB1ev/e3+uxmXD0cEXEh7VLbsoLNMwtVq0FG8Kt+nZ1LLwvnDElgGFL5SuefyoOOPxq2I7EZ8Av+oZzvxg7QfrWTsn3C/ckzNL+vc86kuajPzcrNRO2V04xIkRJYxGiRVMigxIzUtmf/sGv3wzFMSjy9uijC2ODFnxRkQtSVdDalp0Qx6Tssr9d55OenjI694UhfoH133pheAWVCuu+3HgutVDCNzDWb7mL0hOY2+iV2pazx60rMPJeU3TtuF0AzrurJSd+pICsv3pNDwfQ3MSWq+gYdHL6vuco1tIrMkvuoSdXeiT+y1Ln0y7aC2psZS3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAEPUlEQVR42u2c7WtOcRjHz2/maZlMEklC2MYwbR7nabJ2CymLiCQR0uZZiJKH8pDZvPQveKU0eUG0SJS08lCiJS3RlpAXU7fvz33odFjDivtcfT717aKkuT6u65zfObvngj8knU6PVkkpFUqRMkrJV3ID6ClflA9Kq/JEaVaanHMv/+Qvcb8p0gurUWqVWfT+n3NXaVQuS/CXHkuV0GqVeqWQ3v53niq7JPbaX0mVzP4qDcpmepl1XFLqJPfzb0uV0OEqV5Qy+pe1PFCWS2xbt1JDoTeVCfQt63mmLIyLdb9YubeZ0MRN7LzoKs6J/YEGhCaOstDbz5Ma3uU20aPEkvp+V+wi59AWji2JP+6U+HPs9/Vbg9DEUxh6/HFNraUnJvjm0YXPcl/QDzOM8ZOaog+mqPZSK+iDKSq81CL6YIpif01t1y8K6IUZOrzUzoAX3Jbo9FLT9MEWObQAqYBUQCogFZCKVEAqIBWQCkhFKiAVkApIBaQCUpEKSAWkAlIBqUgFpAJSAamAVEAqUgGpgFRAKiAVqYBUQCogFZAKSEUqIBWQCkgFpCIVkApIBaQCUgGpSAWkAlIBqYBUpAJSAamAVEAqIBWpgFRAKiAVkIpUQCogFZAKSAWkIhWQCkgFpAJSkQpIBaQCUgGpgFSkAlIBqYBUQCpSAamAVEAqIBWQilRAKiAVkApIRSqYkrpUeU4rDEl1zl1VnaQcVD7RkuTjor9Jp9MjVM4oa2mNEakRuRUqF5WptMjIjZJWcrNKmbJNaadNBiY1NrWDVY4rW7lbNiI1IneKSqMyj7YZOadqJT9SWaCsUV7TOgOTGpvaAeERaK/ShzYakBqRO1alXllGK41IjchNqVxQxtPSBF1Tu7neNqmUKPuVj7TVwKTGpna4ymllPe01IjUid3aQeSo1jTYncP12sZLvqExXtijvaLWBSY1NbYHKMWW70ou2G5AaketvpvxTqQW0PoHrt4uV3KJSqaxSXtF+A5Mam9o8lQNh+qLCgNSI3NEq55UV6DAiNSK3SqVBKURLgq6p3Vxvr6tMVvYoH1BjYFJjUztM5ZSyEUVGpEbkzggyT6XKUZXA9dvFSr6nMlPZpLxFl4FJjU3tIJWjSm3AUykbUiNyi4PMU6lF6Evg+u1iJT9WWaysVFpRaGBSY1PbX2VfkPl+qX7oNCA1IneUyjmlBqVGpEbkVobX24lcU638D3XuhkqpUqe8Z1KNoakdqnIyPOM6pNqSWx6u5JmsXzsr+b7KHGWD8oZJtTe1A1WOKDuVXKTakuvf2fp3t1VItSXW/9v9Z4D8Z4HGINWWXP8kyr+YP6TkIdWW3JEqZ5XVSLUnd36QeTFfwpHGzhHoVpD5/M8OpYNJtTe1Q1ROBJnPAzmk2pJbGq7kOaxfOyv5ocpcZZ3SxqTam9p8lcPKbqU3Um3JHRdkfs7Fkmz72r4Cqsn0nVDw0i4AAAAASUVORK5CYII=";function ip(r,e,t){const n=r.slice();return n[20]=e[t],n[22]=t,n}function dE(r){let e,t=r[0].name+"",n,i,s,a,h;return{c(){e=Pt("div"),n=Xs(t),i=Vt(),s=Pt("input"),Tt(e,"class","py-2 pl-4"),Tt(s,"class","w-0 flex-grow bg-transparent py-2 pr-4 font-normal text-slate-200 underline-offset-4 placeholder:text-slate-400 placeholder:underline focus:outline-none"),Tt(s,"placeholder","(自行输入)　　　　　　　　　　　　　　　　　　　　")},m(l,f){Yt(l,e,f),gt(e,n),Yt(l,i,f),Yt(l,s,f),np(s,r[0].dynamic),a||(h=le(s,"input",r[10]),a=!0)},p(l,f){f&1&&t!==(t=l[0].name+"")&&Ol(n,t),f&1&&s.value!==l[0].dynamic&&np(s,l[0].dynamic)},d(l){l&&Wt(e),l&&Wt(i),l&&Wt(s),a=!1,h()}}}function pE(r){let e,t=r[0].name+"",n;return{c(){e=Pt("div"),n=Xs(t),Tt(e,"class","w-0 flex-grow px-4 py-2")},m(i,s){Yt(i,e,s),gt(e,n)},p(i,s){s&1&&t!==(t=i[0].name+"")&&Ol(n,t)},d(i){i&&Wt(e)}}}function sp(r,e){let t,n,i,s,a,h,l,f=e[20].name+"",d,v,p,g,m;function x(...S){return e[14](e[22],...S)}function y(){return e[16](e[20],e[22])}function E(){return e[17](e[22])}function R(...S){return e[18](e[22],...S)}return{key:r,first:null,c(){t=Pt("div"),n=Pt("div"),i=Pt("img"),h=Vt(),l=Pt("div"),d=Xs(f),v=Vt(),p=Pt("button"),p.textContent="Ｘ",Tt(i,"draggable","false"),Tt(i,"alt",s=e[20].name),rp(i.src,a=e[20].image.src)||Tt(i,"src",a),Tt(i,"class","h-10 w-10 object-cover"),Tt(l,"class","w-0 flex-grow"),Tt(n,"class","flex w-0 flex-grow items-center gap-4 overflow-hidden"),Tt(n,"draggable","true"),Tt(p,"class","h-10 w-10 bg-slate-500 font-bold text-white"),Tt(t,"class","flex select-none flex-row items-center gap-4"),Ft(t,"bg-slate-300",e[1]===e[22]),this.first=t},m(S,O){Yt(S,t,O),gt(t,n),gt(n,i),gt(n,h),gt(n,l),gt(l,d),gt(t,v),gt(t,p),g||(m=[le(n,"dragstart",x),le(n,"dragend",e[15]),le(p,"click",y),le(t,"mousedown",E),le(t,"dragover",R)],g=!0)},p(S,O){e=S,O&1&&s!==(s=e[20].name)&&Tt(i,"alt",s),O&1&&!rp(i.src,a=e[20].image.src)&&Tt(i,"src",a),O&1&&f!==(f=e[20].name+"")&&Ol(d,f),O&3&&Ft(t,"bg-slate-300",e[1]===e[22])},d(S){S&&Wt(t),g=!1,Mn(m)}}}function vE(r){let e,t,n,i,s,a,h,l,f,d,v,p=[],g=new Map,m,x,y,E;function R(A,F){return A[0].dynamic===void 0?pE:dE}let S=R(r),O=S(r),P=r[0].layers;const D=A=>A[20].image;for(let A=0;A<P.length;A+=1){let F=ip(r,P,A),I=D(F);g.set(I,p[A]=sp(I,F))}return{c(){e=Pt("div"),t=Pt("div"),n=Pt("button"),n.textContent="＜",i=Vt(),O.c(),s=Vt(),a=Pt("button"),a.textContent="＞",h=Vt(),l=Pt("div"),f=Pt("form"),d=Pt("input"),v=Vt();for(let A=0;A<p.length;A+=1)p[A].c();m=Vt(),x=Pt("button"),x.textContent="添加圖片",Tt(n,"class","p-2"),Tt(a,"class","p-2"),Tt(t,"class","flex flex-row items-center bg-slate-600 text-xl font-bold text-white"),Tt(d,"type","file"),Tt(d,"accept",".jpg,.jpeg,.png,.bmp"),Tt(f,"class","hidden"),Tt(x,"class","block p-0.5 hover:bg-gray-300 active:bg-gray-200"),Tt(l,"class","flex h-0 flex-grow flex-col gap-2 p-4"),Tt(e,"class","flex h-full w-full flex-col bg-gray-100")},m(A,F){Yt(A,e,F),gt(e,t),gt(t,n),gt(t,i),O.m(t,null),gt(t,s),gt(t,a),gt(e,h),gt(e,l),gt(l,f),gt(f,d),r[12](d),r[13](f),gt(l,v);for(let I=0;I<p.length;I+=1)p[I].m(l,null);gt(l,m),gt(l,x),y||(E=[le(n,"click",r[9]),le(a,"click",r[11]),le(d,"change",r[6]),le(x,"click",r[19])],y=!0)},p(A,[F]){S===(S=R(A))&&O?O.p(A,F):(O.d(1),O=S(A),O&&(O.c(),O.m(t,s))),F&419&&(P=A[0].layers,p=Fl(p,F,D,1,A,P,g,l,Pv,sp,m,ip))},i:Ge,o:Ge,d(A){A&&Wt(e),O.d(),r[12](null),r[13](null);for(let F=0;F<p.length;F+=1)p[F].d();y=!1,Mn(E)}}}function _E(r,e,t){let{slot:n}=e,{selectedLayer:i}=e,{selectedSlot:s}=e,a,h;function l(){let A=a.files[0],F=new FileReader;F.onload=()=>{let I=new Image;I.onload=()=>{let B={width:I.width,height:I.height};if(I.width>I.height){if(I.width>512){let nt=I.width/512;B.width/=nt,B.height/=nt}}else if(I.height>512){let nt=I.height/512;B.width/=nt,B.height/=nt}let Z={name:A.name,image:I,pos:{x:56-B.width/2,y:80-B.height/2},rect:B};t(1,i=0),t(0,n.layers=[Z,...n.layers],n)},I.src=F.result},F.readAsDataURL(A),h.reset()}let f=!1;function d(A,F){t(5,f=F);let I=A.target.parentElement;A.dataTransfer.dropEffect="move",A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",n.layers[F].name),A.dataTransfer.setDragImage(I,I.clientWidth/2,I.clientHeight/2)}function v(A,F){if(f===!1)return;A.preventDefault();let I=n.layers[f],B=n.layers[F];t(0,n.layers[F]=I,n),t(0,n.layers[f]=B,n),t(5,f=F),A.dataTransfer.dropEffect="move",t(1,i=F)}const p=()=>{t(2,s=(15+s-1)%15),t(1,i=void 0)};function g(){n.dynamic=this.value,t(0,n)}const m=()=>{t(2,s=(s+1)%15),t(1,i=void 0)};function x(A){je[A?"unshift":"push"](()=>{a=A,t(3,a)})}function y(A){je[A?"unshift":"push"](()=>{h=A,t(4,h)})}const E=(A,F)=>d(F,A),R=()=>{t(5,f=!1)},S=(A,F)=>{t(0,n.layers=n.layers.filter(I=>I!==A),n),t(1,i=i>F?i-1:i<F?i:void 0)},O=A=>t(1,i=A),P=(A,F)=>v(F,A),D=()=>a.click();return r.$$set=A=>{"slot"in A&&t(0,n=A.slot),"selectedLayer"in A&&t(1,i=A.selectedLayer),"selectedSlot"in A&&t(2,s=A.selectedSlot)},[n,i,s,a,h,f,l,d,v,p,g,m,x,y,E,R,S,O,P,D]}class gE extends xr{constructor(e){super(),br(this,e,_E,vE,yr,{slot:0,selectedLayer:1,selectedSlot:2})}}function mE(r){var e=this.constructor;return this.then(function(t){return e.resolve(r()).then(function(){return t})},function(t){return e.resolve(r()).then(function(){return e.reject(t)})})}function yE(r){var e=this;return new e(function(t,n){if(!(r&&typeof r.length<"u"))return n(new TypeError(typeof r+" "+r+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(r);if(i.length===0)return t([]);var s=i.length;function a(l,f){if(f&&(typeof f=="object"||typeof f=="function")){var d=f.then;if(typeof d=="function"){d.call(f,function(v){a(l,v)},function(v){i[l]={status:"rejected",reason:v},--s===0&&t(i)});return}}i[l]={status:"fulfilled",value:f},--s===0&&t(i)}for(var h=0;h<i.length;h++)a(h,i[h])})}function Cv(r,e){this.name="AggregateError",this.errors=r,this.message=e||""}Cv.prototype=Error.prototype;function bE(r){var e=this;return new e(function(t,n){if(!(r&&typeof r.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(r);if(i.length===0)return n();for(var s=[],a=0;a<i.length;a++)try{e.resolve(i[a]).then(t).catch(function(h){s.push(h),s.length===i.length&&n(new Cv(s,"All promises were rejected"))})}catch(h){n(h)}})}var xE=setTimeout;function Iv(r){return Boolean(r&&typeof r.length<"u")}function TE(){}function EE(r,e){return function(){r.apply(e,arguments)}}function ve(r){if(!(this instanceof ve))throw new TypeError("Promises must be constructed via new");if(typeof r!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Mv(r,this)}function Ov(r,e){for(;r._state===3;)r=r._value;if(r._state===0){r._deferreds.push(e);return}r._handled=!0,ve._immediateFn(function(){var t=r._state===1?e.onFulfilled:e.onRejected;if(t===null){(r._state===1?Lh:Ss)(e.promise,r._value);return}var n;try{n=t(r._value)}catch(i){Ss(e.promise,i);return}Lh(e.promise,n)})}function Lh(r,e){try{if(e===r)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var t=e.then;if(e instanceof ve){r._state=3,r._value=e,Nh(r);return}else if(typeof t=="function"){Mv(EE(t,e),r);return}}r._state=1,r._value=e,Nh(r)}catch(n){Ss(r,n)}}function Ss(r,e){r._state=2,r._value=e,Nh(r)}function Nh(r){r._state===2&&r._deferreds.length===0&&ve._immediateFn(function(){r._handled||ve._unhandledRejectionFn(r._value)});for(var e=0,t=r._deferreds.length;e<t;e++)Ov(r,r._deferreds[e]);r._deferreds=null}function wE(r,e,t){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof e=="function"?e:null,this.promise=t}function Mv(r,e){var t=!1;try{r(function(n){t||(t=!0,Lh(e,n))},function(n){t||(t=!0,Ss(e,n))})}catch(n){if(t)return;t=!0,Ss(e,n)}}ve.prototype.catch=function(r){return this.then(null,r)};ve.prototype.then=function(r,e){var t=new this.constructor(TE);return Ov(this,new wE(r,e,t)),t};ve.prototype.finally=mE;ve.all=function(r){return new ve(function(e,t){if(!Iv(r))return t(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(r);if(n.length===0)return e([]);var i=n.length;function s(h,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var f=l.then;if(typeof f=="function"){f.call(l,function(d){s(h,d)},t);return}}n[h]=l,--i===0&&e(n)}catch(d){t(d)}}for(var a=0;a<n.length;a++)s(a,n[a])})};ve.any=bE;ve.allSettled=yE;ve.resolve=function(r){return r&&typeof r=="object"&&r.constructor===ve?r:new ve(function(e){e(r)})};ve.reject=function(r){return new ve(function(e,t){t(r)})};ve.race=function(r){return new ve(function(e,t){if(!Iv(r))return t(new TypeError("Promise.race accepts an array"));for(var n=0,i=r.length;n<i;n++)ve.resolve(r[n]).then(e,t)})};ve._immediateFn=typeof setImmediate=="function"&&function(r){setImmediate(r)}||function(r){xE(r,0)};ve._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var op=Object.getOwnPropertySymbols,SE=Object.prototype.hasOwnProperty,AE=Object.prototype.propertyIsEnumerable;function PE(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function RE(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var CE=RE()?Object.assign:function(r,e){for(var t,n=PE(r),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var a in t)SE.call(t,a)&&(n[a]=t[a]);if(op){i=op(t);for(var h=0;h<i.length;h++)AE.call(t,i[h])&&(n[i[h]]=t[i[h]])}}return n};/*!
 * @pixi/polyfill - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=ve);Object.assign||(Object.assign=CE);var IE=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var OE=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-OE}}var ih=Date.now(),ap=["ms","moz","webkit","o"];for(var sh=0;sh<ap.length&&!globalThis.requestAnimationFrame;++sh){var oh=ap[sh];globalThis.requestAnimationFrame=globalThis[oh+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[oh+"CancelAnimationFrame"]||globalThis[oh+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(r){if(typeof r!="function")throw new TypeError(r+"is not a function");var e=Date.now(),t=IE+ih-e;return t<0&&(t=0),ih=e,globalThis.self.setTimeout(function(){ih=Date.now(),r(performance.now())},t)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(r){return clearTimeout(r)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wr;(function(r){r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2"})(Wr||(Wr={}));var Li;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS"})(Li||(Li={}));var As;(function(r){r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL"})(As||(As={}));var dt;(function(r){r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR"})(dt||(dt={}));var vr;(function(r){r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(vr||(vr={}));var J;(function(r){r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(J||(J={}));var Rn;(function(r){r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Rn||(Rn={}));var pt;(function(r){r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT"})(pt||(pt={}));var Ps;(function(r){r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT"})(Ps||(Ps={}));var Ue;(function(r){r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR"})(Ue||(Ue={}));var Ir;(function(r){r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ir||(Ir={}));var gr;(function(r){r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL"})(gr||(gr={}));var mr;(function(r){r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(mr||(mr={}));var pr;(function(r){r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT"})(pr||(pr={}));var Rs;(function(r){r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL"})(Rs||(Rs={}));var qe;(function(r){r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp"})(qe||(qe={}));var be;(function(r){r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR"})(be||(be={}));var Uh;(function(r){r[r.RED=1]="RED",r[r.GREEN=2]="GREEN",r[r.BLUE=4]="BLUE",r[r.ALPHA=8]="ALPHA"})(Uh||(Uh={}));var ie;(function(r){r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH"})(ie||(ie={}));var Or;(function(r){r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Or||(Or={}));/*!
 * @pixi/settings - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Dv={createCanvas:function(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,t},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var r;return(r=document.baseURI)!==null&&r!==void 0?r:window.location.href},fetch:function(r,e){return fetch(r,e)}},ah=/iPhone/i,up=/iPod/i,hp=/iPad/i,lp=/\biOS-universal(?:.+)Mac\b/i,uh=/\bAndroid(?:.+)Mobile\b/i,fp=/Android/i,Ri=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Uo=/Silk/i,on=/Windows Phone/i,cp=/\bWindows(?:.+)ARM\b/i,dp=/BlackBerry/i,pp=/BB10/i,vp=/Opera Mini/i,_p=/\b(CriOS|Chrome)(?:.+)Mobile/i,gp=/Mobile(?:.+)Firefox\b/i,mp=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function ME(r){return function(e){return e.test(r)}}function DE(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var t=e.userAgent,n=t.split("[FBAN");typeof n[1]<"u"&&(t=n[0]),n=t.split("Twitter"),typeof n[1]<"u"&&(t=n[0]);var i=ME(t),s={apple:{phone:i(ah)&&!i(on),ipod:i(up),tablet:!i(ah)&&(i(hp)||mp(e))&&!i(on),universal:i(lp),device:(i(ah)||i(up)||i(hp)||i(lp)||mp(e))&&!i(on)},amazon:{phone:i(Ri),tablet:!i(Ri)&&i(Uo),device:i(Ri)||i(Uo)},android:{phone:!i(on)&&i(Ri)||!i(on)&&i(uh),tablet:!i(on)&&!i(Ri)&&!i(uh)&&(i(Uo)||i(fp)),device:!i(on)&&(i(Ri)||i(Uo)||i(uh)||i(fp))||i(/\bokhttp\b/i)},windows:{phone:i(on),tablet:i(cp),device:i(on)||i(cp)},other:{blackberry:i(dp),blackberry10:i(pp),opera:i(vp),firefox:i(gp),chrome:i(_p),device:i(dp)||i(pp)||i(vp)||i(gp)||i(_p)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var _r=DE(globalThis.navigator);function FE(){return!_r.apple.device}function BE(r){var e=!0;if(_r.tablet||_r.phone){if(_r.apple.device){var t=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(t){var n=parseInt(t[1],10);n<11&&(e=!1)}}if(_r.android.device){var t=navigator.userAgent.match(/Android\s([0-9.]*)/);if(t){var n=parseInt(t[1],10);n<7&&(e=!1)}}}return e?r:4}var et={ADAPTER:Dv,MIPMAP_TEXTURES:gr.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ie.NONE,SPRITE_MAX_TEXTURES:BE(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Rs.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Ir.CLAMP,SCALE_MODE:Ue.LINEAR,PRECISION_VERTEX:qe.HIGH,PRECISION_FRAGMENT:_r.apple.device?qe.HIGH:qe.MEDIUM,CAN_UPLOAD_SAME_BUFFER:FE(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Gh={},LE={get exports(){return Gh},set exports(r){Gh=r}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(l,f,d){this.fn=l,this.context=f,this.once=d||!1}function s(l,f,d,v,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,v||l,p),m=t?t+f:f;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],g]:l._events[m].push(g):(l._events[m]=g,l._eventsCount++),l}function a(l,f){--l._eventsCount===0?l._events=new n:delete l._events[f]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var f=[],d,v;if(this._eventsCount===0)return f;for(v in d=this._events)e.call(d,v)&&f.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},h.prototype.listeners=function(f){var d=t?t+f:f,v=this._events[d];if(!v)return[];if(v.fn)return[v.fn];for(var p=0,g=v.length,m=new Array(g);p<g;p++)m[p]=v[p].fn;return m},h.prototype.listenerCount=function(f){var d=t?t+f:f,v=this._events[d];return v?v.fn?1:v.length:0},h.prototype.emit=function(f,d,v,p,g,m){var x=t?t+f:f;if(!this._events[x])return!1;var y=this._events[x],E=arguments.length,R,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,v),!0;case 4:return y.fn.call(y.context,d,v,p),!0;case 5:return y.fn.call(y.context,d,v,p,g),!0;case 6:return y.fn.call(y.context,d,v,p,g,m),!0}for(S=1,R=new Array(E-1);S<E;S++)R[S-1]=arguments[S];y.fn.apply(y.context,R)}else{var O=y.length,P;for(S=0;S<O;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),E){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,v);break;case 4:y[S].fn.call(y[S].context,d,v,p);break;default:if(!R)for(P=1,R=new Array(E-1);P<E;P++)R[P-1]=arguments[P];y[S].fn.apply(y[S].context,R)}}return!0},h.prototype.on=function(f,d,v){return s(this,f,d,v,!1)},h.prototype.once=function(f,d,v){return s(this,f,d,v,!0)},h.prototype.removeListener=function(f,d,v,p){var g=t?t+f:f;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!v||m.context===v)&&a(this,g);else{for(var x=0,y=[],E=m.length;x<E;x++)(m[x].fn!==d||p&&!m[x].once||v&&m[x].context!==v)&&y.push(m[x]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},h.prototype.removeAllListeners=function(f){var d;return f?(d=t?t+f:f,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,r.exports=h})(LE);const zi=Gh;var Ni={},NE={get exports(){return Ni},set exports(r){Ni=r}};NE.exports=Ea;Ni.default=Ea;function Ea(r,e,t){t=t||2;var n=e&&e.length,i=n?e[0]*t:r.length,s=Fv(r,0,i,t,!0),a=[];if(!s||s.next===s.prev)return a;var h,l,f,d,v,p,g;if(n&&(s=XE(r,e,s,t)),r.length>80*t){h=f=r[0],l=d=r[1];for(var m=t;m<i;m+=t)v=r[m],p=r[m+1],v<h&&(h=v),p<l&&(l=p),v>f&&(f=v),p>d&&(d=p);g=Math.max(f-h,d-l),g=g!==0?32767/g:0}return Cs(s,a,t,h,l,g,0),a}function Fv(r,e,t,n,i){var s,a;if(i===Xh(r,e,t,n)>0)for(s=e;s<t;s+=n)a=yp(s,r[s],r[s+1],a);else for(s=t-n;s>=e;s-=n)a=yp(s,r[s],r[s+1],a);return a&&wa(a,a.next)&&(Os(a),a=a.next),a}function ni(r,e){if(!r)return r;e||(e=r);var t=r,n;do if(n=!1,!t.steiner&&(wa(t,t.next)||de(t.prev,t,t.next)===0)){if(Os(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Cs(r,e,t,n,i,s,a){if(r){!a&&s&&jE(r,n,i,s);for(var h=r,l,f;r.prev!==r.next;){if(l=r.prev,f=r.next,s?GE(r,n,i,s):UE(r)){e.push(l.i/t|0),e.push(r.i/t|0),e.push(f.i/t|0),Os(r),r=f.next,h=f.next;continue}if(r=f,r===h){a?a===1?(r=kE(ni(r),e,t),Cs(r,e,t,n,i,s,2)):a===2&&HE(r,e,t,n,i,s):Cs(ni(r),e,t,n,i,s,1);break}}}}function UE(r){var e=r.prev,t=r,n=r.next;if(de(e,t,n)>=0)return!1;for(var i=e.x,s=t.x,a=n.x,h=e.y,l=t.y,f=n.y,d=i<s?i<a?i:a:s<a?s:a,v=h<l?h<f?h:f:l<f?l:f,p=i>s?i>a?i:a:s>a?s:a,g=h>l?h>f?h:f:l>f?l:f,m=n.next;m!==e;){if(m.x>=d&&m.x<=p&&m.y>=v&&m.y<=g&&Mi(i,h,s,l,a,f,m.x,m.y)&&de(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function GE(r,e,t,n){var i=r.prev,s=r,a=r.next;if(de(i,s,a)>=0)return!1;for(var h=i.x,l=s.x,f=a.x,d=i.y,v=s.y,p=a.y,g=h<l?h<f?h:f:l<f?l:f,m=d<v?d<p?d:p:v<p?v:p,x=h>l?h>f?h:f:l>f?l:f,y=d>v?d>p?d:p:v>p?v:p,E=kh(g,m,e,t,n),R=kh(x,y,e,t,n),S=r.prevZ,O=r.nextZ;S&&S.z>=E&&O&&O.z<=R;){if(S.x>=g&&S.x<=x&&S.y>=m&&S.y<=y&&S!==i&&S!==a&&Mi(h,d,l,v,f,p,S.x,S.y)&&de(S.prev,S,S.next)>=0||(S=S.prevZ,O.x>=g&&O.x<=x&&O.y>=m&&O.y<=y&&O!==i&&O!==a&&Mi(h,d,l,v,f,p,O.x,O.y)&&de(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;S&&S.z>=E;){if(S.x>=g&&S.x<=x&&S.y>=m&&S.y<=y&&S!==i&&S!==a&&Mi(h,d,l,v,f,p,S.x,S.y)&&de(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;O&&O.z<=R;){if(O.x>=g&&O.x<=x&&O.y>=m&&O.y<=y&&O!==i&&O!==a&&Mi(h,d,l,v,f,p,O.x,O.y)&&de(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function kE(r,e,t){var n=r;do{var i=n.prev,s=n.next.next;!wa(i,s)&&Bv(i,n,n.next,s)&&Is(i,s)&&Is(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),Os(n),Os(n.next),n=r=s),n=n.next}while(n!==r);return ni(n)}function HE(r,e,t,n,i,s){var a=r;do{for(var h=a.next.next;h!==a.prev;){if(a.i!==h.i&&ZE(a,h)){var l=Lv(a,h);a=ni(a,a.next),l=ni(l,l.next),Cs(a,e,t,n,i,s,0),Cs(l,e,t,n,i,s,0);return}h=h.next}a=a.next}while(a!==r)}function XE(r,e,t,n){var i=[],s,a,h,l,f;for(s=0,a=e.length;s<a;s++)h=e[s]*n,l=s<a-1?e[s+1]*n:r.length,f=Fv(r,h,l,n,!1),f===f.next&&(f.steiner=!0),i.push(KE(f));for(i.sort(WE),s=0;s<i.length;s++)t=zE(i[s],t);return t}function WE(r,e){return r.x-e.x}function zE(r,e){var t=VE(r,e);if(!t)return e;var n=Lv(t,r);return ni(n,n.next),ni(t,t.next)}function VE(r,e){var t=e,n=r.x,i=r.y,s=-1/0,a;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){var h=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=n&&h>s&&(s=h,a=t.x<t.next.x?t:t.next,h===n))return a}t=t.next}while(t!==e);if(!a)return null;var l=a,f=a.x,d=a.y,v=1/0,p;t=a;do n>=t.x&&t.x>=f&&n!==t.x&&Mi(i<d?n:s,i,f,d,i<d?s:n,i,t.x,t.y)&&(p=Math.abs(i-t.y)/(n-t.x),Is(t,r)&&(p<v||p===v&&(t.x>a.x||t.x===a.x&&YE(a,t)))&&(a=t,v=p)),t=t.next;while(t!==l);return a}function YE(r,e){return de(r.prev,r,e.prev)<0&&de(e.next,r,r.next)<0}function jE(r,e,t,n){var i=r;do i.z===0&&(i.z=kh(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,qE(i)}function qE(r){var e,t,n,i,s,a,h,l,f=1;do{for(t=r,r=null,s=null,a=0;t;){for(a++,n=t,h=0,e=0;e<f&&(h++,n=n.nextZ,!!n);e++);for(l=f;h>0||l>0&&n;)h!==0&&(l===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,h--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;t=n}s.nextZ=null,f*=2}while(a>1);return r}function kh(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function KE(r){var e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Mi(r,e,t,n,i,s,a,h){return(i-a)*(e-h)>=(r-a)*(s-h)&&(r-a)*(n-h)>=(t-a)*(e-h)&&(t-a)*(s-h)>=(i-a)*(n-h)}function ZE(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!JE(r,e)&&(Is(r,e)&&Is(e,r)&&QE(r,e)&&(de(r.prev,r,e.prev)||de(r,e.prev,e))||wa(r,e)&&de(r.prev,r,r.next)>0&&de(e.prev,e,e.next)>0)}function de(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function wa(r,e){return r.x===e.x&&r.y===e.y}function Bv(r,e,t,n){var i=ko(de(r,e,t)),s=ko(de(r,e,n)),a=ko(de(t,n,r)),h=ko(de(t,n,e));return!!(i!==s&&a!==h||i===0&&Go(r,t,e)||s===0&&Go(r,n,e)||a===0&&Go(t,r,n)||h===0&&Go(t,e,n))}function Go(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function ko(r){return r>0?1:r<0?-1:0}function JE(r,e){var t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&Bv(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function Is(r,e){return de(r.prev,r,r.next)<0?de(r,e,r.next)>=0&&de(r,r.prev,e)>=0:de(r,e,r.prev)<0||de(r,r.next,e)<0}function QE(r,e){var t=r,n=!1,i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function Lv(r,e){var t=new Hh(r.i,r.x,r.y),n=new Hh(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function yp(r,e,t,n){var i=new Hh(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Os(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Hh(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ea.deviation=function(r,e,t,n){var i=e&&e.length,s=i?e[0]*t:r.length,a=Math.abs(Xh(r,0,s,t));if(i)for(var h=0,l=e.length;h<l;h++){var f=e[h]*t,d=h<l-1?e[h+1]*t:r.length;a-=Math.abs(Xh(r,f,d,t))}var v=0;for(h=0;h<n.length;h+=3){var p=n[h]*t,g=n[h+1]*t,m=n[h+2]*t;v+=Math.abs((r[p]-r[m])*(r[g+1]-r[p+1])-(r[p]-r[g])*(r[m+1]-r[p+1]))}return a===0&&v===0?0:Math.abs((v-a)/a)};function Xh(r,e,t,n){for(var i=0,s=e,a=t-n;s<t;s+=n)i+=(r[a]-r[s])*(r[s+1]+r[a+1]),a=s;return i}Ea.flatten=function(r){for(var e=r[0][0].length,t={vertices:[],holes:[],dimensions:e},n=0,i=0;i<r.length;i++){for(var s=0;s<r[i].length;s++)for(var a=0;a<e;a++)t.vertices.push(r[i][s][a]);i>0&&(n+=r[i-1].length,t.holes.push(n))}return t};var pa={},$E={get exports(){return pa},set exports(r){pa=r}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(r,e){(function(t){var n=e&&!e.nodeType&&e,i=r&&!r.nodeType&&r,s=typeof Pn=="object"&&Pn;(s.global===s||s.window===s||s.self===s)&&(t=s);var a,h=2147483647,l=36,f=1,d=26,v=38,p=700,g=72,m=128,x="-",y=/^xn--/,E=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=l-f,P=Math.floor,D=String.fromCharCode,A;function F(q){throw RangeError(S[q])}function I(q,X){for(var ct=q.length,yt=[];ct--;)yt[ct]=X(q[ct]);return yt}function B(q,X){var ct=q.split("@"),yt="";ct.length>1&&(yt=ct[0]+"@",q=ct[1]),q=q.replace(R,".");var Et=q.split("."),Nt=I(Et,X).join(".");return yt+Nt}function Z(q){for(var X=[],ct=0,yt=q.length,Et,Nt;ct<yt;)Et=q.charCodeAt(ct++),Et>=55296&&Et<=56319&&ct<yt?(Nt=q.charCodeAt(ct++),(Nt&64512)==56320?X.push(((Et&1023)<<10)+(Nt&1023)+65536):(X.push(Et),ct--)):X.push(Et);return X}function nt(q){return I(q,function(X){var ct="";return X>65535&&(X-=65536,ct+=D(X>>>10&1023|55296),X=56320|X&1023),ct+=D(X),ct}).join("")}function _t(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:l}function Rt(q,X){return q+22+75*(q<26)-((X!=0)<<5)}function $(q,X,ct){var yt=0;for(q=ct?P(q/p):q>>1,q+=P(q/X);q>O*d>>1;yt+=l)q=P(q/O);return P(yt+(O+1)*q/(q+v))}function Q(q){var X=[],ct=q.length,yt,Et=0,Nt=m,Bt=g,Ht,st,G,Y,Ut,Xt,lt,k,Zt;for(Ht=q.lastIndexOf(x),Ht<0&&(Ht=0),st=0;st<Ht;++st)q.charCodeAt(st)>=128&&F("not-basic"),X.push(q.charCodeAt(st));for(G=Ht>0?Ht+1:0;G<ct;){for(Y=Et,Ut=1,Xt=l;G>=ct&&F("invalid-input"),lt=_t(q.charCodeAt(G++)),(lt>=l||lt>P((h-Et)/Ut))&&F("overflow"),Et+=lt*Ut,k=Xt<=Bt?f:Xt>=Bt+d?d:Xt-Bt,!(lt<k);Xt+=l)Zt=l-k,Ut>P(h/Zt)&&F("overflow"),Ut*=Zt;yt=X.length+1,Bt=$(Et-Y,yt,Y==0),P(Et/yt)>h-Nt&&F("overflow"),Nt+=P(Et/yt),Et%=yt,X.splice(Et++,0,Nt)}return nt(X)}function V(q){var X,ct,yt,Et,Nt,Bt,Ht,st,G,Y,Ut,Xt=[],lt,k,Zt,fe;for(q=Z(q),lt=q.length,X=m,ct=0,Nt=g,Bt=0;Bt<lt;++Bt)Ut=q[Bt],Ut<128&&Xt.push(D(Ut));for(yt=Et=Xt.length,Et&&Xt.push(x);yt<lt;){for(Ht=h,Bt=0;Bt<lt;++Bt)Ut=q[Bt],Ut>=X&&Ut<Ht&&(Ht=Ut);for(k=yt+1,Ht-X>P((h-ct)/k)&&F("overflow"),ct+=(Ht-X)*k,X=Ht,Bt=0;Bt<lt;++Bt)if(Ut=q[Bt],Ut<X&&++ct>h&&F("overflow"),Ut==X){for(st=ct,G=l;Y=G<=Nt?f:G>=Nt+d?d:G-Nt,!(st<Y);G+=l)fe=st-Y,Zt=l-Y,Xt.push(D(Rt(Y+fe%Zt,0))),st=P(fe/Zt);Xt.push(D(Rt(st,0))),Nt=$(ct,k,yt==Et),ct=0,++yt}++ct,++X}return Xt.join("")}function ft(q){return B(q,function(X){return y.test(X)?Q(X.slice(4).toLowerCase()):X})}function ht(q){return B(q,function(X){return E.test(X)?"xn--"+V(X):X})}if(a={version:"1.3.2",ucs2:{decode:Z,encode:nt},decode:Q,encode:V,toASCII:ht,toUnicode:ft},n&&i)if(r.exports==n)i.exports=a;else for(A in a)a.hasOwnProperty(A)&&(n[A]=a[A]);else t.punycode=a})(Pn)})($E,pa);var tw={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}},Ms={};function ew(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var rw=function(r,e,t,n){e=e||"&",t=t||"=";var i={};if(typeof r!="string"||r.length===0)return i;var s=/\+/g;r=r.split(e);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var h=r.length;a>0&&h>a&&(h=a);for(var l=0;l<h;++l){var f=r[l].replace(s,"%20"),d=f.indexOf(t),v,p,g,m;d>=0?(v=f.substr(0,d),p=f.substr(d+1)):(v=f,p=""),g=decodeURIComponent(v),m=decodeURIComponent(p),ew(i,g)?Array.isArray(i[g])?i[g].push(m):i[g]=[i[g],m]:i[g]=m}return i},fs=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}},nw=function(r,e,t,n){return e=e||"&",t=t||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map(function(i){var s=encodeURIComponent(fs(i))+t;return Array.isArray(r[i])?r[i].map(function(a){return s+encodeURIComponent(fs(a))}).join(e):s+encodeURIComponent(fs(r[i]))}).join(e):n?encodeURIComponent(fs(n))+t+encodeURIComponent(fs(r)):""};Ms.decode=Ms.parse=rw;Ms.encode=Ms.stringify=nw;var iw=pa,Gr=tw,sw=Sa,ow=gw,aw=_w;function Mr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var uw=/^([a-z0-9.+-]+:)/i,hw=/:[0-9]*$/,lw=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,fw=["<",">",'"',"`"," ","\r",`
`,"	"],cw=["{","}","|","\\","^","`"].concat(fw),Wh=["'"].concat(cw),bp=["%","/","?",";","#"].concat(Wh),xp=["/","?","#"],dw=255,Tp=/^[+a-z0-9A-Z_-]{0,63}$/,pw=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,vw={javascript:!0,"javascript:":!0},zh={javascript:!0,"javascript:":!0},Di={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Vh=Ms;function Sa(r,e,t){if(r&&Gr.isObject(r)&&r instanceof Mr)return r;var n=new Mr;return n.parse(r,e,t),n}Mr.prototype.parse=function(r,e,t){if(!Gr.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",s=r.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),r=s.join(i);var h=r;if(h=h.trim(),!t&&r.split("#").length===1){var l=lw.exec(h);if(l)return this.path=h,this.href=h,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Vh.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=uw.exec(h);if(f){f=f[0];var d=f.toLowerCase();this.protocol=d,h=h.substr(f.length)}if(t||f||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var v=h.substr(0,2)==="//";v&&!(f&&zh[f])&&(h=h.substr(2),this.slashes=!0)}if(!zh[f]&&(v||f&&!Di[f])){for(var p=-1,g=0;g<xp.length;g++){var m=h.indexOf(xp[g]);m!==-1&&(p===-1||m<p)&&(p=m)}var x,y;p===-1?y=h.lastIndexOf("@"):y=h.lastIndexOf("@",p),y!==-1&&(x=h.slice(0,y),h=h.slice(y+1),this.auth=decodeURIComponent(x)),p=-1;for(var g=0;g<bp.length;g++){var m=h.indexOf(bp[g]);m!==-1&&(p===-1||m<p)&&(p=m)}p===-1&&(p=h.length),this.host=h.slice(0,p),h=h.slice(p),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var R=this.hostname.split(/\./),g=0,S=R.length;g<S;g++){var O=R[g];if(O&&!O.match(Tp)){for(var P="",D=0,A=O.length;D<A;D++)O.charCodeAt(D)>127?P+="x":P+=O[D];if(!P.match(Tp)){var F=R.slice(0,g),I=R.slice(g+1),B=O.match(pw);B&&(F.push(B[1]),I.unshift(B[2])),I.length&&(h="/"+I.join(".")+h),this.hostname=F.join(".");break}}}this.hostname.length>dw?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=iw.toASCII(this.hostname));var Z=this.port?":"+this.port:"",nt=this.hostname||"";this.host=nt+Z,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),h[0]!=="/"&&(h="/"+h))}if(!vw[d])for(var g=0,S=Wh.length;g<S;g++){var _t=Wh[g];if(h.indexOf(_t)!==-1){var Rt=encodeURIComponent(_t);Rt===_t&&(Rt=escape(_t)),h=h.split(_t).join(Rt)}}var $=h.indexOf("#");$!==-1&&(this.hash=h.substr($),h=h.slice(0,$));var Q=h.indexOf("?");if(Q!==-1?(this.search=h.substr(Q),this.query=h.substr(Q+1),e&&(this.query=Vh.parse(this.query)),h=h.slice(0,Q)):e&&(this.search="",this.query={}),h&&(this.pathname=h),Di[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Z=this.pathname||"",V=this.search||"";this.path=Z+V}return this.href=this.format(),this};function _w(r){return Gr.isString(r)&&(r=Sa(r)),r instanceof Mr?r.format():Mr.prototype.format.call(r)}Mr.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Gr.isObject(this.query)&&Object.keys(this.query).length&&(s=Vh.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Di[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),t=t.replace(/[?#]/g,function(h){return encodeURIComponent(h)}),a=a.replace("#","%23"),e+i+t+a+n};function gw(r,e){return Sa(r,!1,!0).resolve(e)}Mr.prototype.resolve=function(r){return this.resolveObject(Sa(r,!1,!0)).format()};Mr.prototype.resolveObject=function(r){if(Gr.isString(r)){var e=new Mr;e.parse(r,!1,!0),r=e}for(var t=new Mr,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];t[s]=this[s]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var a=Object.keys(r),h=0;h<a.length;h++){var l=a[h];l!=="protocol"&&(t[l]=r[l])}return Di[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!Di[r.protocol]){for(var f=Object.keys(r),d=0;d<f.length;d++){var v=f[d];t[v]=r[v]}return t.href=t.format(),t}if(t.protocol=r.protocol,!r.host&&!zh[r.protocol]){for(var S=(r.pathname||"").split("/");S.length&&!(r.host=S.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),t.pathname=S.join("/")}else t.pathname=r.pathname;if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var p=t.pathname||"",g=t.search||"";t.path=p+g}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var m=t.pathname&&t.pathname.charAt(0)==="/",x=r.host||r.pathname&&r.pathname.charAt(0)==="/",y=x||m||t.host&&r.pathname,E=y,R=t.pathname&&t.pathname.split("/")||[],S=r.pathname&&r.pathname.split("/")||[],O=t.protocol&&!Di[t.protocol];if(O&&(t.hostname="",t.port=null,t.host&&(R[0]===""?R[0]=t.host:R.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host=null),y=y&&(S[0]===""||R[0]==="")),x)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,R=S;else if(S.length)R||(R=[]),R.pop(),R=R.concat(S),t.search=r.search,t.query=r.query;else if(!Gr.isNullOrUndefined(r.search)){if(O){t.hostname=t.host=R.shift();var P=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;P&&(t.auth=P.shift(),t.host=t.hostname=P.shift())}return t.search=r.search,t.query=r.query,(!Gr.isNull(t.pathname)||!Gr.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!R.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var D=R.slice(-1)[0],A=(t.host||r.host||R.length>1)&&(D==="."||D==="..")||D==="",F=0,I=R.length;I>=0;I--)D=R[I],D==="."?R.splice(I,1):D===".."?(R.splice(I,1),F++):F&&(R.splice(I,1),F--);if(!y&&!E)for(;F--;F)R.unshift("..");y&&R[0]!==""&&(!R[0]||R[0].charAt(0)!=="/")&&R.unshift(""),A&&R.join("/").substr(-1)!=="/"&&R.push("");var B=R[0]===""||R[0]&&R[0].charAt(0)==="/";if(O){t.hostname=t.host=B?"":R.length?R.shift():"";var P=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;P&&(t.auth=P.shift(),t.host=t.hostname=P.shift())}return y=y||t.host&&R.length,y&&!B&&R.unshift(""),R.length?t.pathname=R.join("/"):(t.pathname=null,t.path=null),(!Gr.isNull(t.pathname)||!Gr.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t};Mr.prototype.parseHost=function(){var r=this.host,e=hw.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};/*!
 * @pixi/utils - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $n={parse:sw,format:aw,resolve:ow};function Ar(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function Ep(r){var e=r.split("?")[0];return e.split("#")[0]}function mw(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yw(r,e,t){return r.replace(new RegExp(mw(e),"g"),t)}function bw(r,e){for(var t="",n=0,i=-1,s=0,a,h=0;h<=r.length;++h){if(h<r.length)a=r.charCodeAt(h);else{if(a===47)break;a=47}if(a===47){if(!(i===h-1||s===1))if(i!==h-1&&s===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var l=t.lastIndexOf("/");if(l!==t.length-1){l===-1?(t="",n=0):(t=t.slice(0,l),n=t.length-1-t.lastIndexOf("/")),i=h,s=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=h,s=0;continue}}e&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+="/"+r.slice(i+1,h):t=r.slice(i+1,h),n=h-i-1;i=h,s=0}else a===46&&s!==-1?++s:s=-1}return t}var Nv={toPosix:function(r){return yw(r,"\\","/")},isUrl:function(r){return/^https?:/.test(this.toPosix(r))},isDataUrl:function(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},hasProtocol:function(r){return/^[^/:]+:\//.test(this.toPosix(r))},getProtocol:function(r){Ar(r),r=this.toPosix(r);var e="",t=/^file:\/\/\//.exec(r),n=/^[^/:]+:\/\//.exec(r),i=/^[^/:]+:\//.exec(r);if(t||n||i){var s=(t==null?void 0:t[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,r=r.slice(s.length)}return e},toAbsolute:function(r,e,t){if(this.isDataUrl(r))return r;var n=Ep(this.toPosix(e??et.ADAPTER.getBaseUrl())),i=Ep(this.toPosix(t??this.rootname(n)));if(Ar(r),r=this.toPosix(r),r.startsWith("/"))return Nv.join(i,r.slice(1));var s=this.isAbsolute(r)?r:this.join(n,r);return s},normalize:function(r){if(r=this.toPosix(r),Ar(r),r.length===0)return".";var e="",t=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));var n=r.endsWith("/");return r=bw(r,!1),r.length>0&&n&&(r+="/"),t?"/"+r:e+r},isAbsolute:function(r){return Ar(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join:function(){for(var r=arguments,e,t=[],n=0;n<arguments.length;n++)t[n]=r[n];if(t.length===0)return".";for(var i,s=0;s<t.length;++s){var a=t[s];if(Ar(a),a.length>0)if(i===void 0)i=a;else{var h=(e=t[s-1])!==null&&e!==void 0?e:"";this.extname(h)?i+="/../"+a:i+="/"+a}}return i===void 0?".":this.normalize(i)},dirname:function(r){if(Ar(r),r.length===0)return".";r=this.toPosix(r);var e=r.charCodeAt(0),t=e===47,n=-1,i=!0,s=this.getProtocol(r),a=r;r=r.slice(s.length);for(var h=r.length-1;h>=1;--h)if(e=r.charCodeAt(h),e===47){if(!i){n=h;break}}else i=!1;return n===-1?t?"/":this.isUrl(a)?s+r:s:t&&n===1?"//":s+r.slice(0,n)},rootname:function(r){Ar(r),r=this.toPosix(r);var e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){var t=r.indexOf("/",e.length);t!==-1?e=r.slice(0,t):e=r,e.endsWith("/")||(e+="/")}return e},basename:function(r,e){Ar(r),e&&Ar(e),r=this.toPosix(r);var t=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";var a=e.length-1,h=-1;for(s=r.length-1;s>=0;--s){var l=r.charCodeAt(s);if(l===47){if(!i){t=s+1;break}}else h===-1&&(i=!1,h=s+1),a>=0&&(l===e.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=h))}return t===n?n=h:n===-1&&(n=r.length),r.slice(t,n)}for(s=r.length-1;s>=0;--s)if(r.charCodeAt(s)===47){if(!i){t=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":r.slice(t,n)},extname:function(r){Ar(r),r=this.toPosix(r);for(var e=-1,t=0,n=-1,i=!0,s=0,a=r.length-1;a>=0;--a){var h=r.charCodeAt(a);if(h===47){if(!i){t=a+1;break}continue}n===-1&&(i=!1,n=a+1),h===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===t+1?"":r.slice(e,n)},parse:function(r){Ar(r);var e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=this.toPosix(r);var t=r.charCodeAt(0),n=this.isAbsolute(r),i;e.root=this.rootname(r),n||this.hasProtocol(r)?i=1:i=0;for(var s=-1,a=0,h=-1,l=!0,f=r.length-1,d=0;f>=i;--f){if(t=r.charCodeAt(f),t===47){if(!l){a=f+1;break}continue}h===-1&&(l=!1,h=f+1),t===46?s===-1?s=f:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||h===-1||d===0||d===1&&s===h-1&&s===a+1?h!==-1&&(a===0&&n?e.base=e.name=r.slice(1,h):e.base=e.name=r.slice(a,h)):(a===0&&n?(e.name=r.slice(1,s),e.base=r.slice(1,h)):(e.name=r.slice(a,s),e.base=r.slice(a,h)),e.ext=r.slice(s,h)),e.dir=this.dirname(r),e},sep:"/",delimiter:":"};et.RETINA_PREFIX=/@([0-9\.]+)x/;et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Yh=!1,wp="6.5.9";function xw(){Yh=!0}function Uv(r){var e;if(!Yh){if(et.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var t=[`
 %c %c %c PixiJS `+wp+" - ✰ "+r+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,t)}else globalThis.console&&globalThis.console.log("PixiJS "+wp+" - "+r+" - http://www.pixijs.com/");Yh=!0}}var hh;function Gv(){return typeof hh>"u"&&(hh=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!et.ADAPTER.getWebGLRenderingContext())return!1;var t=et.ADAPTER.createCanvas(),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),hh}var Tw="#f0f8ff",Ew="#faebd7",ww="#00ffff",Sw="#7fffd4",Aw="#f0ffff",Pw="#f5f5dc",Rw="#ffe4c4",Cw="#000000",Iw="#ffebcd",Ow="#0000ff",Mw="#8a2be2",Dw="#a52a2a",Fw="#deb887",Bw="#5f9ea0",Lw="#7fff00",Nw="#d2691e",Uw="#ff7f50",Gw="#6495ed",kw="#fff8dc",Hw="#dc143c",Xw="#00ffff",Ww="#00008b",zw="#008b8b",Vw="#b8860b",Yw="#a9a9a9",jw="#006400",qw="#a9a9a9",Kw="#bdb76b",Zw="#8b008b",Jw="#556b2f",Qw="#ff8c00",$w="#9932cc",tS="#8b0000",eS="#e9967a",rS="#8fbc8f",nS="#483d8b",iS="#2f4f4f",sS="#2f4f4f",oS="#00ced1",aS="#9400d3",uS="#ff1493",hS="#00bfff",lS="#696969",fS="#696969",cS="#1e90ff",dS="#b22222",pS="#fffaf0",vS="#228b22",_S="#ff00ff",gS="#dcdcdc",mS="#f8f8ff",yS="#daa520",bS="#ffd700",xS="#808080",TS="#008000",ES="#adff2f",wS="#808080",SS="#f0fff0",AS="#ff69b4",PS="#cd5c5c",RS="#4b0082",CS="#fffff0",IS="#f0e68c",OS="#fff0f5",MS="#e6e6fa",DS="#7cfc00",FS="#fffacd",BS="#add8e6",LS="#f08080",NS="#e0ffff",US="#fafad2",GS="#d3d3d3",kS="#90ee90",HS="#d3d3d3",XS="#ffb6c1",WS="#ffa07a",zS="#20b2aa",VS="#87cefa",YS="#778899",jS="#778899",qS="#b0c4de",KS="#ffffe0",ZS="#00ff00",JS="#32cd32",QS="#faf0e6",$S="#ff00ff",t2="#800000",e2="#66cdaa",r2="#0000cd",n2="#ba55d3",i2="#9370db",s2="#3cb371",o2="#7b68ee",a2="#00fa9a",u2="#48d1cc",h2="#c71585",l2="#191970",f2="#f5fffa",c2="#ffe4e1",d2="#ffe4b5",p2="#ffdead",v2="#000080",_2="#fdf5e6",g2="#808000",m2="#6b8e23",y2="#ffa500",b2="#ff4500",x2="#da70d6",T2="#eee8aa",E2="#98fb98",w2="#afeeee",S2="#db7093",A2="#ffefd5",P2="#ffdab9",R2="#cd853f",C2="#ffc0cb",I2="#dda0dd",O2="#b0e0e6",M2="#800080",D2="#663399",F2="#ff0000",B2="#bc8f8f",L2="#4169e1",N2="#8b4513",U2="#fa8072",G2="#f4a460",k2="#2e8b57",H2="#fff5ee",X2="#a0522d",W2="#c0c0c0",z2="#87ceeb",V2="#6a5acd",Y2="#708090",j2="#708090",q2="#fffafa",K2="#00ff7f",Z2="#4682b4",J2="#d2b48c",Q2="#008080",$2="#d8bfd8",tA="#ff6347",eA="#40e0d0",rA="#ee82ee",nA="#f5deb3",iA="#ffffff",sA="#f5f5f5",oA="#ffff00",aA="#9acd32",uA={aliceblue:Tw,antiquewhite:Ew,aqua:ww,aquamarine:Sw,azure:Aw,beige:Pw,bisque:Rw,black:Cw,blanchedalmond:Iw,blue:Ow,blueviolet:Mw,brown:Dw,burlywood:Fw,cadetblue:Bw,chartreuse:Lw,chocolate:Nw,coral:Uw,cornflowerblue:Gw,cornsilk:kw,crimson:Hw,cyan:Xw,darkblue:Ww,darkcyan:zw,darkgoldenrod:Vw,darkgray:Yw,darkgreen:jw,darkgrey:qw,darkkhaki:Kw,darkmagenta:Zw,darkolivegreen:Jw,darkorange:Qw,darkorchid:$w,darkred:tS,darksalmon:eS,darkseagreen:rS,darkslateblue:nS,darkslategray:iS,darkslategrey:sS,darkturquoise:oS,darkviolet:aS,deeppink:uS,deepskyblue:hS,dimgray:lS,dimgrey:fS,dodgerblue:cS,firebrick:dS,floralwhite:pS,forestgreen:vS,fuchsia:_S,gainsboro:gS,ghostwhite:mS,goldenrod:yS,gold:bS,gray:xS,green:TS,greenyellow:ES,grey:wS,honeydew:SS,hotpink:AS,indianred:PS,indigo:RS,ivory:CS,khaki:IS,lavenderblush:OS,lavender:MS,lawngreen:DS,lemonchiffon:FS,lightblue:BS,lightcoral:LS,lightcyan:NS,lightgoldenrodyellow:US,lightgray:GS,lightgreen:kS,lightgrey:HS,lightpink:XS,lightsalmon:WS,lightseagreen:zS,lightskyblue:VS,lightslategray:YS,lightslategrey:jS,lightsteelblue:qS,lightyellow:KS,lime:ZS,limegreen:JS,linen:QS,magenta:$S,maroon:t2,mediumaquamarine:e2,mediumblue:r2,mediumorchid:n2,mediumpurple:i2,mediumseagreen:s2,mediumslateblue:o2,mediumspringgreen:a2,mediumturquoise:u2,mediumvioletred:h2,midnightblue:l2,mintcream:f2,mistyrose:c2,moccasin:d2,navajowhite:p2,navy:v2,oldlace:_2,olive:g2,olivedrab:m2,orange:y2,orangered:b2,orchid:x2,palegoldenrod:T2,palegreen:E2,paleturquoise:w2,palevioletred:S2,papayawhip:A2,peachpuff:P2,peru:R2,pink:C2,plum:I2,powderblue:O2,purple:M2,rebeccapurple:D2,red:F2,rosybrown:B2,royalblue:L2,saddlebrown:N2,salmon:U2,sandybrown:G2,seagreen:k2,seashell:H2,sienna:X2,silver:W2,skyblue:z2,slateblue:V2,slategray:Y2,slategrey:j2,snow:q2,springgreen:K2,steelblue:Z2,tan:J2,teal:Q2,thistle:$2,tomato:tA,turquoise:eA,violet:rA,wheat:nA,white:iA,whitesmoke:sA,yellow:oA,yellowgreen:aA};function ii(r,e){return e===void 0&&(e=[]),e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255,e}function Ll(r){var e=r.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function Aa(r){return typeof r=="string"&&(r=uA[r.toLowerCase()]||r,r[0]==="#"&&(r=r.slice(1))),parseInt(r,16)}function hA(r){return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)}function lA(){for(var r=[],e=[],t=0;t<32;t++)r[t]=t,e[t]=t;r[dt.NORMAL_NPM]=dt.NORMAL,r[dt.ADD_NPM]=dt.ADD,r[dt.SCREEN_NPM]=dt.SCREEN,e[dt.NORMAL]=dt.NORMAL_NPM,e[dt.ADD]=dt.ADD_NPM,e[dt.SCREEN]=dt.SCREEN_NPM;var n=[];return n.push(e),n.push(r),n}var Nl=lA();function Ul(r,e){return Nl[e?1:0][r]}function kv(r,e,t,n){return t=t||new Float32Array(4),n||n===void 0?(t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e):(t[0]=r[0],t[1]=r[1],t[2]=r[2]),t[3]=e,t}function Pa(r,e){if(e===1)return(e*255<<24)+r;if(e===0)return 0;var t=r>>16&255,n=r>>8&255,i=r&255;return t=t*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(t<<16)+(n<<8)+i}function Gl(r,e,t,n){return t=t||new Float32Array(4),t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255,(n||n===void 0)&&(t[0]*=e,t[1]*=e,t[2]*=e),t[3]=e,t}function Hv(r,e){e===void 0&&(e=null);var t=r*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+t);for(var n=0,i=0;n<t;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Ra(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}var fA={Float32Array,Uint32Array,Int32Array,Uint8Array};function cA(r,e){for(var t=0,n=0,i={},s=0;s<r.length;s++)n+=e[s],t+=r[s].length;for(var a=new ArrayBuffer(t*4),h=null,l=0,s=0;s<r.length;s++){var f=e[s],d=r[s],v=Ra(d);i[v]||(i[v]=new fA[v](a)),h=i[v];for(var p=0;p<d.length;p++){var g=(p/f|0)*n+l,m=p%f;h[g+m]=d[p]}l+=f}return new Float32Array(a)}function Ds(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function jh(r){return!(r&r-1)&&!!r}function qh(r){var e=(r>65535?1:0)<<4;r>>>=e;var t=(r>255?1:0)<<3;return r>>>=t,e|=t,t=(r>15?1:0)<<2,r>>>=t,e|=t,t=(r>3?1:0)<<1,r>>>=t,e|=t,e|r>>1}function ei(r,e,t){var n=r.length,i;if(!(e>=n||t===0)){t=e+t>n?n-e:t;var s=n-t;for(i=e;i<s;++i)r[i]=r[i+t];r.length=s}}function ti(r){return r===0?0:r<0?-1:1}var dA=0;function In(){return++dA}var Sp={};function ke(r,e,t){if(t===void 0&&(t=3),!Sp[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+r):(n=n.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+r),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+r),console.warn(n))),Sp[e]=!0}}var Kh={},Ye=Object.create(null),dr=Object.create(null);function pA(){var r;for(r in Ye)Ye[r].destroy();for(r in dr)dr[r].destroy()}function vA(){var r;for(r in Ye)delete Ye[r];for(r in dr)delete dr[r]}var Zh=function(){function r(e,t,n){this.canvas=et.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||et.RESOLUTION,this.resize(e,t)}return r.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},r.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),r}();function Xv(r){var e=r.width,t=r.height,n=r.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,t),s=i.data,a=s.length,h={top:null,left:null,right:null,bottom:null},l=null,f,d,v;for(f=0;f<a;f+=4)s[f+3]!==0&&(d=f/4%e,v=~~(f/4/e),h.top===null&&(h.top=v),(h.left===null||d<h.left)&&(h.left=d),(h.right===null||h.right<d)&&(h.right=d+1),(h.bottom===null||h.bottom<v)&&(h.bottom=v));return h.top!==null&&(e=h.right-h.left,t=h.bottom-h.top+1,l=n.getImageData(h.left,h.top,e,t)),{height:t,width:e,data:l}}var Wv=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function _A(r){var e=Wv.exec(r);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Ho;function zv(r,e){if(e===void 0&&(e=globalThis.location),r.indexOf("data:")===0)return"";e=e||globalThis.location,Ho||(Ho=document.createElement("a")),Ho.href=r;var t=$n.parse(Ho.href),n=!t.port&&e.port===""||t.port===e.port;return t.hostname!==e.hostname||!n||t.protocol!==e.protocol?"anonymous":""}function Fs(r,e){var t=et.RETINA_PREFIX.exec(r);return t?parseFloat(t[1]):e!==void 0?e:1}const gA=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:dr,CanvasRenderTarget:Zh,DATA_URI:Wv,EventEmitter:zi,ProgramCache:Kh,TextureCache:Ye,clearTextureCache:vA,correctBlendMode:Ul,createIndicesForQuads:Hv,decomposeDataUri:_A,deprecation:ke,destroyTextureCache:pA,determineCrossOrigin:zv,get earcut(){return Ni},getBufferType:Ra,getResolutionOfUrl:Fs,hex2rgb:ii,hex2string:Ll,interleaveTypedArrays:cA,isMobile:_r,isPow2:jh,isWebGLSupported:Gv,log2:qh,nextPow2:Ds,path:Nv,premultiplyBlendMode:Nl,premultiplyRgba:kv,premultiplyTint:Pa,premultiplyTintToRgba:Gl,removeItems:ei,rgb2hex:hA,sayHello:Uv,sign:ti,skipHello:xw,string2hex:Aa,trimCanvas:Xv,uid:In,url:$n},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bs=Math.PI*2,Vv=180/Math.PI,Yv=Math.PI/180,Ae;(function(r){r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC"})(Ae||(Ae={}));var qt=function(){function r(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},r.prototype.copyTo=function(e){return e.set(this.x,this.y),e},r.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},r.prototype.set=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x=e,this.y=t,this},r.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},r}(),Xo=[new qt,new qt,new qt,new qt],Dt=function(){function r(e,t,n,i){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(i),this.type=Ae.RECT}return Object.defineProperty(r.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r,"EMPTY",{get:function(){return new r(0,0,0,0)},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},r.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},r.prototype.contains=function(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},r.prototype.intersects=function(e,t){if(!t){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var s=this.y<e.y?e.y:this.y,a=this.bottom>e.bottom?e.bottom:this.bottom;return a>s}var h=this.left,l=this.right,f=this.top,d=this.bottom;if(l<=h||d<=f)return!1;var v=Xo[0].set(e.left,e.top),p=Xo[1].set(e.left,e.bottom),g=Xo[2].set(e.right,e.top),m=Xo[3].set(e.right,e.bottom);if(g.x<=v.x||p.y<=v.y)return!1;var x=Math.sign(t.a*t.d-t.b*t.c);if(x===0||(t.apply(v,v),t.apply(p,p),t.apply(g,g),t.apply(m,m),Math.max(v.x,p.x,g.x,m.x)<=h||Math.min(v.x,p.x,g.x,m.x)>=l||Math.max(v.y,p.y,g.y,m.y)<=f||Math.min(v.y,p.y,g.y,m.y)>=d))return!1;var y=x*(p.y-v.y),E=x*(v.x-p.x),R=y*h+E*f,S=y*l+E*f,O=y*h+E*d,P=y*l+E*d;if(Math.max(R,S,O,P)<=y*v.x+E*v.y||Math.min(R,S,O,P)>=y*m.x+E*m.y)return!1;var D=x*(v.y-g.y),A=x*(g.x-v.x),F=D*h+A*f,I=D*l+A*f,B=D*h+A*d,Z=D*l+A*d;return!(Math.max(F,I,B,Z)<=D*v.x+A*v.y||Math.min(F,I,B,Z)>=D*m.x+A*m.y)},r.prototype.pad=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this},r.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=i,this.height=Math.max(s-i,0),this},r.prototype.ceil=function(e,t){e===void 0&&(e=1),t===void 0&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=i-this.y,this},r.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=i,this.height=s-i,this},r.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},r}(),jv=function(){function r(e,t,n){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),this.x=e,this.y=t,this.radius=n,this.type=Ae.CIRC}return r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,s=this.y-t;return i*=i,s*=s,i+s<=n},r.prototype.getBounds=function(){return new Dt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},r.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},r}(),qv=function(){function r(e,t,n,i){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=t,this.width=n,this.height=i,this.type=Ae.ELIP}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(t-this.y)/this.height;return n*=n,i*=i,n+i<=1},r.prototype.getBounds=function(){return new Dt(this.x-this.width,this.y-this.height,this.width,this.height)},r.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},r}(),xs=function(){function r(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){for(var s=[],a=0,h=i.length;a<h;a++)s.push(i[a].x,i[a].y);i=s}this.points=i,this.type=Ae.POLY,this.closeStroke=!0}return r.prototype.clone=function(){var e=this.points.slice(),t=new r(e);return t.closeStroke=this.closeStroke,t},r.prototype.contains=function(e,t){for(var n=!1,i=this.points.length/2,s=0,a=i-1;s<i;a=s++){var h=this.points[s*2],l=this.points[s*2+1],f=this.points[a*2],d=this.points[a*2+1],v=l>t!=d>t&&e<(f-h)*((t-l)/(d-l))+h;v&&(n=!n)}return n},r.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,t){return e+", "+t},"")+"]")},r}(),Kv=function(){function r(e,t,n,i,s){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=e,this.y=t,this.width=n,this.height=i,this.radius=s,this.type=Ae.RREC}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.radius)},r.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),s=t-(this.y+n),a=n*n;if(i*i+s*s<=a||(i=e-(this.x+this.width-n),i*i+s*s<=a)||(s=t-(this.y+this.height-n),i*i+s*s<=a)||(i=e-(this.x+n),i*i+s*s<=a))return!0}return!1},r.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},r}(),ln=function(){function r(e,t,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=t}return r.prototype.clone=function(e,t){return e===void 0&&(e=this.cb),t===void 0&&(t=this.scope),new r(e,t,this._x,this._y)},r.prototype.set=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this},r.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},r.prototype.copyTo=function(e){return e.set(this._x,this._y),e},r.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},r.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),r}(),Te=function(){function r(e,t,n,i,s,a){e===void 0&&(e=1),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=0),a===void 0&&(a=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=i,this.tx=s,this.ty=a}return r.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},r.prototype.set=function(e,t,n,i,s,a){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=s,this.ty=a,this},r.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},r.prototype.apply=function(e,t){t=t||new qt;var n=e.x,i=e.y;return t.x=this.a*n+this.c*i+this.tx,t.y=this.b*n+this.d*i+this.ty,t},r.prototype.applyInverse=function(e,t){t=t||new qt;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return t.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,t},r.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},r.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},r.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=s*t-this.d*n,this.d=s*n+this.d*t,this.tx=a*t-this.ty*n,this.ty=a*n+this.ty*t,this},r.prototype.append=function(e){var t=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*t+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this},r.prototype.setTransform=function(e,t,n,i,s,a,h,l,f){return this.a=Math.cos(h+f)*s,this.b=Math.sin(h+f)*s,this.c=-Math.sin(h-l)*a,this.d=Math.cos(h-l)*a,this.tx=e-(n*this.a+i*this.c),this.ty=t-(n*this.b+i*this.d),this},r.prototype.prepend=function(e){var t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},r.prototype.decompose=function(e){var t=this.a,n=this.b,i=this.c,s=this.d,a=e.pivot,h=-Math.atan2(-i,s),l=Math.atan2(n,t),f=Math.abs(h+l);return f<1e-5||Math.abs(Bs-f)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=l),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(a.x*t+a.y*i),e.position.y=this.ty+(a.x*n+a.y*s),e},r.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,i=this.d,s=this.tx,a=e*i-t*n;return this.a=i/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*s)/a,this.ty=-(e*this.ty-t*s)/a,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.prototype.clone=function(){var e=new r;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},r.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},r.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},r.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(r,"IDENTITY",{get:function(){return new r},enumerable:!1,configurable:!0}),Object.defineProperty(r,"TEMP_MATRIX",{get:function(){return new r},enumerable:!1,configurable:!0}),r}(),qn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Kn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Zn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Jn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Jh=[],Zv=[],Wo=Math.sign;function mA(){for(var r=0;r<16;r++){var e=[];Jh.push(e);for(var t=0;t<16;t++)for(var n=Wo(qn[r]*qn[t]+Zn[r]*Kn[t]),i=Wo(Kn[r]*qn[t]+Jn[r]*Kn[t]),s=Wo(qn[r]*Zn[t]+Zn[r]*Jn[t]),a=Wo(Kn[r]*Zn[t]+Jn[r]*Jn[t]),h=0;h<16;h++)if(qn[h]===n&&Kn[h]===i&&Zn[h]===s&&Jn[h]===a){e.push(h);break}}for(var r=0;r<16;r++){var l=new Te;l.set(qn[r],Kn[r],Zn[r],Jn[r],0,0),Zv.push(l)}}mA();var he={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(r){return qn[r]},uY:function(r){return Kn[r]},vX:function(r){return Zn[r]},vY:function(r){return Jn[r]},inv:function(r){return r&8?r&15:-r&7},add:function(r,e){return Jh[r][e]},sub:function(r,e){return Jh[r][he.inv(e)]},rotate180:function(r){return r^4},isVertical:function(r){return(r&3)===2},byDirection:function(r,e){return Math.abs(r)*2<=Math.abs(e)?e>=0?he.S:he.N:Math.abs(e)*2<=Math.abs(r)?r>0?he.E:he.W:e>0?r>0?he.SE:he.SW:r>0?he.NE:he.NW},matrixAppendRotationInv:function(r,e,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var i=Zv[he.inv(e)];i.tx=t,i.ty=n,r.append(i)}},kl=function(){function r(){this.worldTransform=new Te,this.localTransform=new Te,this.position=new ln(this.onChange,this,0,0),this.scale=new ln(this.onChange,this,1,1),this.pivot=new ln(this.onChange,this,0,0),this.skew=new ln(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return r.prototype.onChange=function(){this._localID++},r.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},r.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},r.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},r.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=t.a*n.a+t.b*n.c,i.b=t.a*n.b+t.b*n.d,i.c=t.c*n.a+t.d*n.c,i.d=t.c*n.b+t.d*n.d,i.tx=t.tx*n.a+t.ty*n.c+n.tx,i.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},r.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(r.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),r.IDENTITY=new r,r}();/*!
 * @pixi/display - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */et.SORTABLE_CHILDREN=!1;var Ls=function(){function r(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return r.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},r.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},r.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Dt.EMPTY:(e=e||new Dt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},r.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},r.prototype.addPointMatrix=function(e,t){var n=e.a,i=e.b,s=e.c,a=e.d,h=e.tx,l=e.ty,f=n*t.x+s*t.y+h,d=i*t.x+a*t.y+l;this.minX=Math.min(this.minX,f),this.maxX=Math.max(this.maxX,f),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},r.prototype.addQuad=function(e){var t=this.minX,n=this.minY,i=this.maxX,s=this.maxY,a=e[0],h=e[1];t=a<t?a:t,n=h<n?h:n,i=a>i?a:i,s=h>s?h:s,a=e[2],h=e[3],t=a<t?a:t,n=h<n?h:n,i=a>i?a:i,s=h>s?h:s,a=e[4],h=e[5],t=a<t?a:t,n=h<n?h:n,i=a>i?a:i,s=h>s?h:s,a=e[6],h=e[7],t=a<t?a:t,n=h<n?h:n,i=a>i?a:i,s=h>s?h:s,this.minX=t,this.minY=n,this.maxX=i,this.maxY=s},r.prototype.addFrame=function(e,t,n,i,s){this.addFrameMatrix(e.worldTransform,t,n,i,s)},r.prototype.addFrameMatrix=function(e,t,n,i,s){var a=e.a,h=e.b,l=e.c,f=e.d,d=e.tx,v=e.ty,p=this.minX,g=this.minY,m=this.maxX,x=this.maxY,y=a*t+l*n+d,E=h*t+f*n+v;p=y<p?y:p,g=E<g?E:g,m=y>m?y:m,x=E>x?E:x,y=a*i+l*n+d,E=h*i+f*n+v,p=y<p?y:p,g=E<g?E:g,m=y>m?y:m,x=E>x?E:x,y=a*t+l*s+d,E=h*t+f*s+v,p=y<p?y:p,g=E<g?E:g,m=y>m?y:m,x=E>x?E:x,y=a*i+l*s+d,E=h*i+f*s+v,p=y<p?y:p,g=E<g?E:g,m=y>m?y:m,x=E>x?E:x,this.minX=p,this.minY=g,this.maxX=m,this.maxY=x},r.prototype.addVertexData=function(e,t,n){for(var i=this.minX,s=this.minY,a=this.maxX,h=this.maxY,l=t;l<n;l+=2){var f=e[l],d=e[l+1];i=f<i?f:i,s=d<s?d:s,a=f>a?f:a,h=d>h?d:h}this.minX=i,this.minY=s,this.maxX=a,this.maxY=h},r.prototype.addVertices=function(e,t,n,i){this.addVerticesMatrix(e.worldTransform,t,n,i)},r.prototype.addVerticesMatrix=function(e,t,n,i,s,a){s===void 0&&(s=0),a===void 0&&(a=s);for(var h=e.a,l=e.b,f=e.c,d=e.d,v=e.tx,p=e.ty,g=this.minX,m=this.minY,x=this.maxX,y=this.maxY,E=n;E<i;E+=2){var R=t[E],S=t[E+1],O=h*R+f*S+v,P=d*S+l*R+p;g=Math.min(g,O-s),x=Math.max(x,O+s),m=Math.min(m,P-a),y=Math.max(y,P+a)}this.minX=g,this.minY=m,this.maxX=x,this.maxY=y},r.prototype.addBounds=function(e){var t=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s},r.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,s=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=s&&i<=a){var h=this.minX,l=this.minY,f=this.maxX,d=this.maxY;this.minX=n<h?n:h,this.minY=i<l?i:l,this.maxX=s>f?s:f,this.maxY=a>d?a:d}},r.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},r.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=s&&i<=a){var h=this.minX,l=this.minY,f=this.maxX,d=this.maxY;this.minX=n<h?n:h,this.minY=i<l?i:l,this.maxX=s>f?s:f,this.maxY=a>d?a:d}},r.prototype.pad=function(e,t){e===void 0&&(e=0),t===void 0&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},r.prototype.addFramePad=function(e,t,n,i,s,a){e-=s,t-=a,n+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qh=function(r,e){return Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Qh(r,e)};function Hl(r,e){Qh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ge=function(r){Hl(e,r);function e(){var t=r.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new kl,t.alpha=1,t.visible=!0,t.renderable=!0,t.cullable=!1,t.cullArea=null,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Ls,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return e.mixin=function(t){for(var n=Object.keys(t),i=0;i<n.length;++i){var s=n[i];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(t,s))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,n){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Dt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new Dt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Ls);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var h=this.getBounds(!1,t);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-a,h},e.prototype.toGlobal=function(t,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,n)},e.prototype.toLocal=function(t,n,i,s){return n&&(t=n.toGlobal(t,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,n,i,s,a,h,l,f,d){return t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=1),a===void 0&&(a=0),h===void 0&&(h=0),l===void 0&&(l=0),f===void 0&&(f=0),d===void 0&&(d=0),this.position.x=t,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=a,this.skew.x=h,this.skew.y=l,this.pivot.x=f,this.pivot.y=d,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Xl),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Vv},set:function(t){this.transform.rotation=t*Yv},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask!==t){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=t,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(zi),Xl=function(r){Hl(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.sortDirty=null,t}return e}(ge);ge.prototype.displayObjectUpdateTransform=ge.prototype.updateTransform;function yA(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}var Ze=function(r){Hl(e,r);function e(){var t=r.call(this)||this;return t.children=[],t.sortableChildren=et.SORTABLE_CHILDREN,t.sortDirty=!1,t}return e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,n=[],i=0;i<arguments.length;i++)n[i]=t[i];if(n.length>1)for(var s=0;s<n.length;s++)this.addChild(n[s]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},e.prototype.addChildAt=function(t,n){if(n<0||n>this.children.length)throw new Error(t+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(n,0,t),this._boundsID++,this.onChildrenChange(n),t.emit("added",this),this.emit("childAdded",t,this,n),t},e.prototype.swapChildren=function(t,n){if(t!==n){var i=this.getChildIndex(t),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=t,this.onChildrenChange(i<s?i:s)}},e.prototype.getChildIndex=function(t){var n=this.children.indexOf(t);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(t,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);ei(this.children,i,1),this.children.splice(n,0,t),this.onChildrenChange(n)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,n=[],i=0;i<arguments.length;i++)n[i]=t[i];if(n.length>1)for(var s=0;s<n.length;s++)this.removeChild(n[s]);else{var a=n[0],h=this.children.indexOf(a);if(h===-1)return null;a.parent=null,a.transform._parentID=-1,ei(this.children,h,1),this._boundsID++,this.onChildrenChange(h),a.emit("removed",this),this.emit("childRemoved",a,this,h)}return n[0]},e.prototype.removeChildAt=function(t){var n=this.getChildAt(t);return n.parent=null,n.transform._parentID=-1,ei(this.children,t,1),this._boundsID++,this.onChildrenChange(t),n.emit("removed",this),this.emit("childRemoved",n,this,t),n},e.prototype.removeChildren=function(t,n){t===void 0&&(t=0),n===void 0&&(n=this.children.length);var i=t,s=n,a=s-i,h;if(a>0&&a<=s){h=this.children.splice(i,a);for(var l=0;l<h.length;++l)h[l].parent=null,h[l].transform&&(h[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var l=0;l<h.length;++l)h[l].emit("removed",this),this.emit("childRemoved",h[l],this,l);return h}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,n=0,i=this.children.length;n<i;++n){var s=this.children[n];s._lastSortedIndex=n,!t&&s.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(yA),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,n=this.children.length;t<n;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var n=this.children[t];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(t,n){n===void 0&&(n=!1);var i=r.prototype.getLocalBounds.call(this,t);if(!n)for(var s=0,a=this.children.length;s<a;++s){var h=this.children[s];h.visible&&h.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(t){var n=t.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,s;if(this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,s))this._render(t);else if(this.cullArea)return;for(var a=0,h=this.children.length;a<h;++a){var l=this.children[a],f=l.cullable;l.cullable=f||!this.cullArea,l.render(t),l.cullable=f}}},e.prototype.render=function(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(t)}},e.prototype.renderAdvanced=function(t){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s])}var a=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==be.NONE));if(a&&t.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(var s=0,h=this.children.length;s<h;++s)this.children[s].render(t)}a&&t.batch.flush(),i&&t.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(t){r.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof t=="boolean"?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(n)for(var s=0;s<i.length;++s)i[s].destroy(t)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var n=this.getLocalBounds().width;n!==0?this.scale.x=t/n:this.scale.x=1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var n=this.getLocalBounds().height;n!==0?this.scale.y=t/n:this.scale.y=1,this._height=t},enumerable:!1,configurable:!0}),e}(ge);Ze.prototype.containerUpdateTransform=Ze.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ts=function(){return Ts=Object.assign||function(e){for(var t=arguments,n,i=1,s=arguments.length;i<s;i++){n=t[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ts.apply(this,arguments)},$t;(function(r){r.Application="application",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Loader="loader",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser"})($t||($t={}));var Ap=function(r){if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");var e=typeof r.extension!="object"?{type:r.extension}:r.extension;r=Ts(Ts({},e),{ref:r})}if(typeof r=="object")r=Ts({},r);else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},Kr={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var r=arguments,e=this,t=[],n=0;n<arguments.length;n++)t[n]=r[n];return t.map(Ap).forEach(function(i){i.type.forEach(function(s){var a,h;return(h=(a=e._removeHandlers)[s])===null||h===void 0?void 0:h.call(a,i)})}),this},add:function(){for(var r=arguments,e=this,t=[],n=0;n<arguments.length;n++)t[n]=r[n];return t.map(Ap).forEach(function(i){i.type.forEach(function(s){var a=e._addHandlers,h=e._queue;a[s]?a[s](i):(h[s]=h[s]||[],h[s].push(i))})}),this},handle:function(r,e,t){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[r]||i[r])throw new Error("Extension type "+r+" already has a handler");n[r]=e,i[r]=t;var s=this._queue;return s[r]&&(s[r].forEach(function(a){return e(a)}),delete s[r]),this},handleByMap:function(r,e){return this.handle(r,function(t){e[t.name]=t.ref},function(t){delete e[t.name]})},handleByList:function(r,e){return this.handle(r,function(t){var n,i;e.includes(t.ref)||(e.push(t.ref),r===$t.Loader&&((i=(n=t.ref).add)===null||i===void 0||i.call(n)))},function(t){var n=e.indexOf(t.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Re=function(){function r(e){this.items=[],this._name=e,this._aliasCount=0}return r.prototype.emit=function(e,t,n,i,s,a,h,l){if(arguments.length>8)throw new Error("max arguments reached");var f=this,d=f.name,v=f.items;this._aliasCount++;for(var p=0,g=v.length;p<g;p++)v[p][d](e,t,n,i,s,a,h,l);return v===this.items&&this._aliasCount--,this},r.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},r.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},r.prototype.remove=function(e){var t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},r.prototype.contains=function(e){return this.items.indexOf(e)!==-1},r.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},r.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(r.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),r}();Object.defineProperties(Re.prototype,{dispatch:{value:Re.prototype.emit},run:{value:Re.prototype.emit}});/*!
 * @pixi/ticker - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */et.TARGET_FPMS=.06;var Dr;(function(r){r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY"})(Dr||(Dr={}));var lh=function(){function r(e,t,n,i){t===void 0&&(t=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=i}return r.prototype.match=function(e,t){return t===void 0&&(t=null),this.fn===e&&this.context===t},r.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},r.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},r.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},r}(),Se=function(){function r(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new lh(null,null,1/0),this.deltaMS=1/et.TARGET_FPMS,this.elapsedMS=1/et.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return r.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},r.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},r.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},r.prototype.add=function(e,t,n){return n===void 0&&(n=Dr.NORMAL),this._addListener(new lh(e,t,n))},r.prototype.addOnce=function(e,t,n){return n===void 0&&(n=Dr.NORMAL),this._addListener(new lh(e,t,n,!0))},r.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(!t)e.connect(n);else{for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}return this._startIfPossible(),this},r.prototype.remove=function(e,t){for(var n=this._head.next;n;)n.match(e,t)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(r.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),r.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},r.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},r.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},r.prototype.update=function(e){e===void 0&&(e=performance.now());var t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*et.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(r.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,et.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"shared",{get:function(){if(!r._shared){var e=r._shared=new r;e.autoStart=!0,e._protected=!0}return r._shared},enumerable:!1,configurable:!0}),Object.defineProperty(r,"system",{get:function(){if(!r._system){var e=r._system=new r;e.autoStart=!0,e._protected=!0}return r._system},enumerable:!1,configurable:!0}),r}(),Jv=function(){function r(){}return r.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Dr.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Se.shared:new Se,e.autoStart&&this.start()},r.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},r.extension=$t.Application,r}();/*!
 * @pixi/core - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */et.PREFER_ENV=_r.any?Wr.WEBGL:Wr.WEBGL2;et.STRICT_TEXTURE_CACHE=!1;var Ns=[];function Ca(r,e){if(!r)return null;var t="";if(typeof r=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(t=n[1].toLowerCase())}for(var i=Ns.length-1;i>=0;--i){var s=Ns[i];if(s.test&&s.test(r,t))return new s(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $h=function(r,e){return $h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},$h(r,e)};function oe(r,e){$h(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var tl=function(){return tl=Object.assign||function(e){for(var t=arguments,n,i=1,s=arguments.length;i<s;i++){n=t[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tl.apply(this,arguments)};function bA(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}var si=function(){function r(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Re("setRealSize"),this.onUpdate=new Re("update"),this.onError=new Re("onError")}return r.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},r.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},r.prototype.resize=function(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(r.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),r.prototype.update=function(){this.destroyed||this.onUpdate.emit()},r.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),r.prototype.style=function(e,t,n){return!1},r.prototype.dispose=function(){},r.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},r.test=function(e,t){return!1},r}(),li=function(r){oe(e,r);function e(t,n){var i=this,s=n||{},a=s.width,h=s.height;if(!a||!h)throw new Error("BufferResource width or height invalid");return i=r.call(this,a,h)||this,i.data=t,i}return e.prototype.upload=function(t,n,i){var s=t.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===mr.UNPACK);var a=n.realWidth,h=n.realHeight;return i.width===a&&i.height===h?s.texSubImage2D(n.target,0,0,0,a,h,n.format,i.type,this.data):(i.width=a,i.height=h,s.texImage2D(n.target,0,i.internalFormat,a,h,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(si),xA={scaleMode:Ue.NEAREST,format:J.RGBA,alphaMode:mr.NPM},Mt=function(r){oe(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=null);var i=r.call(this)||this;n=n||{};var s=n.alphaMode,a=n.mipmap,h=n.anisotropicLevel,l=n.scaleMode,f=n.width,d=n.height,v=n.wrapMode,p=n.format,g=n.type,m=n.target,x=n.resolution,y=n.resourceOptions;return t&&!(t instanceof si)&&(t=Ca(t,y),t.internal=!0),i.resolution=x||et.RESOLUTION,i.width=Math.round((f||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:et.MIPMAP_TEXTURES,i.anisotropicLevel=h!==void 0?h:et.ANISOTROPIC_LEVEL,i._wrapMode=v||et.WRAP_MODE,i._scaleMode=l!==void 0?l:et.SCALE_MODE,i.format=p||J.RGBA,i.type=g||pt.UNSIGNED_BYTE,i.target=m||Rn.TEXTURE_2D,i.alphaMode=s!==void 0?s:mr.UNPACK,i.uid=In(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=f>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(t),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,n){var i;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,n,i){return i=i||this.resolution,this.setRealSize(t*i,n*i,i)},e.prototype.setRealSize=function(t,n,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=jh(this.realWidth)&&jh(this.realHeight)},e.prototype.setResolution=function(t){var n=this.resolution;return n===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*n)/t,this.height=Math.round(this.height*n)/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete dr[this.cacheId],delete Ye[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,n,i){i===void 0&&(i=et.STRICT_TEXTURE_CACHE);var s=typeof t=="string",a=null;if(s)a=t;else{if(!t._pixiId){var h=n&&n.pixiIdPrefix||"pixiid";t._pixiId=h+"_"+In()}a=t._pixiId}var l=dr[a];if(s&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return l||(l=new e(t,n),l.cacheId=a,e.addToCache(l,a)),l},e.fromBuffer=function(t,n,i,s){t=t||new Float32Array(n*i*4);var a=new li(t,{width:n,height:i}),h=t instanceof Float32Array?pt.FLOAT:pt.UNSIGNED_BYTE;return new e(a,Object.assign({},xA,s||{width:n,height:i,type:h}))},e.addToCache=function(t,n){n&&(t.textureCacheIds.indexOf(n)===-1&&t.textureCacheIds.push(n),dr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),dr[n]=t)},e.removeFromCache=function(t){if(typeof t=="string"){var n=dr[t];if(n){var i=n.textureCacheIds.indexOf(t);return i>-1&&n.textureCacheIds.splice(i,1),delete dr[t],n}}else if(t&&t.textureCacheIds){for(var s=0;s<t.textureCacheIds.length;++s)delete dr[t.textureCacheIds[s]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(zi),Ia=function(r){oe(e,r);function e(t,n){var i=this,s=n||{},a=s.width,h=s.height;i=r.call(this,a,h)||this,i.items=[],i.itemDirtyIds=[];for(var l=0;l<t;l++){var f=new Mt;i.items.push(f),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(t,n){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof si?this.addResourceAt(t[i],i):this.addResourceAt(Ca(t[i],n),i))},e.prototype.dispose=function(){for(var t=0,n=this.length;t<n;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[n].setResource(t),this},e.prototype.bind=function(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");r.prototype.bind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=t,this.items[n].on("update",t.update,t)},e.prototype.unbind=function(t){r.prototype.unbind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",t.update,t)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var n=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=n.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=t.items[0],a=s.realWidth,h=s.realHeight;return t.resize(a,h),Promise.resolve(t)}),this._load},e}(si),Wl=function(r){oe(e,r);function e(t,n){var i=this,s=n||{},a=s.width,h=s.height,l,f;return Array.isArray(t)?(l=t,f=t.length):f=t,i=r.call(this,f,{width:a,height:h})||this,l&&i.initFromArray(l,n),i}return e.prototype.addBaseTextureAt=function(t,n){if(t.resource)this.addResourceAt(t.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(t){r.prototype.bind.call(this,t),t.target=Rn.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,n,i){var s=this,a=s.length,h=s.itemDirtyIds,l=s.items,f=t.gl;i.dirtyId<0&&f.texImage3D(f.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,n.format,i.type,null);for(var d=0;d<a;d++){var v=l[d];h[d]<v.dirtyId&&(h[d]=v.dirtyId,v.valid&&f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,d,v.resource.width,v.resource.height,1,n.format,i.type,v.resource.source))}return!0},e}(Ia),zr=function(r){oe(e,r);function e(t){var n=this,i=t,s=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=r.call(this,s,a)||this,n.source=t,n.noSubImage=!1,n}return e.crossOrigin=function(t,n,i){i===void 0&&n.indexOf("data:")!==0?t.crossOrigin=zv(n):i!==!1&&(t.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(t,n,i,s){var a=t.gl,h=n.realWidth,l=n.realHeight;if(s=s||this.source,s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===mr.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===h&&i.height===l?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,i.type,s):(i.width=h,i.height=l,a.texImage2D(n.target,0,i.internalFormat,n.format,i.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var t=this.source,n=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(n,i),r.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(si),zl=function(r){oe(e,r);function e(t){return r.call(this,t)||this}return e.test=function(t){var n=globalThis.OffscreenCanvas;return n&&t instanceof n?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(zr),Vl=function(r){oe(e,r);function e(t,n){var i=this,s=n||{},a=s.width,h=s.height,l=s.autoLoad,f=s.linkBaseTexture;if(t&&t.length!==e.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");i=r.call(this,6,{width:a,height:h})||this;for(var d=0;d<e.SIDES;d++)i.items[d].target=Rn.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=f!==!1,t&&i.initFromArray(t,n),l!==!1&&i.load(),i}return e.prototype.bind=function(t){r.prototype.bind.call(this,t),t.target=Rn.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Rn.TEXTURE_CUBE_MAP_POSITIVE_X+n,t.parentTextureArray=this.baseTexture,this.items[n]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[n]=t,this},e.prototype.upload=function(t,n,i){for(var s=this.itemDirtyIds,a=0;a<e.SIDES;a++){var h=this.items[a];(s[a]<h.dirtyId||i.dirtyId<n.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(t,h,i),s[a]=h.dirtyId):s[a]<-1&&(t.gl.texImage2D(h.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[a]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(Ia),Oa=function(r){oe(e,r);function e(t,n){var i=this;if(n=n||{},!(t instanceof HTMLImageElement)){var s=new Image;zr.crossOrigin(s,t,n.crossorigin),s.src=t,t=s}return i=r.call(this,t)||this,!t.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=t.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:et.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(t){var n=this;return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise(function(i,s){var a=n.source;n.url=a.src;var h=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?h():(a.onload=h,a.onerror=function(l){s(l),n.onError.emit(l)})}),this._load)},e.prototype.process=function(){var t=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,s=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:s?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,n.width,n.height,{premultiplyAlpha:t.alphaMode===null||t.alphaMode===mr.UNPACK?"premultiply":"none"})}).then(function(a){return t.destroyed?Promise.reject():(t.bitmap=a,t.update(),t._process=null,Promise.resolve(t))}),this._process},e.prototype.upload=function(t,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return r.prototype.upload.call(this,t,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(r.prototype.upload.call(this,t,n,i,this.bitmap),!this.preserveBitmap){var s=!0,a=n._glTextures;for(var h in a){var l=a[h];if(l!==i&&l.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,r.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return typeof t=="string"||t instanceof HTMLImageElement},e}(zr),Yl=function(r){oe(e,r);function e(t,n){var i=this;return n=n||{},i=r.call(this,et.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=t,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(n){if(t._resolve=function(){t.resize(t.source.width,t.source.height),n(t)},e.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var t=this,n=new Image;zr.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){t._resolve&&(n.onerror=null,t.onError.emit(i))},n.onload=function(){if(t._resolve){var i=n.width,s=n.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*t.scale,h=s*t.scale;(t._overrideWidth||t._overrideHeight)&&(a=t._overrideWidth||t._overrideHeight/s*i,h=t._overrideHeight||t._overrideWidth/i*s),a=Math.round(a),h=Math.round(h);var l=t.source;l.width=a,l.height=h,l._pixiId="canvas_"+In(),l.getContext("2d").drawImage(n,0,0,i,s,0,0,a,h),t._resolve(),t._resolve=null}}},e.getSize=function(t){var n=e.SVG_SIZE.exec(t),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){r.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,n){return n==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&e.SVG_XML.test(t)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(zr),jl=function(r){oe(e,r);function e(t,n){var i=this;if(n=n||{},!(t instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);var a=t[0].src||t[0];zr.crossOrigin(s,a,n.crossorigin);for(var h=0;h<t.length;++h){var l=document.createElement("source"),f=t[h],d=f.src,v=f.mime;d=d||t[h];var p=d.split("?").shift().toLowerCase(),g=p.slice(p.lastIndexOf(".")+1);v=v||e.MIME_TYPES[g]||"video/"+g,l.src=d,l.type=v,s.appendChild(l)}t=s}return i=r.call(this,t)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(t){if(!this.destroyed){var n=Se.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(r.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){t.valid?i(t):(t._resolve=i,n.load())}),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var t=this.source;return t.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Se.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(t.videoWidth,t.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),r.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Se.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,n){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(zr),ql=function(r){oe(e,r);function e(t){return r.call(this,t)||this}return e.test=function(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&t instanceof ImageBitmap},e}(zr);Ns.push(Oa,ql,zl,jl,Yl,li,Vl,Wl);var Qv={__proto__:null,Resource:si,BaseImageResource:zr,INSTALLED:Ns,autoDetectResource:Ca,AbstractMultiResource:Ia,ArrayResource:Wl,BufferResource:li,CanvasResource:zl,CubeResource:Vl,ImageResource:Oa,SVGResource:Yl,VideoResource:jl,ImageBitmapResource:ql},TA=function(r){oe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.upload=function(t,n,i){var s=t.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===mr.UNPACK);var a=n.realWidth,h=n.realHeight;return i.width===a&&i.height===h?s.texSubImage2D(n.target,0,0,0,a,h,n.format,i.type,this.data):(i.width=a,i.height=h,s.texImage2D(n.target,0,i.internalFormat,a,h,0,n.format,i.type,this.data)),!0},e}(li),va=function(){function r(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Re("disposeFramebuffer"),this.multisample=ie.NONE}return Object.defineProperty(r.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),r.prototype.addColorTexture=function(e,t){return e===void 0&&(e=0),this.colorTextures[e]=t||new Mt(null,{scaleMode:Ue.NEAREST,resolution:1,mipmap:gr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},r.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Mt(new TA(null,{width:this.width,height:this.height}),{scaleMode:Ue.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:gr.OFF,format:J.DEPTH_COMPONENT,type:pt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},r.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},r.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},r.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,t/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,t/s)}}},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},r}(),Kl=function(r){oe(e,r);function e(t){t===void 0&&(t={});var n=this;if(typeof t=="number"){var i=arguments[0],s=arguments[1],a=arguments[2],h=arguments[3];t={width:i,height:s,scaleMode:a,resolution:h}}return t.width=t.width||100,t.height=t.height||100,t.multisample=t.multisample!==void 0?t.multisample:ie.NONE,n=r.call(this,null,t)||this,n.mipmap=gr.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new va(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=t.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(t,n){this.framebuffer.resize(t*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),r.prototype.dispose.call(this)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Mt),Zl=function(){function r(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return r.prototype.set=function(e,t,n){var i=t.width,s=t.height;if(n){var a=e.width/2/i,h=e.height/2/s,l=e.x/i+a,f=e.y/s+h;n=he.add(n,he.NW),this.x0=l+a*he.uX(n),this.y0=f+h*he.uY(n),n=he.add(n,2),this.x1=l+a*he.uX(n),this.y1=f+h*he.uY(n),n=he.add(n,2),this.x2=l+a*he.uX(n),this.y2=f+h*he.uY(n),n=he.add(n,2),this.x3=l+a*he.uX(n),this.y3=f+h*he.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},r.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},r}(),Pp=new Zl;function zo(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}var vt=function(r){oe(e,r);function e(t,n,i,s,a,h){var l=r.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new Dt(0,0,1,1)),t instanceof e&&(t=t.baseTexture),l.baseTexture=t,l._frame=n,l.trim=s,l.valid=!1,l._uvs=Pp,l.uvMatrix=null,l.orig=i||n,l._rotate=Number(a||0),a===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=h?new qt(h.x,h.y):new qt(0,0),l._updateID=0,l.textureCacheIds=[],t.valid?l.noFrame?t.valid&&l.onBaseTextureUpdated(t):l.frame=n:t.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&t.on("update",l.onBaseTextureUpdated,l),l}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var n=this.baseTexture.resource;n&&n.url&&Ye[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),n=this._frame===this.orig?t:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&t,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=t),i},e.prototype.updateUvs=function(){this._uvs===Pp&&(this._uvs=new Zl),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i=et.STRICT_TEXTURE_CACHE);var s=typeof t=="string",a=null;if(s)a=t;else if(t instanceof Mt){if(!t.cacheId){var h=n&&n.pixiIdPrefix||"pixiid";t.cacheId=h+"-"+In(),Mt.addToCache(t,t.cacheId)}a=t.cacheId}else{if(!t._pixiId){var h=n&&n.pixiIdPrefix||"pixiid";t._pixiId=h+"_"+In()}a=t._pixiId}var l=Ye[a];if(s&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!l&&!(t instanceof Mt)?(n.resolution||(n.resolution=Fs(t)),l=new e(new Mt(t,n)),l.baseTexture.cacheId=a,Mt.addToCache(l.baseTexture,a),e.addToCache(l,a)):!l&&t instanceof Mt&&(l=new e(t),e.addToCache(l,a)),l},e.fromURL=function(t,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=e.from(t,Object.assign({resourceOptions:i},n),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(t,n,i,s){return new e(Mt.fromBuffer(t,n,i,s))},e.fromLoader=function(t,n,i,s){var a=new Mt(t,Object.assign({scaleMode:et.SCALE_MODE,resolution:Fs(n)},s)),h=a.resource;h instanceof Oa&&(h.url=n);var l=new e(a);return i||(i=n),Mt.addToCache(l.baseTexture,i),e.addToCache(l,i),i!==n&&(Mt.addToCache(l.baseTexture,n),e.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(f){l.baseTexture.once("loaded",function(){return f(l)})})},e.addToCache=function(t,n){n&&(t.textureCacheIds.indexOf(n)===-1&&t.textureCacheIds.push(n),Ye[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Ye[n]=t)},e.removeFromCache=function(t){if(typeof t=="string"){var n=Ye[t];if(n){var i=n.textureCacheIds.indexOf(t);return i>-1&&n.textureCacheIds.splice(i,1),delete Ye[t],n}}else if(t&&t.textureCacheIds){for(var s=0;s<t.textureCacheIds.length;++s)Ye[t.textureCacheIds[s]]===t&&delete Ye[t.textureCacheIds[s]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var n=t.x,i=t.y,s=t.width,a=t.height,h=n+s>this.baseTexture.width,l=i+a>this.baseTexture.height;if(h||l){var f=h&&l?"and":"or",d="X: "+n+" + "+s+" = "+(n+s)+" > "+this.baseTexture.width,v="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+f+" "+v))}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Mt),zo(e._EMPTY),zo(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var t=et.ADAPTER.createCanvas(16,16),n=t.getContext("2d");t.width=16,t.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(Mt.from(t)),zo(e._WHITE),zo(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(zi),On=function(r){oe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,n,i){i===void 0&&(i=!0);var s=this.baseTexture.resolution,a=Math.round(t*s)/s,h=Math.round(n*s)/s;this.valid=a>0&&h>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=h,i&&this.baseTexture.resize(a,h),this.updateUvs()},e.prototype.setResolution=function(t){var n=this.baseTexture;n.resolution!==t&&(n.setResolution(t),this.resize(n.width,n.height,!1))},e.create=function(t){for(var n=arguments,i=[],s=1;s<arguments.length;s++)i[s-1]=n[s];return typeof t=="number"&&(ke("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new Kl(t))},e}(vt),$v=function(){function r(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return r.prototype.createTexture=function(e,t,n){n===void 0&&(n=ie.NONE);var i=new Kl(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new On(i)},r.prototype.getOptimalTexture=function(e,t,n,i){n===void 0&&(n=1),i===void 0&&(i=ie.NONE);var s;e=Math.ceil(e*n-1e-6),t=Math.ceil(t*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=Ds(e),t=Ds(t),s=((e&65535)<<16|t&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);var a=this.texturePool[s].pop();return a||(a=this.createTexture(e,t,i)),a.filterPoolKey=s,a.setResolution(n),a},r.prototype.getFilterTexture=function(e,t,n){var i=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||ie.NONE);return i.filterFrame=e.filterFrame,i},r.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},r.prototype.returnFilterTexture=function(e){this.returnTexture(e)},r.prototype.clear=function(e){if(e=e!==!1,e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},r.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var t in this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},r.SCREEN_KEY=-1,r}(),el=function(){function r(e,t,n,i,s,a,h){t===void 0&&(t=0),n===void 0&&(n=!1),i===void 0&&(i=pt.FLOAT),this.buffer=e,this.size=t,this.normalized=n,this.type=i,this.stride=s,this.start=a,this.instance=h}return r.prototype.destroy=function(){this.buffer=null},r.from=function(e,t,n,i,s){return new r(e,t,n,i,s)},r}(),EA=0,xe=function(){function r(e,t,n){t===void 0&&(t=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=EA++,this.disposeRunner=new Re("disposeBuffer")}return r.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(r.prototype,"index",{get:function(){return this.type===Or.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Or.ELEMENT_ARRAY_BUFFER:Or.ARRAY_BUFFER},enumerable:!1,configurable:!0}),r.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new r(e)},r}(),wA={Float32Array,Uint32Array,Int32Array,Uint8Array};function SA(r,e){for(var t=0,n=0,i={},s=0;s<r.length;s++)n+=e[s],t+=r[s].length;for(var a=new ArrayBuffer(t*4),h=null,l=0,s=0;s<r.length;s++){var f=e[s],d=r[s],v=Ra(d);i[v]||(i[v]=new wA[v](a)),h=i[v];for(var p=0;p<d.length;p++){var g=(p/f|0)*n+l,m=p%f;h[g+m]=d[p]}l+=f}return new Float32Array(a)}var Rp={5126:4,5123:2,5121:1},AA=0,PA={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Vi=function(){function r(e,t){e===void 0&&(e=[]),t===void 0&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=AA++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Re("disposeGeometry"),this.refCount=0}return r.prototype.addAttribute=function(e,t,n,i,s,a,h,l){if(n===void 0&&(n=0),i===void 0&&(i=!1),l===void 0&&(l=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof xe||(t instanceof Array&&(t=new Float32Array(t)),t=new xe(t));var f=e.split("|");if(f.length>1){for(var d=0;d<f.length;d++)this.addAttribute(f[d],t,n,i,s);return this}var v=this.buffers.indexOf(t);return v===-1&&(this.buffers.push(t),v=this.buffers.length-1),this.attributes[e]=new el(v,n,i,s,a,h,l),this.instanced=this.instanced||l,this},r.prototype.getAttribute=function(e){return this.attributes[e]},r.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},r.prototype.addIndex=function(e){return e instanceof xe||(e instanceof Array&&(e=new Uint16Array(e)),e=new xe(e)),e.type=Or.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},r.prototype.getIndex=function(){return this.indexBuffer},r.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],t=[],n=new xe,i;for(i in this.attributes){var s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),t.push(s.size*Rp[s.type]/4),s.buffer=0}for(n.data=SA(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},r.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e],n=this.buffers[t.buffer];return n.data.length/(t.stride/4||t.size)}return 0},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},r.prototype.clone=function(){for(var e=new r,t=0;t<this.buffers.length;t++)e.buffers[t]=new xe(this.buffers[t].data.slice(0));for(var t in this.attributes){var n=this.attributes[t];e.attributes[t]=new el(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Or.ELEMENT_ARRAY_BUFFER),e},r.merge=function(e){for(var t=new r,n=[],i=[],s=[],a,h=0;h<e.length;h++){a=e[h];for(var l=0;l<a.buffers.length;l++)i[l]=i[l]||0,i[l]+=a.buffers[l].data.length,s[l]=0}for(var h=0;h<a.buffers.length;h++)n[h]=new PA[Ra(a.buffers[h].data)](i[h]),t.buffers[h]=new xe(n[h]);for(var h=0;h<e.length;h++){a=e[h];for(var l=0;l<a.buffers.length;l++)n[l].set(a.buffers[l].data,s[l]),s[l]+=a.buffers[l].data.length}if(t.attributes=a.attributes,a.indexBuffer){t.indexBuffer=t.buffers[a.buffers.indexOf(a.indexBuffer)],t.indexBuffer.type=Or.ELEMENT_ARRAY_BUFFER;for(var f=0,d=0,v=0,p=0,h=0;h<a.buffers.length;h++)if(a.buffers[h]!==a.indexBuffer){p=h;break}for(var h in a.attributes){var g=a.attributes[h];(g.buffer|0)===p&&(d+=g.size*Rp[g.type]/4)}for(var h=0;h<e.length;h++){for(var m=e[h].indexBuffer.data,l=0;l<m.length;l++)t.indexBuffer.data[l+v]+=f;f+=e[h].buffers[p].data.length/d,v+=m.length}}return t},r}(),t_=function(r){oe(e,r);function e(){var t=r.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return e}(Vi),Jl=function(r){oe(e,r);function e(){var t=r.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new xe(t.vertices),t.uvBuffer=new xe(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return e.prototype.map=function(t,n){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/t.width,this.uvs[3]=s,this.uvs[4]=i+n.width/t.width,this.uvs[5]=s+n.height/t.height,this.uvs[6]=i,this.uvs[7]=s+n.height/t.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Vi),RA=0,Cn=function(){function r(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=RA++,this.static=!!t,this.ubo=!!n,e instanceof xe?(this.buffer=e,this.buffer.type=Or.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new xe(new Float32Array(1)),this.buffer.type=Or.UNIFORM_BUFFER,this.autoManage=!0))}return r.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},r.prototype.add=function(e,t,n){if(!this.ubo)this.uniforms[e]=new r(t,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},r.from=function(e,t,n){return new r(e,t,n)},r.uboFrom=function(e,t){return new r(e,t??!0,!0)},r}(),e_=function(){function r(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ie.NONE,this.sourceFrame=new Dt,this.destinationFrame=new Dt,this.bindingSourceFrame=new Dt,this.bindingDestinationFrame=new Dt,this.filters=[],this.transform=null}return r.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},r}(),Vo=[new qt,new qt,new qt,new qt],fh=new Te,Ql=function(){function r(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new $v,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new t_,this.quadUv=new Jl,this.tempRect=new Dt,this.activeState={},this.globalUniforms=new Cn({outputFrame:new Dt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return r.prototype.push=function(e,t){for(var n,i,s=this.renderer,a=this.defaultFilterStack,h=this.statePool.pop()||new e_,l=this.renderer.renderTexture,f=t[0].resolution,d=t[0].multisample,v=t[0].padding,p=t[0].autoFit,g=(n=t[0].legacy)!==null&&n!==void 0?n:!0,m=1;m<t.length;m++){var x=t[m];f=Math.min(f,x.resolution),d=Math.min(d,x.multisample),v=this.useMaxPadding?Math.max(v,x.padding):v+x.padding,p=p&&x.autoFit,g=g||((i=x.legacy)!==null&&i!==void 0?i:!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),a.push(h),h.resolution=f,h.multisample=d,h.legacy=g,h.target=e,h.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),h.sourceFrame.pad(v);var y=this.tempRect.copyFrom(l.sourceFrame);s.projection.transform&&this.transformAABB(fh.copyFrom(s.projection.transform).invert(),y),p?(h.sourceFrame.fit(y),(h.sourceFrame.width<=0||h.sourceFrame.height<=0)&&(h.sourceFrame.width=0,h.sourceFrame.height=0)):h.sourceFrame.intersects(y)||(h.sourceFrame.width=0,h.sourceFrame.height=0),this.roundFrame(h.sourceFrame,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),h.renderTexture=this.getOptimalFilterTexture(h.sourceFrame.width,h.sourceFrame.height,f,d),h.filters=t,h.destinationFrame.width=h.renderTexture.width,h.destinationFrame.height=h.renderTexture.height;var E=this.tempRect;E.x=0,E.y=0,E.width=h.sourceFrame.width,E.height=h.sourceFrame.height,h.renderTexture.filterFrame=h.sourceFrame,h.bindingSourceFrame.copyFrom(l.sourceFrame),h.bindingDestinationFrame.copyFrom(l.destinationFrame),h.transform=s.projection.transform,s.projection.transform=null,l.bind(h.renderTexture,h.sourceFrame,E),s.framebuffer.clear(0,0,0,0)},r.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;var s=i.inputSize,a=i.inputPixel,h=i.inputClamp;if(s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*t.resolution),a[1]=Math.round(s[1]*t.resolution),a[2]=1/a[0],a[3]=1/a[1],h[0]=.5*a[2],h[1]=.5*a[3],h[2]=t.sourceFrame.width*s[2]-.5*a[2],h[3]=t.sourceFrame.height*s[3]-.5*a[3],t.legacy){var l=i.filterArea;l[0]=t.destinationFrame.width,l[1]=t.destinationFrame.height,l[2]=t.sourceFrame.x,l[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var f=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,t.renderTexture,f.renderTexture,pr.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var d=t.renderTexture,v=this.getOptimalFilterTexture(d.width,d.height,t.resolution);v.filterFrame=d.filterFrame;var p=0;for(p=0;p<n.length-1;++p){p===1&&t.multisample>1&&(v=this.getOptimalFilterTexture(d.width,d.height,t.resolution),v.filterFrame=d.filterFrame),n[p].apply(this,d,v,pr.CLEAR,t);var g=d;d=v,v=g}n[p].apply(this,d,f.renderTexture,pr.BLEND,t),p>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(v)}t.clear(),this.statePool.push(t)},r.prototype.bindAndClear=function(e,t){t===void 0&&(t=pr.CLEAR);var n=this.renderer,i=n.renderTexture,s=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,i.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var h=s.stateId&1||this.forceClear;(t===pr.CLEAR||t===pr.BLIT&&h)&&this.renderer.framebuffer.clear(0,0,0,0)},r.prototype.applyFilter=function(e,t,n,i){var s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(vr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(vr.TRIANGLE_STRIP))},r.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,i=n.sourceFrame,s=n.destinationFrame,a=t._texture.orig,h=e.set(s.width,0,0,s.height,i.x,i.y),l=t.worldTransform.copyTo(Te.TEMP_MATRIX);return l.invert(),h.prepend(l),h.scale(1/a.width,1/a.height),h.translate(t.anchor.x,t.anchor.y),h},r.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},r.prototype.getOptimalFilterTexture=function(e,t,n,i){return n===void 0&&(n=1),i===void 0&&(i=ie.NONE),this.texturePool.getOptimalTexture(e,t,n,i)},r.prototype.getFilterTexture=function(e,t,n){if(typeof e=="number"){var i=e;e=t,t=i}e=e||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||ie.NONE);return s.filterFrame=e.filterFrame,s},r.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},r.prototype.emptyPool=function(){this.texturePool.clear(!0)},r.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},r.prototype.transformAABB=function(e,t){var n=Vo[0],i=Vo[1],s=Vo[2],a=Vo[3];n.set(t.left,t.top),i.set(t.left,t.bottom),s.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(a,a);var h=Math.min(n.x,i.x,s.x,a.x),l=Math.min(n.y,i.y,s.y,a.y),f=Math.max(n.x,i.x,s.x,a.x),d=Math.max(n.y,i.y,s.y,a.y);t.x=h,t.y=l,t.width=f-h,t.height=d-l},r.prototype.roundFrame=function(e,t,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){var a=s.a,h=s.b,l=s.c,f=s.d;if((Math.abs(h)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(f)>1e-4))return}s=s?fh.copyFrom(s):fh.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(t),this.transformAABB(s.invert(),e)}},r}(),Vs=function(){function r(e){this.renderer=e}return r.prototype.flush=function(){},r.prototype.destroy=function(){this.renderer=null},r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.render=function(e){},r}(),$l=function(){function r(e){this.renderer=e,this.emptyRenderer=new Vs(e),this.currentRenderer=this.emptyRenderer}return r.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},r.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,i=t-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},r.prototype.boundArray=function(e,t,n,i){for(var s=e.elements,a=e.ids,h=e.count,l=0,f=0;f<h;f++){var d=s[f],v=d._batchLocation;if(v>=0&&v<i&&t[v]===d){a[f]=v;continue}for(;l<i;){var p=t[l];if(p&&p._batchEnabled===n&&p._batchLocation===l){l++;continue}a[f]=l,d._batchLocation=l,t[l]=d;break}}},r.prototype.destroy=function(){this.renderer=null},r}(),Cp=0,tf=function(){function r(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(r.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),r.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Cp++},r.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Cp++,this.renderer.runners.contextChange.emit(e)},r.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},r.prototype.createContext=function(e,t){var n;if(et.PREFER_ENV>=Wr.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},r.prototype.getExtensions=function(){var e=this.gl,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},r.prototype.handleContextLost=function(e){var t=this;e.preventDefault(),setTimeout(function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()},0)},r.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},r.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},r.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},r.prototype.validateContext=function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},r}(),r_=function(){function r(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ie.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return r}(),CA=new Dt,ef=function(){function r(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new va(10,10),this.msaaSamples=null}return r.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Dt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;et.PREFER_ENV===Wr.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(i){return t.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},r.prototype.bind=function(e,t,n){n===void 0&&(n=0);var i=this.gl;if(e){var s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var a=0;a<e.colorTextures.length;a++){var h=e.colorTextures[a];this.renderer.texture.unbind(h.parentTextureArray||h)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var l=t.width>>n,f=t.height>>n,d=l/t.width;this.setViewport(t.x*d,t.y*d,l,f)}else{var l=e.width>>n,f=e.height>>n;this.setViewport(0,0,l,f)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},r.prototype.setViewport=function(e,t,n,i){var s=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==t)&&(s.x=e,s.y=t,s.width=n,s.height=i,this.gl.viewport(e,t,n,i))},Object.defineProperty(r.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),r.prototype.clear=function(e,t,n,i,s){s===void 0&&(s=As.COLOR|As.DEPTH);var a=this.gl;a.clearColor(e,t,n,i),a.clear(s)},r.prototype.initFramebuffer=function(e){var t=this.gl,n=new r_(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},r.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height)),n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,s=i.length;t.drawBuffers||(s=Math.min(s,1));for(var a=0;a<s;a++){var h=i[a],l=h.parentTextureArray||h;this.renderer.texture.bind(l,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},r.prototype.updateFramebuffer=function(e,t){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures,a=s.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var h=[],l=0;l<a;l++){var f=s[l],d=f.parentTextureArray||f;this.renderer.texture.bind(d,0),!(l===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,f.target,d._glTextures[this.CONTEXT_UID].texture,t),h.push(n.COLOR_ATTACHMENT0+l))}if(h.length>1&&n.drawBuffers(h),e.depthTexture){var v=this.writeDepthTexture;if(v){var p=e.depthTexture;this.renderer.texture.bind(p,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,t)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},r.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},r.prototype.detectSamples=function(e){var t=this.msaaSamples,n=ie.NONE;if(e<=1||t===null)return n;for(var i=0;i<t.length;i++)if(t[i]<=e){n=t[i];break}return n===1&&(n=ie.NONE),n},r.prototype.blit=function(e,t,n){var i=this,s=i.current,a=i.renderer,h=i.gl,l=i.CONTEXT_UID;if(a.context.webGLVersion===2&&s){var f=s.glFramebuffers[l];if(f){if(!e){if(!f.msaaBuffer)return;var d=s.colorTextures[0];if(!d)return;f.blitFramebuffer||(f.blitFramebuffer=new va(s.width,s.height),f.blitFramebuffer.addColorTexture(0,d)),e=f.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||(t=CA,t.width=s.width,t.height=s.height),n||(n=t);var v=t.width===n.width&&t.height===n.height;this.bind(e),h.bindFramebuffer(h.READ_FRAMEBUFFER,f.framebuffer),h.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,h.COLOR_BUFFER_BIT,v?h.NEAREST:h.LINEAR)}}},r.prototype.disposeFramebuffer=function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},r.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},r.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(!(!t||t.stencil)){e.stencil=!0;var n=e.width,i=e.height,s=this.gl,a=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a),t.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,t.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),t.stencil=a,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,a)}}},r.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Dt},r.prototype.destroy=function(){this.renderer=null},r}(),ch={5126:4,5123:2,5121:1},rf=function(){function r(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return r.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;et.PREFER_ENV===Wr.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(s){return n.bindVertexArrayOES(s)},e.deleteVertexArray=function(s){return n.deleteVertexArrayOES(s)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(t.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(s,a){return i.vertexAttribDivisorANGLE(s,a)},e.drawElementsInstanced=function(s,a,h,l,f){return i.drawElementsInstancedANGLE(s,a,h,l,f)},e.drawArraysInstanced=function(s,a,h,l){return i.drawArraysInstancedANGLE(s,a,h,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex},r.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);var a=i[t.program.id]||this.initGeometryVao(e,t,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()},r.prototype.reset=function(){this.unbind()},r.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];t.update(i)}},r.prototype.checkCompatibility=function(e,t){var n=e.attributes,i=t.attributeData;for(var s in i)if(!n[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},r.prototype.getSignature=function(e,t){var n=e.attributes,i=t.attributeData,s=["g",e.id];for(var a in n)i[a]&&s.push(a,i[a].location);return s.join("-")},r.prototype.initGeometryVao=function(e,t,n){n===void 0&&(n=!0);var i=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,h=t.program;h.glPrograms[s]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,h);var l=this.getSignature(e,h),f=e.glVertexArrayObjects[this.CONTEXT_UID],d=f[l];if(d)return f[h.id]=d,d;var v=e.buffers,p=e.attributes,g={},m={};for(var x in v)g[x]=0,m[x]=0;for(var x in p)!p[x].size&&h.attributeData[x]?p[x].size=h.attributeData[x].size:p[x].size||console.warn("PIXI Geometry attribute '"+x+"' size cannot be determined (likely the bound shader does not have the attribute)"),g[p[x].buffer]+=p[x].size*ch[p[x].type];for(var x in p){var y=p[x],E=y.size;y.stride===void 0&&(g[y.buffer]===E*ch[y.type]?y.stride=0:y.stride=g[y.buffer]),y.start===void 0&&(y.start=m[y.buffer],m[y.buffer]+=E*ch[y.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var R=0;R<v.length;R++){var S=v[R];a.bind(S),n&&S._glBuffers[s].refCount++}return this.activateVao(e,h),this._activeVao=d,f[h.id]=d,f[l]=d,d},r.prototype.disposeGeometry=function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,h=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(h)for(var l=0;l<a.length;l++){var f=a[l]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!t&&h.dispose(a[l],t))}if(!t){for(var d in i)if(d[0]==="g"){var v=i[d];this._activeVao===v&&this.unbind(),s.deleteVertexArray(v)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},r.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)},r.prototype.activateVao=function(e,t){var n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,h=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);var l=null;for(var f in h){var d=h[f],v=a[d.buffer],p=v._glBuffers[i];if(t.attributeData[f]){l!==p&&(s.bind(v),l=p);var g=t.attributeData[f].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},r.prototype.draw=function(e,t,n,i){var s=this.gl,a=this._activeGeometry;if(a.indexBuffer){var h=a.indexBuffer.data.BYTES_PER_ELEMENT,l=h===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;h===2||h===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,t||a.indexBuffer.data.length,l,(n||0)*h,i||1):s.drawElements(e,t||a.indexBuffer.data.length,l,(n||0)*h):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,n,t||a.getSize(),i||1):s.drawArrays(e,n,t||a.getSize());return this},r.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},r.prototype.destroy=function(){this.renderer=null},r}(),n_=function(){function r(e){e===void 0&&(e=null),this.type=be.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=et.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(r.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),r.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=be.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},r.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},r}();function Ip(r,e,t){var n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}function Op(r,e){var t=r.getShaderSource(e).split(`
`).map(function(f,d){return d+": "+f}),n=r.getShaderInfoLog(e),i=n.split(`
`),s={},a=i.map(function(f){return parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(f){return f&&!s[f]?(s[f]=!0,!0):!1}),h=[""];a.forEach(function(f){t[f-1]="%c"+t[f-1]+"%c",h.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=t.join(`
`);h[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,h),console.groupEnd()}function IA(r,e,t,n){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(t,r.COMPILE_STATUS)||Op(r,t),r.getShaderParameter(n,r.COMPILE_STATUS)||Op(r,n),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}function dh(r){for(var e=new Array(r),t=0;t<e.length;t++)e[t]=!1;return e}function i_(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return dh(2*e);case"bvec3":return dh(3*e);case"bvec4":return dh(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var s_={},cs=s_;function o_(){if(cs===s_||cs&&cs.isContextLost()){var r=et.ADAPTER.createCanvas(),e=void 0;et.PREFER_ENV>=Wr.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),cs=e}return cs}var Yo;function OA(){if(!Yo){Yo=qe.MEDIUM;var r=o_();if(r&&r.getShaderPrecisionFormat){var e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);Yo=e.precision?qe.HIGH:qe.MEDIUM}}return Yo}function Mp(r,e,t){if(r.substring(0,9)!=="precision"){var n=e;return e===qe.HIGH&&t!==qe.HIGH&&(n=qe.MEDIUM),"precision "+n+` float;
`+r}else if(t!==qe.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}var MA={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function a_(r){return MA[r]}var jo=null,Dp={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function u_(r,e){if(!jo){var t=Object.keys(Dp);jo={};for(var n=0;n<t.length;++n){var i=t[n];jo[r[i]]=Dp[i]}}return jo[e]}var ri=[{test:function(r){return r.type==="float"&&r.size===1&&!r.isArray},code:function(r){return`
            if(uv["`+r+'"] !== ud["'+r+`"].value)
            {
                ud["`+r+'"].value = uv["'+r+`"]
                gl.uniform1f(ud["`+r+'"].location, uv["'+r+`"])
            }
            `}},{test:function(r,e){return(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(r){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+r+`"], t);

            if(ud["`+r+`"].value !== t)
            {
                ud["`+r+`"].value = t;
                gl.uniform1i(ud["`+r+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(r,e){return r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0},code:function(r){return`
            gl.uniformMatrix3fv(ud["`+r+'"].location, false, uv["'+r+`"].toArray(true));
            `},codeUbo:function(r){return`
                var `+r+"_matrix = uv."+r+`.toArray(true);

                data[offset] = `+r+`_matrix[0];
                data[offset+1] = `+r+`_matrix[1];
                data[offset+2] = `+r+`_matrix[2];
        
                data[offset + 4] = `+r+`_matrix[3];
                data[offset + 5] = `+r+`_matrix[4];
                data[offset + 6] = `+r+`_matrix[5];
        
                data[offset + 8] = `+r+`_matrix[6];
                data[offset + 9] = `+r+`_matrix[7];
                data[offset + 10] = `+r+`_matrix[8];
            `}},{test:function(r,e){return r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+r+`"].location, v.x, v.y);
                }`},codeUbo:function(r){return`
                v = uv.`+r+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(r){return r.type==="vec2"&&r.size===1&&!r.isArray},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+r+`"].location, v[0], v[1]);
                }
            `}},{test:function(r,e){return r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+r+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(r){return`
                    v = uv.`+r+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(r){return r.type==="vec4"&&r.size===1&&!r.isArray},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+r+`"].location, v[0], v[1], v[2], v[3])
                }`}}],DA={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},FA={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function BA(r,e){var t,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in r.uniforms){var s=e[i];if(!s){!((t=r.uniforms[i])===null||t===void 0)&&t.group&&(r.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=r.uniforms[i],h=!1,l=0;l<ri.length;l++)if(ri[l].test(s,a)){n.push(ri[l].code(i,a)),h=!0;break}if(!h){var f=s.size===1&&!s.isArray?DA:FA,d=f[s.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var LA=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function NA(r){for(var e="",t=0;t<r;++t)t>0&&(e+=`
else `),t<r-1&&(e+="if(test == "+t+".0){}");return e}function h_(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var t=e.createShader(e.FRAGMENT_SHADER);;){var n=LA.replace(/%forloop%/gi,NA(r));if(e.shaderSource(t,n),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))r=r/2|0;else break}return r}var ds;function UA(){if(typeof ds=="boolean")return ds;try{var r=new Function("param1","param2","param3","return param1[param2] === param3;");ds=r({a:"b"},"a","b")===!0}catch{ds=!1}return ds}var GA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,kA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,HA=0,qo={},Yi=function(){function r(e,t,n){n===void 0&&(n="pixi-shader"),this.id=HA++,this.vertexSrc=e||r.defaultVertexSrc,this.fragmentSrc=t||r.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),qo[n]?(qo[n]++,n+="-"+qo[n]):qo[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Mp(this.vertexSrc,et.PRECISION_VERTEX,qe.HIGH),this.fragmentSrc=Mp(this.fragmentSrc,et.PRECISION_FRAGMENT,OA())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(r,"defaultVertexSrc",{get:function(){return kA},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return GA},enumerable:!1,configurable:!0}),r.from=function(e,t,n){var i=e+t,s=Kh[i];return s||(Kh[i]=s=new r(e,t,n)),s},r}(),cn=function(){function r(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Cn?this.uniformGroup=t:this.uniformGroup=new Cn(t):this.uniformGroup=new Cn({}),this.disposeRunner=new Re("disposeShader")}return r.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var i=t.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},r.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(r.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),r.from=function(e,t,n){var i=Yi.from(e,t);return new r(i,n)},r}(),ph=0,vh=1,_h=2,gh=3,mh=4,yh=5,Dn=function(){function r(){this.data=0,this.blendMode=dt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(r.prototype,"blend",{get:function(){return!!(this.data&1<<ph)},set:function(e){!!(this.data&1<<ph)!==e&&(this.data^=1<<ph)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsets",{get:function(){return!!(this.data&1<<vh)},set:function(e){!!(this.data&1<<vh)!==e&&(this.data^=1<<vh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"culling",{get:function(){return!!(this.data&1<<_h)},set:function(e){!!(this.data&1<<_h)!==e&&(this.data^=1<<_h)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depthTest",{get:function(){return!!(this.data&1<<gh)},set:function(e){!!(this.data&1<<gh)!==e&&(this.data^=1<<gh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depthMask",{get:function(){return!!(this.data&1<<yh)},set:function(e){!!(this.data&1<<yh)!==e&&(this.data^=1<<yh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<mh)},set:function(e){!!(this.data&1<<mh)!==e&&(this.data^=1<<mh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==dt.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},r.for2d=function(){var e=new r;return e.depthTest=!1,e.blend=!0,e},r}(),XA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,WA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,pn=function(r){oe(e,r);function e(t,n,i){var s=this,a=Yi.from(t||e.defaultVertexSrc,n||e.defaultFragmentSrc);return s=r.call(this,a,i)||this,s.padding=0,s.resolution=et.FILTER_RESOLUTION,s.multisample=et.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new Dn,s}return e.prototype.apply=function(t,n,i,s,a){t.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return WA},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return XA},enumerable:!1,configurable:!0}),e}(cn),zA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,VA=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Fp=new Te,Ma=function(){function r(e,t){this._texture=e,this.mapCoord=new Te,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}return Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),r.prototype.multiplyUvs=function(e,t){t===void 0&&(t=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var s=e[i],a=e[i+1];t[i]=s*n.a+a*n.c+n.tx,t[i+1]=s*n.b+a*n.d+n.ty}return t},r.prototype.update=function(e){var t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=t.orig,s=t.trim;s&&(Fp.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Fp));var a=t.baseTexture,h=this.uClampFrame,l=this.clampMargin/a.resolution,f=this.clampOffset;return h[0]=(t._frame.x+l+f)/a.width,h[1]=(t._frame.y+l+f)/a.height,h[2]=(t._frame.x+t._frame.width-l+f)/a.width,h[3]=(t._frame.y+t._frame.height-l+f)/a.height,this.uClampOffset[0]=f/a.realWidth,this.uClampOffset[1]=f/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&t.rotate===0,!0},r}(),l_=function(r){oe(e,r);function e(t,n,i){var s=this,a=null;return typeof t!="string"&&n===void 0&&i===void 0&&(a=t,t=void 0,n=void 0,i=void 0),s=r.call(this,t||zA,n||VA,i)||this,s.maskSprite=a,s.maskMatrix=new Te,s}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,n,i,s){var a=this._maskSprite,h=a._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new Ma(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,a).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,t.applyFilter(this,n,i,s))},e}(pn),nf=function(){function r(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return r.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},r.prototype.push=function(e,t){var n=t;if(!n.isMaskData){var i=this.maskDataPool.pop()||new n_;i.pooled=!0,i.maskObject=t,n=i}var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==be.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case be.SCISSOR:this.renderer.scissor.push(n);break;case be.STENCIL:this.renderer.stencil.push(n);break;case be.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case be.COLOR:this.pushColorMask(n);break}n.type===be.SPRITE&&this.maskStack.push(n)},r.prototype.pop=function(e){var t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case be.SCISSOR:this.renderer.scissor.pop(t);break;case be.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case be.SPRITE:this.popSpriteMask(t);break;case be.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===be.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},r.prototype.detect=function(e){var t=e.maskObject;t?t.isSprite?e.type=be.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=be.SCISSOR:e.type=be.STENCIL:e.type=be.COLOR},r.prototype.pushSpriteMask=function(e){var t,n,i=e.maskObject,s=e._target,a=e._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new l_]));var h=this.renderer,l=h.renderTexture,f,d;if(l.current){var v=l.current;f=e.resolution||v.resolution,d=(t=e.multisample)!==null&&t!==void 0?t:v.multisample}else f=e.resolution||h.resolution,d=(n=e.multisample)!==null&&n!==void 0?n:h.multisample;a[0].resolution=f,a[0].multisample=d,a[0].maskSprite=i;var p=s.filterArea;s.filterArea=i.getBounds(!0),h.filter.push(s,a),s.filterArea=p,e._filters||this.alphaMaskIndex++},r.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},r.prototype.pushColorMask=function(e){var t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},r.prototype.popColorMask=function(e){var t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},r.prototype.destroy=function(){this.renderer=null},r}(),f_=function(){function r(e){this.renderer=e,this.maskStack=[],this.glConst=0}return r.prototype.getStackLength=function(){return this.maskStack.length},r.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},r.prototype._useCurrent=function(){},r.prototype.destroy=function(){this.renderer=null,this.maskStack=null},r}(),Bp=new Te,Lp=[],sf=function(r){oe(e,r);function e(t){var n=r.call(this,t)||this;return n.glConst=et.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.calcScissorRect=function(t){var n;if(!t._scissorRectLocal){var i=t._scissorRect,s=t.maskObject,a=this.renderer,h=a.renderTexture,l=s.getBounds(!0,(n=Lp.pop())!==null&&n!==void 0?n:new Dt);this.roundFrameToPixels(l,h.current?h.current.resolution:a.resolution,h.sourceFrame,h.destinationFrame,a.projection.transform),i&&l.fit(i),t._scissorRectLocal=l}},e.isMatrixRotated=function(t){if(!t)return!1;var n=t.a,i=t.b,s=t.c,a=t.d;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(a)>1e-4)},e.prototype.testScissor=function(t){var n=t.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);var i=t._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(t,n,i,s,a){e.isMatrixRotated(a)||(a=a?Bp.copyFrom(a):Bp.identity(),a.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,t),t.fit(s),t.x=Math.round(t.x*n),t.y=Math.round(t.y*n),t.width=Math.round(t.width*n),t.height=Math.round(t.height*n))},e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var n=this.renderer.gl;t._scissorRect||n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(t){var n=this.renderer.gl;t&&Lp.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=t.y:n=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,n,t.width,t.height)},e}(f_),of=function(r){oe(e,r);function e(t){var n=r.call(this,t)||this;return n.glConst=et.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var n=t.maskObject,i=this.renderer.gl,s=t._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),t._stencilCounter++;var a=t._colorMask;a!==0&&(t._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,a!==0&&(t._colorMask=a,i.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()},e.prototype.pop=function(t){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;s!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,s!==0&&(i._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e}(f_),af=function(){function r(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Te,this.transform=null}return r.prototype.update=function(e,t,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},r.prototype.calculateProjection=function(e,t,n,i){var s=this.projectionMatrix,a=i?-1:1;s.identity(),s.a=1/t.width*2,s.d=a*(1/t.height*2),s.tx=-1-t.x*s.a,s.ty=-a-t.y*s.d},r.prototype.setTransform=function(e){},r.prototype.destroy=function(){this.renderer=null},r}(),zn=new Dt,ps=new Dt,uf=function(){function r(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Dt,this.destinationFrame=new Dt,this.viewportFrame=new Dt}return r.prototype.bind=function(e,t,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var s,a,h;e?(s=e.baseTexture,h=s.resolution,t||(zn.width=e.frame.width,zn.height=e.frame.height,t=zn),n||(ps.x=e.frame.x,ps.y=e.frame.y,ps.width=t.width,ps.height=t.height,n=ps),a=s.framebuffer):(h=i.resolution,t||(zn.width=i.screen.width,zn.height=i.screen.height,t=zn),n||(n=zn,n.width=t.width,n.height=t.height));var l=this.viewportFrame;l.x=n.x*h,l.y=n.y*h,l.width=n.width*h,l.height=n.height*h,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(n,t,h,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},r.prototype.clear=function(e,t){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,s=n.width!==i.width||n.height!==i.height;if(s){var a=this.viewportFrame,h=a.x,l=a.y,f=a.width,d=a.height;h=Math.round(h),l=Math.round(l),f=Math.round(f),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,l,f,d)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),s&&this.renderer.scissor.pop()},r.prototype.resize=function(){this.bind(null)},r.prototype.reset=function(){this.bind(null)},r.prototype.destroy=function(){this.renderer=null},r}();function YA(r,e,t,n,i){t.buffer.update(i)}var jA={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},c_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function d_(r){for(var e=r.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),t=0,n=0,i=0,s=0;s<e.length;s++){var a=e[s];if(t=c_[a.data.type],a.data.size>1&&(t=Math.max(t,16)*a.data.size),a.dataLen=t,n%t!==0&&n<16){var h=n%t%16;n+=h,i+=h}n+t>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=t,n=t):(a.offset=i,n+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function p_(r,e){var t=[];for(var n in r)e[n]&&t.push(e[n]);return t.sort(function(i,s){return i.index-s.index}),t}function v_(r,e){if(!r.autoManage)return{size:0,syncFunc:YA};for(var t=p_(r.uniforms,e),n=d_(t),i=n.uboElements,s=n.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],h=0;h<i.length;h++){for(var l=i[h],f=r.uniforms[l.data.name],d=l.data.name,v=!1,p=0;p<ri.length;p++){var g=ri[p];if(g.codeUbo&&g.test(l.data,f)){a.push("offset = "+l.offset/4+";",ri[p].codeUbo(l.data.name,f)),v=!0;break}}if(!v)if(l.data.size>1){var m=a_(l.data.type),x=Math.max(c_[l.data.type]/16,1),y=m/x,E=(4-y%4)%4;a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*x+`; i++)
                {
                    for(var j = 0; j < `+y+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+E+`;
                }

                `)}else{var R=jA[l.data.type];a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;
                `+R+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var qA=function(){function r(){}return r}(),__=function(){function r(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return r.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},r}();function KA(r,e){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var s=e.getActiveAttrib(r,i);if(s.name.indexOf("gl_")!==0){var a=u_(e,s.type),h={type:a,name:s.name,size:a_(a),location:e.getAttribLocation(r,s.name)};t[s.name]=h}}return t}function ZA(r,e){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var s=e.getActiveUniform(r,i),a=s.name.replace(/\[.*?\]$/,""),h=!!s.name.match(/\[.*?\]$/),l=u_(e,s.type);t[a]={name:a,index:i,type:l,size:s.size,isArray:h,value:i_(l,s.size)}}return t}function g_(r,e){var t=Ip(r,r.VERTEX_SHADER,e.vertexSrc),n=Ip(r,r.FRAGMENT_SHADER,e.fragmentSrc),i=r.createProgram();if(r.attachShader(i,t),r.attachShader(i,n),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||IA(r,i,t,n),e.attributeData=KA(i,r),e.uniformData=ZA(i,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var s=Object.keys(e.attributeData);s.sort(function(d,v){return d>v?1:-1});for(var a=0;a<s.length;a++)e.attributeData[s[a]].location=a,r.bindAttribLocation(i,a,s[a]);r.linkProgram(i)}r.deleteShader(t),r.deleteShader(n);var h={};for(var a in e.uniformData){var l=e.uniformData[a];h[a]={location:r.getUniformLocation(i,a),value:i_(l.type,l.size)}}var f=new __(i,h);return f}var JA=0,Ko={textureCount:0,uboCount:0},hf=function(){function r(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=JA++}return r.prototype.systemCheck=function(){if(!UA())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},r.prototype.contextChange=function(e){this.gl=e,this.reset()},r.prototype.bind=function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),t||(Ko.textureCount=0,Ko.uboCount=0,this.syncUniformGroup(e.uniformGroup,Ko)),i},r.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},r.prototype.syncUniformGroup=function(e,t){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},r.prototype.syncUniforms=function(e,t,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(t.uniformData,e.uniforms,this.renderer,n)},r.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=BA(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},r.prototype.syncUniformBufferGroup=function(e,t){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Ko,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])},r.prototype.createSyncBufferGroup=function(e,t,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var s=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(e,this.shader.program.uniformData,"ubo"),h=this._uboCache[a];if(h||(h=this._uboCache[a]=v_(e,this.shader.program.uniformData)),e.autoManage){var l=new Float32Array(h.size/4);e.buffer.update(l)}return t.uniformGroups[e.id]=h.syncFunc,t.uniformGroups[e.id]},r.prototype.getSignature=function(e,t,n){var i=e.uniforms,s=[n+"-"];for(var a in i)s.push(a),t[a]&&s.push(t[a].type);return s.join("-")},r.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},r.prototype.generateProgram=function(e){var t=this.gl,n=e.program,i=g_(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},r.prototype.reset=function(){this.program=null,this.shader=null},r.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},r.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},r}();function QA(r,e){return e===void 0&&(e=[]),e[dt.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.ADD]=[r.ONE,r.ONE],e[dt.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.NONE]=[0,0],e[dt.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[dt.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[dt.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[dt.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[dt.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[dt.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[dt.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[dt.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[dt.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[dt.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}var $A=0,tP=1,eP=2,rP=3,nP=4,iP=5,lf=function(){function r(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=dt.NONE,this._blendEq=!1,this.map=[],this.map[$A]=this.setBlend,this.map[tP]=this.setOffset,this.map[eP]=this.setCullFace,this.map[rP]=this.setDepthTest,this.map[nP]=this.setFrontFace,this.map[iP]=this.setDepthMask,this.checks=[],this.defaultState=new Dn,this.defaultState.blend=!0}return r.prototype.contextChange=function(e){this.gl=e,this.blendModes=QA(e),this.set(this.defaultState),this.reset()},r.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)t&1&&this.map[n].call(this,!!(e.data&1<<n)),t=t>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},r.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},r.prototype.setBlend=function(e){this.updateCheck(r.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(e){this.updateCheck(r.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setDepthMask=function(e){this.gl.depthMask(e)},r.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},r.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;t.length===2?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},r.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&n===-1?this.checks.push(e):!t&&n!==-1&&this.checks.splice(n,1)},r.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},r.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},r.prototype.destroy=function(){this.gl=null},r}(),ff=function(){function r(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=et.GC_MAX_IDLE,this.checkCountMax=et.GC_MAX_CHECK_COUNT,this.mode=et.GC_MODE}return r.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Rs.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},r.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,i=0;i<t.length;i++){var s=t[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),t[i]=null,n=!0)}if(n){for(var a=0,i=0;i<t.length;i++)t[i]!==null&&(t[a++]=t[i]);t.length=a}},r.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},r.prototype.destroy=function(){this.renderer=null},r}();function sP(r){var e,t,n,i,s,a,h,l,f,d,v,p,g,m,x,y,E,R,S,O,P,D,A;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?A=(e={},e[pt.UNSIGNED_BYTE]=(t={},t[J.RGBA]=r.RGBA8,t[J.RGB]=r.RGB8,t[J.RG]=r.RG8,t[J.RED]=r.R8,t[J.RGBA_INTEGER]=r.RGBA8UI,t[J.RGB_INTEGER]=r.RGB8UI,t[J.RG_INTEGER]=r.RG8UI,t[J.RED_INTEGER]=r.R8UI,t[J.ALPHA]=r.ALPHA,t[J.LUMINANCE]=r.LUMINANCE,t[J.LUMINANCE_ALPHA]=r.LUMINANCE_ALPHA,t),e[pt.BYTE]=(n={},n[J.RGBA]=r.RGBA8_SNORM,n[J.RGB]=r.RGB8_SNORM,n[J.RG]=r.RG8_SNORM,n[J.RED]=r.R8_SNORM,n[J.RGBA_INTEGER]=r.RGBA8I,n[J.RGB_INTEGER]=r.RGB8I,n[J.RG_INTEGER]=r.RG8I,n[J.RED_INTEGER]=r.R8I,n),e[pt.UNSIGNED_SHORT]=(i={},i[J.RGBA_INTEGER]=r.RGBA16UI,i[J.RGB_INTEGER]=r.RGB16UI,i[J.RG_INTEGER]=r.RG16UI,i[J.RED_INTEGER]=r.R16UI,i[J.DEPTH_COMPONENT]=r.DEPTH_COMPONENT16,i),e[pt.SHORT]=(s={},s[J.RGBA_INTEGER]=r.RGBA16I,s[J.RGB_INTEGER]=r.RGB16I,s[J.RG_INTEGER]=r.RG16I,s[J.RED_INTEGER]=r.R16I,s),e[pt.UNSIGNED_INT]=(a={},a[J.RGBA_INTEGER]=r.RGBA32UI,a[J.RGB_INTEGER]=r.RGB32UI,a[J.RG_INTEGER]=r.RG32UI,a[J.RED_INTEGER]=r.R32UI,a[J.DEPTH_COMPONENT]=r.DEPTH_COMPONENT24,a),e[pt.INT]=(h={},h[J.RGBA_INTEGER]=r.RGBA32I,h[J.RGB_INTEGER]=r.RGB32I,h[J.RG_INTEGER]=r.RG32I,h[J.RED_INTEGER]=r.R32I,h),e[pt.FLOAT]=(l={},l[J.RGBA]=r.RGBA32F,l[J.RGB]=r.RGB32F,l[J.RG]=r.RG32F,l[J.RED]=r.R32F,l[J.DEPTH_COMPONENT]=r.DEPTH_COMPONENT32F,l),e[pt.HALF_FLOAT]=(f={},f[J.RGBA]=r.RGBA16F,f[J.RGB]=r.RGB16F,f[J.RG]=r.RG16F,f[J.RED]=r.R16F,f),e[pt.UNSIGNED_SHORT_5_6_5]=(d={},d[J.RGB]=r.RGB565,d),e[pt.UNSIGNED_SHORT_4_4_4_4]=(v={},v[J.RGBA]=r.RGBA4,v),e[pt.UNSIGNED_SHORT_5_5_5_1]=(p={},p[J.RGBA]=r.RGB5_A1,p),e[pt.UNSIGNED_INT_2_10_10_10_REV]=(g={},g[J.RGBA]=r.RGB10_A2,g[J.RGBA_INTEGER]=r.RGB10_A2UI,g),e[pt.UNSIGNED_INT_10F_11F_11F_REV]=(m={},m[J.RGB]=r.R11F_G11F_B10F,m),e[pt.UNSIGNED_INT_5_9_9_9_REV]=(x={},x[J.RGB]=r.RGB9_E5,x),e[pt.UNSIGNED_INT_24_8]=(y={},y[J.DEPTH_STENCIL]=r.DEPTH24_STENCIL8,y),e[pt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(E={},E[J.DEPTH_STENCIL]=r.DEPTH32F_STENCIL8,E),e):A=(R={},R[pt.UNSIGNED_BYTE]=(S={},S[J.RGBA]=r.RGBA,S[J.RGB]=r.RGB,S[J.ALPHA]=r.ALPHA,S[J.LUMINANCE]=r.LUMINANCE,S[J.LUMINANCE_ALPHA]=r.LUMINANCE_ALPHA,S),R[pt.UNSIGNED_SHORT_5_6_5]=(O={},O[J.RGB]=r.RGB,O),R[pt.UNSIGNED_SHORT_4_4_4_4]=(P={},P[J.RGBA]=r.RGBA,P),R[pt.UNSIGNED_SHORT_5_5_5_1]=(D={},D[J.RGBA]=r.RGBA,D),R),A}var la=function(){function r(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=pt.UNSIGNED_BYTE,this.internalFormat=J.RGBA,this.samplerType=0}return r}(),cf=function(){function r(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Mt,this.hasIntegerTextures=!1}return r.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=sP(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new la(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new la(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},r.prototype.bind=function(e,t){t===void 0&&(t=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null},r.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},r.prototype.unbind=function(e){var t=this,n=t.gl,i=t.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(var s=0;s<i.length;s++)i[s]===e&&(this.currentLocation!==s&&(n.activeTexture(n.TEXTURE0+s),this.currentLocation=s),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[s]=null)},r.prototype.ensureSamplerType=function(e){var t=this,n=t.boundTextures,i=t.hasIntegerTextures,s=t.CONTEXT_UID;if(i)for(var a=e-1;a>=0;--a){var h=n[a];if(h){var l=h._glTextures[s];l.samplerType!==Ps.FLOAT&&this.renderer.texture.unbind(h)}}},r.prototype.initTexture=function(e){var t=new la(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},r.prototype.initTextureType=function(e,t){var n,i;t.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===pt.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},r.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var n=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(n,e,t))t.samplerType!==Ps.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,s=e.realHeight,a=n.gl;(t.width!==i||t.height!==s||t.dirtyId<0)&&(t.width=i,t.height=s,a.texImage2D(e.target,0,t.internalFormat,i,s,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},r.prototype.destroyTexture=function(e,t){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var i=this.managedTextures.indexOf(e);i!==-1&&ei(this.managedTextures,i,1)}},r.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===gr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=Ir.CLAMP:t.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},r.prototype.setStyle=function(e,t){var n=this.gl;if(t.mipmap&&e.mipmap!==gr.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ue.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ue.LINEAR){var s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ue.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ue.LINEAR?n.LINEAR:n.NEAREST)},r.prototype.destroy=function(){this.renderer=null},r}(),m_={__proto__:null,FilterSystem:Ql,BatchSystem:$l,ContextSystem:tf,FramebufferSystem:ef,GeometrySystem:rf,MaskSystem:nf,ScissorSystem:sf,StencilSystem:of,ProjectionSystem:af,RenderTextureSystem:uf,ShaderSystem:hf,StateSystem:lf,TextureGCSystem:ff,TextureSystem:cf},bh=new Te,y_=function(r){oe(e,r);function e(t,n){t===void 0&&(t=Li.UNKNOWN);var i=r.call(this)||this;return n=Object.assign({},et.RENDER_OPTIONS,n),i.options=n,i.type=t,i.screen=new Dt(0,0,n.width,n.height),i.view=n.view||et.ADAPTER.createCanvas(),i.resolution=n.resolution||et.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(ke("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(t){for(var n in t)this.plugins[n]=new t[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,n){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=s+"px"),this.emit("resize",i,s)},e.prototype.generateTexture=function(t,n,i,s){n===void 0&&(n={}),typeof n=="number"&&(ke("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:s});var a=n.region,h=bA(n,["region"]);s=a||t.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var l=On.create(tl({width:s.width,height:s.height},h));return bh.tx=-s.x,bh.ty=-s.y,this.render(t,{renderTexture:l,clear:!1,transform:bh,skipUpdateTransform:!!t.parent}),l},e.prototype.destroy=function(t){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Li.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Ll(t),ii(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(zi),oP=function(){function r(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return r}(),aP=function(){function r(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return r.prototype.destroy=function(){this.renderer=null},r.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},r.prototype.bind=function(e){var t=this,n=t.gl,i=t.CONTEXT_UID,s=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,s.buffer)},r.prototype.bindBufferBase=function(e,t){var n=this,i=n.gl,s=n.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,i.bindBufferBase(i.UNIFORM_BUFFER,t,a.buffer)}},r.prototype.bindBufferRange=function(e,t,n){var i=this,s=i.gl,a=i.CONTEXT_UID;n=n||0;var h=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,h.buffer,n*256,256)},r.prototype.update=function(e){var t=this,n=t.gl,i=t.CONTEXT_UID,s=e._glBuffers[i];if(e._updateID!==s.updateID)if(s.updateID=e._updateID,n.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var a=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,a)}},r.prototype.dispose=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(t||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},r.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)},r.prototype.createGLBuffer=function(e){var t=this,n=t.CONTEXT_UID,i=t.gl;return e._glBuffers[n]=new oP(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},r}(),df=function(r){oe(e,r);function e(t){var n=r.call(this,Li.WEBGL,t)||this;return t=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Re("destroy"),contextChange:new Re("contextChange"),reset:new Re("reset"),update:new Re("update"),postrender:new Re("postrender"),prerender:new Re("prerender"),resize:new Re("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Cn({projectionMatrix:new Te},!0),n.addSystem(nf,"mask").addSystem(tf,"context").addSystem(lf,"state").addSystem(hf,"shader").addSystem(cf,"texture").addSystem(aP,"buffer").addSystem(rf,"geometry").addSystem(ef,"framebuffer").addSystem(sf,"scissor").addSystem(of,"stencil").addSystem(af,"projection").addSystem(ff,"textureGC").addSystem(Ql,"filter").addSystem(uf,"renderTexture").addSystem($l,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,t.context?n.context.initFromContext(t.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:t.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Uv(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(t){if(Gv())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var t=this.gl,n;if(this.context.webGLVersion===1){var i=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),n=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,i)}else{var i=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),n=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i)}n>=ie.HIGH?this.multisample=ie.HIGH:n>=ie.MEDIUM?this.multisample=ie.MEDIUM:n>=ie.LOW?this.multisample=ie.LOW:this.multisample=ie.NONE},e.prototype.addSystem=function(t,n){var i=new t(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var s in this.runners)this.runners[s].add(i);return this},e.prototype.render=function(t,n){var i,s,a,h;if(n&&(n instanceof On?(ke("6.0.0","Renderer#render arguments changed, use options instead."),i=n,s=arguments[2],a=arguments[3],h=arguments[4]):(i=n.renderTexture,s=n.clear,a=n.transform,h=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=t),!h){var l=t.enableTempParent();t.updateTransform(),t.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(s!==void 0?s:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(t,n,i,s){n===void 0&&(n={});var a=r.prototype.generateTexture.call(this,t,n,i,s);return this.framebuffer.blit(),a},e.prototype.resize=function(t,n){r.prototype.resize.call(this,t,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(t){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();r.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return ke("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,n){ke("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Kr.add({name:t,type:$t.RendererPlugin,ref:n})},e.__plugins={},e}(y_);Kr.handleByMap($t.RendererPlugin,df.__plugins);function pf(r){return df.create(r)}var uP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,b_=uP,vf=hP,lP=function(){function r(e){ke("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return r.prototype.destroy=function(){this.renderer=null},r}(),_a=function(){function r(){this.texArray=null,this.blend=0,this.type=vr.TRIANGLES,this.start=0,this.size=0,this.data=null}return r}(),ga=function(){function r(){this.elements=[],this.ids=[],this.count=0}return r.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},r}(),ma=function(){function r(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(r.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),r.prototype.view=function(e){return this[e+"View"]},r.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},r.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},r}(),x_=function(r){oe(e,r);function e(t){var n=r.call(this,t)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Dn.for2d(),n.size=et.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),t.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var t=this.renderer.gl;et.PREFER_ENV===Wr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),et.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=h_(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new _a);for(;n.length<s;)n.push(new ga);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this,n=t._bufferedTextures,i=t.MAX_TEXTURES,s=e._textureArrayPool,a=this.renderer.batch,h=this._tempBoundTextures,l=this.renderer.textureGC.count,f=++Mt._globalBatch,d=0,v=s[0],p=0;a.copyBoundTextures(h,i);for(var g=0;g<this._bufferSize;++g){var m=n[g];n[g]=null,m._batchEnabled!==f&&(v.count>=i&&(a.boundArray(v,h,f,i),this.buildDrawCalls(v,p,g),p=g,v=s[++d],++f),m._batchEnabled=f,m.touched=l,v.elements[v.count++]=m)}v.count>0&&(a.boundArray(v,h,f,i),this.buildDrawCalls(v,p,this._bufferSize),++d,++f);for(var g=0;g<h.length;g++)h[g]=null;Mt._globalBatch=f},e.prototype.buildDrawCalls=function(t,n,i){var s=this,a=s._bufferedElements,h=s._attributeBuffer,l=s._indexBuffer,f=s.vertexSize,d=e._drawCallPool,v=this._dcIndex,p=this._aIndex,g=this._iIndex,m=d[v];m.start=this._iIndex,m.texArray=t;for(var x=n;x<i;++x){var y=a[x],E=y._texture.baseTexture,R=Nl[E.alphaMode?1:0][y.blendMode];a[x]=null,n<x&&m.blend!==R&&(m.size=g-m.start,n=x,m=d[++v],m.texArray=t,m.start=g),this.packInterleavedGeometry(y,h,l,p,g),p+=y.vertexData.length/2*f,g+=y.indices.length,m.blend=R}n<i&&(m.size=g-m.start,++v),this._dcIndex=v,this._aIndex=p,this._iIndex=g},e.prototype.bindAndClearTexArray=function(t){for(var n=this.renderer.texture,i=0;i<t.count;i++)n.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,n=t._packedGeometries,i=t._attributeBuffer,s=t._indexBuffer;et.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,n=this.renderer,i=n.gl,s=n.state,a=e._drawCallPool,h=null,l=0;l<t;l++){var f=a[l],d=f.texArray,v=f.type,p=f.size,g=f.start,m=f.blend;h!==d&&(h=d,this.bindAndClearTexArray(d)),this.state.blendMode=m,s.set(this.state),i.drawElements(v,p,i.UNSIGNED_SHORT,g*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),et.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),r.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var n=Ds(Math.ceil(t/8)),i=qh(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new ma(s*this.vertexSize*4)),a},e.prototype.getIndexBuffer=function(t){var n=Ds(Math.ceil(t/12)),i=qh(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(s)),a},e.prototype.packInterleavedGeometry=function(t,n,i,s,a){for(var h=n.uint32View,l=n.float32View,f=s/this.vertexSize,d=t.uvs,v=t.indices,p=t.vertexData,g=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),x=m<1&&t._texture.baseTexture.alphaMode?Pa(t._tintRGB,m):t._tintRGB+(m*255<<24),y=0;y<p.length;y+=2)l[s++]=p[y],l[s++]=p[y+1],l[s++]=d[y],l[s++]=d[y+1],h[s++]=x,l[s++]=g;for(var y=0;y<v.length;y++)i[a++]=f+v[y]},e._drawCallPool=[],e._textureArrayPool=[],e}(Vs),T_=function(){function r(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return r.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=Cn.from({uSamplers:t},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Yi(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Te,default:this.defaultGroupCache[e]};return new cn(this.programCache[e],s)},r.prototype.generateSampleSrc=function(e){var t="";t+=`
`,t+=`
`;for(var n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+="if(vTextureId < "+n+".5)"),t+=`
{`,t+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",t+=`
}`;return t+=`
`,t+=`
`,t},r}(),_f=function(r){oe(e,r);function e(t){t===void 0&&(t=!1);var n=r.call(this)||this;return n._buffer=new xe(null,t,!1),n._indexBuffer=new xe(null,t,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,pt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,pt.FLOAT).addAttribute("aColor",n._buffer,4,!0,pt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,pt.FLOAT).addIndex(n._indexBuffer),n}return e}(Vi),Np=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Up=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,E_=function(){function r(){}return r.create=function(e){var t=Object.assign({vertex:Np,fragment:Up,geometryClass:_f,vertexSize:6},e),n=t.vertex,i=t.fragment,s=t.vertexSize,a=t.geometryClass;return function(h){oe(l,h);function l(f){var d=h.call(this,f)||this;return d.shaderGenerator=new T_(n,i),d.geometryClass=a,d.vertexSize=s,d}return l}(x_)},Object.defineProperty(r,"defaultVertexSrc",{get:function(){return Np},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentTemplate",{get:function(){return Up},enumerable:!1,configurable:!0}),r}(),gf=E_.create();Object.assign(gf,{extension:{name:"batch",type:$t.RendererPlugin}});var w_={},fP=function(r){Object.defineProperty(w_,r,{get:function(){return ke("6.0.0","PIXI.systems."+r+" has moved to PIXI."+r),Qv[r]}})};for(var mf in Qv)fP(mf);var S_={},cP=function(r){Object.defineProperty(S_,r,{get:function(){return ke("6.0.0","PIXI.resources."+r+" has moved to PIXI."+r),m_[r]}})};for(var mf in m_)cP(mf);var dP="6.5.9";/*!
 * @pixi/accessibility - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var A_={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ge.mixin(A_);var pP=9,Zo=100,vP=0,_P=0,Gp=2,kp=1,gP=-1e3,mP=-1e3,yP=2,P_=function(){function r(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_r.tablet||_r.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=Zo+"px",t.style.height=Zo+"px",t.style.position="absolute",t.style.top=vP+"px",t.style.left=_P+"px",t.style.zIndex=Gp.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(r.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),r.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=kp+"px",t.style.height=kp+"px",t.style.position="absolute",t.style.top=gP+"px",t.style.left=mP+"px",t.style.zIndex=yP.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},r.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},r.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},r.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},r.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},r.prototype.update=function(){var e=performance.now();if(!(_r.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.left,i=t.top,s=t.width,a=t.height,h=this.renderer,l=h.width,f=h.height,d=h.resolution,v=s/l*d,p=a/f*d,g=this.div;g.style.left=n+"px",g.style.top=i+"px",g.style.width=l+"px",g.style.height=f+"px";for(var m=0;m<this.children.length;m++){var x=this.children[m];if(x.renderId!==this.renderId)x._accessibleActive=!1,ei(this.children,m,1),this.div.removeChild(x._accessibleDiv),this.pool.push(x._accessibleDiv),x._accessibleDiv=null,m--;else{g=x._accessibleDiv;var y=x.hitArea,E=x.worldTransform;x.hitArea?(g.style.left=(E.tx+y.x*E.a)*v+"px",g.style.top=(E.ty+y.y*E.d)*p+"px",g.style.width=y.width*E.a*v+"px",g.style.height=y.height*E.d*p+"px"):(y=x.getBounds(),this.capHitArea(y),g.style.left=y.x*v+"px",g.style.top=y.y*p+"px",g.style.width=y.width*v+"px",g.style.height=y.height*p+"px",g.title!==x.accessibleTitle&&x.accessibleTitle!==null&&(g.title=x.accessibleTitle),g.getAttribute("aria-label")!==x.accessibleHint&&x.accessibleHint!==null&&g.setAttribute("aria-label",x.accessibleHint)),(x.accessibleTitle!==g.title||x.tabIndex!==g.tabIndex)&&(g.title=x.accessibleTitle,g.tabIndex=x.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}},r.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},r.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,i=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},r.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=Zo+"px",t.style.height=Zo+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=Gp.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},r.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,n=e.target.displayObject,i=t.eventData;t.dispatchEvent(n,"click",i),t.dispatchEvent(n,"pointertap",i),t.dispatchEvent(n,"tap",i)},r.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction,n=e.target.displayObject,i=t.eventData;t.dispatchEvent(n,"mouseover",i)},r.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction,n=e.target.displayObject,i=t.eventData;t.dispatchEvent(n,"mouseout",i)},r.prototype._onKeyDown=function(e){e.keyCode===pP&&this.activate()},r.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},r.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},r.extension={name:"accessibility",type:[$t.RendererPlugin,$t.CanvasRendererPlugin]},r}();/*!
 * @pixi/interaction - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rl=function(){function r(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new qt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(r.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),r.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},r.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},r.prototype.reset=function(){this.isPrimary=!1},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nl=function(r,e){return nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},nl(r,e)};function bP(r,e){nl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var R_=function(){function r(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return r.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},r.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},r}(),fa=function(){function r(e){this._pointerId=e,this._flags=r.FLAGS.NONE}return r.prototype._doSet=function(e,t){t?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(r.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"none",{get:function(){return this._flags===r.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"over",{get:function(){return(this._flags&r.FLAGS.OVER)!==0},set:function(e){this._doSet(r.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightDown",{get:function(){return(this._flags&r.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(r.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftDown",{get:function(){return(this._flags&r.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(r.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),r.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),r}(),xP=function(){function r(){this._tempPoint=new qt}return r.prototype.recursiveFindHit=function(e,t,n,i,s){var a;if(!t||!t.visible)return!1;var h=e.data.global;s=t.interactive||s;var l=!1,f=s,d=!0;if(t.hitArea)i&&(t.worldTransform.applyInverse(h,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(i=!1,d=!1)),f=!1;else if(t._mask&&i){var v=t._mask.isMaskData?t._mask.maskObject:t._mask;v&&!(!((a=v.containsPoint)===null||a===void 0)&&a.call(v,h))&&(i=!1)}if(d&&t.interactiveChildren&&t.children)for(var p=t.children,g=p.length-1;g>=0;g--){var m=p[g],x=this.recursiveFindHit(e,m,n,i,f);if(x){if(!m.parent)continue;f=!1,x&&(e.target&&(i=!1),l=!0)}}return s&&(i&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(h)&&(l=!0),t.interactive&&(l&&!e.target&&(e.target=t),n&&n(e,t,!!l))),l},r.prototype.findHit=function(e,t,n,i){this.recursiveFindHit(e,t,n,i,!1)},r}(),C_={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(r){r?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ge.mixin(C_);var Jo=1,Qo={target:null,data:{global:null}},I_=function(r){bP(e,r);function e(t,n){var i=r.call(this)||this;return n=n||{},i.renderer=t,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new rl,i.mouse.identifier=Jo,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Jo]=i.mouse,i.interactionDataPool=[],i.eventData=new R_,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new xP,i._tempDisplayObject=new Xl,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,n){return Qo.target=null,Qo.data.global=t,n||(n=this.lastObjectRendered),this.processInteractive(Qo,n,null,!0),Qo.target},e.prototype.setTargetElement=function(t,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Se.system.add(this.tickerUpdate,this,Dr.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Se.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var t in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var n=this.activeInteractionData[t];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var i=this.cursorStyles[t];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(t);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,n,i){(!i.stopPropagationHint||t===i.stopsPropagatingAt)&&(i.currentTarget=t,i.type=n,t.emit(n,i),t[n]&&t[n](i))},e.prototype.delayDispatchEvent=function(t,n,i){this.delayedEvents.push({displayObject:t,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(t,n,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;t.x=(n-s.left)*(this.interactionDOMElement.width/s.width)*a,t.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*a},e.prototype.processInteractive=function(t,n,i,s){var a=this.search.findHit(t,n,i,s),h=this.delayedEvents;if(!h.length)return a;t.stopPropagationHint=!1;var l=h.length;this.delayedEvents=[];for(var f=0;f<l;f++){var d=h[f],v=d.displayObject,p=d.eventString,g=d.eventData;g.stopsPropagatingAt===v&&(g.stopPropagationHint=!0),this.dispatchEvent(v,p,g)}return a},e.prototype.onPointerDown=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var n=this.normalizeToPointerData(t);if(this.autoPreventDefault&&n[0].isNormalized){var i=t.cancelable||!("cancelable"in t);i&&t.preventDefault()}for(var s=n.length,a=0;a<s;a++){var h=n[a],l=this.getInteractionDataForPointerId(h),f=this.configureInteractionEventForDOMEvent(this.eventData,h,l);if(f.data.originalEvent=t,this.processInteractive(f,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",f),h.pointerType==="touch")this.emit("touchstart",f);else if(h.pointerType==="mouse"||h.pointerType==="pen"){var d=h.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,n,i){var s=t.data,a=t.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new fa(a)),this.dispatchEvent(n,"pointerdown",t),s.pointerType==="touch")this.dispatchEvent(n,"touchstart",t);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var h=s.button===2;h?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,h?"rightdown":"mousedown",t)}}},e.prototype.onPointerComplete=function(t,n,i){var s=this.normalizeToPointerData(t),a=s.length,h=t.target;t.composedPath&&t.composedPath().length>0&&(h=t.composedPath()[0]);for(var l=h!==this.interactionDOMElement?"outside":"",f=0;f<a;f++){var d=s[f],v=this.getInteractionDataForPointerId(d),p=this.configureInteractionEventForDOMEvent(this.eventData,d,v);if(p.data.originalEvent=t,this.processInteractive(p,this.lastObjectRendered,i,n||!l),this.emit(n?"pointercancel":"pointerup"+l,p),d.pointerType==="mouse"||d.pointerType==="pen"){var g=d.button===2;this.emit(g?"rightup"+l:"mouseup"+l,p)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+l,p),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&t.pointerType==="touch"||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,n){var i=t.data,s=t.data.identifier;n.trackedPointers[s]!==void 0&&(delete n.trackedPointers[s],this.dispatchEvent(n,"pointercancel",t),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&t.pointerType==="touch"||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,n,i){var s=t.data,a=t.data.identifier,h=n.trackedPointers[a],l=s.pointerType==="touch",f=s.pointerType==="mouse"||s.pointerType==="pen",d=!1;if(f){var v=s.button===2,p=fa.FLAGS,g=v?p.RIGHT_DOWN:p.LEFT_DOWN,m=h!==void 0&&h.flags&g;i?(this.dispatchEvent(n,v?"rightup":"mouseup",t),m&&(this.dispatchEvent(n,v?"rightclick":"click",t),d=!0)):m&&this.dispatchEvent(n,v?"rightupoutside":"mouseupoutside",t),h&&(v?h.rightDown=!1:h.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",t),l&&this.dispatchEvent(n,"touchend",t),h&&((!f||d)&&this.dispatchEvent(n,"pointertap",t),l&&(this.dispatchEvent(n,"tap",t),h.over=!1))):h&&(this.dispatchEvent(n,"pointerupoutside",t),l&&this.dispatchEvent(n,"touchendoutside",t)),h&&h.none&&delete n.trackedPointers[a]},e.prototype.onPointerMove=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var n=this.normalizeToPointerData(t);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,s=0;s<i;s++){var a=n[s],h=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,h);l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),a.pointerType==="touch"&&this.emit("touchmove",l),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",l)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,n,i){var s=t.data,a=s.pointerType==="touch",h=s.pointerType==="mouse"||s.pointerType==="pen";h&&this.processPointerOverOut(t,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",t),a&&this.dispatchEvent(n,"touchmove",t),h&&this.dispatchEvent(n,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var n=this.normalizeToPointerData(t),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,s);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(t,n,i){var s=t.data,a=t.data.identifier,h=s.pointerType==="mouse"||s.pointerType==="pen",l=n.trackedPointers[a];i&&!l&&(l=n.trackedPointers[a]=new fa(a)),l!==void 0&&(i&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(n,"pointerover",t),h&&this.delayDispatchEvent(n,"mouseover",t)),h&&this.cursor===null&&(this.cursor=n.cursor)):l.over&&(l.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),h&&this.dispatchEvent(n,"mouseout",t),l.none&&delete n.trackedPointers[a]))},e.prototype.onPointerOver=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var n=this.normalizeToPointerData(t),i=n[0],s=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,s);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)}},e.prototype.getInteractionDataForPointerId=function(t){var n=t.pointerId,i;return n===Jo||t.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new rl,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(t),i},e.prototype.releaseInteractionDataForPointerId=function(t){var n=this.activeInteractionData[t];n&&(delete this.activeInteractionData[t],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(t,n,i){return t.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var n=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,s=t.changedTouches.length;i<s;i++){var a=t.changedTouches[i];typeof a.button>"u"&&(a.button=t.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=t.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){var h=t;typeof h.isPrimary>"u"&&(h.isPrimary=!0),typeof h.width>"u"&&(h.width=1),typeof h.height>"u"&&(h.height=1),typeof h.tiltX>"u"&&(h.tiltX=0),typeof h.tiltY>"u"&&(h.tiltY=0),typeof h.pointerType>"u"&&(h.pointerType="mouse"),typeof h.pointerId>"u"&&(h.pointerId=Jo),typeof h.pressure>"u"&&(h.pressure=.5),typeof h.twist>"u"&&(h.twist=0),typeof h.tangentialPressure>"u"&&(h.tangentialPressure=0),h.isNormalized=!0,n.push(h)}else n.push(t);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[$t.RendererPlugin,$t.CanvasRendererPlugin]},e}(zi);/*!
 * @pixi/extract - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TP=new Dt,EP=4,yf=function(){function r(e){this.renderer=e}return r.prototype.image=function(e,t,n){var i=new Image;return i.src=this.base64(e,t,n),i},r.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},r.prototype.canvas=function(e,t){var n=this._rawPixels(e,t),i=n.pixels,s=n.width,a=n.height,h=n.flipY,l=new Zh(s,a,1),f=l.context.getImageData(0,0,s,a);if(r.arrayPostDivide(i,f.data),l.context.putImageData(f,0,0),h){var d=new Zh(l.width,l.height,1);d.context.scale(1,-1),d.context.drawImage(l.canvas,0,-a),l.destroy(),l=d}return l.canvas},r.prototype.pixels=function(e,t){var n=this._rawPixels(e,t).pixels;return r.arrayPostDivide(n,n),n},r.prototype._rawPixels=function(e,t){var n=this.renderer,i,s=!1,a,h=!1;if(e)if(e instanceof On)a=e;else{var l=n.context.webGLVersion>=2?n.multisample:ie.NONE;if(a=this.renderer.generateTexture(e,{multisample:l}),l!==ie.NONE){var f=On.create({width:a.width,height:a.height});n.framebuffer.bind(a.framebuffer),n.framebuffer.blit(f.framebuffer),n.framebuffer.bind(null),a.destroy(!0),a=f}h=!0}a?(i=a.baseTexture.resolution,t=t??a.frame,s=!1,n.renderTexture.bind(a)):(i=n.resolution,t||(t=TP,t.width=n.width,t.height=n.height),s=!0,n.renderTexture.bind(null));var d=Math.round(t.width*i),v=Math.round(t.height*i),p=new Uint8Array(EP*d*v),g=n.gl;return g.readPixels(Math.round(t.x*i),Math.round(t.y*i),d,v,g.RGBA,g.UNSIGNED_BYTE,p),h&&a.destroy(!0),{pixels:p,width:d,height:v,flipY:s}},r.prototype.destroy=function(){this.renderer=null},r.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var i=t[n+3]=e[n+3];i!==0?(t[n]=Math.round(Math.min(e[n]*255/i,255)),t[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),t[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}},r.extension={name:"extract",type:$t.RendererPlugin},r}();/*!
 * @pixi/loaders - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $o=function(){function r(e,t,n){t===void 0&&(t=!1),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}return r.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},r}();function Hp(r,e){return r._head?(r._tail._next=e,e._prev=r._tail,r._tail=e):(r._head=e,r._tail=e),e._owner=r,e}var hn=function(){function r(){this._head=this._tail=void 0}return r.prototype.handlers=function(e){e===void 0&&(e=!1);var t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n},r.prototype.has=function(e){if(!(e instanceof $o))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},r.prototype.dispatch=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,t),i=i._next;return!0},r.prototype.add=function(e,t){if(t===void 0&&(t=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Hp(this,new $o(e,!1,t))},r.prototype.once=function(e,t){if(t===void 0&&(t=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Hp(this,new $o(e,!0,t))},r.prototype.detach=function(e){if(!(e instanceof $o))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},r.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},r}();function O_(r,e){e=e||{};for(var t={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[e.strictMode?"strict":"loose"].exec(r),i={},s=14;s--;)i[t.key[s]]=n[s]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(a,h,l){h&&(i[t.q.name][h]=l)}),i}var xh,ta=null,wP=0,Xp=200,SP=204,AP=1223,PP=2;function Wp(){}function zp(r,e,t){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(r[e]=t)}function Th(r){return r.toString().replace("object ","")}var pe=function(){function r(e,t,n){if(this._dequeue=Wp,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof t!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(r.STATUS_FLAGS.DATA_URL,t.indexOf("data:")===0),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=r.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Wp,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new hn,this.onProgress=new hn,this.onComplete=new hn,this.onAfterMiddleware=new hn}return r.setExtensionLoadType=function(e,t){zp(r._loadTypeMap,e,t)},r.setExtensionXhrType=function(e,t){zp(r._xhrTypeMap,e,t)},Object.defineProperty(r.prototype,"isDataUrl",{get:function(){return this._hasFlag(r.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isComplete",{get:function(){return this._hasFlag(r.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isLoading",{get:function(){return this._hasFlag(r.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),r.prototype.complete=function(){this._clearEvents(),this._finish()},r.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=r.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},r.prototype.load=function(e){var t=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(t)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(r.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this.type=r.TYPE.IMAGE,this._loadElement("image");break;case r.LOAD_TYPE.AUDIO:this.type=r.TYPE.AUDIO,this._loadSourceElement("audio");break;case r.LOAD_TYPE.VIDEO:this.type=r.TYPE.VIDEO,this._loadSourceElement("video");break;case r.LOAD_TYPE.XHR:default:typeof xh>"u"&&(xh=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),xh&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},r.prototype._hasFlag=function(e){return(this._flags&e)!==0},r.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},r.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},r.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(r.STATUS_FLAGS.COMPLETE,!0),this._setFlag(r.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},r.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var t=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=r.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},r.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},r.prototype._createSource=function(e,t,n){n||(n=e+"/"+this._getExtension(t));var i=document.createElement("source");return i.src=t,i.type=n,i},r.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},r.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},r.prototype._onTimeout=function(){this.abort("Load timed out.")},r.prototype._xhrOnError=function(){var e=this.xhr;this.abort(Th(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},r.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(Th(e)+" Request timed out.")},r.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(Th(e)+" Request was aborted by the user.")},r.prototype._xhrOnLoad=function(){var e=this.xhr,t="",n=typeof e.status>"u"?Xp:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(t=e.responseText),n===wP&&(t.length>0||e.responseType===r.XHR_RESPONSE_TYPE.BUFFER)?n=Xp:n===AP&&(n=SP);var i=n/100|0;if(i===PP)if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=t,this.type=r.TYPE.TEXT;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t),this.type=r.TYPE.JSON}catch(h){this.abort("Error trying to parse loaded json: "+h);return}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var s=new DOMParser;this.data=s.parseFromString(t,"text/xml")}else{var a=document.createElement("div");a.innerHTML=t,this.data=a}this.type=r.TYPE.XML}catch(h){this.abort("Error trying to parse loaded xml: "+h);return}else this.data=e.response||t;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},r.prototype._determineCrossOrigin=function(e,t){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";t=t||globalThis.location,ta||(ta=document.createElement("a")),ta.href=e;var n=O_(ta.href,{strictMode:!0}),i=!n.port&&t.port===""||n.port===t.port,s=n.protocol?n.protocol+":":"";return n.host!==t.hostname||!i||s!==t.protocol?"anonymous":""},r.prototype._determineXhrType=function(){return r._xhrTypeMap[this.extension]||r.XHR_RESPONSE_TYPE.TEXT},r.prototype._determineLoadType=function(){return r._loadTypeMap[this.extension]||r.LOAD_TYPE.XHR},r.prototype._getExtension=function(e){e===void 0&&(e=this.url);var t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),s=e.indexOf("#"),a=Math.min(i>-1?i:e.length,s>-1?s:e.length);e=e.substring(0,a),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},r.prototype._getMimeFromXhrType=function(e){switch(e){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r}();(function(r){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(r.STATUS_FLAGS||(r.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(r.TYPE||(r.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(r.LOAD_TYPE||(r.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(r.XHR_RESPONSE_TYPE||(r.XHR_RESPONSE_TYPE={})),r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,avif:r.LOAD_TYPE.IMAGE,svg:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE,mp3:r.LOAD_TYPE.AUDIO,ogg:r.LOAD_TYPE.AUDIO,wav:r.LOAD_TYPE.AUDIO,mp4:r.LOAD_TYPE.VIDEO,webm:r.LOAD_TYPE.VIDEO},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,avif:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT,ttf:r.XHR_RESPONSE_TYPE.BUFFER,otf:r.XHR_RESPONSE_TYPE.BUFFER},r.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(pe||(pe={}));function Vn(){}function RP(r){return function(){for(var t=arguments,n=[],i=0;i<arguments.length;i++)n[i]=t[i];if(r===null)throw new Error("Callback was already called.");var s=r;r=null,s.apply(this,n)}}var CP=function(){function r(e,t){this.data=e,this.callback=t}return r}(),Eh=function(){function r(e,t){var n=this;if(t===void 0&&(t=1),this.workers=0,this.saturated=Vn,this.unsaturated=Vn,this.empty=Vn,this.drain=Vn,this.error=Vn,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,s,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var h=new CP(i,typeof a=="function"?a:Vn);s?n._tasks.unshift(h):n._tasks.push(h),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,RP(n._next(i)))}},this._worker=e,t===0)throw new Error("Concurrency must not be zero");this.concurrency=t,this.buffer=t/4}return r.prototype._next=function(e){var t=this;return function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++)i[s]=n[s];t.workers-=1,e.callback.apply(e,i),i[0]!=null&&t.error(i[0],e.data),t.workers<=t.concurrency-t.buffer&&t.unsaturated(),t.idle()&&t.drain(),t.process()}},r.prototype.push=function(e,t){this._insert(e,!1,t)},r.prototype.kill=function(){this.workers=0,this.drain=Vn,this.started=!1,this._tasks=[]},r.prototype.unshift=function(e,t){this._insert(e,!0,t)},r.prototype.length=function(){return this._tasks.length},r.prototype.running=function(){return this.workers},r.prototype.idle=function(){return this._tasks.length+this.workers===0},r.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},r.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},r.eachSeries=function(e,t,n,i){var s=0,a=e.length;function h(l){if(l||s===a){n&&n(l);return}i?setTimeout(function(){t(e[s++],h)},1):t(e[s++],h)}h()},r.queue=function(e,t){return new r(e,t)},r}(),wh=100,IP=/(#[\w-]+)?$/,Ui=function(){function r(e,t){var n=this;e===void 0&&(e=""),t===void 0&&(t=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,f){return n._loadResource(l,f)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,f){return n._loadResource(l,f)},this._queue=Eh.queue(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new hn,this.onError=new hn,this.onLoad=new hn,this.onStart=new hn,this.onComplete=new hn;for(var i=0;i<r._plugins.length;++i){var s=r._plugins[i],a=s.pre,h=s.use;a&&this.pre(a),h&&this.use(h)}this._protected=!1}return r.prototype._add=function(e,t,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new pe(e,t,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var s=n.parentResource,a=[],h=0;h<s.children.length;++h)s.children[h].isComplete||a.push(s.children[h]);var l=s.progressChunk*(a.length+1),f=l/(a.length+2);s.children.push(this.resources[e]),s.progressChunk=f;for(var h=0;h<a.length;++h)a[h].progressChunk=f;this.resources[e].progressChunk=f}return this._queue.push(this.resources[e]),this},r.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},r.prototype.use=function(e){return this._afterMiddleware.push(e),this},r.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},r.prototype.load=function(e){if(ke("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,n=wh/t,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(r.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),r.prototype._prepareUrl=function(e){var t=O_(e,{strictMode:!0}),n;if(t.protocol||!t.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=IP.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},r.prototype._loadResource=function(e,t){var n=this;e._dequeue=t,Eh.eachSeries(this._beforeMiddleware,function(i,s){i.call(n,e,function(){s(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},r.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r.prototype._onComplete=function(){this.progress=wh,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Eh.eachSeries(this._afterMiddleware,function(n,i){n.call(t,e,i)},function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(wh,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&t._resourcesParsing.length===0&&t._onComplete()},!0)},r.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(r,"shared",{get:function(){var e=r._shared;return e||(e=new r,e._protected=!0,r._shared=e),e},enumerable:!1,configurable:!0}),r.registerPlugin=function(e){return ke("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),Kr.add({type:$t.Loader,ref:e}),r},r._plugins=[],r}();Kr.handleByList($t.Loader,Ui._plugins);Ui.prototype.add=function(e,t,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if(typeof e=="object"&&(n=e,i=t||n.callback||n.onComplete,t=n.url,e=n.name||n.key||n.url),typeof t!="string"&&(i=n,n=t,t=e),typeof t!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,t,n,i)};var M_=function(){function r(){}return r.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Ui.shared:new Ui},r.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},r.extension=$t.Application,r}(),D_=function(){function r(){}return r.add=function(){pe.setExtensionLoadType("svg",pe.LOAD_TYPE.XHR),pe.setExtensionXhrType("svg",pe.XHR_RESPONSE_TYPE.TEXT)},r.use=function(e,t){if(e.data&&(e.type===pe.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,s=e.name,a=e.metadata;vt.fromLoader(n,i,s,a).then(function(h){e.texture=h,t()}).catch(t)}else t()},r.extension=$t.Loader,r}(),OP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function MP(r){for(var e="",t=0;t<r.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)t<r.length?n[s]=r.charCodeAt(t++)&255:n[s]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=t-(r.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)e+=OP.charAt(i[s])}return e}function DP(r,e){if(!r.data){e();return}if(r.xhr&&r.xhrType===pe.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof r.data=="string"){var t=r.xhr.getResponseHeader("content-type");if(t&&t.indexOf("image")===0){r.data=new Image,r.data.src="data:"+t+";base64,"+MP(r.xhr.responseText),r.type=pe.TYPE.IMAGE,r.data.onload=function(){r.data.onload=null,e()};return}}else if(r.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(r.data);r.blob=r.data,r.data=new Image,r.data.src=i,r.type=pe.TYPE.IMAGE,r.data.onload=function(){n.revokeObjectURL(i),r.data.onload=null,e()};return}}e()}var FP=function(){function r(){}return r.extension=$t.Loader,r.use=DP,r}();Kr.add(D_,FP);/*!
 * @pixi/compressed-textures - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Qt,At;(function(r){r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(At||(At={}));var Us=(Qt={},Qt[At.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Qt[At.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Qt[At.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Qt[At.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Qt[At.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Qt[At.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Qt[At.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Qt[At.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Qt[At.COMPRESSED_R11_EAC]=.5,Qt[At.COMPRESSED_SIGNED_R11_EAC]=.5,Qt[At.COMPRESSED_RG11_EAC]=1,Qt[At.COMPRESSED_SIGNED_RG11_EAC]=1,Qt[At.COMPRESSED_RGB8_ETC2]=.5,Qt[At.COMPRESSED_RGBA8_ETC2_EAC]=1,Qt[At.COMPRESSED_SRGB8_ETC2]=.5,Qt[At.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Qt[At.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Qt[At.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Qt[At.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Qt[At.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Qt[At.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Qt[At.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Qt[At.COMPRESSED_RGB_ETC1_WEBGL]=.5,Qt[At.COMPRESSED_RGB_ATC_WEBGL]=.5,Qt[At.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Qt[At.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Qt[At.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,Qt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var il=function(r,e){return il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},il(r,e)};function F_(r,e){il(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function BP(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function h(d){try{f(n.next(d))}catch(v){a(v)}}function l(d){try{f(n.throw(d))}catch(v){a(v)}}function f(d){d.done?s(d.value):i(d.value).then(h,l)}f((n=n.apply(r,e||[])).next())})}function LP(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function h(f){return function(d){return l([f,d])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){t.label=f[1];break}if(f[0]===6&&t.label<s[1]){t.label=s[1],s=f;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(f);break}s[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var B_=function(r){F_(e,r);function e(t,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,s,a;return typeof t=="string"?(s=t,a=new Uint8Array):(s=null,a=t),i=r.call(this,a,n)||this,i.origin=s,i.buffer=a?new ma(a):null,i.origin&&n.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return BP(this,void 0,Promise,function(){var t,n,i;return LP(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return t=s.sent(),[4,t.blob()];case 2:return n=s.sent(),[4,n.arrayBuffer()];case 3:return i=s.sent(),this.data=new Uint32Array(i),this.buffer=new ma(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(li),ya=function(r){F_(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(t instanceof Uint8Array?t:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(t,n,i){var s=t.gl,a=t.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var h=0,l=this.levels;h<l;h++){var f=this._levelBuffers[h],d=f.levelID,v=f.levelWidth,p=f.levelHeight,g=f.levelBuffer;s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,v,p,0,g)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,n,i,s,a,h,l){for(var f=new Array(i),d=t.byteOffset,v=h,p=l,g=v+s-1&~(s-1),m=p+a-1&~(a-1),x=g*m*Us[n],y=0;y<i;y++)f[y]={levelID:y,levelWidth:i>1?v:g,levelHeight:i>1?p:m,levelBuffer:new Uint8Array(t.buffer,d,x)},d+=x,v=v>>1||1,p=p>>1||1,g=v+s-1&~(s-1),m=p+a-1&~(a-1),x=g*m*Us[n];return f},e}(B_),L_=function(){function r(){}return r.use=function(e,t){var n=e.data,i=this;if(e.type===pe.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var s=n.textures,a=void 0,h=void 0,l=0,f=s.length;l<f;l++){var d=s[l],v=d.src,p=d.format;if(p||(h=v),r.textureFormats[p]){a=v;break}}if(a=a||h,!a){t(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(a===e.url){t(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var g={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},m=$n.resolve(e.url.replace(i.baseUrl,""),a),x=n.cacheID;i.add(x,m,g,function(y){if(y.error){t(y.error);return}var E=y.texture,R=E===void 0?null:E,S=y.textures,O=S===void 0?{}:S;Object.assign(e,{texture:R,textures:O}),t()})}else t()},Object.defineProperty(r,"textureExtensions",{get:function(){if(!r._textureExtensions){var e=et.ADAPTER.createCanvas(),t=e.getContext("webgl");if(!t)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};r._textureExtensions=n}return r._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(r,"textureFormats",{get:function(){if(!r._textureFormats){var e=r.textureExtensions;r._textureFormats={};for(var t in e){var n=e[t];n&&Object.assign(r._textureFormats,Object.getPrototypeOf(n))}}return r._textureFormats},enumerable:!1,configurable:!0}),r.extension=$t.Loader,r}();function N_(r,e,t){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(s){return new vt(new Mt(s,Object.assign({mipmap:gr.OFF,alphaMode:mr.NO_PREMULTIPLIED_ALPHA},t)))});return i.forEach(function(s,a){var h=s.baseTexture,l=r+"-"+(a+1);Mt.addToCache(h,l),vt.addToCache(s,l),a===0&&(Mt.addToCache(h,r),vt.addToCache(s,r),n.texture=s),n.textures[l]=s}),n}var vs,Pr,Sh=4,ea=124,NP=32,Vp=20,UP=542327876,ra={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},GP={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},na={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Cr;(function(r){r[r.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",r[r.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",r[r.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",r[r.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",r[r.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",r[r.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",r[r.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",r[r.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",r[r.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",r[r.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",r[r.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",r[r.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",r[r.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",r[r.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",r[r.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",r[r.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",r[r.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",r[r.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",r[r.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",r[r.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",r[r.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",r[r.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",r[r.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",r[r.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",r[r.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",r[r.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",r[r.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",r[r.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",r[r.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",r[r.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",r[r.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",r[r.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",r[r.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",r[r.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",r[r.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",r[r.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",r[r.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",r[r.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",r[r.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",r[r.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",r[r.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",r[r.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",r[r.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",r[r.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",r[r.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",r[r.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",r[r.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",r[r.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",r[r.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",r[r.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",r[r.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",r[r.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",r[r.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",r[r.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",r[r.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",r[r.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",r[r.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",r[r.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",r[r.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",r[r.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",r[r.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",r[r.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",r[r.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",r[r.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",r[r.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",r[r.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",r[r.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",r[r.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",r[r.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",r[r.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",r[r.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",r[r.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",r[r.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",r[r.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",r[r.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",r[r.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",r[r.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",r[r.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",r[r.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",r[r.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",r[r.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",r[r.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",r[r.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",r[r.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",r[r.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",r[r.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",r[r.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",r[r.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",r[r.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",r[r.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",r[r.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",r[r.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",r[r.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",r[r.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",r[r.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",r[r.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",r[r.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",r[r.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",r[r.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",r[r.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",r[r.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",r[r.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",r[r.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",r[r.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",r[r.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",r[r.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",r[r.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",r[r.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",r[r.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",r[r.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",r[r.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",r[r.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",r[r.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",r[r.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",r[r.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",r[r.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",r[r.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",r[r.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",r[r.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",r[r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",r[r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",r[r.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Cr||(Cr={}));var sl;(function(r){r[r.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",r[r.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",r[r.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(sl||(sl={}));var kP=1,HP=2,XP=4,WP=64,zP=512,VP=131072,YP=827611204,jP=861165636,qP=894720068,KP=808540228,ZP=4,JP=(vs={},vs[YP]=At.COMPRESSED_RGBA_S3TC_DXT1_EXT,vs[jP]=At.COMPRESSED_RGBA_S3TC_DXT3_EXT,vs[qP]=At.COMPRESSED_RGBA_S3TC_DXT5_EXT,vs),QP=(Pr={},Pr[Cr.DXGI_FORMAT_BC1_TYPELESS]=At.COMPRESSED_RGBA_S3TC_DXT1_EXT,Pr[Cr.DXGI_FORMAT_BC1_UNORM]=At.COMPRESSED_RGBA_S3TC_DXT1_EXT,Pr[Cr.DXGI_FORMAT_BC2_TYPELESS]=At.COMPRESSED_RGBA_S3TC_DXT3_EXT,Pr[Cr.DXGI_FORMAT_BC2_UNORM]=At.COMPRESSED_RGBA_S3TC_DXT3_EXT,Pr[Cr.DXGI_FORMAT_BC3_TYPELESS]=At.COMPRESSED_RGBA_S3TC_DXT5_EXT,Pr[Cr.DXGI_FORMAT_BC3_UNORM]=At.COMPRESSED_RGBA_S3TC_DXT5_EXT,Pr[Cr.DXGI_FORMAT_BC1_UNORM_SRGB]=At.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Pr[Cr.DXGI_FORMAT_BC2_UNORM_SRGB]=At.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Pr[Cr.DXGI_FORMAT_BC3_UNORM_SRGB]=At.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Pr);function U_(r){var e=new Uint32Array(r),t=e[0];if(t!==UP)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(r,0,ea/Uint32Array.BYTES_PER_ELEMENT),i=n[ra.HEIGHT],s=n[ra.WIDTH],a=n[ra.MIPMAP_COUNT],h=new Uint32Array(r,ra.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,NP/Uint32Array.BYTES_PER_ELEMENT),l=h[kP];if(l&XP){var f=h[GP.FOURCC];if(f!==KP){var d=JP[f],v=Sh+ea,p=new Uint8Array(r,v),g=new ya(p,{format:d,width:s,height:i,levels:a});return[g]}var m=Sh+ea,x=new Uint32Array(e.buffer,m,Vp/Uint32Array.BYTES_PER_ELEMENT),y=x[na.DXGI_FORMAT],E=x[na.RESOURCE_DIMENSION],R=x[na.MISC_FLAG],S=x[na.ARRAY_SIZE],O=QP[y];if(O===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+y);if(R===ZP)throw new Error("DDSParser does not support cubemap textures");if(E===sl.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var P=new Array,D=Sh+ea+Vp;if(S===1)P.push(new Uint8Array(r,D));else{for(var A=Us[O],F=0,I=s,B=i,Z=0;Z<a;Z++){var nt=Math.max(1,I+3&-4),_t=Math.max(1,B+3&-4),Rt=nt*_t*A;F+=Rt,I=I>>>1,B=B>>>1}for(var $=D,Z=0;Z<S;Z++)P.push(new Uint8Array(r,$,F)),$+=F}return P.map(function(Q){return new ya(Q,{format:O,width:s,height:i,levels:a})})}throw l&WP?new Error("DDSParser does not support uncompressed texture data."):l&zP?new Error("DDSParser does not supported YUV uncompressed texture data."):l&VP?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&HP?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var An,an,_s,Yp=[171,75,84,88,32,49,49,187,13,10,26,10],$P=67305985,Rr={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},ol=64,al=(An={},An[pt.UNSIGNED_BYTE]=1,An[pt.UNSIGNED_SHORT]=2,An[pt.INT]=4,An[pt.UNSIGNED_INT]=4,An[pt.FLOAT]=4,An[pt.HALF_FLOAT]=8,An),G_=(an={},an[J.RGBA]=4,an[J.RGB]=3,an[J.RG]=2,an[J.RED]=1,an[J.LUMINANCE]=1,an[J.LUMINANCE_ALPHA]=2,an[J.ALPHA]=1,an),k_=(_s={},_s[pt.UNSIGNED_SHORT_4_4_4_4]=2,_s[pt.UNSIGNED_SHORT_5_5_5_1]=2,_s[pt.UNSIGNED_SHORT_5_6_5]=2,_s);function H_(r,e,t){t===void 0&&(t=!1);var n=new DataView(e);if(!tR(r,n))return null;var i=n.getUint32(Rr.ENDIANNESS,!0)===$P,s=n.getUint32(Rr.GL_TYPE,i),a=n.getUint32(Rr.GL_FORMAT,i),h=n.getUint32(Rr.GL_INTERNAL_FORMAT,i),l=n.getUint32(Rr.PIXEL_WIDTH,i),f=n.getUint32(Rr.PIXEL_HEIGHT,i)||1,d=n.getUint32(Rr.PIXEL_DEPTH,i)||1,v=n.getUint32(Rr.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(Rr.NUMBER_OF_FACES,i),g=n.getUint32(Rr.NUMBER_OF_MIPMAP_LEVELS,i),m=n.getUint32(Rr.BYTES_OF_KEY_VALUE_DATA,i);if(f===0||d!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(v!==1)throw new Error("WebGL does not support array textures");var x=4,y=4,E=l+3&-4,R=f+3&-4,S=new Array(v),O=l*f;s===0&&(O=E*R);var P;if(s!==0?al[s]?P=al[s]*G_[a]:P=k_[s]:P=Us[h],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var D=t?rR(n,m,i):null,A=O*P,F=A,I=l,B=f,Z=E,nt=R,_t=ol+m,Rt=0;Rt<g;Rt++){for(var $=n.getUint32(_t,i),Q=_t+4,V=0;V<v;V++){var ft=S[V];ft||(ft=S[V]=new Array(g)),ft[Rt]={levelID:Rt,levelWidth:g>1||s!==0?I:Z,levelHeight:g>1||s!==0?B:nt,levelBuffer:new Uint8Array(e,Q,F)},Q+=F}_t+=$+4,_t=_t%4!==0?_t+4-_t%4:_t,I=I>>1||1,B=B>>1||1,Z=I+x-1&~(x-1),nt=B+y-1&~(y-1),F=Z*nt*P}return s!==0?{uncompressed:S.map(function(ht){var q=ht[0].levelBuffer,X=!1;return s===pt.FLOAT?q=new Float32Array(ht[0].levelBuffer.buffer,ht[0].levelBuffer.byteOffset,ht[0].levelBuffer.byteLength/4):s===pt.UNSIGNED_INT?(X=!0,q=new Uint32Array(ht[0].levelBuffer.buffer,ht[0].levelBuffer.byteOffset,ht[0].levelBuffer.byteLength/4)):s===pt.INT&&(X=!0,q=new Int32Array(ht[0].levelBuffer.buffer,ht[0].levelBuffer.byteOffset,ht[0].levelBuffer.byteLength/4)),{resource:new li(q,{width:ht[0].levelWidth,height:ht[0].levelHeight}),type:s,format:X?eR(a):a}}),kvData:D}:{compressed:S.map(function(ht){return new ya(null,{format:h,width:l,height:f,levels:g,levelBuffers:ht})}),kvData:D}}function tR(r,e){for(var t=0;t<Yp.length;t++)if(e.getUint8(t)!==Yp[t])return console.error(r+" is not a valid *.ktx file!"),!1;return!0}function eR(r){switch(r){case J.RGBA:return J.RGBA_INTEGER;case J.RGB:return J.RGB_INTEGER;case J.RG:return J.RG_INTEGER;case J.RED:return J.RED_INTEGER;default:return r}}function rR(r,e,t){for(var n=new Map,i=0;i<e;){var s=r.getUint32(ol+i,t),a=ol+i+4,h=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<s&&r.getUint8(a+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var f=new TextDecoder().decode(new Uint8Array(r.buffer,a,l)),d=new DataView(r.buffer,a+l+1,s-l-1);n.set(f,d),i+=4+s+h}return n}pe.setExtensionXhrType("dds",pe.XHR_RESPONSE_TYPE.BUFFER);var X_=function(){function r(){}return r.use=function(e,t){if(e.extension==="dds"&&e.data)try{Object.assign(e,N_(e.name||e.url,U_(e.data),e.metadata))}catch(n){t(n);return}t()},r.extension=$t.Loader,r}();pe.setExtensionXhrType("ktx",pe.XHR_RESPONSE_TYPE.BUFFER);var W_=function(){function r(){}return r.use=function(e,t){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=H_(n,e.data,this.loadKeyValueData),s=i.compressed,a=i.uncompressed,h=i.kvData;if(s){var l=N_(n,s,e.metadata);if(h&&l.textures)for(var f in l.textures)l.textures[f].baseTexture.ktxKeyValueData=h;Object.assign(e,l)}else if(a){var d={};a.forEach(function(v,p){var g=new vt(new Mt(v.resource,{mipmap:gr.OFF,alphaMode:mr.NO_PREMULTIPLIED_ALPHA,type:v.type,format:v.format})),m=n+"-"+(p+1);h&&(g.baseTexture.ktxKeyValueData=h),Mt.addToCache(g.baseTexture,m),vt.addToCache(g,m),p===0&&(d[n]=g,Mt.addToCache(g.baseTexture,n),vt.addToCache(g,n)),d[m]=g}),Object.assign(e,{textures:d})}}catch(v){t(v);return}t()},r.extension=$t.Loader,r.loadKeyValueData=!1,r}();/*!
 * @pixi/particle-container - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ul=function(r,e){return ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},ul(r,e)};function z_(r,e){ul(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nR=function(r){z_(e,r);function e(t,n,i,s){t===void 0&&(t=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var a=r.call(this)||this,h=16384;return i>h&&(i=h),a._properties=[!1,!0,!1,!1,!1],a._maxSize=t,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=dt.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,ii(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var n=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Ze),jp=function(){function r(e,t,n){this.geometry=new Vi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||pt.FLOAT,offset:s.offset},t[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return r.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new xe(Hv(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=t,t+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new xe(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new xe(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===pt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===pt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},r.prototype.uploadDynamic=function(e,t,n){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(e,t,n,s.type===pt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},r.prototype.uploadStatic=function(e,t,n){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(e,t,n,s.type===pt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},r.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},r}(),iR=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,sR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,V_=function(r){z_(e,r);function e(t){var n=r.call(this,t)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Te,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:pt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=cn.from(sR,iR,{}),n.state=Dn.for2d(),n}return e.prototype.render=function(t){var n=t.children,i=t._maxSize,s=t._batchSize,a=this.renderer,h=n.length;if(h!==0){h>i&&!t.autoResize&&(h=i);var l=t._buffers;l||(l=t._buffers=this.generateBuffers(t));var f=n[0]._texture.baseTexture,d=f.alphaMode>0;this.state.blendMode=Ul(t.blendMode,d),a.state.set(this.state);var v=a.gl,p=t.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=kv(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=f,this.renderer.shader.bind(this.shader);for(var g=!1,m=0,x=0;m<h;m+=s,x+=1){var y=h-m;y>s&&(y=s),x>=l.length&&l.push(this._generateOneMoreBuffer(t));var E=l[x];E.uploadDynamic(n,m,y);var R=t._bufferUpdateIDs[x]||0;g=g||E._updateID<R,g&&(E._updateID=t._updateID,E.uploadStatic(n,m,y)),a.geometry.bind(E.geometry),v.drawElements(v.TRIANGLES,y*6,v.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var n=[],i=t._maxSize,s=t._batchSize,a=t._properties,h=0;h<i;h+=s)n.push(new jp(this.properties,a,s));return n},e.prototype._generateOneMoreBuffer=function(t){var n=t._batchSize,i=t._properties;return new jp(this.properties,i,n)},e.prototype.uploadVertices=function(t,n,i,s,a,h){for(var l=0,f=0,d=0,v=0,p=0;p<i;++p){var g=t[n+p],m=g._texture,x=g.scale.x,y=g.scale.y,E=m.trim,R=m.orig;E?(f=E.x-g.anchor.x*R.width,l=f+E.width,v=E.y-g.anchor.y*R.height,d=v+E.height):(l=R.width*(1-g.anchor.x),f=R.width*-g.anchor.x,d=R.height*(1-g.anchor.y),v=R.height*-g.anchor.y),s[h]=f*x,s[h+1]=v*y,s[h+a]=l*x,s[h+a+1]=v*y,s[h+a*2]=l*x,s[h+a*2+1]=d*y,s[h+a*3]=f*x,s[h+a*3+1]=d*y,h+=a*4}},e.prototype.uploadPosition=function(t,n,i,s,a,h){for(var l=0;l<i;l++){var f=t[n+l].position;s[h]=f.x,s[h+1]=f.y,s[h+a]=f.x,s[h+a+1]=f.y,s[h+a*2]=f.x,s[h+a*2+1]=f.y,s[h+a*3]=f.x,s[h+a*3+1]=f.y,h+=a*4}},e.prototype.uploadRotation=function(t,n,i,s,a,h){for(var l=0;l<i;l++){var f=t[n+l].rotation;s[h]=f,s[h+a]=f,s[h+a*2]=f,s[h+a*3]=f,h+=a*4}},e.prototype.uploadUvs=function(t,n,i,s,a,h){for(var l=0;l<i;++l){var f=t[n+l]._texture._uvs;f?(s[h]=f.x0,s[h+1]=f.y0,s[h+a]=f.x1,s[h+a+1]=f.y1,s[h+a*2]=f.x2,s[h+a*2+1]=f.y2,s[h+a*3]=f.x3,s[h+a*3+1]=f.y3,h+=a*4):(s[h]=0,s[h+1]=0,s[h+a]=0,s[h+a+1]=0,s[h+a*2]=0,s[h+a*2+1]=0,s[h+a*3]=0,s[h+a*3+1]=0,h+=a*4)}},e.prototype.uploadTint=function(t,n,i,s,a,h){for(var l=0;l<i;++l){var f=t[n+l],d=f._texture.baseTexture.alphaMode>0,v=f.alpha,p=v<1&&d?Pa(f._tintRGB,v):f._tintRGB+(v*255<<24);s[h]=p,s[h+a]=p,s[h+a*2]=p,s[h+a*3]=p,h+=a*4}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:$t.RendererPlugin},e}(Vs);/*!
 * @pixi/graphics - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kr;(function(r){r.MITER="miter",r.BEVEL="bevel",r.ROUND="round"})(kr||(kr={}));var fn;(function(r){r.BUTT="butt",r.ROUND="round",r.SQUARE="square"})(fn||(fn={}));var Gi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(r,e){if(e===void 0&&(e=20),!this.adaptive||!r||isNaN(r))return e;var t=Math.ceil(r/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},bf=function(){function r(){this.color=16777215,this.alpha=1,this.texture=vt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return r.prototype.clone=function(){var e=new r;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},r.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=vt.WHITE,this.matrix=null,this.visible=!1},r.prototype.destroy=function(){this.texture=null,this.matrix=null},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hl=function(r,e){return hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},hl(r,e)};function xf(r,e){hl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function qp(r,e){var t,n;e===void 0&&(e=!1);var i=r.length;if(!(i<6)){for(var s=0,a=0,h=r[i-2],l=r[i-1];a<i;a+=2){var f=r[a],d=r[a+1];s+=(f-h)*(d+l),h=f,l=d}if(!e&&s>0||e&&s<=0)for(var v=i/2,a=v+v%2;a<i;a+=2){var p=i-a-2,g=i-a-1,m=a,x=a+1;t=[r[m],r[p]],r[p]=t[0],r[m]=t[1],n=[r[x],r[g]],r[g]=n[0],r[x]=n[1]}}}var Tf={build:function(r){r.points=r.shape.points.slice()},triangulate:function(r,e){var t=r.points,n=r.holes,i=e.points,s=e.indices;if(t.length>=6){qp(t,!1);for(var a=[],h=0;h<n.length;h++){var l=n[h];qp(l.points,!0),a.push(t.length/2),t=t.concat(l.points)}var f=Ni(t,a,2);if(!f)return;for(var d=i.length/2,h=0;h<f.length;h+=3)s.push(f[h]+d),s.push(f[h+1]+d),s.push(f[h+2]+d);for(var h=0;h<t.length;h++)i.push(t[h])}}},Gs={build:function(r){var e=r.points,t,n,i,s,a,h;if(r.type===Ae.CIRC){var l=r.shape;t=l.x,n=l.y,a=h=l.radius,i=s=0}else if(r.type===Ae.ELIP){var f=r.shape;t=f.x,n=f.y,a=f.width,h=f.height,i=s=0}else{var d=r.shape,v=d.width/2,p=d.height/2;t=d.x+v,n=d.y+p,a=h=Math.max(0,Math.min(d.radius,Math.min(v,p))),i=v-a,s=p-h}if(!(a>=0&&h>=0&&i>=0&&s>=0)){e.length=0;return}var g=Math.ceil(2.3*Math.sqrt(a+h)),m=g*8+(i?4:0)+(s?4:0);if(e.length=m,m!==0){if(g===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=n+s,e[2]=e[4]=t-i,e[5]=e[7]=n-s;return}var x=0,y=g*4+(i?2:0)+2,E=y,R=m;{var S=i+a,O=s,P=t+S,D=t-S,A=n+O;if(e[x++]=P,e[x++]=A,e[--y]=A,e[--y]=D,s){var F=n-O;e[E++]=D,e[E++]=F,e[--R]=F,e[--R]=P}}for(var I=1;I<g;I++){var B=Math.PI/2*(I/g),S=i+Math.cos(B)*a,O=s+Math.sin(B)*h,P=t+S,D=t-S,A=n+O,F=n-O;e[x++]=P,e[x++]=A,e[--y]=A,e[--y]=D,e[E++]=D,e[E++]=F,e[--R]=F,e[--R]=P}{var S=i,O=s+h,P=t+S,D=t-S,A=n+O,F=n-O;e[x++]=P,e[x++]=A,e[--R]=F,e[--R]=P,i&&(e[x++]=D,e[x++]=A,e[--R]=F,e[--R]=D)}}},triangulate:function(r,e){var t=r.points,n=e.points,i=e.indices;if(t.length!==0){var s=n.length/2,a=s,h,l;if(r.type!==Ae.RREC){var f=r.shape;h=f.x,l=f.y}else{var d=r.shape;h=d.x+d.width/2,l=d.y+d.height/2}var v=r.matrix;n.push(r.matrix?v.a*h+v.c*l+v.tx:h,r.matrix?v.b*h+v.d*l+v.ty:l),s++,n.push(t[0],t[1]);for(var p=2;p<t.length;p+=2)n.push(t[p],t[p+1]),i.push(s++,a,s);i.push(a+1,a,s)}}},Y_={build:function(r){var e=r.shape,t=e.x,n=e.y,i=e.width,s=e.height,a=r.points;a.length=0,a.push(t,n,t+i,n,t+i,n+s,t,n+s)},triangulate:function(r,e){var t=r.points,n=e.points,i=n.length/2;n.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Ci(r,e,t){var n=e-r;return r+n*t}function ia(r,e,t,n,i,s,a){a===void 0&&(a=[]);for(var h=20,l=a,f=0,d=0,v=0,p=0,g=0,m=0,x=0,y=0;x<=h;++x)y=x/h,f=Ci(r,t,y),d=Ci(e,n,y),v=Ci(t,i,y),p=Ci(n,s,y),g=Ci(f,v,y),m=Ci(d,p,y),!(x===0&&l[l.length-2]===g&&l[l.length-1]===m)&&l.push(g,m);return l}var j_={build:function(r){if(ks.nextRoundedRectBehavior){Gs.build(r);return}var e=r.shape,t=r.points,n=e.x,i=e.y,s=e.width,a=e.height,h=Math.max(0,Math.min(e.radius,Math.min(s,a)/2));t.length=0,h?(ia(n,i+h,n,i,n+h,i,t),ia(n+s-h,i,n+s,i,n+s,i+h,t),ia(n+s,i+a-h,n+s,i+a,n+s-h,i+a,t),ia(n+h,i+a,n,i+a,n,i+a-h,t)):t.push(n,i,n+s,i,n+s,i+a,n,i+a)},triangulate:function(r,e){if(ks.nextRoundedRectBehavior){Gs.triangulate(r,e);return}for(var t=r.points,n=e.points,i=e.indices,s=n.length/2,a=Ni(t,null,2),h=0,l=a.length;h<l;h+=3)i.push(a[h]+s),i.push(a[h+1]+s),i.push(a[h+2]+s);for(var h=0,l=t.length;h<l;h++)n.push(t[h],t[++h])}};function Kp(r,e,t,n,i,s,a,h){var l=r-t*i,f=e-n*i,d=r+t*s,v=e+n*s,p,g;a?(p=n,g=-t):(p=-n,g=t);var m=l+p,x=f+g,y=d+p,E=v+g;return h.push(m,x),h.push(y,E),2}function Yn(r,e,t,n,i,s,a,h){var l=t-r,f=n-e,d=Math.atan2(l,f),v=Math.atan2(i-r,s-e);h&&d<v?d+=Math.PI*2:!h&&d>v&&(v+=Math.PI*2);var p=d,g=v-d,m=Math.abs(g),x=Math.sqrt(l*l+f*f),y=(15*m*Math.sqrt(x)/Math.PI>>0)+1,E=g/y;if(p+=E,h){a.push(r,e),a.push(t,n);for(var R=1,S=p;R<y;R++,S+=E)a.push(r,e),a.push(r+Math.sin(S)*x,e+Math.cos(S)*x);a.push(r,e),a.push(i,s)}else{a.push(t,n),a.push(r,e);for(var R=1,S=p;R<y;R++,S+=E)a.push(r+Math.sin(S)*x,e+Math.cos(S)*x),a.push(r,e);a.push(i,s),a.push(r,e)}return y*2}function oR(r,e){var t=r.shape,n=r.points||t.points.slice(),i=e.closePointEps;if(n.length!==0){var s=r.lineStyle,a=new qt(n[0],n[1]),h=new qt(n[n.length-2],n[n.length-1]),l=t.type!==Ae.POLY||t.closeStroke,f=Math.abs(a.x-h.x)<i&&Math.abs(a.y-h.y)<i;if(l){n=n.slice(),f&&(n.pop(),n.pop(),h.set(n[n.length-2],n[n.length-1]));var d=(a.x+h.x)*.5,v=(h.y+a.y)*.5;n.unshift(d,v),n.push(d,v)}var p=e.points,g=n.length/2,m=n.length,x=p.length/2,y=s.width/2,E=y*y,R=s.miterLimit*s.miterLimit,S=n[0],O=n[1],P=n[2],D=n[3],A=0,F=0,I=-(O-D),B=S-P,Z=0,nt=0,_t=Math.sqrt(I*I+B*B);I/=_t,B/=_t,I*=y,B*=y;var Rt=s.alignment,$=(1-Rt)*2,Q=Rt*2;l||(s.cap===fn.ROUND?m+=Yn(S-I*($-Q)*.5,O-B*($-Q)*.5,S-I*$,O-B*$,S+I*Q,O+B*Q,p,!0)+2:s.cap===fn.SQUARE&&(m+=Kp(S,O,I,B,$,Q,!0,p))),p.push(S-I*$,O-B*$),p.push(S+I*Q,O+B*Q);for(var V=1;V<g-1;++V){S=n[(V-1)*2],O=n[(V-1)*2+1],P=n[V*2],D=n[V*2+1],A=n[(V+1)*2],F=n[(V+1)*2+1],I=-(O-D),B=S-P,_t=Math.sqrt(I*I+B*B),I/=_t,B/=_t,I*=y,B*=y,Z=-(D-F),nt=P-A,_t=Math.sqrt(Z*Z+nt*nt),Z/=_t,nt/=_t,Z*=y,nt*=y;var ft=P-S,ht=O-D,q=P-A,X=F-D,ct=ft*q+ht*X,yt=ht*q-X*ft,Et=yt<0;if(Math.abs(yt)<.001*Math.abs(ct)){p.push(P-I*$,D-B*$),p.push(P+I*Q,D+B*Q),ct>=0&&(s.join===kr.ROUND?m+=Yn(P,D,P-I*$,D-B*$,P-Z*$,D-nt*$,p,!1)+4:m+=2,p.push(P-Z*Q,D-nt*Q),p.push(P+Z*$,D+nt*$));continue}var Nt=(-I+S)*(-B+D)-(-I+P)*(-B+O),Bt=(-Z+A)*(-nt+D)-(-Z+P)*(-nt+F),Ht=(ft*Bt-q*Nt)/yt,st=(X*Nt-ht*Bt)/yt,G=(Ht-P)*(Ht-P)+(st-D)*(st-D),Y=P+(Ht-P)*$,Ut=D+(st-D)*$,Xt=P-(Ht-P)*Q,lt=D-(st-D)*Q,k=Math.min(ft*ft+ht*ht,q*q+X*X),Zt=Et?$:Q,fe=k+Zt*Zt*E,K=G<=fe;K?s.join===kr.BEVEL||G/E>R?(Et?(p.push(Y,Ut),p.push(P+I*Q,D+B*Q),p.push(Y,Ut),p.push(P+Z*Q,D+nt*Q)):(p.push(P-I*$,D-B*$),p.push(Xt,lt),p.push(P-Z*$,D-nt*$),p.push(Xt,lt)),m+=2):s.join===kr.ROUND?Et?(p.push(Y,Ut),p.push(P+I*Q,D+B*Q),m+=Yn(P,D,P+I*Q,D+B*Q,P+Z*Q,D+nt*Q,p,!0)+4,p.push(Y,Ut),p.push(P+Z*Q,D+nt*Q)):(p.push(P-I*$,D-B*$),p.push(Xt,lt),m+=Yn(P,D,P-I*$,D-B*$,P-Z*$,D-nt*$,p,!1)+4,p.push(P-Z*$,D-nt*$),p.push(Xt,lt)):(p.push(Y,Ut),p.push(Xt,lt)):(p.push(P-I*$,D-B*$),p.push(P+I*Q,D+B*Q),s.join===kr.ROUND?Et?m+=Yn(P,D,P+I*Q,D+B*Q,P+Z*Q,D+nt*Q,p,!0)+2:m+=Yn(P,D,P-I*$,D-B*$,P-Z*$,D-nt*$,p,!1)+2:s.join===kr.MITER&&G/E<=R&&(Et?(p.push(Xt,lt),p.push(Xt,lt)):(p.push(Y,Ut),p.push(Y,Ut)),m+=2),p.push(P-Z*$,D-nt*$),p.push(P+Z*Q,D+nt*Q),m+=2)}S=n[(g-2)*2],O=n[(g-2)*2+1],P=n[(g-1)*2],D=n[(g-1)*2+1],I=-(O-D),B=S-P,_t=Math.sqrt(I*I+B*B),I/=_t,B/=_t,I*=y,B*=y,p.push(P-I*$,D-B*$),p.push(P+I*Q,D+B*Q),l||(s.cap===fn.ROUND?m+=Yn(P-I*($-Q)*.5,D-B*($-Q)*.5,P-I*$,D-B*$,P+I*Q,D+B*Q,p,!1)+2:s.cap===fn.SQUARE&&(m+=Kp(P,D,I,B,$,Q,!1,p)));for(var Fe=e.indices,vn=Gi.epsilon*Gi.epsilon,V=x;V<m+x-2;++V)S=p[V*2],O=p[V*2+1],P=p[(V+1)*2],D=p[(V+1)*2+1],A=p[(V+2)*2],F=p[(V+2)*2+1],!(Math.abs(S*(D-F)+P*(F-O)+A*(O-D))<vn)&&Fe.push(V,V+1,V+2)}}function aR(r,e){var t=0,n=r.shape,i=r.points||n.points,s=n.type!==Ae.POLY||n.closeStroke;if(i.length!==0){var a=e.points,h=e.indices,l=i.length/2,f=a.length/2,d=f;for(a.push(i[0],i[1]),t=1;t<l;t++)a.push(i[t*2],i[t*2+1]),h.push(d,d+1),d++;s&&h.push(d,f)}}function ll(r,e){r.lineStyle.native?aR(r,e):oR(r,e)}var fl=function(){function r(){}return r.curveTo=function(e,t,n,i,s,a){var h=a[a.length-2],l=a[a.length-1],f=l-t,d=h-e,v=i-t,p=n-e,g=Math.abs(f*p-d*v);if(g<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==t)&&a.push(e,t),null;var m=f*f+d*d,x=v*v+p*p,y=f*v+d*p,E=s*Math.sqrt(m)/g,R=s*Math.sqrt(x)/g,S=E*y/m,O=R*y/x,P=E*p+R*d,D=E*v+R*f,A=d*(R+S),F=f*(R+S),I=p*(E+O),B=v*(E+O),Z=Math.atan2(F-D,A-P),nt=Math.atan2(B-D,I-P);return{cx:P+e,cy:D+t,radius:s,startAngle:Z,endAngle:nt,anticlockwise:d*v>p*f}},r.arc=function(e,t,n,i,s,a,h,l,f){for(var d=h-a,v=Gi._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Bs)*40),p=d/(v*2),g=p*2,m=Math.cos(p),x=Math.sin(p),y=v-1,E=y%1/y,R=0;R<=y;++R){var S=R+E*R,O=p+a+g*S,P=Math.cos(O),D=-Math.sin(O);f.push((m*P+x*D)*s+n,(m*-D+x*P)*s+i)}},r}(),q_=function(){function r(){}return r.curveLength=function(e,t,n,i,s,a,h,l){for(var f=10,d=0,v=0,p=0,g=0,m=0,x=0,y=0,E=0,R=0,S=0,O=0,P=e,D=t,A=1;A<=f;++A)v=A/f,p=v*v,g=p*v,m=1-v,x=m*m,y=x*m,E=y*e+3*x*v*n+3*m*p*s+g*h,R=y*t+3*x*v*i+3*m*p*a+g*l,S=P-E,O=D-R,P=E,D=R,d+=Math.sqrt(S*S+O*O);return d},r.curveTo=function(e,t,n,i,s,a,h){var l=h[h.length-2],f=h[h.length-1];h.length-=2;var d=Gi._segmentsCount(r.curveLength(l,f,e,t,n,i,s,a)),v=0,p=0,g=0,m=0,x=0;h.push(l,f);for(var y=1,E=0;y<=d;++y)E=y/d,v=1-E,p=v*v,g=p*v,m=E*E,x=m*E,h.push(g*l+3*p*E*e+3*v*m*n+x*s,g*f+3*p*E*t+3*v*m*i+x*a)},r}(),K_=function(){function r(){}return r.curveLength=function(e,t,n,i,s,a){var h=e-2*n+s,l=t-2*i+a,f=2*n-2*e,d=2*i-2*t,v=4*(h*h+l*l),p=4*(h*f+l*d),g=f*f+d*d,m=2*Math.sqrt(v+p+g),x=Math.sqrt(v),y=2*v*x,E=2*Math.sqrt(g),R=p/x;return(y*m+x*p*(m-E)+(4*g*v-p*p)*Math.log((2*x+R+m)/(R+E)))/(4*y)},r.curveTo=function(e,t,n,i,s){for(var a=s[s.length-2],h=s[s.length-1],l=Gi._segmentsCount(r.curveLength(a,h,e,t,n,i)),f=0,d=0,v=1;v<=l;++v){var p=v/l;f=a+(e-a)*p,d=h+(t-h)*p,s.push(f+(e+(n-e)*p-f)*p,d+(t+(i-t)*p-d)*p)}},r}(),Z_=function(){function r(){this.reset()}return r.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},r.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},r.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},r}(),jn,ca=(jn={},jn[Ae.POLY]=Tf,jn[Ae.CIRC]=Gs,jn[Ae.ELIP]=Gs,jn[Ae.RECT]=Y_,jn[Ae.RREC]=j_,jn),cl=[],ys=[],dl=function(){function r(e,t,n,i){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=i,this.type=e.type}return r.prototype.clone=function(){return new r(this.shape,this.fillStyle,this.lineStyle,this.matrix)},r.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},r}(),Ii=new qt,J_=function(r){xf(e,r);function e(){var t=r.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new Ls,t.boundsDirty=-1,t}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),ys.push(this.drawCalls[t]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var n=this.batches[t];n.reset(),cl.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,n,i,s){n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=null);var a=new dl(t,n,i,s);return this.graphicsData.push(a),this.dirty++,this},e.prototype.drawHole=function(t,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new dl(t,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){r.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var n=this.graphicsData,i=0;i<n.length;++i){var s=n[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(t,Ii):Ii.copyFrom(t),s.shape.contains(Ii.x,Ii.y))){var a=!1;if(s.holes)for(var h=0;h<s.holes.length;h++){var l=s.holes[h];if(l.shape.contains(Ii.x,Ii.y)){a=!0;break}}if(!a)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,n=this.graphicsData,i=null,s=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],s=i.style);for(var a=this.shapeIndex;a<n.length;a++){this.shapeIndex++;var h=n[a],l=h.fillStyle,f=h.lineStyle,d=ca[h.type];d.build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(l.visible||f.visible)&&this.processHoles(h.holes);for(var v=0;v<2;v++){var p=v===0?l:f;if(p.visible){var g=p.texture.baseTexture,m=this.indices.length,x=this.points.length/2;g.wrapMode=Ir.REPEAT,v===0?this.processFill(h):this.processLine(h);var y=this.points.length/2-x;y!==0&&(i&&!this._compareStyles(s,p)&&(i.end(m,x),i=null),i||(i=cl.pop()||new Z_,i.begin(p,m,x),this.batches.push(i),s=p),this.addUvs(this.points,t,p.texture,x,y,p.matrix))}}}var E=this.indices.length,R=this.points.length/2;if(i&&i.end(E,R),this.batches.length===0){this.batchable=!0;return}var S=R>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&S===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=S?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(t,n){return!(!t||!n||t.texture.baseTexture!==n.texture.baseTexture||t.color+t.alpha!==n.color+n.alpha||!!t.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,n=this.graphicsData.length;t<n;t++){var i=this.graphicsData[t],s=i.fillStyle,a=i.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,n=0,i=t.length;n<i;n++)for(var s=t[n],a=0;a<s.size;a++){var h=s.start+a;this.indicesUint16[h]=this.indicesUint16[h]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var t=this.batches,n=0;n<t.length;n++)if(t[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var t=++Mt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),ys.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,a=ys.pop();a||(a=new _a,a.texArray=new ga),a.texArray.count=0,a.start=0,a.size=0,a.type=vr.TRIANGLES;var h=0,l=null,f=0,d=!1,v=vr.TRIANGLES,p=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var g=this.batches[n],m=8,x=g.style,y=x.texture.baseTexture;d!==!!x.native&&(d=!!x.native,v=d?vr.LINES:vr.TRIANGLES,l=null,h=m,t++),l!==y&&(l=y,y._batchEnabled!==t&&(h===m&&(t++,h=0,a.size>0&&(a=ys.pop(),a||(a=new _a,a.texArray=new ga),this.drawCalls.push(a)),a.start=p,a.size=0,a.texArray.count=0,a.type=v),y.touched=1,y._batchEnabled=t,y._batchLocation=h,y.wrapMode=Ir.REPEAT,a.texArray.elements[a.texArray.count++]=y,h++)),a.size+=g.size,p+=g.size,f=y._batchLocation,this.addColors(i,x.color,x.alpha,g.attribSize,g.attribStart),this.addTextureIds(s,f,g.attribSize,g.attribStart)}Mt._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,n=this.uvs,i=this.colors,s=this.textureIds,a=new ArrayBuffer(t.length*3*4),h=new Float32Array(a),l=new Uint32Array(a),f=0,d=0;d<t.length/2;d++)h[f++]=t[d*2],h[f++]=t[d*2+1],h[f++]=n[d*2],h[f++]=n[d*2+1],l[f++]=i[d],h[f++]=s[d];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){if(t.holes.length)Tf.triangulate(t,this);else{var n=ca[t.type];n.triangulate(t,this)}},e.prototype.processLine=function(t){ll(t,this);for(var n=0;n<t.holes.length;n++)ll(t.holes[n],this)},e.prototype.processHoles=function(t){for(var n=0;n<t.length;n++){var i=t[n],s=ca[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,n){for(var i=0;i<t.length/2;i++){var s=t[i*2],a=t[i*2+1];t[i*2]=n.a*s+n.c*a+n.tx,t[i*2+1]=n.b*s+n.d*a+n.ty}},e.prototype.addColors=function(t,n,i,s,a){a===void 0&&(a=0);var h=(n>>16)+(n&65280)+((n&255)<<16),l=Pa(h,i);t.length=Math.max(t.length,a+s);for(var f=0;f<s;f++)t[a+f]=l},e.prototype.addTextureIds=function(t,n,i,s){s===void 0&&(s=0),t.length=Math.max(t.length,s+i);for(var a=0;a<i;a++)t[s+a]=n},e.prototype.addUvs=function(t,n,i,s,a,h){h===void 0&&(h=null);for(var l=0,f=n.length,d=i.frame;l<a;){var v=t[(s+l)*2],p=t[(s+l)*2+1];if(h){var g=h.a*v+h.c*p+h.tx;p=h.b*v+h.d*p+h.ty,v=g}l++,n.push(v/d.width,p/d.height)}var m=i.baseTexture;(d.width<m.width||d.height<m.height)&&this.adjustUvs(n,i,f,a)},e.prototype.adjustUvs=function(t,n,i,s){for(var a=n.baseTexture,h=1e-6,l=i+s*2,f=n.frame,d=f.width/a.width,v=f.height/a.height,p=f.x/f.width,g=f.y/f.height,m=Math.floor(t[i]+h),x=Math.floor(t[i+1]+h),y=i+2;y<l;y+=2)m=Math.min(m,Math.floor(t[y]+h)),x=Math.min(x,Math.floor(t[y+1]+h));p-=m,g-=x;for(var y=i;y<l;y+=2)t[y]=(t[y]+p)*d,t[y+1]=(t[y+1]+g)*v},e.BATCHABLE_SIZE=100,e}(_f),Q_=function(r){xf(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=fn.BUTT,t.join=kr.MITER,t.miterLimit=10,t}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){r.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(bf),uR=new Float32Array(3),Ah={},ks=function(r){xf(e,r);function e(t){t===void 0&&(t=null);var n=r.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new bf,n._lineStyle=new Q_,n._matrix=null,n._holeMode=!1,n.state=Dn.for2d(),n._geometry=t||new J_,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=dt.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,n,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=.5),a===void 0&&(a=!1),typeof t=="number"&&(t={width:t,color:n,alpha:i,alignment:s,native:a}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:vt.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:fn.BUTT,join:kr.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new xs,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[n-2],t[n-1]))}else this.currentPath=new xs,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,n){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(t,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],a=i[i.length-1];return(s!==t||a!==n)&&i.push(t,n),this},e.prototype._initCurve=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,n]):this.moveTo(t,n)},e.prototype.quadraticCurveTo=function(t,n,i,s){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),K_.curveTo(t,n,i,s,a),this},e.prototype.bezierCurveTo=function(t,n,i,s,a,h){return this._initCurve(),q_.curveTo(t,n,i,s,a,h,this.currentPath.points),this},e.prototype.arcTo=function(t,n,i,s,a){this._initCurve(t,n);var h=this.currentPath.points,l=fl.curveTo(t,n,i,s,a,h);if(l){var f=l.cx,d=l.cy,v=l.radius,p=l.startAngle,g=l.endAngle,m=l.anticlockwise;this.arc(f,d,v,p,g,m)}return this},e.prototype.arc=function(t,n,i,s,a,h){if(h===void 0&&(h=!1),s===a)return this;!h&&a<=s?a+=Bs:h&&s<=a&&(s+=Bs);var l=a-s;if(l===0)return this;var f=t+Math.cos(s)*i,d=n+Math.sin(s)*i,v=this._geometry.closePointEps,p=this.currentPath?this.currentPath.points:null;if(p){var g=Math.abs(p[p.length-2]-f),m=Math.abs(p[p.length-1]-d);g<v&&m<v||p.push(f,d)}else this.moveTo(f,d),p=this.currentPath.points;return fl.arc(f,d,t,n,i,s,a,h,p),this},e.prototype.beginFill=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=1),this.beginTextureFill({texture:vt.WHITE,color:t,alpha:n})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:vt.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,n,i,s){return this.drawShape(new Dt(t,n,i,s))},e.prototype.drawRoundedRect=function(t,n,i,s,a){return this.drawShape(new Kv(t,n,i,s,a))},e.prototype.drawCircle=function(t,n,i){return this.drawShape(new jv(t,n,i))},e.prototype.drawEllipse=function(t,n,i,s){return this.drawShape(new qv(t,n,i,s))},e.prototype.drawPolygon=function(){for(var t=arguments,n=[],i=0;i<arguments.length;i++)n[i]=t[i];var s,a=!0,h=n[0];h.points?(a=h.closeStroke,s=h.points):Array.isArray(n[0])?s=n[0]:s=n;var l=new xs(s);return l.closeStroke=a,this.drawShape(l),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ae.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,n=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var s=0;s<i;s++){var a=t.batches[s],h=a.style.color,l=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),f=new Float32Array(t.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),d=new Uint16Array(t.indicesUint16.buffer,a.start*2,a.size),v={vertexData:l,blendMode:n,indices:d,uvs:f,_batchRGB:ii(h),_tintRGB:h,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=v}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,t.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(t){var n=this._resolveDirectShader(t),i=this._geometry,s=this.tint,a=this.worldAlpha,h=n.uniforms,l=i.drawCalls;h.translationMatrix=this.transform.worldTransform,h.tint[0]=(s>>16&255)/255*a,h.tint[1]=(s>>8&255)/255*a,h.tint[2]=(s&255)/255*a,h.tint[3]=a,t.shader.bind(n),t.geometry.bind(i,n),t.state.set(this.state);for(var f=0,d=l.length;f<d;f++)this._renderDrawCallDirect(t,i.drawCalls[f])},e.prototype._renderDrawCallDirect=function(t,n){for(var i=n.texArray,s=n.type,a=n.size,h=n.start,l=i.count,f=0;f<l;f++)t.texture.bind(i.elements[f],f);t.geometry.draw(s,a,h)},e.prototype._resolveDirectShader=function(t){var n=this.shader,i=this.pluginName;if(!n){if(!Ah[i]){for(var s=t.plugins[i].MAX_TEXTURES,a=new Int32Array(s),h=0;h<s;h++)a[h]=h;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new Te,default:Cn.from({uSamplers:a},!0)},f=t.plugins[i]._shader.program;Ah[i]=new cn(f,l)}n=Ah[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var n=t.bounds,i=n.minX,s=n.minY,a=n.maxX,h=n.maxY;this._bounds.addFrame(this.transform,i,s,a,h)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=ii(this.tint,uR),n=0;n<this.batches.length;n++){var i=this.batches[n],s=i._batchRGB,a=t[0]*s[0]*255,h=t[1]*s[1]*255,l=t[2]*s[2]*255,f=(a<<16)+(h<<8)+(l|0);i._tintRGB=(f>>16)+(f&65280)+((f&255)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var n=this.transform.worldTransform,i=n.a,s=n.b,a=n.c,h=n.d,l=n.tx,f=n.ty,d=this._geometry.points,v=this.vertexData,p=0,g=0;g<d.length;g+=2){var m=d[g],x=d[g+1];v[p++]=i*m+a*x+l,v[p++]=h*x+s*m+f}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,r.prototype.destroy.call(this,t)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new qt,e}(Ze),hR={buildPoly:Tf,buildCircle:Gs,buildRectangle:Y_,buildRoundedRectangle:j_,buildLine:ll,ArcUtils:fl,BezierUtils:q_,QuadraticUtils:K_,BatchPart:Z_,FILL_COMMANDS:ca,BATCH_POOL:cl,DRAW_CALL_POOL:ys};/*!
 * @pixi/sprite - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pl=function(r,e){return pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},pl(r,e)};function lR(r,e){pl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gs=new qt,fR=new Uint16Array([0,1,2,0,2,3]),Ke=function(r){lR(e,r);function e(t){var n=r.call(this)||this;return n._anchor=new ln(n._onAnchorUpdate,n,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=dt.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=t||vt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=fR,n.pluginName="batch",n.isSprite=!0,n._roundPixels=et.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ti(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ti(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===t._updateID)){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var n=this.transform.worldTransform,i=n.a,s=n.b,a=n.c,h=n.d,l=n.tx,f=n.ty,d=this.vertexData,v=t.trim,p=t.orig,g=this._anchor,m=0,x=0,y=0,E=0;if(v?(x=v.x-g._x*p.width,m=x+v.width,E=v.y-g._y*p.height,y=E+v.height):(x=-g._x*p.width,m=x+p.width,E=-g._y*p.height,y=E+p.height),d[0]=i*x+a*E+l,d[1]=h*E+s*x+f,d[2]=i*m+a*E+l,d[3]=h*E+s*m+f,d[4]=i*m+a*y+l,d[5]=h*y+s*m+f,d[6]=i*x+a*y+l,d[7]=h*y+s*x+f,this._roundPixels)for(var R=et.RESOLUTION,S=0;S<d.length;++S)d[S]=Math.round((d[S]*R|0)/R)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,n=this.vertexTrimmedData,i=t.orig,s=this._anchor,a=this.transform.worldTransform,h=a.a,l=a.b,f=a.c,d=a.d,v=a.tx,p=a.ty,g=-s._x*i.width,m=g+i.width,x=-s._y*i.height,y=x+i.height;n[0]=h*g+f*x+v,n[1]=d*x+l*g+p,n[2]=h*m+f*x+v,n[3]=d*x+l*m+p,n[4]=h*m+f*y+v,n[5]=d*y+l*m+p,n[6]=h*g+f*y+v,n[7]=d*y+l*g+p},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,n=this._texture.orig;!t||t.width===n.width&&t.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(t){return this.children.length===0?(this._localBounds||(this._localBounds=new Ls),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Dt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):r.prototype.getLocalBounds.call(this,t)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,gs);var n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x,a=0;return gs.x>=s&&gs.x<s+n&&(a=-i*this.anchor.y,gs.y>=a&&gs.y<a+i)},e.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof t=="boolean"?t:t&&t.texture;if(n){var i=typeof t=="boolean"?t:t&&t.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(t,n){var i=t instanceof vt?t:vt.from(t,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var n=ti(this.scale.x)||1;this.scale.x=n*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var n=ti(this.scale.y)||1;this.scale.y=n*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||vt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Ze);/*!
 * @pixi/text - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vl=function(r,e){return vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},vl(r,e)};function cR(r,e){vl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ki;(function(r){r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(ki||(ki={}));var Ph={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ki.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},dR=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],oi=function(){function r(e){this.styleID=0,this.reset(),Ch(this,e,e)}return r.prototype.clone=function(){var e={};return Ch(e,this,Ph),new r(e)},r.prototype.reset=function(){Ch(this,Ph,Ph)},Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=Rh(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=Rh(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){pR(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=Rh(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),r.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var i=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&dR.indexOf(i)<0&&(i='"'+i+'"'),t[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},r}();function Zp(r){return typeof r=="number"?Ll(r):(typeof r=="string"&&r.indexOf("0x")===0&&(r=r.replace("0x","#")),r)}function Rh(r){if(Array.isArray(r)){for(var e=0;e<r.length;++e)r[e]=Zp(r[e]);return r}else return Zp(r)}function pR(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(var t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}function Ch(r,e,t){for(var n in t)Array.isArray(e[n])?r[n]=e[n].slice():r[n]=e[n]}var sa={willReadFrequently:!0},Fr=function(){function r(e,t,n,i,s,a,h,l,f){this.text=e,this.style=t,this.width=n,this.height=i,this.lines=s,this.lineWidths=a,this.lineHeight=h,this.maxLineWidth=l,this.fontProperties=f}return r.measureText=function(e,t,n,i){i===void 0&&(i=r._canvas),n=n??t.wordWrap;var s=t.toFontString(),a=r.measureFont(s);a.fontSize===0&&(a.fontSize=t.fontSize,a.ascent=t.fontSize);var h=i.getContext("2d",sa);h.font=s;for(var l=n?r.wordWrap(e,t,i):e,f=l.split(/(?:\r\n|\r|\n)/),d=new Array(f.length),v=0,p=0;p<f.length;p++){var g=h.measureText(f[p]).width+(f[p].length-1)*t.letterSpacing;d[p]=g,v=Math.max(v,g)}var m=v+t.strokeThickness;t.dropShadow&&(m+=t.dropShadowDistance);var x=t.lineHeight||a.fontSize+t.strokeThickness,y=Math.max(x,a.fontSize+t.strokeThickness)+(f.length-1)*(x+t.leading);return t.dropShadow&&(y+=t.dropShadowDistance),new r(e,t,m,y,f,d,x+t.leading,v,a)},r.wordWrap=function(e,t,n){n===void 0&&(n=r._canvas);for(var i=n.getContext("2d",sa),s=0,a="",h="",l=Object.create(null),f=t.letterSpacing,d=t.whiteSpace,v=r.collapseSpaces(d),p=r.collapseNewlines(d),g=!v,m=t.wordWrapWidth+f,x=r.tokenize(e),y=0;y<x.length;y++){var E=x[y];if(r.isNewline(E)){if(!p){h+=r.addLine(a),g=!v,a="",s=0;continue}E=" "}if(v){var R=r.isBreakingSpace(E),S=r.isBreakingSpace(a[a.length-1]);if(R&&S)continue}var O=r.getFromCache(E,f,l,i);if(O>m)if(a!==""&&(h+=r.addLine(a),a="",s=0),r.canBreakWords(E,t.breakWords))for(var P=r.wordWrapSplit(E),D=0;D<P.length;D++){for(var A=P[D],F=1;P[D+F];){var I=P[D+F],B=A[A.length-1];if(!r.canBreakChars(B,I,E,D,t.breakWords))A+=I;else break;F++}D+=A.length-1;var Z=r.getFromCache(A,f,l,i);Z+s>m&&(h+=r.addLine(a),g=!1,a="",s=0),a+=A,s+=Z}else{a.length>0&&(h+=r.addLine(a),a="",s=0);var nt=y===x.length-1;h+=r.addLine(E,!nt),g=!1,a="",s=0}else O+s>m&&(g=!1,h+=r.addLine(a),a="",s=0),(a.length>0||!r.isBreakingSpace(E)||g)&&(a+=E,s+=O)}return h+=r.addLine(a,!1),h},r.addLine=function(e,t){return t===void 0&&(t=!0),e=r.trimRight(e),e=t?e+`
`:e,e},r.getFromCache=function(e,t,n,i){var s=n[e];if(typeof s!="number"){var a=e.length*t;s=i.measureText(e).width+a,n[e]=s}return s},r.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},r.collapseNewlines=function(e){return e==="normal"},r.trimRight=function(e){if(typeof e!="string")return"";for(var t=e.length-1;t>=0;t--){var n=e[t];if(!r.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},r.isNewline=function(e){return typeof e!="string"?!1:r._newlines.indexOf(e.charCodeAt(0))>=0},r.isBreakingSpace=function(e,t){return typeof e!="string"?!1:r._breakingSpaces.indexOf(e.charCodeAt(0))>=0},r.tokenize=function(e){var t=[],n="";if(typeof e!="string")return t;for(var i=0;i<e.length;i++){var s=e[i],a=e[i+1];if(r.isBreakingSpace(s,a)||r.isNewline(s)){n!==""&&(t.push(n),n=""),t.push(s);continue}n+=s}return n!==""&&t.push(n),t},r.canBreakWords=function(e,t){return t},r.canBreakChars=function(e,t,n,i,s){return!0},r.wordWrapSplit=function(e){return e.split("")},r.measureFont=function(e){if(r._fonts[e])return r._fonts[e];var t={ascent:0,descent:0,fontSize:0},n=r._canvas,i=r._context;i.font=e;var s=r.METRICS_STRING+r.BASELINE_SYMBOL,a=Math.ceil(i.measureText(s).width),h=Math.ceil(i.measureText(r.BASELINE_SYMBOL).width),l=Math.ceil(r.HEIGHT_MULTIPLIER*h);h=h*r.BASELINE_MULTIPLIER|0,n.width=a,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,h);var f=i.getImageData(0,0,a,l).data,d=f.length,v=a*4,p=0,g=0,m=!1;for(p=0;p<h;++p){for(var x=0;x<v;x+=4)if(f[g+x]!==255){m=!0;break}if(!m)g+=v;else break}for(t.ascent=h-p,g=d-v,m=!1,p=l;p>h;--p){for(var x=0;x<v;x+=4)if(f[g+x]!==255){m=!0;break}if(!m)g-=v;else break}return t.descent=p-h,t.fontSize=t.ascent+t.descent,r._fonts[e]=t,t},r.clearMetrics=function(e){e===void 0&&(e=""),e?delete r._fonts[e]:r._fonts={}},Object.defineProperty(r,"_canvas",{get:function(){if(!r.__canvas){var e=void 0;try{var t=new OffscreenCanvas(0,0),n=t.getContext("2d",sa);if(n&&n.measureText)return r.__canvas=t,t;e=et.ADAPTER.createCanvas()}catch{e=et.ADAPTER.createCanvas()}e.width=e.height=10,r.__canvas=e}return r.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(r,"_context",{get:function(){return r.__context||(r.__context=r._canvas.getContext("2d",sa)),r.__context},enumerable:!1,configurable:!0}),r}();Fr._fonts={};Fr.METRICS_STRING="|ÉqÅ";Fr.BASELINE_SYMBOL="M";Fr.BASELINE_MULTIPLIER=1.4;Fr.HEIGHT_MULTIPLIER=2;Fr._newlines=[10,13];Fr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var vR={texture:!0,children:!1,baseTexture:!0},Da=function(r){cR(e,r);function e(t,n,i){var s=this,a=!1;i||(i=et.ADAPTER.createCanvas(),a=!0),i.width=3,i.height=3;var h=vt.from(i);return h.orig=new Dt,h.trim=new Dt,s=r.call(this,h)||this,s._ownCanvas=a,s.canvas=i,s.context=i.getContext("2d",{willReadFrequently:!0}),s._resolution=et.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=t,s.style=n,s.localStyleID=-1,s}return e.prototype.updateText=function(t){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&t)){this._font=this._style.toFontString();var i=this.context,s=Fr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,h=s.height,l=s.lines,f=s.lineHeight,d=s.lineWidths,v=s.maxLineWidth,p=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var g,m,x=n.dropShadow?2:1,y=0;y<x;++y){var E=n.dropShadow&&y===0,R=E?Math.ceil(Math.max(1,h)+n.padding*2):0,S=R*this._resolution;if(E){i.fillStyle="black",i.strokeStyle="black";var O=n.dropShadowColor,P=ii(typeof O=="number"?O:Aa(O)),D=n.dropShadowBlur*this._resolution,A=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+P[0]*255+","+P[1]*255+","+P[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=D,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*A,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*A+S}else i.fillStyle=this._generateFillStyle(n,l,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var F=(f-p.fontSize)/2;(!e.nextLineHeightBehavior||f-p.fontSize<0)&&(F=0);for(var I=0;I<l.length;I++)g=n.strokeThickness/2,m=n.strokeThickness/2+I*f+p.ascent+F,n.align==="right"?g+=v-d[I]:n.align==="center"&&(g+=(v-d[I])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(l[I],g+n.padding,m+n.padding-R,!0),n.fill&&this.drawLetterSpacing(l[I],g+n.padding,m+n.padding-R)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,n,i,s){s===void 0&&(s=!1);var a=this._style,h=a.letterSpacing,l=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(h===0||l){l&&(this.context.letterSpacing=h,this.context.textLetterSpacing=h),s?this.context.strokeText(t,n,i):this.context.fillText(t,n,i);return}for(var f=n,d=Array.from?Array.from(t):t.split(""),v=this.context.measureText(t).width,p=0,g=0;g<d.length;++g){var m=d[g];s?this.context.strokeText(m,f,i):this.context.fillText(m,f,i);for(var x="",y=g+1;y<d.length;++y)x+=d[y];p=this.context.measureText(x).width,f+=v-p+h,v=p}},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var n=Xv(t);n.data&&(t.width=n.width,t.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,s=this._style,a=s.trim?0:s.padding,h=i.baseTexture;i.trim.width=i._frame.width=t.width/this._resolution,i.trim.height=i._frame.height=t.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),h.setRealSize(t.width,t.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),r.prototype._render.call(this,t)},e.prototype.updateTransform=function(){this.updateText(!0),r.prototype.updateTransform.call(this)},e.prototype.getBounds=function(t,n){return this.updateText(!0),this._textureID===-1&&(t=!1),r.prototype.getBounds.call(this,t,n)},e.prototype.getLocalBounds=function(t){return this.updateText(!0),r.prototype.getLocalBounds.call(this,t)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,n,i){var s=t.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var a,h=t.dropShadow?t.dropShadowDistance:0,l=t.padding||0,f=this.canvas.width/this._resolution-h-l*2,d=this.canvas.height/this._resolution-h-l*2,v=s.slice(),p=t.fillGradientStops.slice();if(!p.length)for(var g=v.length+1,m=1;m<g;++m)p.push(m/g);if(v.unshift(s[0]),p.unshift(0),v.push(s[s.length-1]),p.push(1),t.fillGradientType===ki.LINEAR_VERTICAL){a=this.context.createLinearGradient(f/2,l,f/2,d+l);for(var x=i.fontProperties.fontSize+t.strokeThickness,m=0;m<n.length;m++){var y=i.lineHeight*(m-1)+x,E=i.lineHeight*m,R=E;m>0&&y>E&&(R=(E+y)/2);var S=E+x,O=i.lineHeight*(m+1),P=S;m+1<n.length&&O<S&&(P=(S+O)/2);for(var D=(P-R)/d,A=0;A<v.length;A++){var F=0;typeof p[A]=="number"?F=p[A]:F=A/v.length;var I=Math.min(1,Math.max(0,R/d+F*D));I=Number(I.toFixed(5)),a.addColorStop(I,v[A])}}}else{a=this.context.createLinearGradient(l,d/2,f+l,d/2);for(var B=v.length+1,Z=1,m=0;m<v.length;m++){var nt=void 0;typeof p[m]=="number"?nt=p[m]:nt=Z/B,a.addColorStop(nt,v[m]),Z++}}return a},e.prototype.destroy=function(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},vR,t),r.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var n=ti(this.scale.x)||1;this.scale.x=n*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var n=ti(this.scale.y)||1;this.scale.y=n*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},t instanceof oi?this._style=t:this._style=new oi(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Ke);/*!
 * @pixi/prepare - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */et.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _l=function(r,e){return _l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},_l(r,e)};function _R(r,e){_l(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $_=function(){function r(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return r.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},r.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},r}();function gR(r,e){var t=!1;if(r&&r._textures&&r._textures.length){for(var n=0;n<r._textures.length;n++)if(r._textures[n]instanceof vt){var i=r._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),t=!0)}}return t}function mR(r,e){if(r.baseTexture instanceof Mt){var t=r.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function yR(r,e){if(r._texture&&r._texture instanceof vt){var t=r._texture.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function bR(r,e){return e instanceof Da?(e.updateText(!0),!0):!1}function xR(r,e){if(e instanceof oi){var t=e.toFontString();return Fr.measureFont(t),!0}return!1}function TR(r,e){if(r instanceof Da){e.indexOf(r.style)===-1&&e.push(r.style),e.indexOf(r)===-1&&e.push(r);var t=r._texture.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function ER(r,e){return r instanceof oi?(e.indexOf(r)===-1&&e.push(r),!0):!1}var tg=function(){function r(e){var t=this;this.limiter=new $_(et.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(TR),this.registerFindHook(ER),this.registerFindHook(gR),this.registerFindHook(mR),this.registerFindHook(yR),this.registerUploadHook(bR),this.registerUploadHook(xR)}return r.prototype.upload=function(e,t){var n=this;return typeof e=="function"&&(t=e,e=null),t&&ke("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var s=function(){t==null||t(),i()};n.queue.length?(n.completes.push(s),n.ticking||(n.ticking=!0,Se.system.addOnce(n.tick,n,Dr.UTILITY))):s()})},r.prototype.tick=function(){setTimeout(this.delayedTick,0)},r.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Se.system.addOnce(this.tick,this,Dr.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var n=0,i=s.length;n<i;n++)s[n]()}},r.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},r.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},r.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Ze)for(var t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},r.prototype.destroy=function(){this.ticking&&Se.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},r}();function eg(r,e){return e instanceof Mt?(e._glTextures[r.CONTEXT_UID]||r.texture.bind(e),!0):!1}function wR(r,e){if(!(e instanceof ks))return!1;var t=e.geometry;e.finishPoly(),t.updateBatches();for(var n=t.batches,i=0;i<n.length;i++){var s=n[i].style.texture;s&&eg(r,s.baseTexture)}return t.batchable||r.geometry.bind(t,e._resolveDirectShader(r)),!0}function SR(r,e){return r instanceof ks?(e.push(r),!0):!1}var rg=function(r){_R(e,r);function e(t){var n=r.call(this,t)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(SR),n.registerUploadHook(eg),n.registerUploadHook(wR),n}return e.extension={name:"prepare",type:$t.RendererPlugin},e}(tg),AR=function(){function r(e){this.maxMilliseconds=e,this.frameStart=0}return r.prototype.beginFrame=function(){this.frameStart=Date.now()},r.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},r}();/*!
 * @pixi/spritesheet - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ng=function(){function r(e,t,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof vt?e:null,this.baseTexture=e instanceof Mt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r.prototype._updateResolution=function(e){e===void 0&&(e=null);var t=this.data.meta.scale,n=Fs(e,null);return n===null&&(n=t!==void 0?parseFloat(t):1),n!==1&&this.baseTexture.setResolution(n),n},r.prototype.parse=function(e){var t=this;return e&&ke("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){t._callback=function(i){e==null||e(i),n(i)},t._batchIndex=0,t._frameKeys.length<=r.BATCH_SIZE?(t._processFrames(0),t._processAnimations(),t._parseComplete()):t._nextBatch()})},r.prototype._processFrames=function(e){for(var t=e,n=r.BATCH_SIZE;t-e<n&&t<this._frameKeys.length;){var i=this._frameKeys[t],s=this._frames[i],a=s.frame;if(a){var h=null,l=null,f=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new Dt(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);s.rotated?h=new Dt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):h=new Dt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new Dt(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new vt(this.baseTexture,h,d,l,s.rotated?2:0,s.anchor),vt.addToCache(this.textures[i],i)}t++}},r.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var i=e[t][n];this.animations[t].push(this.textures[i])}}},r.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},r.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*r.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*r.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},r.prototype.destroy=function(e){var t;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)===null||t===void 0||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},r.BATCH_SIZE=1e3,r}(),ig=function(){function r(){}return r.use=function(e,t){var n,i,s=this,a=e.name+"_image";if(!e.data||e.type!==pe.TYPE.JSON||!e.data.frames||s.resources[a]){t();return}var h=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(h))for(var l=function(m){if(typeof m!="string")return"continue";var x=m.replace(".json",""),y=$n.resolve(e.url.replace(s.baseUrl,""),m);if(s.resources[x]||Object.values(s.resources).some(function(R){return $n.format($n.parse(R.url))===y}))return"continue";var E={crossOrigin:e.crossOrigin,loadType:pe.LOAD_TYPE.XHR,xhrType:pe.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};s.add(x,y,E)},f=0,d=h;f<d.length;f++){var v=d[f];l(v)}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},g=r.getResourcePath(e,s.baseUrl);s.add(a,g,p,function(x){if(x.error){t(x.error);return}var y=new ng(x.texture,e.data,e.url);y.parse().then(function(){e.spritesheet=y,e.textures=y.textures,t()})})},r.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:$n.resolve(e.url.replace(t,""),e.data.meta.image)},r.extension=$t.Loader,r}();/*!
 * @pixi/sprite-tiling - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gl=function(r,e){return gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},gl(r,e)};function sg(r,e){gl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ms=new qt,PR=function(r){sg(e,r);function e(t,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var s=r.call(this,t)||this;return s.tileTransform=new kl,s._width=n,s._height=i,s.uvMatrix=s.texture.uvMatrix||new Ma(t),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,n,i,s)},e.prototype.getLocalBounds=function(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Dt),t=this._localBoundsRect),this._bounds.getRectangle(t)):r.prototype.getLocalBounds.call(this,t)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ms);var n=this._width,i=this._height,s=-n*this.anchor._x;if(ms.x>=s&&ms.x<s+n){var a=-i*this.anchor._y;if(ms.y>=a&&ms.y<a+i)return!0}return!1},e.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,n){var i=t instanceof vt?t:vt.from(t,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(Ke),RR=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Jp=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,CR=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,IR=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,OR=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,oa=new Te,og=function(r){sg(e,r);function e(t){var n=r.call(this,t)||this;return t.runners.contextChange.add(n),n.quad=new Jl,n.state=Dn.for2d(),n}return e.prototype.contextChange=function(){var t=this.renderer,n={globals:t.globalUniforms};this.simpleShader=cn.from(Jp,RR,n),this.shader=t.context.webGLVersion>1?cn.from(IR,OR,n):cn.from(Jp,CR,n)},e.prototype.render=function(t){var n=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y);var a=t.uvRespectAnchor?t.anchor.x:0,h=t.uvRespectAnchor?t.anchor.y:0;s=i.uvs,s[0]=s[6]=-a,s[1]=s[3]=-h,s[2]=s[4]=1-a,s[5]=s[7]=1-h,i.invalidate();var l=t._texture,f=l.baseTexture,d=f.alphaMode>0,v=t.tileTransform.localTransform,p=t.uvMatrix,g=f.isPowerOfTwo&&l.frame.width===f.width&&l.frame.height===f.height;g&&(f._glTextures[n.CONTEXT_UID]?g=f.wrapMode!==Ir.CLAMP:f.wrapMode===Ir.CLAMP&&(f.wrapMode=Ir.REPEAT));var m=g?this.simpleShader:this.shader,x=l.width,y=l.height,E=t._width,R=t._height;oa.set(v.a*x/E,v.b*x/R,v.c*y/E,v.d*y/R,v.tx/E,v.ty/R),oa.invert(),g?oa.prepend(p.mapCoord):(m.uniforms.uMapCoord=p.mapCoord.toArray(!0),m.uniforms.uClampFrame=p.uClampFrame,m.uniforms.uClampOffset=p.uClampOffset),m.uniforms.uTransform=oa.toArray(!0),m.uniforms.uColor=Gl(t.tint,t.worldAlpha,m.uniforms.uColor,d),m.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),m.uniforms.uSampler=l,n.shader.bind(m),n.geometry.bind(i),this.state.blendMode=Ul(t.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:$t.RendererPlugin},e}(Vs);/*!
 * @pixi/mesh - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ml=function(r,e){return ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},ml(r,e)};function Ef(r,e){ml(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ag=function(){function r(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return r.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},r}(),Ih=new qt,Qp=new xs,Hi=function(r){Ef(e,r);function e(t,n,i,s){s===void 0&&(s=vr.TRIANGLES);var a=r.call(this)||this;return a.geometry=t,a.shader=n,a.state=i||Dn.for2d(),a.drawMode=s,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=et.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===vr.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),t.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(n),t.state.set(this.state),t.geometry.bind(this.geometry,n),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var s=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[s]),t.plugins[s].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,n=t.buffers[0],i=n.data,s=n._updateID;if(!(s===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,h=a.a,l=a.b,f=a.c,d=a.d,v=a.tx,p=a.ty,g=this.vertexData,m=0;m<g.length/2;m++){var x=i[m*2],y=i[m*2+1];g[m*2]=h*x+f*y+v,g[m*2+1]=l*x+d*y+p}if(this._roundPixels)for(var E=et.RESOLUTION,m=0;m<g.length;++m)g[m]=Math.round((g[m]*E|0)/E);this.vertexDirty=s}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new ag(t,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Ih);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=Qp.points,s=this.geometry.getIndex().data,a=s.length,h=this.drawMode===4?3:1,l=0;l+2<a;l+=h){var f=s[l]*2,d=s[l+1]*2,v=s[l+2]*2;if(i[0]=n[f],i[1]=n[f+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[v],i[5]=n[v+1],Qp.contains(Ih.x,Ih.y))return!0}return!1},e.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Ze),MR=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,DR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Xi=function(r){Ef(e,r);function e(t,n){var i=this,s={uSampler:t,alpha:1,uTextureMatrix:Te.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(s,n.uniforms),i=r.call(this,n.program||Yi.from(DR,MR),s)||this,i._colorDirty=!1,i.uvMatrix=new Ma(t),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Gl(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(cn),Ys=function(r){Ef(e,r);function e(t,n,i){var s=r.call(this)||this,a=new xe(t),h=new xe(n,!0),l=new xe(i,!0,!0);return s.addAttribute("aVertexPosition",a,2,!1,pt.FLOAT).addAttribute("aTextureCoord",h,2,!1,pt.FLOAT).addIndex(l),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Vi);/*!
 * @pixi/text-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yl=function(r,e){return yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},yl(r,e)};function FR(r,e){yl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Hs=function(){function r(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return r}(),ug=function(){function r(){}return r.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},r.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in t){var s=t[i].match(/^[a-z]+/gm)[0],a=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(var l in a){var f=a[l].split("="),d=f[0],v=f[1].replace(/"/gm,""),p=parseFloat(v),g=isNaN(p)?v:p;h[d]=g}n[s].push(h)}var m=new Hs;return n.info.forEach(function(x){return m.info.push({face:x.face,size:parseInt(x.size,10)})}),n.common.forEach(function(x){return m.common.push({lineHeight:parseInt(x.lineHeight,10)})}),n.page.forEach(function(x){return m.page.push({id:parseInt(x.id,10),file:x.file})}),n.char.forEach(function(x){return m.char.push({id:parseInt(x.id,10),page:parseInt(x.page,10),x:parseInt(x.x,10),y:parseInt(x.y,10),width:parseInt(x.width,10),height:parseInt(x.height,10),xoffset:parseInt(x.xoffset,10),yoffset:parseInt(x.yoffset,10),xadvance:parseInt(x.xadvance,10)})}),n.kerning.forEach(function(x){return m.kerning.push({first:parseInt(x.first,10),second:parseInt(x.second,10),amount:parseInt(x.amount,10)})}),n.distanceField.forEach(function(x){return m.distanceField.push({distanceRange:parseInt(x.distanceRange,10),fieldType:x.fieldType})}),m},r}(),ba=function(){function r(){}return r.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},r.parse=function(e){for(var t=new Hs,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),h=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField"),f=0;f<n.length;f++)t.info.push({face:n[f].getAttribute("face"),size:parseInt(n[f].getAttribute("size"),10)});for(var f=0;f<i.length;f++)t.common.push({lineHeight:parseInt(i[f].getAttribute("lineHeight"),10)});for(var f=0;f<s.length;f++)t.page.push({id:parseInt(s[f].getAttribute("id"),10)||0,file:s[f].getAttribute("file")});for(var f=0;f<a.length;f++){var d=a[f];t.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var f=0;f<h.length;f++)t.kerning.push({first:parseInt(h[f].getAttribute("first"),10),second:parseInt(h[f].getAttribute("second"),10),amount:parseInt(h[f].getAttribute("amount"),10)});for(var f=0;f<l.length;f++)t.distanceField.push({fieldType:l[f].getAttribute("fieldType"),distanceRange:parseInt(l[f].getAttribute("distanceRange"),10)});return t},r}(),hg=function(){function r(){}return r.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var t=new globalThis.DOMParser().parseFromString(e,"text/xml");return ba.test(t)}return!1},r.parse=function(e){var t=new globalThis.DOMParser().parseFromString(e,"text/xml");return ba.parse(t)},r}(),Oh=[ug,ba,hg];function wf(r){for(var e=0;e<Oh.length;e++)if(Oh[e].test(r))return Oh[e];return null}function BR(r,e,t,n,i,s){var a=t.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var h,l=t.dropShadow?t.dropShadowDistance:0,f=t.padding||0,d=r.width/n-l-f*2,v=r.height/n-l-f*2,p=a.slice(),g=t.fillGradientStops.slice();if(!g.length)for(var m=p.length+1,x=1;x<m;++x)g.push(x/m);if(p.unshift(a[0]),g.unshift(0),p.push(a[a.length-1]),g.push(1),t.fillGradientType===ki.LINEAR_VERTICAL){h=e.createLinearGradient(d/2,f,d/2,v+f);for(var y=0,E=s.fontProperties.fontSize+t.strokeThickness,R=E/v,x=0;x<i.length;x++)for(var S=s.lineHeight*x,O=0;O<p.length;O++){var P=0;typeof g[O]=="number"?P=g[O]:P=O/p.length;var D=S/v+P*R,A=Math.max(y,D);A=Math.min(A,1),h.addColorStop(A,p[O]),y=A}}else{h=e.createLinearGradient(f,v/2,d+f,v/2);for(var F=p.length+1,I=1,x=0;x<p.length;x++){var B=void 0;typeof g[x]=="number"?B=g[x]:B=I/F,h.addColorStop(B,p[x]),I++}}return h}function LR(r,e,t,n,i,s,a){var h=t.text,l=t.fontProperties;e.translate(n,i),e.scale(s,s);var f=a.strokeThickness/2,d=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=BR(r,e,a,s,[h],t),e.strokeStyle=a.stroke,a.dropShadow){var v=a.dropShadowColor,p=ii(typeof v=="number"?v:Aa(v)),g=a.dropShadowBlur*s,m=a.dropShadowDistance*s;e.shadowColor="rgba("+p[0]*255+","+p[1]*255+","+p[2]*255+","+a.dropShadowAlpha+")",e.shadowBlur=g,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(h,f,d+t.lineHeight-l.descent),a.fill&&e.fillText(h,f,d+t.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function lg(r){return Array.from?Array.from(r):r.split("")}function NR(r){typeof r=="string"&&(r=[r]);for(var e=[],t=0,n=r.length;t<n;t++){var i=r[t];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(var h=s,l=a;h<=l;h++)e.push(String.fromCharCode(h))}else e.push.apply(e,lg(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function da(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}var un=function(){function r(e,t,n){var i,s,a=e.info[0],h=e.common[0],l=e.page[0],f=e.distanceField[0],d=Fs(l.file),v={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=h.lineHeight/d,this.chars={},this.pageTextures=v;for(var p=0;p<e.page.length;p++){var g=e.page[p],m=g.id,x=g.file;v[m]=t instanceof Array?t[p]:t[x],f!=null&&f.fieldType&&f.fieldType!=="none"&&(v[m].baseTexture.alphaMode=mr.NO_PREMULTIPLIED_ALPHA,v[m].baseTexture.mipmap=gr.OFF)}for(var p=0;p<e.char.length;p++){var y=e.char[p],m=y.id,E=y.page,R=e.char[p],S=R.x,O=R.y,P=R.width,D=R.height,A=R.xoffset,F=R.yoffset,I=R.xadvance;S/=d,O/=d,P/=d,D/=d,A/=d,F/=d,I/=d;var B=new Dt(S+v[E].frame.x/d,O+v[E].frame.y/d,P,D);this.chars[m]={xOffset:A,yOffset:F,xAdvance:I,kerning:{},texture:new vt(v[E].baseTexture,B),page:E}}for(var p=0;p<e.kerning.length;p++){var Z=e.kerning[p],nt=Z.first,_t=Z.second,Rt=Z.amount;nt/=d,_t/=d,Rt/=d,this.chars[_t]&&(this.chars[_t].kerning[nt]=Rt)}this.distanceFieldRange=f==null?void 0:f.distanceRange,this.distanceFieldType=(s=(i=f==null?void 0:f.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&s!==void 0?s:"none"}return r.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},r.install=function(e,t,n){var i;if(e instanceof Hs)i=e;else{var s=wf(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}t instanceof vt&&(t=[t]);var a=new r(i,t,n);return r.available[a.font]=a,a},r.uninstall=function(e){var t=r.available[e];if(!t)throw new Error("No font found named '"+e+"'");t.destroy(),delete r.available[e]},r.from=function(e,t,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},r.defaultOptions,n),s=i.chars,a=i.padding,h=i.resolution,l=i.textureWidth,f=i.textureHeight,d=NR(s),v=t instanceof oi?t:new oi(t),p=l,g=new Hs;g.info[0]={face:v.fontFamily,size:v.fontSize},g.common[0]={lineHeight:v.fontSize};for(var m=0,x=0,y,E,R,S=0,O=[],P=0;P<d.length;P++){y||(y=et.ADAPTER.createCanvas(),y.width=l,y.height=f,E=y.getContext("2d"),R=new Mt(y,{resolution:h}),O.push(new vt(R)),g.page.push({id:O.length-1,file:""}));var D=d[P],A=Fr.measureText(D,v,!1,y),F=A.width,I=Math.ceil(A.height),B=Math.ceil((v.fontStyle==="italic"?2:1)*F);if(x>=f-I*h){if(x===0)throw new Error("[BitmapFont] textureHeight "+f+"px is too small "+("(fontFamily: '"+v.fontFamily+"', fontSize: "+v.fontSize+"px, char: '"+D+"')"));--P,y=null,E=null,R=null,x=0,m=0,S=0;continue}if(S=Math.max(I+A.fontProperties.descent,S),B*h+m>=p){if(m===0)throw new Error("[BitmapFont] textureWidth "+l+"px is too small "+("(fontFamily: '"+v.fontFamily+"', fontSize: "+v.fontSize+"px, char: '"+D+"')"));--P,x+=S*h,x=Math.ceil(x),m=0,S=0;continue}LR(y,E,A,m,x,h,v);var Z=da(A.text);g.char.push({id:Z,page:O.length-1,x:m/h,y:x/h,width:B,height:I,xoffset:0,yoffset:0,xadvance:Math.ceil(F-(v.dropShadow?v.dropShadowDistance:0)-(v.stroke?v.strokeThickness:0))}),m+=(B+2*a)*h,m=Math.ceil(m)}for(var P=0,nt=d.length;P<nt;P++)for(var _t=d[P],Rt=0;Rt<nt;Rt++){var $=d[Rt],Q=E.measureText(_t).width,V=E.measureText($).width,ft=E.measureText(_t+$).width,ht=ft-(Q+V);ht&&g.kerning.push({first:da(_t),second:da($),amount:ht})}var q=new r(g,O,!0);return r.available[e]!==void 0&&r.uninstall(e),r.available[e]=q,q},r.ALPHA=[["a","z"],["A","Z"]," "],r.NUMERIC=[["0","9"]],r.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],r.ASCII=[[" ","~"]],r.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:r.ALPHANUMERIC},r.available={},r}(),UR=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,GR=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,$p=[],tv=[],ev=[],kR=function(r){FR(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this)||this;i._tint=16777215;var s=Object.assign({},e.styleDefaults,n),a=s.align,h=s.tint,l=s.maxWidth,f=s.letterSpacing,d=s.fontName,v=s.fontSize;if(!un.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=h,i._font=void 0,i._fontName=d,i._fontSize=v,i.text=t,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=f,i._anchor=new ln(function(){i.dirty=!0},i,0,0),i._roundPixels=et.ROUND_PIXELS,i.dirty=!0,i._resolution=et.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var t,n=un.available[this._fontName],i=this.fontSize,s=i/n.size,a=new qt,h=[],l=[],f=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",v=lg(d),p=this._maxWidth*n.size/i,g=n.distanceFieldType==="none"?$p:tv,m=null,x=0,y=0,E=0,R=-1,S=0,O=0,P=0,D=0,A=0;A<v.length;A++){var F=v[A],I=da(F);if(/(?:\s)/.test(F)&&(R=A,S=x,D++),F==="\r"||F===`
`){l.push(x),f.push(-1),y=Math.max(y,x),++E,++O,a.x=0,a.y+=n.lineHeight,m=null,D=0;continue}var B=n.chars[I];if(B){m&&B.kerning[m]&&(a.x+=B.kerning[m]);var Z=ev.pop()||{texture:vt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new qt};Z.texture=B.texture,Z.line=E,Z.charCode=I,Z.position.x=a.x+B.xOffset+this._letterSpacing/2,Z.position.y=a.y+B.yOffset,Z.prevSpaces=D,h.push(Z),x=Z.position.x+Math.max(B.xAdvance-B.xOffset,B.texture.orig.width),a.x+=B.xAdvance+this._letterSpacing,P=Math.max(P,B.yOffset+B.texture.height),m=I,R!==-1&&p>0&&a.x>p&&(++O,ei(h,1+R-O,1+A-R),A=R,R=-1,l.push(S),f.push(h.length>0?h[h.length-1].prevSpaces:0),y=Math.max(y,S),E++,a.x=0,a.y+=n.lineHeight,m=null,D=0)}}var nt=v[v.length-1];nt!=="\r"&&nt!==`
`&&(/(?:\s)/.test(nt)&&(x=S),l.push(x),y=Math.max(y,x),f.push(-1));for(var _t=[],A=0;A<=E;A++){var Rt=0;this._align==="right"?Rt=y-l[A]:this._align==="center"?Rt=(y-l[A])/2:this._align==="justify"&&(Rt=f[A]<0?0:(y-l[A])/f[A]),_t.push(Rt)}var $=h.length,Q={},V=[],ft=this._activePagesMeshData;g.push.apply(g,ft);for(var A=0;A<$;A++){var ht=h[A].texture,q=ht.baseTexture.uid;if(!Q[q]){var X=g.pop();if(!X){var ct=new Ys,yt=void 0,Et=void 0;n.distanceFieldType==="none"?(yt=new Xi(vt.EMPTY),Et=dt.NORMAL):(yt=new Xi(vt.EMPTY,{program:Yi.from(GR,UR),uniforms:{uFWidth:0}}),Et=dt.NORMAL_NPM);var Nt=new Hi(ct,yt);Nt.blendMode=Et,X={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Nt,vertices:null,uvs:null,indices:null}}X.index=0,X.indexCount=0,X.vertexCount=0,X.uvsCount=0,X.total=0;var Bt=this._textureCache;Bt[q]=Bt[q]||new vt(ht.baseTexture),X.mesh.texture=Bt[q],X.mesh.tint=this._tint,V.push(X),Q[q]=X}Q[q].total++}for(var A=0;A<ft.length;A++)V.indexOf(ft[A])===-1&&this.removeChild(ft[A].mesh);for(var A=0;A<V.length;A++)V[A].mesh.parent!==this&&this.addChild(V[A].mesh);this._activePagesMeshData=V;for(var A in Q){var X=Q[A],Ht=X.total;if(!(((t=X.indices)===null||t===void 0?void 0:t.length)>6*Ht)||X.vertices.length<Hi.BATCHABLE_SIZE*2)X.vertices=new Float32Array(4*2*Ht),X.uvs=new Float32Array(4*2*Ht),X.indices=new Uint16Array(6*Ht);else for(var st=X.total,G=X.vertices,Y=st*4*2;Y<G.length;Y++)G[Y]=0;X.mesh.size=6*Ht}for(var A=0;A<$;A++){var F=h[A],Ut=F.position.x+_t[F.line]*(this._align==="justify"?F.prevSpaces:1);this._roundPixels&&(Ut=Math.round(Ut));var Xt=Ut*s,lt=F.position.y*s,ht=F.texture,k=Q[ht.baseTexture.uid],Zt=ht.frame,fe=ht._uvs,K=k.index++;k.indices[K*6+0]=0+K*4,k.indices[K*6+1]=1+K*4,k.indices[K*6+2]=2+K*4,k.indices[K*6+3]=0+K*4,k.indices[K*6+4]=2+K*4,k.indices[K*6+5]=3+K*4,k.vertices[K*8+0]=Xt,k.vertices[K*8+1]=lt,k.vertices[K*8+2]=Xt+Zt.width*s,k.vertices[K*8+3]=lt,k.vertices[K*8+4]=Xt+Zt.width*s,k.vertices[K*8+5]=lt+Zt.height*s,k.vertices[K*8+6]=Xt,k.vertices[K*8+7]=lt+Zt.height*s,k.uvs[K*8+0]=fe.x0,k.uvs[K*8+1]=fe.y0,k.uvs[K*8+2]=fe.x1,k.uvs[K*8+3]=fe.y1,k.uvs[K*8+4]=fe.x2,k.uvs[K*8+5]=fe.y2,k.uvs[K*8+6]=fe.x3,k.uvs[K*8+7]=fe.y3}this._textWidth=y*s,this._textHeight=(a.y+n.lineHeight)*s;for(var A in Q){var X=Q[A];if(this.anchor.x!==0||this.anchor.y!==0)for(var Fe=0,vn=this._textWidth*this.anchor.x,Br=this._textHeight*this.anchor.y,He=0;He<X.total;He++)X.vertices[Fe++]-=vn,X.vertices[Fe++]-=Br,X.vertices[Fe++]-=vn,X.vertices[Fe++]-=Br,X.vertices[Fe++]-=vn,X.vertices[Fe++]-=Br,X.vertices[Fe++]-=vn,X.vertices[Fe++]-=Br;this._maxLineHeight=P*s;var _n=X.mesh.geometry.getBuffer("aVertexPosition"),Fn=X.mesh.geometry.getBuffer("aTextureCoord"),js=X.mesh.geometry.getIndex();_n.data=X.vertices,Fn.data=X.uvs,js.data=X.indices,_n.update(),Fn.update(),js.update()}for(var A=0;A<h.length;A++)ev.push(h[A]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);var n=un.available[this._fontName],i=n.distanceFieldRange,s=n.distanceFieldType,a=n.size;if(s!=="none")for(var h=this.worldTransform,l=h.a,f=h.b,d=h.c,v=h.d,p=Math.sqrt(l*l+f*f),g=Math.sqrt(d*d+v*v),m=(Math.abs(p)+Math.abs(g))/2,x=this.fontSize/a,y=0,E=this._activePagesMeshData;y<E.length;y++){var R=E[y];R.mesh.shader.uniforms.uFWidth=m*i*x*this._resolution}r.prototype._render.call(this,t)},e.prototype.getLocalBounds=function(){return this.validate(),r.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var t=un.available[this._fontName];if(!t)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!un.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var t;return(t=this._fontSize)!==null&&t!==void 0?t:un.available[this._fontName].size},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t){var n=this._textureCache,i=un.available[this._fontName],s=i.distanceFieldType==="none"?$p:tv;s.push.apply(s,this._activePagesMeshData);for(var a=0,h=this._activePagesMeshData;a<h.length;a++){var l=h[a];this.removeChild(l.mesh)}this._activePagesMeshData=[],s.filter(function(v){return n[v.mesh.texture.baseTexture.uid]}).forEach(function(v){v.mesh.texture=vt.EMPTY});for(var f in n){var d=n[f];d.destroy(),delete n[f]}this._font=null,this._textureCache=null,r.prototype.destroy.call(this,t)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Ze),fg=function(){function r(){}return r.add=function(){pe.setExtensionXhrType("fnt",pe.XHR_RESPONSE_TYPE.TEXT)},r.use=function(e,t){var n=wf(e.data);if(!n){t();return}for(var i=r.getBaseUrl(this,e),s=n.parse(e.data),a={},h=function(x){a[x.metadata.pageFile]=x.texture,Object.keys(a).length===s.page.length&&(e.bitmapFont=un.install(s,a,!0),t())},l=0;l<s.page.length;++l){var f=s.page[l].file,d=i+f,v=!1;for(var p in this.resources){var g=this.resources[p];if(g.url===d){g.metadata.pageFile=f,g.texture?h(g):g.onAfterMiddleware.add(h),v=!0;break}}if(!v){var m={crossOrigin:e.crossOrigin,loadType:pe.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},e.metadata.imageMetadata),parentResource:e};this.add(d,m,h)}}},r.getBaseUrl=function(e,t){var n=t.isDataUrl?"":r.dirname(t.url);return t.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},r.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":t===""?"/":t},r.extension=$t.Loader,r}();/*!
 * @pixi/filter-alpha - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bl=function(r,e){return bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},bl(r,e)};function HR(r,e){bl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var XR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,WR=function(r){HR(e,r);function e(t){t===void 0&&(t=1);var n=r.call(this,b_,XR,{uAlpha:1})||this;return n.alpha=t,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(pn);/*!
 * @pixi/filter-blur - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xl=function(r,e){return xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},xl(r,e)};function cg(r,e){xl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zR=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function VR(r,e){var t=Math.ceil(r/2),n=zR,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<r;a++){var h=s.replace("%index%",a.toString());h=h.replace("%sampleIndex%",a-(t-1)+".0"),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}var YR={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},jR=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function qR(r){for(var e=YR[r],t=e.length,n=jR,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,h=0;h<r;h++){var l=s.replace("%index%",h.toString());a=h,h>=t&&(a=r-h-1),l=l.replace("%value%",e[a].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}var Tl=function(r){cg(e,r);function e(t,n,i,s,a){n===void 0&&(n=8),i===void 0&&(i=4),s===void 0&&(s=et.FILTER_RESOLUTION),a===void 0&&(a=5);var h=this,l=VR(a,t),f=qR(a);return h=r.call(this,l,f)||this,h.horizontal=t,h.resolution=s,h._quality=0,h.quality=i,h.blur=n,h}return e.prototype.apply=function(t,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/n.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,n,i,s);else{var a=t.getFilterTexture(),h=t.renderer,l=n,f=a;this.state.blend=!1,t.applyFilter(this,l,f,pr.CLEAR);for(var d=1;d<this.passes-1;d++){t.bindAndClear(l,pr.BLIT),this.uniforms.uSampler=f;var v=f;f=l,l=v,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,f,i,s),t.returnFilterTexture(a)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+Math.abs(t)*2,this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(pn),KR=function(r){cg(e,r);function e(t,n,i,s){t===void 0&&(t=8),n===void 0&&(n=4),i===void 0&&(i=et.FILTER_RESOLUTION),s===void 0&&(s=5);var a=r.call(this)||this;return a.blurXFilter=new Tl(!0,t,n,i,s),a.blurYFilter=new Tl(!1,t,n,i,s),a.resolution=i,a.quality=n,a.blur=t,a.repeatEdgePixels=!1,a}return e.prototype.apply=function(t,n,i,s){var a=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(a&&h){var l=t.getFilterTexture();this.blurXFilter.apply(t,n,l,pr.CLEAR),this.blurYFilter.apply(t,l,i,s),t.returnFilterTexture(l)}else h?this.blurYFilter.apply(t,n,i,s):this.blurXFilter.apply(t,n,i,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(pn);/*!
 * @pixi/filter-color-matrix - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var El=function(r,e){return El=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},El(r,e)};function ZR(r,e){El(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var JR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,wl=function(r){ZR(e,r);function e(){var t=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return t=r.call(this,vf,JR,n)||this,t.alpha=1,t}return e.prototype._loadMatrix=function(t,n){n===void 0&&(n=!1);var i=t;n&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,n,i){return t[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],t[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],t[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],t[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],t[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],t[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],t[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],t[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],t[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],t[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],t[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],t[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],t[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],t[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],t[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],t[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],t[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],t[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],t[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],t[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],t},e.prototype._colorMatrix=function(t){var n=new Float32Array(t);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(t,n){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(t,n){var i=t>>16&255,s=t>>8&255,a=t&255,h=[i/255,0,0,0,0,0,s/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(h,n)},e.prototype.greyscale=function(t,n){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(t){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.hue=function(t,n){t=(t||0)/180*Math.PI;var i=Math.cos(t),s=Math.sin(t),a=Math.sqrt,h=1/3,l=a(h),f=i+(1-i)*h,d=h*(1-i)-l*s,v=h*(1-i)+l*s,p=h*(1-i)+l*s,g=i+h*(1-i),m=h*(1-i)-l*s,x=h*(1-i)-l*s,y=h*(1-i)+l*s,E=i+h*(1-i),R=[f,d,v,0,0,p,g,m,0,0,x,y,E,0,0,0,0,0,1,0];this._loadMatrix(R,n)},e.prototype.contrast=function(t,n){var i=(t||0)+1,s=-.5*(i-1),a=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.saturate=function(t,n){t===void 0&&(t=0);var i=t*2/3+1,s=(i-1)*-.5,a=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.sepia=function(t){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.technicolor=function(t){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.polaroid=function(t){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.toBGR=function(t){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.kodachrome=function(t){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.browni=function(t){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.vintage=function(t){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.colorTone=function(t,n,i,s,a){t=t||.2,n=n||.15,i=i||16770432,s=s||3375104;var h=(i>>16&255)/255,l=(i>>8&255)/255,f=(i&255)/255,d=(s>>16&255)/255,v=(s>>8&255)/255,p=(s&255)/255,g=[.3,.59,.11,0,0,h,l,f,t,0,d,v,p,n,0,h-d,l-v,f-p,0,0];this._loadMatrix(g,a)},e.prototype.night=function(t,n){t=t||.1;var i=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(t,n){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(t){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(pn);wl.prototype.grayscale=wl.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sl=function(r,e){return Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Sl(r,e)};function QR(r,e){Sl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $R=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,tC=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,eC=function(r){QR(e,r);function e(t,n){var i=this,s=new Te;return t.renderable=!1,i=r.call(this,tC,$R,{mapSampler:t._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=t,i.maskMatrix=s,n==null&&(n=20),i.scale=new qt(n,n),i}return e.prototype.apply=function(t,n,i,s){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,h=Math.sqrt(a.a*a.a+a.b*a.b),l=Math.sqrt(a.c*a.c+a.d*a.d);h!==0&&l!==0&&(this.uniforms.rotation[0]=a.a/h,this.uniforms.rotation[1]=a.b/h,this.uniforms.rotation[2]=a.c/l,this.uniforms.rotation[3]=a.d/l),t.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(pn);/*!
 * @pixi/filter-fxaa - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Al=function(r,e){return Al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Al(r,e)};function rC(r,e){Al(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nC=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,iC=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,sC=function(r){rC(e,r);function e(){return r.call(this,nC,iC)||this}return e}(pn);/*!
 * @pixi/filter-noise - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pl=function(r,e){return Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Pl(r,e)};function oC(r,e){Pl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var aC=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,uC=function(r){oC(e,r);function e(t,n){t===void 0&&(t=.5),n===void 0&&(n=Math.random());var i=r.call(this,vf,aC,{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(pn);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var dg=new Te;ge.prototype._cacheAsBitmap=!1;ge.prototype._cacheData=null;ge.prototype._cacheAsBitmapResolution=null;ge.prototype._cacheAsBitmapMultisample=ie.NONE;var hC=function(){function r(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return r}();Object.defineProperties(ge.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(r){if(this._cacheAsBitmap!==r){this._cacheAsBitmap=r;var e;r?(this._cacheData||(this._cacheData=new hC),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});ge.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};ge.prototype._initCachedDisplayObject=function(e){var t;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var s=this.filters[0].padding;i.pad(s)}i.ceil(et.RESOLUTION);var a=e.renderTexture.current,h=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),f=e.projection.transform,d=On.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(t=this.cacheAsBitmapMultisample)!==null&&t!==void 0?t:e.multisample}),v="cacheAsBitmap_"+In();this._cacheData.textureCacheId=v,Mt.addToCache(d.baseTexture,v),vt.addToCache(d,v);var p=this.transform.localTransform.copyTo(dg).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:p,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=f,e.renderTexture.bind(a,h,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var g=new Ke(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(i.x/i.width),g.anchor.y=-(i.y/i.height),g.alpha=n,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}};ge.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};ge.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,s=e._projTransform;t.ceil(et.RESOLUTION);var a=On.create({width:t.width,height:t.height}),h="cacheAsBitmap_"+In();this._cacheData.textureCacheId=h,Mt.addToCache(a.baseTexture,h),vt.addToCache(a,h);var l=dg;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=t.x,l.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:a,clear:!0,transform:l,skipUpdateTransform:!1}),e.context=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var f=new Ke(a);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(t.x/t.width),f.anchor.y=-(t.y/t.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}};ge.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ge.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ge.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Mt.removeFromCache(this._cacheData.textureCacheId),vt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ge.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ge.prototype.name=null;Ze.prototype.getChildByName=function(e,t){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(t)for(var n=0,i=this.children.length;n<i;n++){var s=this.children[n];if(s.getChildByName){var a=s.getChildByName(e,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ge.prototype.getGlobalPosition=function(e,t){return e===void 0&&(e=new qt),t===void 0&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pg=function(){function r(){}return r.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame(function(){return t.resize()}))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){t.cancelResize();var n,i;if(t._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var s=t._resizeTo,a=s.clientWidth,h=s.clientHeight;n=a,i=h}t.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},r.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},r.extension=$t.Application,r}(),Sf=function(){function r(e){var t=this;this.stage=new Ze,e=Object.assign({forceCanvas:!1},e),this.renderer=pf(e),r._plugins.forEach(function(n){n.init.call(t,e)})}return r.registerPlugin=function(e){ke("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),Kr.add({type:$t.Application,ref:e})},r.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(r.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),r.prototype.destroy=function(e,t){var n=this,i=r._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(n)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null},r._plugins=[],r}();Kr.handleByList($t.Application,Sf._plugins);Kr.add(pg);/*!
 * @pixi/mesh-extras - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rl=function(r,e){return Rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Rl(r,e)};function ji(r,e){Rl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var vg=function(r){ji(e,r);function e(t,n,i,s){t===void 0&&(t=100),n===void 0&&(n=100),i===void 0&&(i=10),s===void 0&&(s=10);var a=r.call(this)||this;return a.segWidth=i,a.segHeight=s,a.width=t,a.height=n,a.build(),a}return e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,n=[],i=[],s=[],a=this.segWidth-1,h=this.segHeight-1,l=this.width/a,f=this.height/h,d=0;d<t;d++){var v=d%this.segWidth,p=d/this.segWidth|0;n.push(v*l,p*f),i.push(v/a,p/h)}for(var g=a*h,d=0;d<g;d++){var m=d%a,x=d/a|0,y=x*this.segWidth+m,E=x*this.segWidth+m+1,R=(x+1)*this.segWidth+m,S=(x+1)*this.segWidth+m+1;s.push(y,E,R,E,S,R)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(Ys),_g=function(r){ji(e,r);function e(t,n,i){t===void 0&&(t=200),i===void 0&&(i=0);var s=r.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return s.points=n,s._width=t,s.textureScale=i,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(t.length<1)){n.data.length/4!==t.length&&(n.data=new Float32Array(t.length*4),i.data=new Float32Array(t.length*4),s.data=new Uint16Array((t.length-1)*6));var a=i.data,h=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var l=0,f=t[0],d=this._width*this.textureScale,v=t.length,p=0;p<v;p++){var g=p*4;if(this.textureScale>0){var m=f.x-t[p].x,x=f.y-t[p].y,y=Math.sqrt(m*m+x*x);f=t[p],l+=y/d}else l=p/(v-1);a[g]=l,a[g+1]=0,a[g+2]=l,a[g+3]=1}for(var E=0,p=0;p<v-1;p++){var g=p*2;h[E++]=g,h[E++]=g+1,h[E++]=g+2,h[E++]=g+2,h[E++]=g+1,h[E++]=g+3}i.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var n=t[0],i,s=0,a=0,h=this.buffers[0].data,l=t.length,f=0;f<l;f++){var d=t[f],v=f*4;f<t.length-1?i=t[f+1]:i=d,a=-(i.x-n.x),s=i.y-n.y;var p=Math.sqrt(s*s+a*a),g=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=p,a/=p,s*=g,a*=g,h[v]=d.x+s,h[v+1]=d.y+a,h[v+2]=d.x-s,h[v+3]=d.y-a,n=d}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(Ys),lC=function(r){ji(e,r);function e(t,n,i){i===void 0&&(i=0);var s=this,a=new _g(t.height,n,i),h=new Xi(t);return i>0&&(t.baseTexture.wrapMode=Ir.REPEAT),s=r.call(this,a,h)||this,s.autoUpdate=!0,s}return e.prototype._render=function(t){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),r.prototype._render.call(this,t)},e}(Hi),gg=function(r){ji(e,r);function e(t,n,i){var s=this,a=new vg(t.width,t.height,n,i),h=new Xi(vt.WHITE);return s=r.call(this,a,h)||this,s.texture=t,s.autoResize=!0,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,n=this.shader.texture,i=n.width,s=n.height;this.autoResize&&(t.width!==i||t.height!==s)&&(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),r.prototype._render.call(this,t)},e.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),r.prototype.destroy.call(this,t)},e}(Hi),fC=function(r){ji(e,r);function e(t,n,i,s,a){t===void 0&&(t=vt.EMPTY);var h=this,l=new Ys(n,i,s);l.getBuffer("aVertexPosition").static=!1;var f=new Xi(t);return h=r.call(this,l,f,null,a)||this,h.autoUpdate=!0,h}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),r.prototype._render.call(this,t)},e}(Hi),aa=10,cC=function(r){ji(e,r);function e(t,n,i,s,a){n===void 0&&(n=aa),i===void 0&&(i=aa),s===void 0&&(s=aa),a===void 0&&(a=aa);var h=r.call(this,vt.WHITE,4,4)||this;return h._origWidth=t.orig.width,h._origHeight=t.orig.height,h._width=h._origWidth,h._height=h._origHeight,h._leftWidth=n,h._rightWidth=s,h._topHeight=i,h._bottomHeight=a,h.texture=t,h}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,n=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,n=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,n=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,a=Math.min(n,s);return a},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,n=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,s=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=s*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(gg);/*!
 * @pixi/sprite-animated - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cl=function(r,e){return Cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Cl(r,e)};function dC(r,e){Cl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var pC=function(r){dC(e,r);function e(t,n){n===void 0&&(n=!0);var i=r.call(this,t[0]instanceof vt?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Se.shared.add(this.update,this,Dr.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var n=this.currentFrame;this._currentTime=t,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var n=this.currentFrame;this._currentTime=t,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var n=this.animationSpeed*t,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(t){this.stop(),r.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var n=[],i=0;i<t.length;++i)n.push(vt.from(t[i]));return new e(n)},e.fromImages=function(t){for(var n=[],i=0;i<t.length;++i)n.push(vt.from(t[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof vt)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<t.length;n++)this._textures.push(t[n].texture),this._durations.push(t[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Se.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Ke);/*!
 * pixi.js - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Kr.add(P_,yf,I_,V_,rg,gf,og,fg,L_,X_,W_,ig,Jv,M_);var mg={AlphaFilter:WR,BlurFilter:KR,BlurFilterPass:Tl,ColorMatrixFilter:wl,DisplacementFilter:eC,FXAAFilter:sC,NoiseFilter:uC};const vC=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return mr},AbstractBatchRenderer:x_,AbstractMultiResource:Ia,AbstractRenderer:y_,AccessibilityManager:P_,AnimatedSprite:pC,AppLoaderPlugin:M_,Application:Sf,ArrayResource:Wl,Attribute:el,get BLEND_MODES(){return dt},get BUFFER_BITS(){return As},get BUFFER_TYPE(){return Or},BaseImageResource:zr,BasePrepare:tg,BaseRenderTexture:Kl,BaseTexture:Mt,BatchDrawCall:_a,BatchGeometry:_f,BatchPluginFactory:E_,BatchRenderer:gf,BatchShaderGenerator:T_,BatchSystem:$l,BatchTextureArray:ga,BitmapFont:un,BitmapFontData:Hs,BitmapFontLoader:fg,BitmapText:kR,BlobResource:B_,Bounds:Ls,BrowserAdapter:Dv,Buffer:xe,BufferResource:li,get CLEAR_MODES(){return pr},get COLOR_MASK_BITS(){return Uh},CanvasResource:zl,Circle:jv,CompressedTextureLoader:L_,CompressedTextureResource:ya,Container:Ze,ContextSystem:tf,CountLimiter:$_,CubeResource:Vl,DDSLoader:X_,DEG_TO_RAD:Yv,get DRAW_MODES(){return vr},DisplayObject:ge,get ENV(){return Wr},Ellipse:qv,get ExtensionType(){return $t},Extract:yf,get FORMATS(){return J},FORMATS_TO_COMPONENTS:G_,FillStyle:bf,Filter:pn,FilterState:e_,FilterSystem:Ql,Framebuffer:va,FramebufferSystem:ef,get GC_MODES(){return Rs},GLFramebuffer:r_,GLProgram:__,GLTexture:la,GRAPHICS_CURVES:Gi,Geometry:Vi,GeometrySystem:rf,Graphics:ks,GraphicsData:dl,GraphicsGeometry:J_,IGLUniformData:qA,INSTALLED:Ns,get INTERNAL_FORMATS(){return At},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Us,ImageBitmapResource:ql,ImageResource:Oa,InteractionData:rl,InteractionEvent:R_,InteractionManager:I_,InteractionTrackingData:fa,KTXLoader:W_,get LINE_CAP(){return fn},get LINE_JOIN(){return kr},LineStyle:Q_,Loader:Ui,get LoaderResource(){return pe},get MASK_TYPES(){return be},get MIPMAP_MODES(){return gr},get MSAA_QUALITY(){return ie},MaskData:n_,MaskSystem:nf,Matrix:Te,Mesh:Hi,MeshBatchUvs:ag,MeshGeometry:Ys,MeshMaterial:Xi,NineSlicePlane:cC,ObjectRenderer:Vs,ObservablePoint:ln,PI_2:Bs,get PRECISION(){return qe},ParticleContainer:nR,ParticleRenderer:V_,PlaneGeometry:vg,Point:qt,Polygon:xs,Prepare:rg,Program:Yi,ProjectionSystem:af,Quad:t_,QuadUv:Jl,RAD_TO_DEG:Vv,get RENDERER_TYPE(){return Li},Rectangle:Dt,RenderTexture:On,RenderTexturePool:$v,RenderTextureSystem:uf,Renderer:df,ResizePlugin:pg,Resource:si,RopeGeometry:_g,RoundedRectangle:Kv,Runner:Re,get SAMPLER_TYPES(){return Ps},get SCALE_MODES(){return Ue},get SHAPES(){return Ae},SVGResource:Yl,ScissorSystem:sf,Shader:cn,ShaderSystem:hf,SimpleMesh:fC,SimplePlane:gg,SimpleRope:lC,Sprite:Ke,SpriteMaskFilter:l_,Spritesheet:ng,SpritesheetLoader:ig,State:Dn,StateSystem:lf,StencilSystem:of,System:lP,get TARGETS(){return Rn},get TEXT_GRADIENT(){return ki},get TYPES(){return pt},TYPES_TO_BYTES_PER_COMPONENT:al,TYPES_TO_BYTES_PER_PIXEL:k_,TemporaryDisplayObject:Xl,Text:Da,TextFormat:ug,TextMetrics:Fr,TextStyle:oi,Texture:vt,TextureGCSystem:ff,TextureLoader:D_,TextureMatrix:Ma,TextureSystem:cf,TextureUvs:Zl,Ticker:Se,TickerPlugin:Jv,TilingSprite:PR,TilingSpriteRenderer:og,TimeLimiter:AR,Transform:kl,get UPDATE_PRIORITY(){return Dr},UniformGroup:Cn,VERSION:dP,VideoResource:jl,ViewableBuffer:ma,get WRAP_MODES(){return Ir},XMLFormat:ba,XMLStringFormat:hg,accessibleTarget:A_,autoDetectFormat:wf,autoDetectRenderer:pf,autoDetectResource:Ca,checkMaxIfStatementsInShader:h_,createUBOElements:d_,defaultFilterVertex:vf,defaultVertex:b_,extensions:Kr,filters:mg,generateProgram:g_,generateUniformBufferSync:v_,getTestContext:o_,getUBOData:p_,graphicsUtils:hR,groupD8:he,interactiveTarget:C_,isMobile:_r,parseDDS:U_,parseKTX:H_,resources:w_,settings:et,systems:S_,uniformParsers:ri,utils:gA},Symbol.toStringTag,{value:"Module"}));function yg(r){return Object.keys(r).reduce((e,t)=>typeof r[t]>"u"?e:{...e,[t]:r[t]},{})}const _C=r=>({}),rv=r=>({});function gC(r){let e,t,n;return{c(){e=Pt("div")},m(i,s){Yt(i,e,s),t||(n=Tv(r[0].call(null,e)),t=!0)},p:Ge,i:Ge,o:Ge,d(i){i&&Wt(e),t=!1,n()}}}function mC(r){let e,t,n,i;const s=r[16].view,a=Vr(s,r,r[15],rv);return{c(){e=Pt("div"),a&&a.c()},m(h,l){Yt(h,e,l),a&&a.m(e,null),t=!0,n||(i=Tv(r[0].call(null,e)),n=!0)},p(h,l){a&&a.p&&(!t||l&32768)&&jr(a,s,h,h[15],t?Yr(s,h[15],l,_C):qr(h[15]),rv)},i(h){t||(rt(a,h),t=!0)},o(h){at(a,h),t=!1},d(h){h&&Wt(e),a&&a.d(h),n=!1,i()}}}function yC(r){let e,t,n,i;const s=[mC,gC],a=[];function h(d,v){return d[1].view?0:1}e=h(r),t=a[e]=s[e](r);const l=r[16].default,f=Vr(l,r,r[15],null);return{c(){t.c(),n=Vt(),f&&f.c()},m(d,v){a[e].m(d,v),Yt(d,n,v),f&&f.m(d,v),i=!0},p(d,[v]){let p=e;e=h(d),e===p?a[e].p(d,v):(nr(),at(a[p],1,1,()=>{a[p]=null}),ir(),t=a[e],t?t.p(d,v):(t=a[e]=s[e](d),t.c()),rt(t,1),t.m(n.parentNode,n)),f&&f.p&&(!i||v&32768)&&jr(f,l,d,d[15],i?Yr(l,d[15],v,null):qr(d[15]),null)},i(d){i||(rt(t),rt(f,d),i=!0)},o(d){at(t),at(f,d),i=!1},d(d){a[e].d(d),d&&Wt(n),f&&f.d(d)}}}function Fa(){return Dl("pixi/renderer")}function bC(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=xv(n),a=zs();let{width:h=800}=e,{height:l=600}=e,{useContextAlpha:f=void 0}=e,{autoDensity:d=!0}=e,{antialias:v=!1}=e,{preserveDrawingBuffer:p=!1}=e,{resolution:g=et.RESOLUTION}=e,{forceCanvas:m=!1}=e,{backgroundColor:x=0}=e,{backgroundAlpha:y=1}=e,{clearBeforeRender:E=void 0}=e,{powerPreference:R=void 0}=e,{instance:S=pf(yg({width:h,height:l,useContextAlpha:f,autoDensity:d,antialias:v,preserveDrawingBuffer:p,resolution:g,forceCanvas:m,backgroundColor:x,backgroundAlpha:y,clearBeforeRender:E,powerPreference:R}))}=e;Bi("pixi/renderer",{renderer:S,invalidate:()=>{a("invalidate")}});function O(P){P.childNodes.length?P.childNodes[0].appendChild(S.view):P.appendChild(S.view)}return xa(()=>{S.on("prerender",P=>a("prerender",P)),S.on("postrender",P=>a("postrender",P))}),r.$$set=P=>{"width"in P&&t(2,h=P.width),"height"in P&&t(3,l=P.height),"useContextAlpha"in P&&t(4,f=P.useContextAlpha),"autoDensity"in P&&t(5,d=P.autoDensity),"antialias"in P&&t(6,v=P.antialias),"preserveDrawingBuffer"in P&&t(7,p=P.preserveDrawingBuffer),"resolution"in P&&t(8,g=P.resolution),"forceCanvas"in P&&t(9,m=P.forceCanvas),"backgroundColor"in P&&t(10,x=P.backgroundColor),"backgroundAlpha"in P&&t(11,y=P.backgroundAlpha),"clearBeforeRender"in P&&t(12,E=P.clearBeforeRender),"powerPreference"in P&&t(13,R=P.powerPreference),"instance"in P&&t(14,S=P.instance),"$$scope"in P&&t(15,i=P.$$scope)},[O,s,h,l,f,d,v,p,g,m,x,y,E,R,S,i,n]}class xC extends xr{constructor(e){super(),br(this,e,bC,yC,yr,{width:2,height:3,useContextAlpha:4,autoDensity:5,antialias:6,preserveDrawingBuffer:7,resolution:8,forceCanvas:9,backgroundColor:10,backgroundAlpha:11,clearBeforeRender:12,powerPreference:13,instance:14})}}function TC(r){let e;const t=r[7].default,n=Vr(t,r,r[6],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,[s]){n&&n.p&&(!e||s&64)&&jr(n,t,i,i[6],e?Yr(t,i[6],s,null):qr(i[6]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function EC(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=zs();let{autoStart:a=!0}=e,{maxFPS:h=0}=e,{minFPS:l=10}=e,{speed:f=1}=e,{instance:d=new Se}=e,{priority:v=Dr.LOW}=e;Bi("pixi/ticker",{ticker:d});const{applyProp:p}=Ba(d);return xa(()=>(d.add(g=>{s("tick",g)},v),()=>{d.destroy()})),r.$$set=g=>{"autoStart"in g&&t(0,a=g.autoStart),"maxFPS"in g&&t(1,h=g.maxFPS),"minFPS"in g&&t(2,l=g.minFPS),"speed"in g&&t(3,f=g.speed),"instance"in g&&t(4,d=g.instance),"priority"in g&&t(5,v=g.priority),"$$scope"in g&&t(6,i=g.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&p("autoStart",a),r.$$.dirty&2&&p("maxFPS",h),r.$$.dirty&4&&p("minFPS",l),r.$$.dirty&8&&p("speed",f)},[a,h,l,f,d,v,i,n]}class bg extends xr{constructor(e){super(),br(this,e,EC,TC,yr,{autoStart:0,maxFPS:1,minFPS:2,speed:3,instance:4,priority:5})}}function wC(r){return Array.isArray(r)?new qt(r[0],r[1]):typeof r=="number"?new qt(r,r):r instanceof qt||r instanceof ln?r:new qt(r.x,r.y)}function Ba(r,e){const t=e;return{applyProps:n=>SC(r,n,{...t,...e}),applyProp:(n,i)=>xg(r,n,i,n!==null?t==null?void 0:t[n]:void 0)}}function SC(r,e,t){if(r)for(const[n,i]of Object.entries(e))xg(r,n,i,t==null?void 0:t[n])}function xg(r,e,t,n){r&&(e===null?n==null||n(t,r):r[e]!==t&&typeof t<"u"&&(n?n(t,r):r[e]instanceof qt||r[e]instanceof ln?r[e]=wC(t):r[e]=t))}function AC(r){let e;const t=r[40].default,n=Vr(t,r,r[39],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s[1]&256)&&jr(n,t,i,i[39],e?Yr(t,i[39],s,null):qr(i[39]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function PC(){return Dl("pixi/container")}function RC(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=xv(n);let{accessible:a=!1}=e,{accessibleChildren:h=!0}=e,{accessibleHint:l=void 0}=e,{accessiblePointerEvents:f="auto"}=e,{accessibleTitle:d=void 0}=e,{accessibleType:v="button"}=e,{alpha:p=void 0}=e,{angle:g=void 0}=e,{buttonMode:m=void 0}=e,{cacheAsBitmap:x=void 0}=e,{cacheAsBitmapMultisample:y=ie.NONE}=e,{cacheAsBitmapResolution:E=void 0}=e,{cullable:R=void 0}=e,{cullArea:S=void 0}=e,{cursor:O=void 0}=e,{filterArea:P=void 0}=e,{filters:D=void 0}=e,{height:A=void 0}=e,{hitArea:F=void 0}=e,{interactive:I=!1}=e,{interactiveChildren:B=!0}=e,{isMask:Z=void 0}=e,{isSprite:nt=void 0}=e,{mask:_t=void 0}=e,{name:Rt=void 0}=e,{pivot:$=void 0}=e,{position:Q=void 0}=e,{renderable:V=void 0}=e,{rotation:ft=void 0}=e,{scale:ht=void 0}=e,{skew:q=void 0}=e,{sortableChildren:X=void 0}=e,{width:ct=void 0}=e,{transform:yt=void 0}=e,{visible:Et=void 0}=e,{x:Nt=void 0}=e,{y:Bt=void 0}=e,{zIndex:Ht=void 0}=e,{instance:st=new Ze}=e;const{applyProp:G,applyProps:Y}=Ba(st),{invalidate:Ut}=Fa(),{container:Xt}=PC()??{},lt=zs();return xa(()=>{let k=-1,Zt=st,fe=Xt;try{k=fe.getChildIndex(Zt)}catch{}if(fe&&k===-1&&fe.addChild(Zt),lt("create",{instance:Zt}),s.default){const{instance:K,...Fe}=e;Y(Fe)}return st.on("click",K=>lt("click",K)),st.on("mousedown",K=>lt("mousedown",K)),st.on("mousemove",K=>lt("mousemove",K)),st.on("mouseout",K=>lt("mouseout",K)),st.on("mouseover",K=>lt("mouseover",K)),st.on("mouseup",K=>lt("mouseup",K)),st.on("mouseupoutside",K=>lt("mouseupoutside",K)),st.on("mouseupoutside",K=>lt("mouseupoutside",K)),st.on("pointercancel",K=>lt("pointercancel",K)),st.on("pointerdown",K=>lt("pointerdown",K)),st.on("pointermove",K=>lt("pointermove",K)),st.on("pointerout",K=>lt("pointerout",K)),st.on("pointerover",K=>lt("pointerover",K)),st.on("pointertap",K=>lt("pointertap",K)),st.on("pointerup",K=>lt("pointerup",K)),st.on("pointerupoutside",K=>lt("pointerupoutside",K)),st.on("removedFrom",K=>lt("removedFrom",K)),st.on("rightclick",K=>lt("rightclick",K)),st.on("rightdown",K=>lt("rightdown",K)),st.on("rightup",K=>lt("rightup",K)),st.on("rightupoutside",K=>lt("rightupoutside",K)),st.on("tap",K=>lt("tap",K)),st.on("touchcancel",K=>lt("touchcancel",K)),st.on("touchend",K=>lt("touchend",K)),st.on("touchendoutside",K=>lt("touchendoutside",K)),st.on("touchmove",K=>lt("touchmove",K)),st.on("touchstart",K=>lt("touchstart",K)),st.on("added",K=>lt("added",K)),st.on("removed",K=>lt("removed",K)),()=>{Zt==null||Zt.destroy(),fe==null||fe.removeChild(Zt),Ut()}}),Ml(()=>{Ut()}),Xt||Bi("pixi/stage",{stage:st}),Bi("pixi/container",{container:st}),r.$$set=k=>{t(46,e=De(De({},e),Es(k))),"accessible"in k&&t(0,a=k.accessible),"accessibleChildren"in k&&t(1,h=k.accessibleChildren),"accessibleHint"in k&&t(2,l=k.accessibleHint),"accessiblePointerEvents"in k&&t(3,f=k.accessiblePointerEvents),"accessibleTitle"in k&&t(4,d=k.accessibleTitle),"accessibleType"in k&&t(5,v=k.accessibleType),"alpha"in k&&t(6,p=k.alpha),"angle"in k&&t(7,g=k.angle),"buttonMode"in k&&t(8,m=k.buttonMode),"cacheAsBitmap"in k&&t(9,x=k.cacheAsBitmap),"cacheAsBitmapMultisample"in k&&t(10,y=k.cacheAsBitmapMultisample),"cacheAsBitmapResolution"in k&&t(11,E=k.cacheAsBitmapResolution),"cullable"in k&&t(12,R=k.cullable),"cullArea"in k&&t(13,S=k.cullArea),"cursor"in k&&t(14,O=k.cursor),"filterArea"in k&&t(15,P=k.filterArea),"filters"in k&&t(16,D=k.filters),"height"in k&&t(17,A=k.height),"hitArea"in k&&t(18,F=k.hitArea),"interactive"in k&&t(19,I=k.interactive),"interactiveChildren"in k&&t(20,B=k.interactiveChildren),"isMask"in k&&t(21,Z=k.isMask),"isSprite"in k&&t(22,nt=k.isSprite),"mask"in k&&t(23,_t=k.mask),"name"in k&&t(24,Rt=k.name),"pivot"in k&&t(25,$=k.pivot),"position"in k&&t(26,Q=k.position),"renderable"in k&&t(27,V=k.renderable),"rotation"in k&&t(28,ft=k.rotation),"scale"in k&&t(29,ht=k.scale),"skew"in k&&t(30,q=k.skew),"sortableChildren"in k&&t(31,X=k.sortableChildren),"width"in k&&t(32,ct=k.width),"transform"in k&&t(33,yt=k.transform),"visible"in k&&t(34,Et=k.visible),"x"in k&&t(35,Nt=k.x),"y"in k&&t(36,Bt=k.y),"zIndex"in k&&t(37,Ht=k.zIndex),"instance"in k&&t(38,st=k.instance),"$$scope"in k&&t(39,i=k.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&1&&G("accessible",a),r.$$.dirty[0]&2&&G("accessibleChildren",h),r.$$.dirty[0]&4&&G("accessibleHint",l),r.$$.dirty[0]&8&&G("accessiblePointerEvents",f),r.$$.dirty[0]&16&&G("accessibleTitle",d),r.$$.dirty[0]&32&&G("accessibleType",v),r.$$.dirty[0]&64&&G("alpha",p),r.$$.dirty[0]&128&&G("angle",g),r.$$.dirty[0]&256&&G("buttonMode",m),r.$$.dirty[0]&512&&G("cacheAsBitmap",x),r.$$.dirty[0]&2048&&G("cacheAsBitmapResolution",E),r.$$.dirty[0]&1024&&G("cacheAsBitmapMultisample",y),r.$$.dirty[0]&16384&&G("cursor",O),r.$$.dirty[0]&4096&&G("cullable",R),r.$$.dirty[0]&8192&&G("cullArea",S),r.$$.dirty[0]&32768&&G("filterArea",P),r.$$.dirty[0]&262144&&G("hitArea",F),r.$$.dirty[0]&65536&&G("filters",D),r.$$.dirty[0]&131072&&G("height",A),r.$$.dirty[0]&2097152&&G("isMask",Z),r.$$.dirty[0]&4194304&&G("isSprite",nt),r.$$.dirty[0]&524288&&G("interactive",I),r.$$.dirty[0]&1048576&&G("interactiveChildren",B),r.$$.dirty[0]&8388608&&G("mask",_t),r.$$.dirty[0]&16777216&&G("name",Rt),r.$$.dirty[0]&33554432&&G("pivot",$),r.$$.dirty[0]&67108864&&G("position",Q),r.$$.dirty[0]&134217728&&G("renderable",V),r.$$.dirty[0]&268435456&&G("rotation",ft),r.$$.dirty[0]&536870912&&G("scale",ht),r.$$.dirty[0]&1073741824&&G("skew",q),r.$$.dirty[1]&1&&G("sortableChildren",X),r.$$.dirty[1]&4&&G("transform",yt),r.$$.dirty[1]&8&&G("visible",Et),r.$$.dirty[1]&16&&G("x",Nt),r.$$.dirty[1]&32&&G("y",Bt),r.$$.dirty[1]&2&&G("width",ct),r.$$.dirty[1]&64&&G("zIndex",Ht)},e=Es(e),[a,h,l,f,d,v,p,g,m,x,y,E,R,S,O,P,D,A,F,I,B,Z,nt,_t,Rt,$,Q,V,ft,ht,q,X,ct,yt,Et,Nt,Bt,Ht,st,i,n]}class fi extends xr{constructor(e){super(),br(this,e,RC,AC,yr,{accessible:0,accessibleChildren:1,accessibleHint:2,accessiblePointerEvents:3,accessibleTitle:4,accessibleType:5,alpha:6,angle:7,buttonMode:8,cacheAsBitmap:9,cacheAsBitmapMultisample:10,cacheAsBitmapResolution:11,cullable:12,cullArea:13,cursor:14,filterArea:15,filters:16,height:17,hitArea:18,interactive:19,interactiveChildren:20,isMask:21,isSprite:22,mask:23,name:24,pivot:25,position:26,renderable:27,rotation:28,scale:29,skew:30,sortableChildren:31,width:32,transform:33,visible:34,x:35,y:36,zIndex:37,instance:38},null,[-1,-1])}}const CC=r=>({}),nv=r=>({slot:"view"});function iv(r){let e,t;return e=new bg({}),e.$on("tick",r[18]),{c(){se(e.$$.fragment)},m(n,i){ee(e,n,i),t=!0},p:Ge,i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function IC(r){let e;const t=r[17].default,n=Vr(t,r,r[22],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&4194304)&&jr(n,t,i,i[22],e?Yr(t,i[22],s,null):qr(i[22]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function OC(r){let e,t;return e=new fi({props:{instance:r[1].stage,$$slots:{default:[IC]},$$scope:{ctx:r}}}),{c(){se(e.$$.fragment)},m(n,i){ee(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.instance=n[1].stage),i&4194304&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function MC(r){let e,t,n,i=r[0]&&iv(r);return t=new bg({props:{instance:r[1].ticker,$$slots:{default:[OC]},$$scope:{ctx:r}}}),{c(){i&&i.c(),e=Vt(),se(t.$$.fragment)},m(s,a){i&&i.m(s,a),Yt(s,e,a),ee(t,s,a),n=!0},p(s,a){s[0]?i?(i.p(s,a),a&1&&rt(i,1)):(i=iv(s),i.c(),rt(i,1),i.m(e.parentNode,e)):i&&(nr(),at(i,1,1,()=>{i=null}),ir());const h={};a&2&&(h.instance=s[1].ticker),a&4194306&&(h.$$scope={dirty:a,ctx:s}),t.$set(h)},i(s){n||(rt(i),rt(t.$$.fragment,s),n=!0)},o(s){at(i),at(t.$$.fragment,s),n=!1},d(s){i&&i.d(s),s&&Wt(e),re(t,s)}}}function DC(r){let e;return{c(){e=Pt("div")},m(t,n){Yt(t,e,n)},p:Ge,d(t){t&&Wt(e)}}}function FC(r){let e;const t=r[17].view,n=Vr(t,r,r[22],nv),i=n||DC();return{c(){i&&i.c()},m(s,a){i&&i.m(s,a),e=!0},p(s,a){n&&n.p&&(!e||a&4194304)&&jr(n,t,s,s[22],e?Yr(t,s[22],a,CC):qr(s[22]),nv)},i(s){e||(rt(i,s),e=!0)},o(s){at(i,s),e=!1},d(s){i&&i.d(s)}}}function BC(r){let e,t;return e=new xC({props:{instance:r[1].renderer,$$slots:{view:[FC],default:[MC]},$$scope:{ctx:r}}}),e.$on("invalidate",r[19]),e.$on("prerender",r[20]),e.$on("postrender",r[21]),{c(){se(e.$$.fragment)},m(n,i){ee(e,n,i),t=!0},p(n,[i]){const s={};i&2&&(s.instance=n[1].renderer),i&4194311&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function Tg(){return Dl("pixi/app")??{}}function LC(r,e,t){let{$$slots:n={},$$scope:i}=e,{autoStart:s=!0}=e,{width:a=800}=e,{height:h=600}=e,{useContextAlpha:l=void 0}=e,{autoDensity:f=!0}=e,{antialias:d=!1}=e,{preserveDrawingBuffer:v=!1}=e,{resolution:p=et.RESOLUTION}=e,{forceCanvas:g=!1}=e,{backgroundColor:m=0}=e,{backgroundAlpha:x=1}=e,{clearBeforeRender:y=void 0}=e,{powerPreference:E=void 0}=e,{resizeTo:R=void 0}=e,{render:S="auto"}=e,{instance:O=new Sf(yg({autoStart:s,width:a,height:h,useContextAlpha:l,autoDensity:f,antialias:d,preserveDrawingBuffer:v,resolution:p,forceCanvas:g,backgroundColor:m,backgroundAlpha:x,clearBeforeRender:y,powerPreference:E,resizeTo:R}))}=e,P=!0;Bi("pixi/app",{app:O}),S&&O.ticker.remove(O.render,O);const D=()=>{S==="demand"?P&&(t(2,P=!1),O.renderer.render(O.stage)):S==="auto"&&O.renderer.render(O.stage)},A=()=>{t(2,P=!0)};function F(B){ot.call(this,r,B)}function I(B){ot.call(this,r,B)}return r.$$set=B=>{"autoStart"in B&&t(3,s=B.autoStart),"width"in B&&t(4,a=B.width),"height"in B&&t(5,h=B.height),"useContextAlpha"in B&&t(6,l=B.useContextAlpha),"autoDensity"in B&&t(7,f=B.autoDensity),"antialias"in B&&t(8,d=B.antialias),"preserveDrawingBuffer"in B&&t(9,v=B.preserveDrawingBuffer),"resolution"in B&&t(10,p=B.resolution),"forceCanvas"in B&&t(11,g=B.forceCanvas),"backgroundColor"in B&&t(12,m=B.backgroundColor),"backgroundAlpha"in B&&t(13,x=B.backgroundAlpha),"clearBeforeRender"in B&&t(14,y=B.clearBeforeRender),"powerPreference"in B&&t(15,E=B.powerPreference),"resizeTo"in B&&t(16,R=B.resizeTo),"render"in B&&t(0,S=B.render),"instance"in B&&t(1,O=B.instance),"$$scope"in B&&t(22,i=B.$$scope)},[S,O,P,s,a,h,l,f,d,v,p,g,m,x,y,E,R,n,D,A,F,I,i]}class NC extends xr{constructor(e){super(),br(this,e,LC,BC,yr,{autoStart:3,width:4,height:5,useContextAlpha:6,autoDensity:7,antialias:8,preserveDrawingBuffer:9,resolution:10,forceCanvas:11,backgroundColor:12,backgroundAlpha:13,clearBeforeRender:14,powerPreference:15,resizeTo:16,render:0,instance:1})}}const UC=r=>({progress:r&1}),sv=r=>({progress:r[0]});function GC(r){let e;const t=r[7].default,n=Vr(t,r,r[6],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&64)&&jr(n,t,i,i[6],e?Yr(t,i[6],s,null):qr(i[6]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function kC(r){let e;const t=r[7].loading,n=Vr(t,r,r[6],sv);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&65)&&jr(n,t,i,i[6],e?Yr(t,i[6],s,UC):qr(i[6]),sv)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function HC(r){let e,t,n,i;const s=[kC,GC],a=[];function h(l,f){return l[1]?0:1}return e=h(r),t=a[e]=s[e](r),{c(){t.c(),n=ai()},m(l,f){a[e].m(l,f),Yt(l,n,f),i=!0},p(l,[f]){let d=e;e=h(l),e===d?a[e].p(l,f):(nr(),at(a[d],1,1,()=>{a[d]=null}),ir(),t=a[e],t?t.p(l,f):(t=a[e]=s[e](l),t.c()),rt(t,1),t.m(n.parentNode,n))},i(l){i||(rt(t),i=!0)},o(l){at(t),i=!1},d(l){a[e].d(l),l&&Wt(n)}}}function XC(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=zs();let{resources:a=[]}=e,{baseUrl:h=""}=e,{concurrency:l=10}=e,{instance:f=new Ui}=e;Bi("pixi/loader",{loader:f});const{invalidate:d}=Fa();let v=0,p=a.length>0;return xa(()=>{h&&t(2,f.baseUrl=h,f),l&&t(2,f.concurrency=l,f),a.forEach(A=>{Array.isArray(A)?f.add(...A):f.add(A)}),f.load();function g(A){s("complete",A),d(),t(1,p=!1)}function m(A){s("progress",A),d(),t(0,v=A.progress)}function x(A){s("error",A),d()}function y(A){s("start",A),d()}function E(A){s("load",A),d()}const R=f.onComplete.add(g),S=f.onProgress.add(m),O=f.onError.add(x),P=f.onStart.add(y),D=f.onLoad.add(E);return()=>{f.onComplete.detach(R),f.onProgress.detach(S),f.onError.detach(O),f.onStart.detach(P),f.onLoad.detach(D)}}),r.$$set=g=>{"resources"in g&&t(3,a=g.resources),"baseUrl"in g&&t(4,h=g.baseUrl),"concurrency"in g&&t(5,l=g.concurrency),"instance"in g&&t(2,f=g.instance),"$$scope"in g&&t(6,i=g.$$scope)},[v,p,f,a,h,l,i,n]}class WC extends xr{constructor(e){super(),br(this,e,XC,HC,yr,{resources:3,baseUrl:4,concurrency:5,instance:2})}}function zC(r){let e;const t=r[7].default,n=Vr(t,r,r[38],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s[1]&128)&&jr(n,t,i,i[38],e?Yr(t,i[38],s,null):qr(i[38]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function VC(r){let e,t;const n=[r[1],{instance:r[0]}];let i={$$slots:{default:[zC]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=De(i,n[s]);return e=new fi({props:i}),e.$on("create",r[8]),e.$on("click",r[9]),e.$on("mousedown",r[10]),e.$on("mousemove",r[11]),e.$on("mouseout",r[12]),e.$on("mouseover",r[13]),e.$on("mouseup",r[14]),e.$on("mouseupoutside",r[15]),e.$on("mouseupoutside",r[16]),e.$on("pointercancel",r[17]),e.$on("pointerdown",r[18]),e.$on("pointermove",r[19]),e.$on("pointerout",r[20]),e.$on("pointerover",r[21]),e.$on("pointertap",r[22]),e.$on("pointerup",r[23]),e.$on("pointerupoutside",r[24]),e.$on("removedFrom",r[25]),e.$on("rightclick",r[26]),e.$on("rightdown",r[27]),e.$on("rightup",r[28]),e.$on("rightupoutside",r[29]),e.$on("tap",r[30]),e.$on("touchcancel",r[31]),e.$on("touchend",r[32]),e.$on("touchendoutside",r[33]),e.$on("touchmove",r[34]),e.$on("touchstart",r[35]),e.$on("added",r[36]),e.$on("removed",r[37]),{c(){se(e.$$.fragment)},m(s,a){ee(e,s,a),t=!0},p(s,a){const h=a[0]&3?ui(n,[a[0]&2&&hi(s[1]),a[0]&1&&{instance:s[0]}]):{};a[1]&128&&(h.$$scope={dirty:a,ctx:s}),e.$set(h)},i(s){t||(rt(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){re(e,s)}}}function YC(r,e,t){const n=["anchor","blendMode","pluginName","roundPixels","texture","instance"];let i=Fi(e,n),{$$slots:s={},$$scope:a}=e,{anchor:h=void 0}=e,{blendMode:l=dt.NORMAL}=e,{pluginName:f=void 0}=e,{roundPixels:d=void 0}=e,{texture:v}=e,{instance:p=new Ke(v)}=e;const{applyProp:g}=Ba(p),{invalidate:m}=Fa();Ml(()=>{m()});function x(G){ot.call(this,r,G)}function y(G){ot.call(this,r,G)}function E(G){ot.call(this,r,G)}function R(G){ot.call(this,r,G)}function S(G){ot.call(this,r,G)}function O(G){ot.call(this,r,G)}function P(G){ot.call(this,r,G)}function D(G){ot.call(this,r,G)}function A(G){ot.call(this,r,G)}function F(G){ot.call(this,r,G)}function I(G){ot.call(this,r,G)}function B(G){ot.call(this,r,G)}function Z(G){ot.call(this,r,G)}function nt(G){ot.call(this,r,G)}function _t(G){ot.call(this,r,G)}function Rt(G){ot.call(this,r,G)}function $(G){ot.call(this,r,G)}function Q(G){ot.call(this,r,G)}function V(G){ot.call(this,r,G)}function ft(G){ot.call(this,r,G)}function ht(G){ot.call(this,r,G)}function q(G){ot.call(this,r,G)}function X(G){ot.call(this,r,G)}function ct(G){ot.call(this,r,G)}function yt(G){ot.call(this,r,G)}function Et(G){ot.call(this,r,G)}function Nt(G){ot.call(this,r,G)}function Bt(G){ot.call(this,r,G)}function Ht(G){ot.call(this,r,G)}function st(G){ot.call(this,r,G)}return r.$$set=G=>{e=De(De({},e),Es(G)),t(1,i=Fi(e,n)),"anchor"in G&&t(2,h=G.anchor),"blendMode"in G&&t(3,l=G.blendMode),"pluginName"in G&&t(4,f=G.pluginName),"roundPixels"in G&&t(5,d=G.roundPixels),"texture"in G&&t(6,v=G.texture),"instance"in G&&t(0,p=G.instance),"$$scope"in G&&t(38,a=G.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&4&&g("anchor",h),r.$$.dirty[0]&8&&g("blendMode",l),r.$$.dirty[0]&16&&g("pluginName",f),r.$$.dirty[0]&32&&g("roundPixels",d),r.$$.dirty[0]&64&&g("texture",v),r.$$.dirty[0]&64&&v.on("update",()=>m())},[p,i,h,l,f,d,v,s,x,y,E,R,S,O,P,D,A,F,I,B,Z,nt,_t,Rt,$,Q,V,ft,ht,q,X,ct,yt,Et,Nt,Bt,Ht,st,a]}class dn extends xr{constructor(e){super(),br(this,e,YC,VC,yr,{anchor:2,blendMode:3,pluginName:4,roundPixels:5,texture:6,instance:0},null,[-1,-1])}}function jC(r){let e;const t=r[8].default,n=Vr(t,r,r[39],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s[1]&256)&&jr(n,t,i,i[39],e?Yr(t,i[39],s,null):qr(i[39]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function qC(r){let e,t;const n=[r[1],{instance:r[0]}];let i={$$slots:{default:[jC]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=De(i,n[s]);return e=new fi({props:i}),e.$on("create",r[9]),e.$on("click",r[10]),e.$on("mousedown",r[11]),e.$on("mousemove",r[12]),e.$on("mouseout",r[13]),e.$on("mouseover",r[14]),e.$on("mouseup",r[15]),e.$on("mouseupoutside",r[16]),e.$on("mouseupoutside",r[17]),e.$on("pointercancel",r[18]),e.$on("pointerdown",r[19]),e.$on("pointermove",r[20]),e.$on("pointerout",r[21]),e.$on("pointerover",r[22]),e.$on("pointertap",r[23]),e.$on("pointerup",r[24]),e.$on("pointerupoutside",r[25]),e.$on("removedFrom",r[26]),e.$on("rightclick",r[27]),e.$on("rightdown",r[28]),e.$on("rightup",r[29]),e.$on("rightupoutside",r[30]),e.$on("tap",r[31]),e.$on("touchcancel",r[32]),e.$on("touchend",r[33]),e.$on("touchendoutside",r[34]),e.$on("touchmove",r[35]),e.$on("touchstart",r[36]),e.$on("added",r[37]),e.$on("removed",r[38]),{c(){se(e.$$.fragment)},m(s,a){ee(e,s,a),t=!0},p(s,a){const h=a[0]&3?ui(n,[a[0]&2&&hi(s[1]),a[0]&1&&{instance:s[0]}]):{};a[1]&256&&(h.$$scope={dirty:a,ctx:s}),e.$set(h)},i(s){t||(rt(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){re(e,s)}}}function KC(r,e,t){const n=["text","style","anchor","blendMode","pluginName","roundPixels","instance"];let i=Fi(e,n),{$$slots:s={},$$scope:a}=e,{text:h}=e,{style:l=void 0}=e,{anchor:f=void 0}=e,{blendMode:d=dt.NORMAL}=e,{pluginName:v=void 0}=e,{roundPixels:p=void 0}=e,{instance:g=new Da(h,l)}=e;const{invalidate:m}=Fa(),{applyProp:x}=Ba(g);Ml(()=>{m()});function y(Y){ot.call(this,r,Y)}function E(Y){ot.call(this,r,Y)}function R(Y){ot.call(this,r,Y)}function S(Y){ot.call(this,r,Y)}function O(Y){ot.call(this,r,Y)}function P(Y){ot.call(this,r,Y)}function D(Y){ot.call(this,r,Y)}function A(Y){ot.call(this,r,Y)}function F(Y){ot.call(this,r,Y)}function I(Y){ot.call(this,r,Y)}function B(Y){ot.call(this,r,Y)}function Z(Y){ot.call(this,r,Y)}function nt(Y){ot.call(this,r,Y)}function _t(Y){ot.call(this,r,Y)}function Rt(Y){ot.call(this,r,Y)}function $(Y){ot.call(this,r,Y)}function Q(Y){ot.call(this,r,Y)}function V(Y){ot.call(this,r,Y)}function ft(Y){ot.call(this,r,Y)}function ht(Y){ot.call(this,r,Y)}function q(Y){ot.call(this,r,Y)}function X(Y){ot.call(this,r,Y)}function ct(Y){ot.call(this,r,Y)}function yt(Y){ot.call(this,r,Y)}function Et(Y){ot.call(this,r,Y)}function Nt(Y){ot.call(this,r,Y)}function Bt(Y){ot.call(this,r,Y)}function Ht(Y){ot.call(this,r,Y)}function st(Y){ot.call(this,r,Y)}function G(Y){ot.call(this,r,Y)}return r.$$set=Y=>{e=De(De({},e),Es(Y)),t(1,i=Fi(e,n)),"text"in Y&&t(2,h=Y.text),"style"in Y&&t(3,l=Y.style),"anchor"in Y&&t(4,f=Y.anchor),"blendMode"in Y&&t(5,d=Y.blendMode),"pluginName"in Y&&t(6,v=Y.pluginName),"roundPixels"in Y&&t(7,p=Y.roundPixels),"instance"in Y&&t(0,g=Y.instance),"$$scope"in Y&&t(39,a=Y.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&4&&x("text",h),r.$$.dirty[0]&8&&x("style",l),r.$$.dirty[0]&16&&x("anchor",f),r.$$.dirty[0]&32&&x("blendMode",d),r.$$.dirty[0]&64&&x("pluginName",v),r.$$.dirty[0]&128&&x("roundPixels",p)},[g,i,h,l,f,d,v,p,s,y,E,R,S,O,P,D,A,F,I,B,Z,nt,_t,Rt,$,Q,V,ft,ht,q,X,ct,yt,Et,Nt,Bt,Ht,st,G,a]}class ZC extends xr{constructor(e){super(),br(this,e,KC,qC,yr,{text:2,style:3,anchor:4,blendMode:5,pluginName:6,roundPixels:7,instance:0},null,[-1,-1])}}var Wi={},JC={get exports(){return Wi},set exports(r){Wi=r}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,e){(function(){var t,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",h="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",v=1,p=2,g=4,m=1,x=2,y=1,E=2,R=4,S=8,O=16,P=32,D=64,A=128,F=256,I=512,B=30,Z="...",nt=800,_t=16,Rt=1,$=2,Q=3,V=1/0,ft=9007199254740991,ht=17976931348623157e292,q=0/0,X=4294967295,ct=X-1,yt=X>>>1,Et=[["ary",A],["bind",y],["bindKey",E],["curry",S],["curryRight",O],["flip",I],["partial",P],["partialRight",D],["rearg",F]],Nt="[object Arguments]",Bt="[object Array]",Ht="[object AsyncFunction]",st="[object Boolean]",G="[object Date]",Y="[object DOMException]",Ut="[object Error]",Xt="[object Function]",lt="[object GeneratorFunction]",k="[object Map]",Zt="[object Number]",fe="[object Null]",K="[object Object]",Fe="[object Promise]",vn="[object Proxy]",Br="[object RegExp]",He="[object Set]",_n="[object String]",Fn="[object Symbol]",js="[object Undefined]",qi="[object WeakMap]",Eg="[object WeakSet]",Ki="[object ArrayBuffer]",ci="[object DataView]",La="[object Float32Array]",Na="[object Float64Array]",Ua="[object Int8Array]",Ga="[object Int16Array]",ka="[object Int32Array]",Ha="[object Uint8Array]",Xa="[object Uint8ClampedArray]",Wa="[object Uint16Array]",za="[object Uint32Array]",wg=/\b__p \+= '';/g,Sg=/\b(__p \+=) '' \+/g,Ag=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Af=/&(?:amp|lt|gt|quot|#39);/g,Pf=/[&<>"']/g,Pg=RegExp(Af.source),Rg=RegExp(Pf.source),Cg=/<%-([\s\S]+?)%>/g,Ig=/<%([\s\S]+?)%>/g,Rf=/<%=([\s\S]+?)%>/g,Og=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mg=/^\w*$/,Dg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Va=/[\\^$.*+?()[\]{}|]/g,Fg=RegExp(Va.source),Ya=/^\s+/,Bg=/\s/,Lg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ng=/\{\n\/\* \[wrapped with (.+)\] \*/,Ug=/,? & /,Gg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kg=/[()=,{}\[\]\/\s]/,Hg=/\\(\\)?/g,Xg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cf=/\w*$/,Wg=/^[-+]0x[0-9a-f]+$/i,zg=/^0b[01]+$/i,Vg=/^\[object .+?Constructor\]$/,Yg=/^0o[0-7]+$/i,jg=/^(?:0|[1-9]\d*)$/,qg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qs=/($^)/,Kg=/['\n\r\u2028\u2029\\]/g,Ks="\\ud800-\\udfff",Zg="\\u0300-\\u036f",Jg="\\ufe20-\\ufe2f",Qg="\\u20d0-\\u20ff",If=Zg+Jg+Qg,Of="\\u2700-\\u27bf",Mf="a-z\\xdf-\\xf6\\xf8-\\xff",$g="\\xac\\xb1\\xd7\\xf7",t0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",e0="\\u2000-\\u206f",r0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Df="A-Z\\xc0-\\xd6\\xd8-\\xde",Ff="\\ufe0e\\ufe0f",Bf=$g+t0+e0+r0,ja="['’]",n0="["+Ks+"]",Lf="["+Bf+"]",Zs="["+If+"]",Nf="\\d+",i0="["+Of+"]",Uf="["+Mf+"]",Gf="[^"+Ks+Bf+Nf+Of+Mf+Df+"]",qa="\\ud83c[\\udffb-\\udfff]",s0="(?:"+Zs+"|"+qa+")",kf="[^"+Ks+"]",Ka="(?:\\ud83c[\\udde6-\\uddff]){2}",Za="[\\ud800-\\udbff][\\udc00-\\udfff]",di="["+Df+"]",Hf="\\u200d",Xf="(?:"+Uf+"|"+Gf+")",o0="(?:"+di+"|"+Gf+")",Wf="(?:"+ja+"(?:d|ll|m|re|s|t|ve))?",zf="(?:"+ja+"(?:D|LL|M|RE|S|T|VE))?",Vf=s0+"?",Yf="["+Ff+"]?",a0="(?:"+Hf+"(?:"+[kf,Ka,Za].join("|")+")"+Yf+Vf+")*",u0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",h0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jf=Yf+Vf+a0,l0="(?:"+[i0,Ka,Za].join("|")+")"+jf,f0="(?:"+[kf+Zs+"?",Zs,Ka,Za,n0].join("|")+")",c0=RegExp(ja,"g"),d0=RegExp(Zs,"g"),Ja=RegExp(qa+"(?="+qa+")|"+f0+jf,"g"),p0=RegExp([di+"?"+Uf+"+"+Wf+"(?="+[Lf,di,"$"].join("|")+")",o0+"+"+zf+"(?="+[Lf,di+Xf,"$"].join("|")+")",di+"?"+Xf+"+"+Wf,di+"+"+zf,h0,u0,Nf,l0].join("|"),"g"),v0=RegExp("["+Hf+Ks+If+Ff+"]"),_0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,g0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],m0=-1,ae={};ae[La]=ae[Na]=ae[Ua]=ae[Ga]=ae[ka]=ae[Ha]=ae[Xa]=ae[Wa]=ae[za]=!0,ae[Nt]=ae[Bt]=ae[Ki]=ae[st]=ae[ci]=ae[G]=ae[Ut]=ae[Xt]=ae[k]=ae[Zt]=ae[K]=ae[Br]=ae[He]=ae[_n]=ae[qi]=!1;var ne={};ne[Nt]=ne[Bt]=ne[Ki]=ne[ci]=ne[st]=ne[G]=ne[La]=ne[Na]=ne[Ua]=ne[Ga]=ne[ka]=ne[k]=ne[Zt]=ne[K]=ne[Br]=ne[He]=ne[_n]=ne[Fn]=ne[Ha]=ne[Xa]=ne[Wa]=ne[za]=!0,ne[Ut]=ne[Xt]=ne[qi]=!1;var y0={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},b0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},x0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},T0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},E0=parseFloat,w0=parseInt,qf=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,S0=typeof self=="object"&&self&&self.Object===Object&&self,Ce=qf||S0||Function("return this")(),Qa=e&&!e.nodeType&&e,Bn=Qa&&!0&&r&&!r.nodeType&&r,Kf=Bn&&Bn.exports===Qa,$a=Kf&&qf.process,sr=function(){try{var L=Bn&&Bn.require&&Bn.require("util").types;return L||$a&&$a.binding&&$a.binding("util")}catch{}}(),Zf=sr&&sr.isArrayBuffer,Jf=sr&&sr.isDate,Qf=sr&&sr.isMap,$f=sr&&sr.isRegExp,tc=sr&&sr.isSet,ec=sr&&sr.isTypedArray;function Je(L,H,U){switch(U.length){case 0:return L.call(H);case 1:return L.call(H,U[0]);case 2:return L.call(H,U[0],U[1]);case 3:return L.call(H,U[0],U[1],U[2])}return L.apply(H,U)}function A0(L,H,U,it){for(var wt=-1,jt=L==null?0:L.length;++wt<jt;){var Ee=L[wt];H(it,Ee,U(Ee),L)}return it}function or(L,H){for(var U=-1,it=L==null?0:L.length;++U<it&&H(L[U],U,L)!==!1;);return L}function P0(L,H){for(var U=L==null?0:L.length;U--&&H(L[U],U,L)!==!1;);return L}function rc(L,H){for(var U=-1,it=L==null?0:L.length;++U<it;)if(!H(L[U],U,L))return!1;return!0}function gn(L,H){for(var U=-1,it=L==null?0:L.length,wt=0,jt=[];++U<it;){var Ee=L[U];H(Ee,U,L)&&(jt[wt++]=Ee)}return jt}function Js(L,H){var U=L==null?0:L.length;return!!U&&pi(L,H,0)>-1}function tu(L,H,U){for(var it=-1,wt=L==null?0:L.length;++it<wt;)if(U(H,L[it]))return!0;return!1}function ue(L,H){for(var U=-1,it=L==null?0:L.length,wt=Array(it);++U<it;)wt[U]=H(L[U],U,L);return wt}function mn(L,H){for(var U=-1,it=H.length,wt=L.length;++U<it;)L[wt+U]=H[U];return L}function eu(L,H,U,it){var wt=-1,jt=L==null?0:L.length;for(it&&jt&&(U=L[++wt]);++wt<jt;)U=H(U,L[wt],wt,L);return U}function R0(L,H,U,it){var wt=L==null?0:L.length;for(it&&wt&&(U=L[--wt]);wt--;)U=H(U,L[wt],wt,L);return U}function ru(L,H){for(var U=-1,it=L==null?0:L.length;++U<it;)if(H(L[U],U,L))return!0;return!1}var C0=nu("length");function I0(L){return L.split("")}function O0(L){return L.match(Gg)||[]}function nc(L,H,U){var it;return U(L,function(wt,jt,Ee){if(H(wt,jt,Ee))return it=jt,!1}),it}function Qs(L,H,U,it){for(var wt=L.length,jt=U+(it?1:-1);it?jt--:++jt<wt;)if(H(L[jt],jt,L))return jt;return-1}function pi(L,H,U){return H===H?W0(L,H,U):Qs(L,ic,U)}function M0(L,H,U,it){for(var wt=U-1,jt=L.length;++wt<jt;)if(it(L[wt],H))return wt;return-1}function ic(L){return L!==L}function sc(L,H){var U=L==null?0:L.length;return U?su(L,H)/U:q}function nu(L){return function(H){return H==null?t:H[L]}}function iu(L){return function(H){return L==null?t:L[H]}}function oc(L,H,U,it,wt){return wt(L,function(jt,Ee,te){U=it?(it=!1,jt):H(U,jt,Ee,te)}),U}function D0(L,H){var U=L.length;for(L.sort(H);U--;)L[U]=L[U].value;return L}function su(L,H){for(var U,it=-1,wt=L.length;++it<wt;){var jt=H(L[it]);jt!==t&&(U=U===t?jt:U+jt)}return U}function ou(L,H){for(var U=-1,it=Array(L);++U<L;)it[U]=H(U);return it}function F0(L,H){return ue(H,function(U){return[U,L[U]]})}function ac(L){return L&&L.slice(0,fc(L)+1).replace(Ya,"")}function Qe(L){return function(H){return L(H)}}function au(L,H){return ue(H,function(U){return L[U]})}function Zi(L,H){return L.has(H)}function uc(L,H){for(var U=-1,it=L.length;++U<it&&pi(H,L[U],0)>-1;);return U}function hc(L,H){for(var U=L.length;U--&&pi(H,L[U],0)>-1;);return U}function B0(L,H){for(var U=L.length,it=0;U--;)L[U]===H&&++it;return it}var L0=iu(y0),N0=iu(b0);function U0(L){return"\\"+T0[L]}function G0(L,H){return L==null?t:L[H]}function vi(L){return v0.test(L)}function k0(L){return _0.test(L)}function H0(L){for(var H,U=[];!(H=L.next()).done;)U.push(H.value);return U}function uu(L){var H=-1,U=Array(L.size);return L.forEach(function(it,wt){U[++H]=[wt,it]}),U}function lc(L,H){return function(U){return L(H(U))}}function yn(L,H){for(var U=-1,it=L.length,wt=0,jt=[];++U<it;){var Ee=L[U];(Ee===H||Ee===d)&&(L[U]=d,jt[wt++]=U)}return jt}function $s(L){var H=-1,U=Array(L.size);return L.forEach(function(it){U[++H]=it}),U}function X0(L){var H=-1,U=Array(L.size);return L.forEach(function(it){U[++H]=[it,it]}),U}function W0(L,H,U){for(var it=U-1,wt=L.length;++it<wt;)if(L[it]===H)return it;return-1}function z0(L,H,U){for(var it=U+1;it--;)if(L[it]===H)return it;return it}function _i(L){return vi(L)?Y0(L):C0(L)}function Tr(L){return vi(L)?j0(L):I0(L)}function fc(L){for(var H=L.length;H--&&Bg.test(L.charAt(H)););return H}var V0=iu(x0);function Y0(L){for(var H=Ja.lastIndex=0;Ja.test(L);)++H;return H}function j0(L){return L.match(Ja)||[]}function q0(L){return L.match(p0)||[]}var K0=function L(H){H=H==null?Ce:gi.defaults(Ce.Object(),H,gi.pick(Ce,g0));var U=H.Array,it=H.Date,wt=H.Error,jt=H.Function,Ee=H.Math,te=H.Object,hu=H.RegExp,Z0=H.String,ar=H.TypeError,to=U.prototype,J0=jt.prototype,mi=te.prototype,eo=H["__core-js_shared__"],ro=J0.toString,Jt=mi.hasOwnProperty,Q0=0,cc=function(){var o=/[^.]+$/.exec(eo&&eo.keys&&eo.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),no=mi.toString,$0=ro.call(te),tm=Ce._,em=hu("^"+ro.call(Jt).replace(Va,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=Kf?H.Buffer:t,bn=H.Symbol,so=H.Uint8Array,dc=io?io.allocUnsafe:t,oo=lc(te.getPrototypeOf,te),pc=te.create,vc=mi.propertyIsEnumerable,ao=to.splice,_c=bn?bn.isConcatSpreadable:t,Ji=bn?bn.iterator:t,Ln=bn?bn.toStringTag:t,uo=function(){try{var o=Hn(te,"defineProperty");return o({},"",{}),o}catch{}}(),rm=H.clearTimeout!==Ce.clearTimeout&&H.clearTimeout,nm=it&&it.now!==Ce.Date.now&&it.now,im=H.setTimeout!==Ce.setTimeout&&H.setTimeout,ho=Ee.ceil,lo=Ee.floor,lu=te.getOwnPropertySymbols,sm=io?io.isBuffer:t,gc=H.isFinite,om=to.join,am=lc(te.keys,te),we=Ee.max,Oe=Ee.min,um=it.now,hm=H.parseInt,mc=Ee.random,lm=to.reverse,fu=Hn(H,"DataView"),Qi=Hn(H,"Map"),cu=Hn(H,"Promise"),yi=Hn(H,"Set"),$i=Hn(H,"WeakMap"),ts=Hn(te,"create"),fo=$i&&new $i,bi={},fm=Xn(fu),cm=Xn(Qi),dm=Xn(cu),pm=Xn(yi),vm=Xn($i),co=bn?bn.prototype:t,es=co?co.valueOf:t,yc=co?co.toString:t;function T(o){if(_e(o)&&!St(o)&&!(o instanceof Gt)){if(o instanceof ur)return o;if(Jt.call(o,"__wrapped__"))return bd(o)}return new ur(o)}var xi=function(){function o(){}return function(u){if(!ce(u))return{};if(pc)return pc(u);o.prototype=u;var c=new o;return o.prototype=t,c}}();function po(){}function ur(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}T.templateSettings={escape:Cg,evaluate:Ig,interpolate:Rf,variable:"",imports:{_:T}},T.prototype=po.prototype,T.prototype.constructor=T,ur.prototype=xi(po.prototype),ur.prototype.constructor=ur;function Gt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function _m(){var o=new Gt(this.__wrapped__);return o.__actions__=Xe(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Xe(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Xe(this.__views__),o}function gm(){if(this.__filtered__){var o=new Gt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function mm(){var o=this.__wrapped__.value(),u=this.__dir__,c=St(o),_=u<0,b=c?o.length:0,w=Iy(0,b,this.__views__),C=w.start,M=w.end,N=M-C,W=_?M:C-1,z=this.__iteratees__,j=z.length,tt=0,ut=Oe(N,this.__takeCount__);if(!c||!_&&b==N&&ut==N)return Wc(o,this.__actions__);var bt=[];t:for(;N--&&tt<ut;){W+=u;for(var It=-1,xt=o[W];++It<j;){var Lt=z[It],kt=Lt.iteratee,er=Lt.type,Ne=kt(xt);if(er==$)xt=Ne;else if(!Ne){if(er==Rt)continue t;break t}}bt[tt++]=xt}return bt}Gt.prototype=xi(po.prototype),Gt.prototype.constructor=Gt;function Nn(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var _=o[u];this.set(_[0],_[1])}}function ym(){this.__data__=ts?ts(null):{},this.size=0}function bm(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function xm(o){var u=this.__data__;if(ts){var c=u[o];return c===l?t:c}return Jt.call(u,o)?u[o]:t}function Tm(o){var u=this.__data__;return ts?u[o]!==t:Jt.call(u,o)}function Em(o,u){var c=this.__data__;return this.size+=this.has(o)?0:1,c[o]=ts&&u===t?l:u,this}Nn.prototype.clear=ym,Nn.prototype.delete=bm,Nn.prototype.get=xm,Nn.prototype.has=Tm,Nn.prototype.set=Em;function Zr(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var _=o[u];this.set(_[0],_[1])}}function wm(){this.__data__=[],this.size=0}function Sm(o){var u=this.__data__,c=vo(u,o);if(c<0)return!1;var _=u.length-1;return c==_?u.pop():ao.call(u,c,1),--this.size,!0}function Am(o){var u=this.__data__,c=vo(u,o);return c<0?t:u[c][1]}function Pm(o){return vo(this.__data__,o)>-1}function Rm(o,u){var c=this.__data__,_=vo(c,o);return _<0?(++this.size,c.push([o,u])):c[_][1]=u,this}Zr.prototype.clear=wm,Zr.prototype.delete=Sm,Zr.prototype.get=Am,Zr.prototype.has=Pm,Zr.prototype.set=Rm;function Jr(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var _=o[u];this.set(_[0],_[1])}}function Cm(){this.size=0,this.__data__={hash:new Nn,map:new(Qi||Zr),string:new Nn}}function Im(o){var u=Po(this,o).delete(o);return this.size-=u?1:0,u}function Om(o){return Po(this,o).get(o)}function Mm(o){return Po(this,o).has(o)}function Dm(o,u){var c=Po(this,o),_=c.size;return c.set(o,u),this.size+=c.size==_?0:1,this}Jr.prototype.clear=Cm,Jr.prototype.delete=Im,Jr.prototype.get=Om,Jr.prototype.has=Mm,Jr.prototype.set=Dm;function Un(o){var u=-1,c=o==null?0:o.length;for(this.__data__=new Jr;++u<c;)this.add(o[u])}function Fm(o){return this.__data__.set(o,l),this}function Bm(o){return this.__data__.has(o)}Un.prototype.add=Un.prototype.push=Fm,Un.prototype.has=Bm;function Er(o){var u=this.__data__=new Zr(o);this.size=u.size}function Lm(){this.__data__=new Zr,this.size=0}function Nm(o){var u=this.__data__,c=u.delete(o);return this.size=u.size,c}function Um(o){return this.__data__.get(o)}function Gm(o){return this.__data__.has(o)}function km(o,u){var c=this.__data__;if(c instanceof Zr){var _=c.__data__;if(!Qi||_.length<i-1)return _.push([o,u]),this.size=++c.size,this;c=this.__data__=new Jr(_)}return c.set(o,u),this.size=c.size,this}Er.prototype.clear=Lm,Er.prototype.delete=Nm,Er.prototype.get=Um,Er.prototype.has=Gm,Er.prototype.set=km;function bc(o,u){var c=St(o),_=!c&&Wn(o),b=!c&&!_&&Sn(o),w=!c&&!_&&!b&&Si(o),C=c||_||b||w,M=C?ou(o.length,Z0):[],N=M.length;for(var W in o)(u||Jt.call(o,W))&&!(C&&(W=="length"||b&&(W=="offset"||W=="parent")||w&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||en(W,N)))&&M.push(W);return M}function xc(o){var u=o.length;return u?o[Eu(0,u-1)]:t}function Hm(o,u){return Ro(Xe(o),Gn(u,0,o.length))}function Xm(o){return Ro(Xe(o))}function du(o,u,c){(c!==t&&!wr(o[u],c)||c===t&&!(u in o))&&Qr(o,u,c)}function rs(o,u,c){var _=o[u];(!(Jt.call(o,u)&&wr(_,c))||c===t&&!(u in o))&&Qr(o,u,c)}function vo(o,u){for(var c=o.length;c--;)if(wr(o[c][0],u))return c;return-1}function Wm(o,u,c,_){return xn(o,function(b,w,C){u(_,b,c(b),C)}),_}function Tc(o,u){return o&&Nr(u,Pe(u),o)}function zm(o,u){return o&&Nr(u,ze(u),o)}function Qr(o,u,c){u=="__proto__"&&uo?uo(o,u,{configurable:!0,enumerable:!0,value:c,writable:!0}):o[u]=c}function pu(o,u){for(var c=-1,_=u.length,b=U(_),w=o==null;++c<_;)b[c]=w?t:qu(o,u[c]);return b}function Gn(o,u,c){return o===o&&(c!==t&&(o=o<=c?o:c),u!==t&&(o=o>=u?o:u)),o}function hr(o,u,c,_,b,w){var C,M=u&v,N=u&p,W=u&g;if(c&&(C=b?c(o,_,b,w):c(o)),C!==t)return C;if(!ce(o))return o;var z=St(o);if(z){if(C=My(o),!M)return Xe(o,C)}else{var j=Me(o),tt=j==Xt||j==lt;if(Sn(o))return Yc(o,M);if(j==K||j==Nt||tt&&!b){if(C=N||tt?{}:fd(o),!M)return N?xy(o,zm(C,o)):by(o,Tc(C,o))}else{if(!ne[j])return b?o:{};C=Dy(o,j,M)}}w||(w=new Er);var ut=w.get(o);if(ut)return ut;w.set(o,C),kd(o)?o.forEach(function(xt){C.add(hr(xt,u,c,xt,o,w))}):Ud(o)&&o.forEach(function(xt,Lt){C.set(Lt,hr(xt,u,c,Lt,o,w))});var bt=W?N?Fu:Du:N?ze:Pe,It=z?t:bt(o);return or(It||o,function(xt,Lt){It&&(Lt=xt,xt=o[Lt]),rs(C,Lt,hr(xt,u,c,Lt,o,w))}),C}function Vm(o){var u=Pe(o);return function(c){return Ec(c,o,u)}}function Ec(o,u,c){var _=c.length;if(o==null)return!_;for(o=te(o);_--;){var b=c[_],w=u[b],C=o[b];if(C===t&&!(b in o)||!w(C))return!1}return!0}function wc(o,u,c){if(typeof o!="function")throw new ar(a);return hs(function(){o.apply(t,c)},u)}function ns(o,u,c,_){var b=-1,w=Js,C=!0,M=o.length,N=[],W=u.length;if(!M)return N;c&&(u=ue(u,Qe(c))),_?(w=tu,C=!1):u.length>=i&&(w=Zi,C=!1,u=new Un(u));t:for(;++b<M;){var z=o[b],j=c==null?z:c(z);if(z=_||z!==0?z:0,C&&j===j){for(var tt=W;tt--;)if(u[tt]===j)continue t;N.push(z)}else w(u,j,_)||N.push(z)}return N}var xn=Jc(Lr),Sc=Jc(_u,!0);function Ym(o,u){var c=!0;return xn(o,function(_,b,w){return c=!!u(_,b,w),c}),c}function _o(o,u,c){for(var _=-1,b=o.length;++_<b;){var w=o[_],C=u(w);if(C!=null&&(M===t?C===C&&!tr(C):c(C,M)))var M=C,N=w}return N}function jm(o,u,c,_){var b=o.length;for(c=Ct(c),c<0&&(c=-c>b?0:b+c),_=_===t||_>b?b:Ct(_),_<0&&(_+=b),_=c>_?0:Xd(_);c<_;)o[c++]=u;return o}function Ac(o,u){var c=[];return xn(o,function(_,b,w){u(_,b,w)&&c.push(_)}),c}function Ie(o,u,c,_,b){var w=-1,C=o.length;for(c||(c=By),b||(b=[]);++w<C;){var M=o[w];u>0&&c(M)?u>1?Ie(M,u-1,c,_,b):mn(b,M):_||(b[b.length]=M)}return b}var vu=Qc(),Pc=Qc(!0);function Lr(o,u){return o&&vu(o,u,Pe)}function _u(o,u){return o&&Pc(o,u,Pe)}function go(o,u){return gn(u,function(c){return rn(o[c])})}function kn(o,u){u=En(u,o);for(var c=0,_=u.length;o!=null&&c<_;)o=o[Ur(u[c++])];return c&&c==_?o:t}function Rc(o,u,c){var _=u(o);return St(o)?_:mn(_,c(o))}function Be(o){return o==null?o===t?js:fe:Ln&&Ln in te(o)?Cy(o):Xy(o)}function gu(o,u){return o>u}function qm(o,u){return o!=null&&Jt.call(o,u)}function Km(o,u){return o!=null&&u in te(o)}function Zm(o,u,c){return o>=Oe(u,c)&&o<we(u,c)}function mu(o,u,c){for(var _=c?tu:Js,b=o[0].length,w=o.length,C=w,M=U(w),N=1/0,W=[];C--;){var z=o[C];C&&u&&(z=ue(z,Qe(u))),N=Oe(z.length,N),M[C]=!c&&(u||b>=120&&z.length>=120)?new Un(C&&z):t}z=o[0];var j=-1,tt=M[0];t:for(;++j<b&&W.length<N;){var ut=z[j],bt=u?u(ut):ut;if(ut=c||ut!==0?ut:0,!(tt?Zi(tt,bt):_(W,bt,c))){for(C=w;--C;){var It=M[C];if(!(It?Zi(It,bt):_(o[C],bt,c)))continue t}tt&&tt.push(bt),W.push(ut)}}return W}function Jm(o,u,c,_){return Lr(o,function(b,w,C){u(_,c(b),w,C)}),_}function is(o,u,c){u=En(u,o),o=vd(o,u);var _=o==null?o:o[Ur(fr(u))];return _==null?t:Je(_,o,c)}function Cc(o){return _e(o)&&Be(o)==Nt}function Qm(o){return _e(o)&&Be(o)==Ki}function $m(o){return _e(o)&&Be(o)==G}function ss(o,u,c,_,b){return o===u?!0:o==null||u==null||!_e(o)&&!_e(u)?o!==o&&u!==u:ty(o,u,c,_,ss,b)}function ty(o,u,c,_,b,w){var C=St(o),M=St(u),N=C?Bt:Me(o),W=M?Bt:Me(u);N=N==Nt?K:N,W=W==Nt?K:W;var z=N==K,j=W==K,tt=N==W;if(tt&&Sn(o)){if(!Sn(u))return!1;C=!0,z=!1}if(tt&&!z)return w||(w=new Er),C||Si(o)?ud(o,u,c,_,b,w):Py(o,u,N,c,_,b,w);if(!(c&m)){var ut=z&&Jt.call(o,"__wrapped__"),bt=j&&Jt.call(u,"__wrapped__");if(ut||bt){var It=ut?o.value():o,xt=bt?u.value():u;return w||(w=new Er),b(It,xt,c,_,w)}}return tt?(w||(w=new Er),Ry(o,u,c,_,b,w)):!1}function ey(o){return _e(o)&&Me(o)==k}function yu(o,u,c,_){var b=c.length,w=b,C=!_;if(o==null)return!w;for(o=te(o);b--;){var M=c[b];if(C&&M[2]?M[1]!==o[M[0]]:!(M[0]in o))return!1}for(;++b<w;){M=c[b];var N=M[0],W=o[N],z=M[1];if(C&&M[2]){if(W===t&&!(N in o))return!1}else{var j=new Er;if(_)var tt=_(W,z,N,o,u,j);if(!(tt===t?ss(z,W,m|x,_,j):tt))return!1}}return!0}function Ic(o){if(!ce(o)||Ny(o))return!1;var u=rn(o)?em:Vg;return u.test(Xn(o))}function ry(o){return _e(o)&&Be(o)==Br}function ny(o){return _e(o)&&Me(o)==He}function iy(o){return _e(o)&&Fo(o.length)&&!!ae[Be(o)]}function Oc(o){return typeof o=="function"?o:o==null?Ve:typeof o=="object"?St(o)?Fc(o[0],o[1]):Dc(o):$d(o)}function bu(o){if(!us(o))return am(o);var u=[];for(var c in te(o))Jt.call(o,c)&&c!="constructor"&&u.push(c);return u}function sy(o){if(!ce(o))return Hy(o);var u=us(o),c=[];for(var _ in o)_=="constructor"&&(u||!Jt.call(o,_))||c.push(_);return c}function xu(o,u){return o<u}function Mc(o,u){var c=-1,_=We(o)?U(o.length):[];return xn(o,function(b,w,C){_[++c]=u(b,w,C)}),_}function Dc(o){var u=Lu(o);return u.length==1&&u[0][2]?dd(u[0][0],u[0][1]):function(c){return c===o||yu(c,o,u)}}function Fc(o,u){return Uu(o)&&cd(u)?dd(Ur(o),u):function(c){var _=qu(c,o);return _===t&&_===u?Ku(c,o):ss(u,_,m|x)}}function mo(o,u,c,_,b){o!==u&&vu(u,function(w,C){if(b||(b=new Er),ce(w))oy(o,u,C,c,mo,_,b);else{var M=_?_(ku(o,C),w,C+"",o,u,b):t;M===t&&(M=w),du(o,C,M)}},ze)}function oy(o,u,c,_,b,w,C){var M=ku(o,c),N=ku(u,c),W=C.get(N);if(W){du(o,c,W);return}var z=w?w(M,N,c+"",o,u,C):t,j=z===t;if(j){var tt=St(N),ut=!tt&&Sn(N),bt=!tt&&!ut&&Si(N);z=N,tt||ut||bt?St(M)?z=M:me(M)?z=Xe(M):ut?(j=!1,z=Yc(N,!0)):bt?(j=!1,z=jc(N,!0)):z=[]:ls(N)||Wn(N)?(z=M,Wn(M)?z=Wd(M):(!ce(M)||rn(M))&&(z=fd(N))):j=!1}j&&(C.set(N,z),b(z,N,_,w,C),C.delete(N)),du(o,c,z)}function Bc(o,u){var c=o.length;if(c)return u+=u<0?c:0,en(u,c)?o[u]:t}function Lc(o,u,c){u.length?u=ue(u,function(w){return St(w)?function(C){return kn(C,w.length===1?w[0]:w)}:w}):u=[Ve];var _=-1;u=ue(u,Qe(mt()));var b=Mc(o,function(w,C,M){var N=ue(u,function(W){return W(w)});return{criteria:N,index:++_,value:w}});return D0(b,function(w,C){return yy(w,C,c)})}function ay(o,u){return Nc(o,u,function(c,_){return Ku(o,_)})}function Nc(o,u,c){for(var _=-1,b=u.length,w={};++_<b;){var C=u[_],M=kn(o,C);c(M,C)&&os(w,En(C,o),M)}return w}function uy(o){return function(u){return kn(u,o)}}function Tu(o,u,c,_){var b=_?M0:pi,w=-1,C=u.length,M=o;for(o===u&&(u=Xe(u)),c&&(M=ue(o,Qe(c)));++w<C;)for(var N=0,W=u[w],z=c?c(W):W;(N=b(M,z,N,_))>-1;)M!==o&&ao.call(M,N,1),ao.call(o,N,1);return o}function Uc(o,u){for(var c=o?u.length:0,_=c-1;c--;){var b=u[c];if(c==_||b!==w){var w=b;en(b)?ao.call(o,b,1):Au(o,b)}}return o}function Eu(o,u){return o+lo(mc()*(u-o+1))}function hy(o,u,c,_){for(var b=-1,w=we(ho((u-o)/(c||1)),0),C=U(w);w--;)C[_?w:++b]=o,o+=c;return C}function wu(o,u){var c="";if(!o||u<1||u>ft)return c;do u%2&&(c+=o),u=lo(u/2),u&&(o+=o);while(u);return c}function Ot(o,u){return Hu(pd(o,u,Ve),o+"")}function ly(o){return xc(Ai(o))}function fy(o,u){var c=Ai(o);return Ro(c,Gn(u,0,c.length))}function os(o,u,c,_){if(!ce(o))return o;u=En(u,o);for(var b=-1,w=u.length,C=w-1,M=o;M!=null&&++b<w;){var N=Ur(u[b]),W=c;if(N==="__proto__"||N==="constructor"||N==="prototype")return o;if(b!=C){var z=M[N];W=_?_(z,N,M):t,W===t&&(W=ce(z)?z:en(u[b+1])?[]:{})}rs(M,N,W),M=M[N]}return o}var Gc=fo?function(o,u){return fo.set(o,u),o}:Ve,cy=uo?function(o,u){return uo(o,"toString",{configurable:!0,enumerable:!1,value:Ju(u),writable:!0})}:Ve;function dy(o){return Ro(Ai(o))}function lr(o,u,c){var _=-1,b=o.length;u<0&&(u=-u>b?0:b+u),c=c>b?b:c,c<0&&(c+=b),b=u>c?0:c-u>>>0,u>>>=0;for(var w=U(b);++_<b;)w[_]=o[_+u];return w}function py(o,u){var c;return xn(o,function(_,b,w){return c=u(_,b,w),!c}),!!c}function yo(o,u,c){var _=0,b=o==null?_:o.length;if(typeof u=="number"&&u===u&&b<=yt){for(;_<b;){var w=_+b>>>1,C=o[w];C!==null&&!tr(C)&&(c?C<=u:C<u)?_=w+1:b=w}return b}return Su(o,u,Ve,c)}function Su(o,u,c,_){var b=0,w=o==null?0:o.length;if(w===0)return 0;u=c(u);for(var C=u!==u,M=u===null,N=tr(u),W=u===t;b<w;){var z=lo((b+w)/2),j=c(o[z]),tt=j!==t,ut=j===null,bt=j===j,It=tr(j);if(C)var xt=_||bt;else W?xt=bt&&(_||tt):M?xt=bt&&tt&&(_||!ut):N?xt=bt&&tt&&!ut&&(_||!It):ut||It?xt=!1:xt=_?j<=u:j<u;xt?b=z+1:w=z}return Oe(w,ct)}function kc(o,u){for(var c=-1,_=o.length,b=0,w=[];++c<_;){var C=o[c],M=u?u(C):C;if(!c||!wr(M,N)){var N=M;w[b++]=C===0?0:C}}return w}function Hc(o){return typeof o=="number"?o:tr(o)?q:+o}function $e(o){if(typeof o=="string")return o;if(St(o))return ue(o,$e)+"";if(tr(o))return yc?yc.call(o):"";var u=o+"";return u=="0"&&1/o==-V?"-0":u}function Tn(o,u,c){var _=-1,b=Js,w=o.length,C=!0,M=[],N=M;if(c)C=!1,b=tu;else if(w>=i){var W=u?null:Sy(o);if(W)return $s(W);C=!1,b=Zi,N=new Un}else N=u?[]:M;t:for(;++_<w;){var z=o[_],j=u?u(z):z;if(z=c||z!==0?z:0,C&&j===j){for(var tt=N.length;tt--;)if(N[tt]===j)continue t;u&&N.push(j),M.push(z)}else b(N,j,c)||(N!==M&&N.push(j),M.push(z))}return M}function Au(o,u){return u=En(u,o),o=vd(o,u),o==null||delete o[Ur(fr(u))]}function Xc(o,u,c,_){return os(o,u,c(kn(o,u)),_)}function bo(o,u,c,_){for(var b=o.length,w=_?b:-1;(_?w--:++w<b)&&u(o[w],w,o););return c?lr(o,_?0:w,_?w+1:b):lr(o,_?w+1:0,_?b:w)}function Wc(o,u){var c=o;return c instanceof Gt&&(c=c.value()),eu(u,function(_,b){return b.func.apply(b.thisArg,mn([_],b.args))},c)}function Pu(o,u,c){var _=o.length;if(_<2)return _?Tn(o[0]):[];for(var b=-1,w=U(_);++b<_;)for(var C=o[b],M=-1;++M<_;)M!=b&&(w[b]=ns(w[b]||C,o[M],u,c));return Tn(Ie(w,1),u,c)}function zc(o,u,c){for(var _=-1,b=o.length,w=u.length,C={};++_<b;){var M=_<w?u[_]:t;c(C,o[_],M)}return C}function Ru(o){return me(o)?o:[]}function Cu(o){return typeof o=="function"?o:Ve}function En(o,u){return St(o)?o:Uu(o,u)?[o]:yd(Kt(o))}var vy=Ot;function wn(o,u,c){var _=o.length;return c=c===t?_:c,!u&&c>=_?o:lr(o,u,c)}var Vc=rm||function(o){return Ce.clearTimeout(o)};function Yc(o,u){if(u)return o.slice();var c=o.length,_=dc?dc(c):new o.constructor(c);return o.copy(_),_}function Iu(o){var u=new o.constructor(o.byteLength);return new so(u).set(new so(o)),u}function _y(o,u){var c=u?Iu(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.byteLength)}function gy(o){var u=new o.constructor(o.source,Cf.exec(o));return u.lastIndex=o.lastIndex,u}function my(o){return es?te(es.call(o)):{}}function jc(o,u){var c=u?Iu(o.buffer):o.buffer;return new o.constructor(c,o.byteOffset,o.length)}function qc(o,u){if(o!==u){var c=o!==t,_=o===null,b=o===o,w=tr(o),C=u!==t,M=u===null,N=u===u,W=tr(u);if(!M&&!W&&!w&&o>u||w&&C&&N&&!M&&!W||_&&C&&N||!c&&N||!b)return 1;if(!_&&!w&&!W&&o<u||W&&c&&b&&!_&&!w||M&&c&&b||!C&&b||!N)return-1}return 0}function yy(o,u,c){for(var _=-1,b=o.criteria,w=u.criteria,C=b.length,M=c.length;++_<C;){var N=qc(b[_],w[_]);if(N){if(_>=M)return N;var W=c[_];return N*(W=="desc"?-1:1)}}return o.index-u.index}function Kc(o,u,c,_){for(var b=-1,w=o.length,C=c.length,M=-1,N=u.length,W=we(w-C,0),z=U(N+W),j=!_;++M<N;)z[M]=u[M];for(;++b<C;)(j||b<w)&&(z[c[b]]=o[b]);for(;W--;)z[M++]=o[b++];return z}function Zc(o,u,c,_){for(var b=-1,w=o.length,C=-1,M=c.length,N=-1,W=u.length,z=we(w-M,0),j=U(z+W),tt=!_;++b<z;)j[b]=o[b];for(var ut=b;++N<W;)j[ut+N]=u[N];for(;++C<M;)(tt||b<w)&&(j[ut+c[C]]=o[b++]);return j}function Xe(o,u){var c=-1,_=o.length;for(u||(u=U(_));++c<_;)u[c]=o[c];return u}function Nr(o,u,c,_){var b=!c;c||(c={});for(var w=-1,C=u.length;++w<C;){var M=u[w],N=_?_(c[M],o[M],M,c,o):t;N===t&&(N=o[M]),b?Qr(c,M,N):rs(c,M,N)}return c}function by(o,u){return Nr(o,Nu(o),u)}function xy(o,u){return Nr(o,hd(o),u)}function xo(o,u){return function(c,_){var b=St(c)?A0:Wm,w=u?u():{};return b(c,o,mt(_,2),w)}}function Ti(o){return Ot(function(u,c){var _=-1,b=c.length,w=b>1?c[b-1]:t,C=b>2?c[2]:t;for(w=o.length>3&&typeof w=="function"?(b--,w):t,C&&Le(c[0],c[1],C)&&(w=b<3?t:w,b=1),u=te(u);++_<b;){var M=c[_];M&&o(u,M,_,w)}return u})}function Jc(o,u){return function(c,_){if(c==null)return c;if(!We(c))return o(c,_);for(var b=c.length,w=u?b:-1,C=te(c);(u?w--:++w<b)&&_(C[w],w,C)!==!1;);return c}}function Qc(o){return function(u,c,_){for(var b=-1,w=te(u),C=_(u),M=C.length;M--;){var N=C[o?M:++b];if(c(w[N],N,w)===!1)break}return u}}function Ty(o,u,c){var _=u&y,b=as(o);function w(){var C=this&&this!==Ce&&this instanceof w?b:o;return C.apply(_?c:this,arguments)}return w}function $c(o){return function(u){u=Kt(u);var c=vi(u)?Tr(u):t,_=c?c[0]:u.charAt(0),b=c?wn(c,1).join(""):u.slice(1);return _[o]()+b}}function Ei(o){return function(u){return eu(Jd(Zd(u).replace(c0,"")),o,"")}}function as(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var c=xi(o.prototype),_=o.apply(c,u);return ce(_)?_:c}}function Ey(o,u,c){var _=as(o);function b(){for(var w=arguments.length,C=U(w),M=w,N=wi(b);M--;)C[M]=arguments[M];var W=w<3&&C[0]!==N&&C[w-1]!==N?[]:yn(C,N);if(w-=W.length,w<c)return id(o,u,To,b.placeholder,t,C,W,t,t,c-w);var z=this&&this!==Ce&&this instanceof b?_:o;return Je(z,this,C)}return b}function td(o){return function(u,c,_){var b=te(u);if(!We(u)){var w=mt(c,3);u=Pe(u),c=function(M){return w(b[M],M,b)}}var C=o(u,c,_);return C>-1?b[w?u[C]:C]:t}}function ed(o){return tn(function(u){var c=u.length,_=c,b=ur.prototype.thru;for(o&&u.reverse();_--;){var w=u[_];if(typeof w!="function")throw new ar(a);if(b&&!C&&Ao(w)=="wrapper")var C=new ur([],!0)}for(_=C?_:c;++_<c;){w=u[_];var M=Ao(w),N=M=="wrapper"?Bu(w):t;N&&Gu(N[0])&&N[1]==(A|S|P|F)&&!N[4].length&&N[9]==1?C=C[Ao(N[0])].apply(C,N[3]):C=w.length==1&&Gu(w)?C[M]():C.thru(w)}return function(){var W=arguments,z=W[0];if(C&&W.length==1&&St(z))return C.plant(z).value();for(var j=0,tt=c?u[j].apply(this,W):z;++j<c;)tt=u[j].call(this,tt);return tt}})}function To(o,u,c,_,b,w,C,M,N,W){var z=u&A,j=u&y,tt=u&E,ut=u&(S|O),bt=u&I,It=tt?t:as(o);function xt(){for(var Lt=arguments.length,kt=U(Lt),er=Lt;er--;)kt[er]=arguments[er];if(ut)var Ne=wi(xt),rr=B0(kt,Ne);if(_&&(kt=Kc(kt,_,b,ut)),w&&(kt=Zc(kt,w,C,ut)),Lt-=rr,ut&&Lt<W){var ye=yn(kt,Ne);return id(o,u,To,xt.placeholder,c,kt,ye,M,N,W-Lt)}var Sr=j?c:this,sn=tt?Sr[o]:o;return Lt=kt.length,M?kt=Wy(kt,M):bt&&Lt>1&&kt.reverse(),z&&N<Lt&&(kt.length=N),this&&this!==Ce&&this instanceof xt&&(sn=It||as(sn)),sn.apply(Sr,kt)}return xt}function rd(o,u){return function(c,_){return Jm(c,o,u(_),{})}}function Eo(o,u){return function(c,_){var b;if(c===t&&_===t)return u;if(c!==t&&(b=c),_!==t){if(b===t)return _;typeof c=="string"||typeof _=="string"?(c=$e(c),_=$e(_)):(c=Hc(c),_=Hc(_)),b=o(c,_)}return b}}function Ou(o){return tn(function(u){return u=ue(u,Qe(mt())),Ot(function(c){var _=this;return o(u,function(b){return Je(b,_,c)})})})}function wo(o,u){u=u===t?" ":$e(u);var c=u.length;if(c<2)return c?wu(u,o):u;var _=wu(u,ho(o/_i(u)));return vi(u)?wn(Tr(_),0,o).join(""):_.slice(0,o)}function wy(o,u,c,_){var b=u&y,w=as(o);function C(){for(var M=-1,N=arguments.length,W=-1,z=_.length,j=U(z+N),tt=this&&this!==Ce&&this instanceof C?w:o;++W<z;)j[W]=_[W];for(;N--;)j[W++]=arguments[++M];return Je(tt,b?c:this,j)}return C}function nd(o){return function(u,c,_){return _&&typeof _!="number"&&Le(u,c,_)&&(c=_=t),u=nn(u),c===t?(c=u,u=0):c=nn(c),_=_===t?u<c?1:-1:nn(_),hy(u,c,_,o)}}function So(o){return function(u,c){return typeof u=="string"&&typeof c=="string"||(u=cr(u),c=cr(c)),o(u,c)}}function id(o,u,c,_,b,w,C,M,N,W){var z=u&S,j=z?C:t,tt=z?t:C,ut=z?w:t,bt=z?t:w;u|=z?P:D,u&=~(z?D:P),u&R||(u&=~(y|E));var It=[o,u,b,ut,j,bt,tt,M,N,W],xt=c.apply(t,It);return Gu(o)&&_d(xt,It),xt.placeholder=_,gd(xt,o,u)}function Mu(o){var u=Ee[o];return function(c,_){if(c=cr(c),_=_==null?0:Oe(Ct(_),292),_&&gc(c)){var b=(Kt(c)+"e").split("e"),w=u(b[0]+"e"+(+b[1]+_));return b=(Kt(w)+"e").split("e"),+(b[0]+"e"+(+b[1]-_))}return u(c)}}var Sy=yi&&1/$s(new yi([,-0]))[1]==V?function(o){return new yi(o)}:th;function sd(o){return function(u){var c=Me(u);return c==k?uu(u):c==He?X0(u):F0(u,o(u))}}function $r(o,u,c,_,b,w,C,M){var N=u&E;if(!N&&typeof o!="function")throw new ar(a);var W=_?_.length:0;if(W||(u&=~(P|D),_=b=t),C=C===t?C:we(Ct(C),0),M=M===t?M:Ct(M),W-=b?b.length:0,u&D){var z=_,j=b;_=b=t}var tt=N?t:Bu(o),ut=[o,u,c,_,b,z,j,w,C,M];if(tt&&ky(ut,tt),o=ut[0],u=ut[1],c=ut[2],_=ut[3],b=ut[4],M=ut[9]=ut[9]===t?N?0:o.length:we(ut[9]-W,0),!M&&u&(S|O)&&(u&=~(S|O)),!u||u==y)var bt=Ty(o,u,c);else u==S||u==O?bt=Ey(o,u,M):(u==P||u==(y|P))&&!b.length?bt=wy(o,u,c,_):bt=To.apply(t,ut);var It=tt?Gc:_d;return gd(It(bt,ut),o,u)}function od(o,u,c,_){return o===t||wr(o,mi[c])&&!Jt.call(_,c)?u:o}function ad(o,u,c,_,b,w){return ce(o)&&ce(u)&&(w.set(u,o),mo(o,u,t,ad,w),w.delete(u)),o}function Ay(o){return ls(o)?t:o}function ud(o,u,c,_,b,w){var C=c&m,M=o.length,N=u.length;if(M!=N&&!(C&&N>M))return!1;var W=w.get(o),z=w.get(u);if(W&&z)return W==u&&z==o;var j=-1,tt=!0,ut=c&x?new Un:t;for(w.set(o,u),w.set(u,o);++j<M;){var bt=o[j],It=u[j];if(_)var xt=C?_(It,bt,j,u,o,w):_(bt,It,j,o,u,w);if(xt!==t){if(xt)continue;tt=!1;break}if(ut){if(!ru(u,function(Lt,kt){if(!Zi(ut,kt)&&(bt===Lt||b(bt,Lt,c,_,w)))return ut.push(kt)})){tt=!1;break}}else if(!(bt===It||b(bt,It,c,_,w))){tt=!1;break}}return w.delete(o),w.delete(u),tt}function Py(o,u,c,_,b,w,C){switch(c){case ci:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case Ki:return!(o.byteLength!=u.byteLength||!w(new so(o),new so(u)));case st:case G:case Zt:return wr(+o,+u);case Ut:return o.name==u.name&&o.message==u.message;case Br:case _n:return o==u+"";case k:var M=uu;case He:var N=_&m;if(M||(M=$s),o.size!=u.size&&!N)return!1;var W=C.get(o);if(W)return W==u;_|=x,C.set(o,u);var z=ud(M(o),M(u),_,b,w,C);return C.delete(o),z;case Fn:if(es)return es.call(o)==es.call(u)}return!1}function Ry(o,u,c,_,b,w){var C=c&m,M=Du(o),N=M.length,W=Du(u),z=W.length;if(N!=z&&!C)return!1;for(var j=N;j--;){var tt=M[j];if(!(C?tt in u:Jt.call(u,tt)))return!1}var ut=w.get(o),bt=w.get(u);if(ut&&bt)return ut==u&&bt==o;var It=!0;w.set(o,u),w.set(u,o);for(var xt=C;++j<N;){tt=M[j];var Lt=o[tt],kt=u[tt];if(_)var er=C?_(kt,Lt,tt,u,o,w):_(Lt,kt,tt,o,u,w);if(!(er===t?Lt===kt||b(Lt,kt,c,_,w):er)){It=!1;break}xt||(xt=tt=="constructor")}if(It&&!xt){var Ne=o.constructor,rr=u.constructor;Ne!=rr&&"constructor"in o&&"constructor"in u&&!(typeof Ne=="function"&&Ne instanceof Ne&&typeof rr=="function"&&rr instanceof rr)&&(It=!1)}return w.delete(o),w.delete(u),It}function tn(o){return Hu(pd(o,t,Ed),o+"")}function Du(o){return Rc(o,Pe,Nu)}function Fu(o){return Rc(o,ze,hd)}var Bu=fo?function(o){return fo.get(o)}:th;function Ao(o){for(var u=o.name+"",c=bi[u],_=Jt.call(bi,u)?c.length:0;_--;){var b=c[_],w=b.func;if(w==null||w==o)return b.name}return u}function wi(o){var u=Jt.call(T,"placeholder")?T:o;return u.placeholder}function mt(){var o=T.iteratee||Qu;return o=o===Qu?Oc:o,arguments.length?o(arguments[0],arguments[1]):o}function Po(o,u){var c=o.__data__;return Ly(u)?c[typeof u=="string"?"string":"hash"]:c.map}function Lu(o){for(var u=Pe(o),c=u.length;c--;){var _=u[c],b=o[_];u[c]=[_,b,cd(b)]}return u}function Hn(o,u){var c=G0(o,u);return Ic(c)?c:t}function Cy(o){var u=Jt.call(o,Ln),c=o[Ln];try{o[Ln]=t;var _=!0}catch{}var b=no.call(o);return _&&(u?o[Ln]=c:delete o[Ln]),b}var Nu=lu?function(o){return o==null?[]:(o=te(o),gn(lu(o),function(u){return vc.call(o,u)}))}:eh,hd=lu?function(o){for(var u=[];o;)mn(u,Nu(o)),o=oo(o);return u}:eh,Me=Be;(fu&&Me(new fu(new ArrayBuffer(1)))!=ci||Qi&&Me(new Qi)!=k||cu&&Me(cu.resolve())!=Fe||yi&&Me(new yi)!=He||$i&&Me(new $i)!=qi)&&(Me=function(o){var u=Be(o),c=u==K?o.constructor:t,_=c?Xn(c):"";if(_)switch(_){case fm:return ci;case cm:return k;case dm:return Fe;case pm:return He;case vm:return qi}return u});function Iy(o,u,c){for(var _=-1,b=c.length;++_<b;){var w=c[_],C=w.size;switch(w.type){case"drop":o+=C;break;case"dropRight":u-=C;break;case"take":u=Oe(u,o+C);break;case"takeRight":o=we(o,u-C);break}}return{start:o,end:u}}function Oy(o){var u=o.match(Ng);return u?u[1].split(Ug):[]}function ld(o,u,c){u=En(u,o);for(var _=-1,b=u.length,w=!1;++_<b;){var C=Ur(u[_]);if(!(w=o!=null&&c(o,C)))break;o=o[C]}return w||++_!=b?w:(b=o==null?0:o.length,!!b&&Fo(b)&&en(C,b)&&(St(o)||Wn(o)))}function My(o){var u=o.length,c=new o.constructor(u);return u&&typeof o[0]=="string"&&Jt.call(o,"index")&&(c.index=o.index,c.input=o.input),c}function fd(o){return typeof o.constructor=="function"&&!us(o)?xi(oo(o)):{}}function Dy(o,u,c){var _=o.constructor;switch(u){case Ki:return Iu(o);case st:case G:return new _(+o);case ci:return _y(o,c);case La:case Na:case Ua:case Ga:case ka:case Ha:case Xa:case Wa:case za:return jc(o,c);case k:return new _;case Zt:case _n:return new _(o);case Br:return gy(o);case He:return new _;case Fn:return my(o)}}function Fy(o,u){var c=u.length;if(!c)return o;var _=c-1;return u[_]=(c>1?"& ":"")+u[_],u=u.join(c>2?", ":" "),o.replace(Lg,`{
/* [wrapped with `+u+`] */
`)}function By(o){return St(o)||Wn(o)||!!(_c&&o&&o[_c])}function en(o,u){var c=typeof o;return u=u??ft,!!u&&(c=="number"||c!="symbol"&&jg.test(o))&&o>-1&&o%1==0&&o<u}function Le(o,u,c){if(!ce(c))return!1;var _=typeof u;return(_=="number"?We(c)&&en(u,c.length):_=="string"&&u in c)?wr(c[u],o):!1}function Uu(o,u){if(St(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||tr(o)?!0:Mg.test(o)||!Og.test(o)||u!=null&&o in te(u)}function Ly(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function Gu(o){var u=Ao(o),c=T[u];if(typeof c!="function"||!(u in Gt.prototype))return!1;if(o===c)return!0;var _=Bu(c);return!!_&&o===_[0]}function Ny(o){return!!cc&&cc in o}var Uy=eo?rn:rh;function us(o){var u=o&&o.constructor,c=typeof u=="function"&&u.prototype||mi;return o===c}function cd(o){return o===o&&!ce(o)}function dd(o,u){return function(c){return c==null?!1:c[o]===u&&(u!==t||o in te(c))}}function Gy(o){var u=Mo(o,function(_){return c.size===f&&c.clear(),_}),c=u.cache;return u}function ky(o,u){var c=o[1],_=u[1],b=c|_,w=b<(y|E|A),C=_==A&&c==S||_==A&&c==F&&o[7].length<=u[8]||_==(A|F)&&u[7].length<=u[8]&&c==S;if(!(w||C))return o;_&y&&(o[2]=u[2],b|=c&y?0:R);var M=u[3];if(M){var N=o[3];o[3]=N?Kc(N,M,u[4]):M,o[4]=N?yn(o[3],d):u[4]}return M=u[5],M&&(N=o[5],o[5]=N?Zc(N,M,u[6]):M,o[6]=N?yn(o[5],d):u[6]),M=u[7],M&&(o[7]=M),_&A&&(o[8]=o[8]==null?u[8]:Oe(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=b,o}function Hy(o){var u=[];if(o!=null)for(var c in te(o))u.push(c);return u}function Xy(o){return no.call(o)}function pd(o,u,c){return u=we(u===t?o.length-1:u,0),function(){for(var _=arguments,b=-1,w=we(_.length-u,0),C=U(w);++b<w;)C[b]=_[u+b];b=-1;for(var M=U(u+1);++b<u;)M[b]=_[b];return M[u]=c(C),Je(o,this,M)}}function vd(o,u){return u.length<2?o:kn(o,lr(u,0,-1))}function Wy(o,u){for(var c=o.length,_=Oe(u.length,c),b=Xe(o);_--;){var w=u[_];o[_]=en(w,c)?b[w]:t}return o}function ku(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var _d=md(Gc),hs=im||function(o,u){return Ce.setTimeout(o,u)},Hu=md(cy);function gd(o,u,c){var _=u+"";return Hu(o,Fy(_,zy(Oy(_),c)))}function md(o){var u=0,c=0;return function(){var _=um(),b=_t-(_-c);if(c=_,b>0){if(++u>=nt)return arguments[0]}else u=0;return o.apply(t,arguments)}}function Ro(o,u){var c=-1,_=o.length,b=_-1;for(u=u===t?_:u;++c<u;){var w=Eu(c,b),C=o[w];o[w]=o[c],o[c]=C}return o.length=u,o}var yd=Gy(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(Dg,function(c,_,b,w){u.push(b?w.replace(Hg,"$1"):_||c)}),u});function Ur(o){if(typeof o=="string"||tr(o))return o;var u=o+"";return u=="0"&&1/o==-V?"-0":u}function Xn(o){if(o!=null){try{return ro.call(o)}catch{}try{return o+""}catch{}}return""}function zy(o,u){return or(Et,function(c){var _="_."+c[0];u&c[1]&&!Js(o,_)&&o.push(_)}),o.sort()}function bd(o){if(o instanceof Gt)return o.clone();var u=new ur(o.__wrapped__,o.__chain__);return u.__actions__=Xe(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function Vy(o,u,c){(c?Le(o,u,c):u===t)?u=1:u=we(Ct(u),0);var _=o==null?0:o.length;if(!_||u<1)return[];for(var b=0,w=0,C=U(ho(_/u));b<_;)C[w++]=lr(o,b,b+=u);return C}function Yy(o){for(var u=-1,c=o==null?0:o.length,_=0,b=[];++u<c;){var w=o[u];w&&(b[_++]=w)}return b}function jy(){var o=arguments.length;if(!o)return[];for(var u=U(o-1),c=arguments[0],_=o;_--;)u[_-1]=arguments[_];return mn(St(c)?Xe(c):[c],Ie(u,1))}var qy=Ot(function(o,u){return me(o)?ns(o,Ie(u,1,me,!0)):[]}),Ky=Ot(function(o,u){var c=fr(u);return me(c)&&(c=t),me(o)?ns(o,Ie(u,1,me,!0),mt(c,2)):[]}),Zy=Ot(function(o,u){var c=fr(u);return me(c)&&(c=t),me(o)?ns(o,Ie(u,1,me,!0),t,c):[]});function Jy(o,u,c){var _=o==null?0:o.length;return _?(u=c||u===t?1:Ct(u),lr(o,u<0?0:u,_)):[]}function Qy(o,u,c){var _=o==null?0:o.length;return _?(u=c||u===t?1:Ct(u),u=_-u,lr(o,0,u<0?0:u)):[]}function $y(o,u){return o&&o.length?bo(o,mt(u,3),!0,!0):[]}function t1(o,u){return o&&o.length?bo(o,mt(u,3),!0):[]}function e1(o,u,c,_){var b=o==null?0:o.length;return b?(c&&typeof c!="number"&&Le(o,u,c)&&(c=0,_=b),jm(o,u,c,_)):[]}function xd(o,u,c){var _=o==null?0:o.length;if(!_)return-1;var b=c==null?0:Ct(c);return b<0&&(b=we(_+b,0)),Qs(o,mt(u,3),b)}function Td(o,u,c){var _=o==null?0:o.length;if(!_)return-1;var b=_-1;return c!==t&&(b=Ct(c),b=c<0?we(_+b,0):Oe(b,_-1)),Qs(o,mt(u,3),b,!0)}function Ed(o){var u=o==null?0:o.length;return u?Ie(o,1):[]}function r1(o){var u=o==null?0:o.length;return u?Ie(o,V):[]}function n1(o,u){var c=o==null?0:o.length;return c?(u=u===t?1:Ct(u),Ie(o,u)):[]}function i1(o){for(var u=-1,c=o==null?0:o.length,_={};++u<c;){var b=o[u];_[b[0]]=b[1]}return _}function wd(o){return o&&o.length?o[0]:t}function s1(o,u,c){var _=o==null?0:o.length;if(!_)return-1;var b=c==null?0:Ct(c);return b<0&&(b=we(_+b,0)),pi(o,u,b)}function o1(o){var u=o==null?0:o.length;return u?lr(o,0,-1):[]}var a1=Ot(function(o){var u=ue(o,Ru);return u.length&&u[0]===o[0]?mu(u):[]}),u1=Ot(function(o){var u=fr(o),c=ue(o,Ru);return u===fr(c)?u=t:c.pop(),c.length&&c[0]===o[0]?mu(c,mt(u,2)):[]}),h1=Ot(function(o){var u=fr(o),c=ue(o,Ru);return u=typeof u=="function"?u:t,u&&c.pop(),c.length&&c[0]===o[0]?mu(c,t,u):[]});function l1(o,u){return o==null?"":om.call(o,u)}function fr(o){var u=o==null?0:o.length;return u?o[u-1]:t}function f1(o,u,c){var _=o==null?0:o.length;if(!_)return-1;var b=_;return c!==t&&(b=Ct(c),b=b<0?we(_+b,0):Oe(b,_-1)),u===u?z0(o,u,b):Qs(o,ic,b,!0)}function c1(o,u){return o&&o.length?Bc(o,Ct(u)):t}var d1=Ot(Sd);function Sd(o,u){return o&&o.length&&u&&u.length?Tu(o,u):o}function p1(o,u,c){return o&&o.length&&u&&u.length?Tu(o,u,mt(c,2)):o}function v1(o,u,c){return o&&o.length&&u&&u.length?Tu(o,u,t,c):o}var _1=tn(function(o,u){var c=o==null?0:o.length,_=pu(o,u);return Uc(o,ue(u,function(b){return en(b,c)?+b:b}).sort(qc)),_});function g1(o,u){var c=[];if(!(o&&o.length))return c;var _=-1,b=[],w=o.length;for(u=mt(u,3);++_<w;){var C=o[_];u(C,_,o)&&(c.push(C),b.push(_))}return Uc(o,b),c}function Xu(o){return o==null?o:lm.call(o)}function m1(o,u,c){var _=o==null?0:o.length;return _?(c&&typeof c!="number"&&Le(o,u,c)?(u=0,c=_):(u=u==null?0:Ct(u),c=c===t?_:Ct(c)),lr(o,u,c)):[]}function y1(o,u){return yo(o,u)}function b1(o,u,c){return Su(o,u,mt(c,2))}function x1(o,u){var c=o==null?0:o.length;if(c){var _=yo(o,u);if(_<c&&wr(o[_],u))return _}return-1}function T1(o,u){return yo(o,u,!0)}function E1(o,u,c){return Su(o,u,mt(c,2),!0)}function w1(o,u){var c=o==null?0:o.length;if(c){var _=yo(o,u,!0)-1;if(wr(o[_],u))return _}return-1}function S1(o){return o&&o.length?kc(o):[]}function A1(o,u){return o&&o.length?kc(o,mt(u,2)):[]}function P1(o){var u=o==null?0:o.length;return u?lr(o,1,u):[]}function R1(o,u,c){return o&&o.length?(u=c||u===t?1:Ct(u),lr(o,0,u<0?0:u)):[]}function C1(o,u,c){var _=o==null?0:o.length;return _?(u=c||u===t?1:Ct(u),u=_-u,lr(o,u<0?0:u,_)):[]}function I1(o,u){return o&&o.length?bo(o,mt(u,3),!1,!0):[]}function O1(o,u){return o&&o.length?bo(o,mt(u,3)):[]}var M1=Ot(function(o){return Tn(Ie(o,1,me,!0))}),D1=Ot(function(o){var u=fr(o);return me(u)&&(u=t),Tn(Ie(o,1,me,!0),mt(u,2))}),F1=Ot(function(o){var u=fr(o);return u=typeof u=="function"?u:t,Tn(Ie(o,1,me,!0),t,u)});function B1(o){return o&&o.length?Tn(o):[]}function L1(o,u){return o&&o.length?Tn(o,mt(u,2)):[]}function N1(o,u){return u=typeof u=="function"?u:t,o&&o.length?Tn(o,t,u):[]}function Wu(o){if(!(o&&o.length))return[];var u=0;return o=gn(o,function(c){if(me(c))return u=we(c.length,u),!0}),ou(u,function(c){return ue(o,nu(c))})}function Ad(o,u){if(!(o&&o.length))return[];var c=Wu(o);return u==null?c:ue(c,function(_){return Je(u,t,_)})}var U1=Ot(function(o,u){return me(o)?ns(o,u):[]}),G1=Ot(function(o){return Pu(gn(o,me))}),k1=Ot(function(o){var u=fr(o);return me(u)&&(u=t),Pu(gn(o,me),mt(u,2))}),H1=Ot(function(o){var u=fr(o);return u=typeof u=="function"?u:t,Pu(gn(o,me),t,u)}),X1=Ot(Wu);function W1(o,u){return zc(o||[],u||[],rs)}function z1(o,u){return zc(o||[],u||[],os)}var V1=Ot(function(o){var u=o.length,c=u>1?o[u-1]:t;return c=typeof c=="function"?(o.pop(),c):t,Ad(o,c)});function Pd(o){var u=T(o);return u.__chain__=!0,u}function Y1(o,u){return u(o),o}function Co(o,u){return u(o)}var j1=tn(function(o){var u=o.length,c=u?o[0]:0,_=this.__wrapped__,b=function(w){return pu(w,o)};return u>1||this.__actions__.length||!(_ instanceof Gt)||!en(c)?this.thru(b):(_=_.slice(c,+c+(u?1:0)),_.__actions__.push({func:Co,args:[b],thisArg:t}),new ur(_,this.__chain__).thru(function(w){return u&&!w.length&&w.push(t),w}))});function q1(){return Pd(this)}function K1(){return new ur(this.value(),this.__chain__)}function Z1(){this.__values__===t&&(this.__values__=Hd(this.value()));var o=this.__index__>=this.__values__.length,u=o?t:this.__values__[this.__index__++];return{done:o,value:u}}function J1(){return this}function Q1(o){for(var u,c=this;c instanceof po;){var _=bd(c);_.__index__=0,_.__values__=t,u?b.__wrapped__=_:u=_;var b=_;c=c.__wrapped__}return b.__wrapped__=o,u}function $1(){var o=this.__wrapped__;if(o instanceof Gt){var u=o;return this.__actions__.length&&(u=new Gt(this)),u=u.reverse(),u.__actions__.push({func:Co,args:[Xu],thisArg:t}),new ur(u,this.__chain__)}return this.thru(Xu)}function tb(){return Wc(this.__wrapped__,this.__actions__)}var eb=xo(function(o,u,c){Jt.call(o,c)?++o[c]:Qr(o,c,1)});function rb(o,u,c){var _=St(o)?rc:Ym;return c&&Le(o,u,c)&&(u=t),_(o,mt(u,3))}function nb(o,u){var c=St(o)?gn:Ac;return c(o,mt(u,3))}var ib=td(xd),sb=td(Td);function ob(o,u){return Ie(Io(o,u),1)}function ab(o,u){return Ie(Io(o,u),V)}function ub(o,u,c){return c=c===t?1:Ct(c),Ie(Io(o,u),c)}function Rd(o,u){var c=St(o)?or:xn;return c(o,mt(u,3))}function Cd(o,u){var c=St(o)?P0:Sc;return c(o,mt(u,3))}var hb=xo(function(o,u,c){Jt.call(o,c)?o[c].push(u):Qr(o,c,[u])});function lb(o,u,c,_){o=We(o)?o:Ai(o),c=c&&!_?Ct(c):0;var b=o.length;return c<0&&(c=we(b+c,0)),Bo(o)?c<=b&&o.indexOf(u,c)>-1:!!b&&pi(o,u,c)>-1}var fb=Ot(function(o,u,c){var _=-1,b=typeof u=="function",w=We(o)?U(o.length):[];return xn(o,function(C){w[++_]=b?Je(u,C,c):is(C,u,c)}),w}),cb=xo(function(o,u,c){Qr(o,c,u)});function Io(o,u){var c=St(o)?ue:Mc;return c(o,mt(u,3))}function db(o,u,c,_){return o==null?[]:(St(u)||(u=u==null?[]:[u]),c=_?t:c,St(c)||(c=c==null?[]:[c]),Lc(o,u,c))}var pb=xo(function(o,u,c){o[c?0:1].push(u)},function(){return[[],[]]});function vb(o,u,c){var _=St(o)?eu:oc,b=arguments.length<3;return _(o,mt(u,4),c,b,xn)}function _b(o,u,c){var _=St(o)?R0:oc,b=arguments.length<3;return _(o,mt(u,4),c,b,Sc)}function gb(o,u){var c=St(o)?gn:Ac;return c(o,Do(mt(u,3)))}function mb(o){var u=St(o)?xc:ly;return u(o)}function yb(o,u,c){(c?Le(o,u,c):u===t)?u=1:u=Ct(u);var _=St(o)?Hm:fy;return _(o,u)}function bb(o){var u=St(o)?Xm:dy;return u(o)}function xb(o){if(o==null)return 0;if(We(o))return Bo(o)?_i(o):o.length;var u=Me(o);return u==k||u==He?o.size:bu(o).length}function Tb(o,u,c){var _=St(o)?ru:py;return c&&Le(o,u,c)&&(u=t),_(o,mt(u,3))}var Eb=Ot(function(o,u){if(o==null)return[];var c=u.length;return c>1&&Le(o,u[0],u[1])?u=[]:c>2&&Le(u[0],u[1],u[2])&&(u=[u[0]]),Lc(o,Ie(u,1),[])}),Oo=nm||function(){return Ce.Date.now()};function wb(o,u){if(typeof u!="function")throw new ar(a);return o=Ct(o),function(){if(--o<1)return u.apply(this,arguments)}}function Id(o,u,c){return u=c?t:u,u=o&&u==null?o.length:u,$r(o,A,t,t,t,t,u)}function Od(o,u){var c;if(typeof u!="function")throw new ar(a);return o=Ct(o),function(){return--o>0&&(c=u.apply(this,arguments)),o<=1&&(u=t),c}}var zu=Ot(function(o,u,c){var _=y;if(c.length){var b=yn(c,wi(zu));_|=P}return $r(o,_,u,c,b)}),Md=Ot(function(o,u,c){var _=y|E;if(c.length){var b=yn(c,wi(Md));_|=P}return $r(u,_,o,c,b)});function Dd(o,u,c){u=c?t:u;var _=$r(o,S,t,t,t,t,t,u);return _.placeholder=Dd.placeholder,_}function Fd(o,u,c){u=c?t:u;var _=$r(o,O,t,t,t,t,t,u);return _.placeholder=Fd.placeholder,_}function Bd(o,u,c){var _,b,w,C,M,N,W=0,z=!1,j=!1,tt=!0;if(typeof o!="function")throw new ar(a);u=cr(u)||0,ce(c)&&(z=!!c.leading,j="maxWait"in c,w=j?we(cr(c.maxWait)||0,u):w,tt="trailing"in c?!!c.trailing:tt);function ut(ye){var Sr=_,sn=b;return _=b=t,W=ye,C=o.apply(sn,Sr),C}function bt(ye){return W=ye,M=hs(Lt,u),z?ut(ye):C}function It(ye){var Sr=ye-N,sn=ye-W,tp=u-Sr;return j?Oe(tp,w-sn):tp}function xt(ye){var Sr=ye-N,sn=ye-W;return N===t||Sr>=u||Sr<0||j&&sn>=w}function Lt(){var ye=Oo();if(xt(ye))return kt(ye);M=hs(Lt,It(ye))}function kt(ye){return M=t,tt&&_?ut(ye):(_=b=t,C)}function er(){M!==t&&Vc(M),W=0,_=N=b=M=t}function Ne(){return M===t?C:kt(Oo())}function rr(){var ye=Oo(),Sr=xt(ye);if(_=arguments,b=this,N=ye,Sr){if(M===t)return bt(N);if(j)return Vc(M),M=hs(Lt,u),ut(N)}return M===t&&(M=hs(Lt,u)),C}return rr.cancel=er,rr.flush=Ne,rr}var Sb=Ot(function(o,u){return wc(o,1,u)}),Ab=Ot(function(o,u,c){return wc(o,cr(u)||0,c)});function Pb(o){return $r(o,I)}function Mo(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new ar(a);var c=function(){var _=arguments,b=u?u.apply(this,_):_[0],w=c.cache;if(w.has(b))return w.get(b);var C=o.apply(this,_);return c.cache=w.set(b,C)||w,C};return c.cache=new(Mo.Cache||Jr),c}Mo.Cache=Jr;function Do(o){if(typeof o!="function")throw new ar(a);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function Rb(o){return Od(2,o)}var Cb=vy(function(o,u){u=u.length==1&&St(u[0])?ue(u[0],Qe(mt())):ue(Ie(u,1),Qe(mt()));var c=u.length;return Ot(function(_){for(var b=-1,w=Oe(_.length,c);++b<w;)_[b]=u[b].call(this,_[b]);return Je(o,this,_)})}),Vu=Ot(function(o,u){var c=yn(u,wi(Vu));return $r(o,P,t,u,c)}),Ld=Ot(function(o,u){var c=yn(u,wi(Ld));return $r(o,D,t,u,c)}),Ib=tn(function(o,u){return $r(o,F,t,t,t,u)});function Ob(o,u){if(typeof o!="function")throw new ar(a);return u=u===t?u:Ct(u),Ot(o,u)}function Mb(o,u){if(typeof o!="function")throw new ar(a);return u=u==null?0:we(Ct(u),0),Ot(function(c){var _=c[u],b=wn(c,0,u);return _&&mn(b,_),Je(o,this,b)})}function Db(o,u,c){var _=!0,b=!0;if(typeof o!="function")throw new ar(a);return ce(c)&&(_="leading"in c?!!c.leading:_,b="trailing"in c?!!c.trailing:b),Bd(o,u,{leading:_,maxWait:u,trailing:b})}function Fb(o){return Id(o,1)}function Bb(o,u){return Vu(Cu(u),o)}function Lb(){if(!arguments.length)return[];var o=arguments[0];return St(o)?o:[o]}function Nb(o){return hr(o,g)}function Ub(o,u){return u=typeof u=="function"?u:t,hr(o,g,u)}function Gb(o){return hr(o,v|g)}function kb(o,u){return u=typeof u=="function"?u:t,hr(o,v|g,u)}function Hb(o,u){return u==null||Ec(o,u,Pe(u))}function wr(o,u){return o===u||o!==o&&u!==u}var Xb=So(gu),Wb=So(function(o,u){return o>=u}),Wn=Cc(function(){return arguments}())?Cc:function(o){return _e(o)&&Jt.call(o,"callee")&&!vc.call(o,"callee")},St=U.isArray,zb=Zf?Qe(Zf):Qm;function We(o){return o!=null&&Fo(o.length)&&!rn(o)}function me(o){return _e(o)&&We(o)}function Vb(o){return o===!0||o===!1||_e(o)&&Be(o)==st}var Sn=sm||rh,Yb=Jf?Qe(Jf):$m;function jb(o){return _e(o)&&o.nodeType===1&&!ls(o)}function qb(o){if(o==null)return!0;if(We(o)&&(St(o)||typeof o=="string"||typeof o.splice=="function"||Sn(o)||Si(o)||Wn(o)))return!o.length;var u=Me(o);if(u==k||u==He)return!o.size;if(us(o))return!bu(o).length;for(var c in o)if(Jt.call(o,c))return!1;return!0}function Kb(o,u){return ss(o,u)}function Zb(o,u,c){c=typeof c=="function"?c:t;var _=c?c(o,u):t;return _===t?ss(o,u,t,c):!!_}function Yu(o){if(!_e(o))return!1;var u=Be(o);return u==Ut||u==Y||typeof o.message=="string"&&typeof o.name=="string"&&!ls(o)}function Jb(o){return typeof o=="number"&&gc(o)}function rn(o){if(!ce(o))return!1;var u=Be(o);return u==Xt||u==lt||u==Ht||u==vn}function Nd(o){return typeof o=="number"&&o==Ct(o)}function Fo(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=ft}function ce(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function _e(o){return o!=null&&typeof o=="object"}var Ud=Qf?Qe(Qf):ey;function Qb(o,u){return o===u||yu(o,u,Lu(u))}function $b(o,u,c){return c=typeof c=="function"?c:t,yu(o,u,Lu(u),c)}function tx(o){return Gd(o)&&o!=+o}function ex(o){if(Uy(o))throw new wt(s);return Ic(o)}function rx(o){return o===null}function nx(o){return o==null}function Gd(o){return typeof o=="number"||_e(o)&&Be(o)==Zt}function ls(o){if(!_e(o)||Be(o)!=K)return!1;var u=oo(o);if(u===null)return!0;var c=Jt.call(u,"constructor")&&u.constructor;return typeof c=="function"&&c instanceof c&&ro.call(c)==$0}var ju=$f?Qe($f):ry;function ix(o){return Nd(o)&&o>=-ft&&o<=ft}var kd=tc?Qe(tc):ny;function Bo(o){return typeof o=="string"||!St(o)&&_e(o)&&Be(o)==_n}function tr(o){return typeof o=="symbol"||_e(o)&&Be(o)==Fn}var Si=ec?Qe(ec):iy;function sx(o){return o===t}function ox(o){return _e(o)&&Me(o)==qi}function ax(o){return _e(o)&&Be(o)==Eg}var ux=So(xu),hx=So(function(o,u){return o<=u});function Hd(o){if(!o)return[];if(We(o))return Bo(o)?Tr(o):Xe(o);if(Ji&&o[Ji])return H0(o[Ji]());var u=Me(o),c=u==k?uu:u==He?$s:Ai;return c(o)}function nn(o){if(!o)return o===0?o:0;if(o=cr(o),o===V||o===-V){var u=o<0?-1:1;return u*ht}return o===o?o:0}function Ct(o){var u=nn(o),c=u%1;return u===u?c?u-c:u:0}function Xd(o){return o?Gn(Ct(o),0,X):0}function cr(o){if(typeof o=="number")return o;if(tr(o))return q;if(ce(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=ce(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=ac(o);var c=zg.test(o);return c||Yg.test(o)?w0(o.slice(2),c?2:8):Wg.test(o)?q:+o}function Wd(o){return Nr(o,ze(o))}function lx(o){return o?Gn(Ct(o),-ft,ft):o===0?o:0}function Kt(o){return o==null?"":$e(o)}var fx=Ti(function(o,u){if(us(u)||We(u)){Nr(u,Pe(u),o);return}for(var c in u)Jt.call(u,c)&&rs(o,c,u[c])}),zd=Ti(function(o,u){Nr(u,ze(u),o)}),Lo=Ti(function(o,u,c,_){Nr(u,ze(u),o,_)}),cx=Ti(function(o,u,c,_){Nr(u,Pe(u),o,_)}),dx=tn(pu);function px(o,u){var c=xi(o);return u==null?c:Tc(c,u)}var vx=Ot(function(o,u){o=te(o);var c=-1,_=u.length,b=_>2?u[2]:t;for(b&&Le(u[0],u[1],b)&&(_=1);++c<_;)for(var w=u[c],C=ze(w),M=-1,N=C.length;++M<N;){var W=C[M],z=o[W];(z===t||wr(z,mi[W])&&!Jt.call(o,W))&&(o[W]=w[W])}return o}),_x=Ot(function(o){return o.push(t,ad),Je(Vd,t,o)});function gx(o,u){return nc(o,mt(u,3),Lr)}function mx(o,u){return nc(o,mt(u,3),_u)}function yx(o,u){return o==null?o:vu(o,mt(u,3),ze)}function bx(o,u){return o==null?o:Pc(o,mt(u,3),ze)}function xx(o,u){return o&&Lr(o,mt(u,3))}function Tx(o,u){return o&&_u(o,mt(u,3))}function Ex(o){return o==null?[]:go(o,Pe(o))}function wx(o){return o==null?[]:go(o,ze(o))}function qu(o,u,c){var _=o==null?t:kn(o,u);return _===t?c:_}function Sx(o,u){return o!=null&&ld(o,u,qm)}function Ku(o,u){return o!=null&&ld(o,u,Km)}var Ax=rd(function(o,u,c){u!=null&&typeof u.toString!="function"&&(u=no.call(u)),o[u]=c},Ju(Ve)),Px=rd(function(o,u,c){u!=null&&typeof u.toString!="function"&&(u=no.call(u)),Jt.call(o,u)?o[u].push(c):o[u]=[c]},mt),Rx=Ot(is);function Pe(o){return We(o)?bc(o):bu(o)}function ze(o){return We(o)?bc(o,!0):sy(o)}function Cx(o,u){var c={};return u=mt(u,3),Lr(o,function(_,b,w){Qr(c,u(_,b,w),_)}),c}function Ix(o,u){var c={};return u=mt(u,3),Lr(o,function(_,b,w){Qr(c,b,u(_,b,w))}),c}var Ox=Ti(function(o,u,c){mo(o,u,c)}),Vd=Ti(function(o,u,c,_){mo(o,u,c,_)}),Mx=tn(function(o,u){var c={};if(o==null)return c;var _=!1;u=ue(u,function(w){return w=En(w,o),_||(_=w.length>1),w}),Nr(o,Fu(o),c),_&&(c=hr(c,v|p|g,Ay));for(var b=u.length;b--;)Au(c,u[b]);return c});function Dx(o,u){return Yd(o,Do(mt(u)))}var Fx=tn(function(o,u){return o==null?{}:ay(o,u)});function Yd(o,u){if(o==null)return{};var c=ue(Fu(o),function(_){return[_]});return u=mt(u),Nc(o,c,function(_,b){return u(_,b[0])})}function Bx(o,u,c){u=En(u,o);var _=-1,b=u.length;for(b||(b=1,o=t);++_<b;){var w=o==null?t:o[Ur(u[_])];w===t&&(_=b,w=c),o=rn(w)?w.call(o):w}return o}function Lx(o,u,c){return o==null?o:os(o,u,c)}function Nx(o,u,c,_){return _=typeof _=="function"?_:t,o==null?o:os(o,u,c,_)}var jd=sd(Pe),qd=sd(ze);function Ux(o,u,c){var _=St(o),b=_||Sn(o)||Si(o);if(u=mt(u,4),c==null){var w=o&&o.constructor;b?c=_?new w:[]:ce(o)?c=rn(w)?xi(oo(o)):{}:c={}}return(b?or:Lr)(o,function(C,M,N){return u(c,C,M,N)}),c}function Gx(o,u){return o==null?!0:Au(o,u)}function kx(o,u,c){return o==null?o:Xc(o,u,Cu(c))}function Hx(o,u,c,_){return _=typeof _=="function"?_:t,o==null?o:Xc(o,u,Cu(c),_)}function Ai(o){return o==null?[]:au(o,Pe(o))}function Xx(o){return o==null?[]:au(o,ze(o))}function Wx(o,u,c){return c===t&&(c=u,u=t),c!==t&&(c=cr(c),c=c===c?c:0),u!==t&&(u=cr(u),u=u===u?u:0),Gn(cr(o),u,c)}function zx(o,u,c){return u=nn(u),c===t?(c=u,u=0):c=nn(c),o=cr(o),Zm(o,u,c)}function Vx(o,u,c){if(c&&typeof c!="boolean"&&Le(o,u,c)&&(u=c=t),c===t&&(typeof u=="boolean"?(c=u,u=t):typeof o=="boolean"&&(c=o,o=t)),o===t&&u===t?(o=0,u=1):(o=nn(o),u===t?(u=o,o=0):u=nn(u)),o>u){var _=o;o=u,u=_}if(c||o%1||u%1){var b=mc();return Oe(o+b*(u-o+E0("1e-"+((b+"").length-1))),u)}return Eu(o,u)}var Yx=Ei(function(o,u,c){return u=u.toLowerCase(),o+(c?Kd(u):u)});function Kd(o){return Zu(Kt(o).toLowerCase())}function Zd(o){return o=Kt(o),o&&o.replace(qg,L0).replace(d0,"")}function jx(o,u,c){o=Kt(o),u=$e(u);var _=o.length;c=c===t?_:Gn(Ct(c),0,_);var b=c;return c-=u.length,c>=0&&o.slice(c,b)==u}function qx(o){return o=Kt(o),o&&Rg.test(o)?o.replace(Pf,N0):o}function Kx(o){return o=Kt(o),o&&Fg.test(o)?o.replace(Va,"\\$&"):o}var Zx=Ei(function(o,u,c){return o+(c?"-":"")+u.toLowerCase()}),Jx=Ei(function(o,u,c){return o+(c?" ":"")+u.toLowerCase()}),Qx=$c("toLowerCase");function $x(o,u,c){o=Kt(o),u=Ct(u);var _=u?_i(o):0;if(!u||_>=u)return o;var b=(u-_)/2;return wo(lo(b),c)+o+wo(ho(b),c)}function tT(o,u,c){o=Kt(o),u=Ct(u);var _=u?_i(o):0;return u&&_<u?o+wo(u-_,c):o}function eT(o,u,c){o=Kt(o),u=Ct(u);var _=u?_i(o):0;return u&&_<u?wo(u-_,c)+o:o}function rT(o,u,c){return c||u==null?u=0:u&&(u=+u),hm(Kt(o).replace(Ya,""),u||0)}function nT(o,u,c){return(c?Le(o,u,c):u===t)?u=1:u=Ct(u),wu(Kt(o),u)}function iT(){var o=arguments,u=Kt(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var sT=Ei(function(o,u,c){return o+(c?"_":"")+u.toLowerCase()});function oT(o,u,c){return c&&typeof c!="number"&&Le(o,u,c)&&(u=c=t),c=c===t?X:c>>>0,c?(o=Kt(o),o&&(typeof u=="string"||u!=null&&!ju(u))&&(u=$e(u),!u&&vi(o))?wn(Tr(o),0,c):o.split(u,c)):[]}var aT=Ei(function(o,u,c){return o+(c?" ":"")+Zu(u)});function uT(o,u,c){return o=Kt(o),c=c==null?0:Gn(Ct(c),0,o.length),u=$e(u),o.slice(c,c+u.length)==u}function hT(o,u,c){var _=T.templateSettings;c&&Le(o,u,c)&&(u=t),o=Kt(o),u=Lo({},u,_,od);var b=Lo({},u.imports,_.imports,od),w=Pe(b),C=au(b,w),M,N,W=0,z=u.interpolate||qs,j="__p += '",tt=hu((u.escape||qs).source+"|"+z.source+"|"+(z===Rf?Xg:qs).source+"|"+(u.evaluate||qs).source+"|$","g"),ut="//# sourceURL="+(Jt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++m0+"]")+`
`;o.replace(tt,function(xt,Lt,kt,er,Ne,rr){return kt||(kt=er),j+=o.slice(W,rr).replace(Kg,U0),Lt&&(M=!0,j+=`' +
__e(`+Lt+`) +
'`),Ne&&(N=!0,j+=`';
`+Ne+`;
__p += '`),kt&&(j+=`' +
((__t = (`+kt+`)) == null ? '' : __t) +
'`),W=rr+xt.length,xt}),j+=`';
`;var bt=Jt.call(u,"variable")&&u.variable;if(!bt)j=`with (obj) {
`+j+`
}
`;else if(kg.test(bt))throw new wt(h);j=(N?j.replace(wg,""):j).replace(Sg,"$1").replace(Ag,"$1;"),j="function("+(bt||"obj")+`) {
`+(bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var It=Qd(function(){return jt(w,ut+"return "+j).apply(t,C)});if(It.source=j,Yu(It))throw It;return It}function lT(o){return Kt(o).toLowerCase()}function fT(o){return Kt(o).toUpperCase()}function cT(o,u,c){if(o=Kt(o),o&&(c||u===t))return ac(o);if(!o||!(u=$e(u)))return o;var _=Tr(o),b=Tr(u),w=uc(_,b),C=hc(_,b)+1;return wn(_,w,C).join("")}function dT(o,u,c){if(o=Kt(o),o&&(c||u===t))return o.slice(0,fc(o)+1);if(!o||!(u=$e(u)))return o;var _=Tr(o),b=hc(_,Tr(u))+1;return wn(_,0,b).join("")}function pT(o,u,c){if(o=Kt(o),o&&(c||u===t))return o.replace(Ya,"");if(!o||!(u=$e(u)))return o;var _=Tr(o),b=uc(_,Tr(u));return wn(_,b).join("")}function vT(o,u){var c=B,_=Z;if(ce(u)){var b="separator"in u?u.separator:b;c="length"in u?Ct(u.length):c,_="omission"in u?$e(u.omission):_}o=Kt(o);var w=o.length;if(vi(o)){var C=Tr(o);w=C.length}if(c>=w)return o;var M=c-_i(_);if(M<1)return _;var N=C?wn(C,0,M).join(""):o.slice(0,M);if(b===t)return N+_;if(C&&(M+=N.length-M),ju(b)){if(o.slice(M).search(b)){var W,z=N;for(b.global||(b=hu(b.source,Kt(Cf.exec(b))+"g")),b.lastIndex=0;W=b.exec(z);)var j=W.index;N=N.slice(0,j===t?M:j)}}else if(o.indexOf($e(b),M)!=M){var tt=N.lastIndexOf(b);tt>-1&&(N=N.slice(0,tt))}return N+_}function _T(o){return o=Kt(o),o&&Pg.test(o)?o.replace(Af,V0):o}var gT=Ei(function(o,u,c){return o+(c?" ":"")+u.toUpperCase()}),Zu=$c("toUpperCase");function Jd(o,u,c){return o=Kt(o),u=c?t:u,u===t?k0(o)?q0(o):O0(o):o.match(u)||[]}var Qd=Ot(function(o,u){try{return Je(o,t,u)}catch(c){return Yu(c)?c:new wt(c)}}),mT=tn(function(o,u){return or(u,function(c){c=Ur(c),Qr(o,c,zu(o[c],o))}),o});function yT(o){var u=o==null?0:o.length,c=mt();return o=u?ue(o,function(_){if(typeof _[1]!="function")throw new ar(a);return[c(_[0]),_[1]]}):[],Ot(function(_){for(var b=-1;++b<u;){var w=o[b];if(Je(w[0],this,_))return Je(w[1],this,_)}})}function bT(o){return Vm(hr(o,v))}function Ju(o){return function(){return o}}function xT(o,u){return o==null||o!==o?u:o}var TT=ed(),ET=ed(!0);function Ve(o){return o}function Qu(o){return Oc(typeof o=="function"?o:hr(o,v))}function wT(o){return Dc(hr(o,v))}function ST(o,u){return Fc(o,hr(u,v))}var AT=Ot(function(o,u){return function(c){return is(c,o,u)}}),PT=Ot(function(o,u){return function(c){return is(o,c,u)}});function $u(o,u,c){var _=Pe(u),b=go(u,_);c==null&&!(ce(u)&&(b.length||!_.length))&&(c=u,u=o,o=this,b=go(u,Pe(u)));var w=!(ce(c)&&"chain"in c)||!!c.chain,C=rn(o);return or(b,function(M){var N=u[M];o[M]=N,C&&(o.prototype[M]=function(){var W=this.__chain__;if(w||W){var z=o(this.__wrapped__),j=z.__actions__=Xe(this.__actions__);return j.push({func:N,args:arguments,thisArg:o}),z.__chain__=W,z}return N.apply(o,mn([this.value()],arguments))})}),o}function RT(){return Ce._===this&&(Ce._=tm),this}function th(){}function CT(o){return o=Ct(o),Ot(function(u){return Bc(u,o)})}var IT=Ou(ue),OT=Ou(rc),MT=Ou(ru);function $d(o){return Uu(o)?nu(Ur(o)):uy(o)}function DT(o){return function(u){return o==null?t:kn(o,u)}}var FT=nd(),BT=nd(!0);function eh(){return[]}function rh(){return!1}function LT(){return{}}function NT(){return""}function UT(){return!0}function GT(o,u){if(o=Ct(o),o<1||o>ft)return[];var c=X,_=Oe(o,X);u=mt(u),o-=X;for(var b=ou(_,u);++c<o;)u(c);return b}function kT(o){return St(o)?ue(o,Ur):tr(o)?[o]:Xe(yd(Kt(o)))}function HT(o){var u=++Q0;return Kt(o)+u}var XT=Eo(function(o,u){return o+u},0),WT=Mu("ceil"),zT=Eo(function(o,u){return o/u},1),VT=Mu("floor");function YT(o){return o&&o.length?_o(o,Ve,gu):t}function jT(o,u){return o&&o.length?_o(o,mt(u,2),gu):t}function qT(o){return sc(o,Ve)}function KT(o,u){return sc(o,mt(u,2))}function ZT(o){return o&&o.length?_o(o,Ve,xu):t}function JT(o,u){return o&&o.length?_o(o,mt(u,2),xu):t}var QT=Eo(function(o,u){return o*u},1),$T=Mu("round"),tE=Eo(function(o,u){return o-u},0);function eE(o){return o&&o.length?su(o,Ve):0}function rE(o,u){return o&&o.length?su(o,mt(u,2)):0}return T.after=wb,T.ary=Id,T.assign=fx,T.assignIn=zd,T.assignInWith=Lo,T.assignWith=cx,T.at=dx,T.before=Od,T.bind=zu,T.bindAll=mT,T.bindKey=Md,T.castArray=Lb,T.chain=Pd,T.chunk=Vy,T.compact=Yy,T.concat=jy,T.cond=yT,T.conforms=bT,T.constant=Ju,T.countBy=eb,T.create=px,T.curry=Dd,T.curryRight=Fd,T.debounce=Bd,T.defaults=vx,T.defaultsDeep=_x,T.defer=Sb,T.delay=Ab,T.difference=qy,T.differenceBy=Ky,T.differenceWith=Zy,T.drop=Jy,T.dropRight=Qy,T.dropRightWhile=$y,T.dropWhile=t1,T.fill=e1,T.filter=nb,T.flatMap=ob,T.flatMapDeep=ab,T.flatMapDepth=ub,T.flatten=Ed,T.flattenDeep=r1,T.flattenDepth=n1,T.flip=Pb,T.flow=TT,T.flowRight=ET,T.fromPairs=i1,T.functions=Ex,T.functionsIn=wx,T.groupBy=hb,T.initial=o1,T.intersection=a1,T.intersectionBy=u1,T.intersectionWith=h1,T.invert=Ax,T.invertBy=Px,T.invokeMap=fb,T.iteratee=Qu,T.keyBy=cb,T.keys=Pe,T.keysIn=ze,T.map=Io,T.mapKeys=Cx,T.mapValues=Ix,T.matches=wT,T.matchesProperty=ST,T.memoize=Mo,T.merge=Ox,T.mergeWith=Vd,T.method=AT,T.methodOf=PT,T.mixin=$u,T.negate=Do,T.nthArg=CT,T.omit=Mx,T.omitBy=Dx,T.once=Rb,T.orderBy=db,T.over=IT,T.overArgs=Cb,T.overEvery=OT,T.overSome=MT,T.partial=Vu,T.partialRight=Ld,T.partition=pb,T.pick=Fx,T.pickBy=Yd,T.property=$d,T.propertyOf=DT,T.pull=d1,T.pullAll=Sd,T.pullAllBy=p1,T.pullAllWith=v1,T.pullAt=_1,T.range=FT,T.rangeRight=BT,T.rearg=Ib,T.reject=gb,T.remove=g1,T.rest=Ob,T.reverse=Xu,T.sampleSize=yb,T.set=Lx,T.setWith=Nx,T.shuffle=bb,T.slice=m1,T.sortBy=Eb,T.sortedUniq=S1,T.sortedUniqBy=A1,T.split=oT,T.spread=Mb,T.tail=P1,T.take=R1,T.takeRight=C1,T.takeRightWhile=I1,T.takeWhile=O1,T.tap=Y1,T.throttle=Db,T.thru=Co,T.toArray=Hd,T.toPairs=jd,T.toPairsIn=qd,T.toPath=kT,T.toPlainObject=Wd,T.transform=Ux,T.unary=Fb,T.union=M1,T.unionBy=D1,T.unionWith=F1,T.uniq=B1,T.uniqBy=L1,T.uniqWith=N1,T.unset=Gx,T.unzip=Wu,T.unzipWith=Ad,T.update=kx,T.updateWith=Hx,T.values=Ai,T.valuesIn=Xx,T.without=U1,T.words=Jd,T.wrap=Bb,T.xor=G1,T.xorBy=k1,T.xorWith=H1,T.zip=X1,T.zipObject=W1,T.zipObjectDeep=z1,T.zipWith=V1,T.entries=jd,T.entriesIn=qd,T.extend=zd,T.extendWith=Lo,$u(T,T),T.add=XT,T.attempt=Qd,T.camelCase=Yx,T.capitalize=Kd,T.ceil=WT,T.clamp=Wx,T.clone=Nb,T.cloneDeep=Gb,T.cloneDeepWith=kb,T.cloneWith=Ub,T.conformsTo=Hb,T.deburr=Zd,T.defaultTo=xT,T.divide=zT,T.endsWith=jx,T.eq=wr,T.escape=qx,T.escapeRegExp=Kx,T.every=rb,T.find=ib,T.findIndex=xd,T.findKey=gx,T.findLast=sb,T.findLastIndex=Td,T.findLastKey=mx,T.floor=VT,T.forEach=Rd,T.forEachRight=Cd,T.forIn=yx,T.forInRight=bx,T.forOwn=xx,T.forOwnRight=Tx,T.get=qu,T.gt=Xb,T.gte=Wb,T.has=Sx,T.hasIn=Ku,T.head=wd,T.identity=Ve,T.includes=lb,T.indexOf=s1,T.inRange=zx,T.invoke=Rx,T.isArguments=Wn,T.isArray=St,T.isArrayBuffer=zb,T.isArrayLike=We,T.isArrayLikeObject=me,T.isBoolean=Vb,T.isBuffer=Sn,T.isDate=Yb,T.isElement=jb,T.isEmpty=qb,T.isEqual=Kb,T.isEqualWith=Zb,T.isError=Yu,T.isFinite=Jb,T.isFunction=rn,T.isInteger=Nd,T.isLength=Fo,T.isMap=Ud,T.isMatch=Qb,T.isMatchWith=$b,T.isNaN=tx,T.isNative=ex,T.isNil=nx,T.isNull=rx,T.isNumber=Gd,T.isObject=ce,T.isObjectLike=_e,T.isPlainObject=ls,T.isRegExp=ju,T.isSafeInteger=ix,T.isSet=kd,T.isString=Bo,T.isSymbol=tr,T.isTypedArray=Si,T.isUndefined=sx,T.isWeakMap=ox,T.isWeakSet=ax,T.join=l1,T.kebabCase=Zx,T.last=fr,T.lastIndexOf=f1,T.lowerCase=Jx,T.lowerFirst=Qx,T.lt=ux,T.lte=hx,T.max=YT,T.maxBy=jT,T.mean=qT,T.meanBy=KT,T.min=ZT,T.minBy=JT,T.stubArray=eh,T.stubFalse=rh,T.stubObject=LT,T.stubString=NT,T.stubTrue=UT,T.multiply=QT,T.nth=c1,T.noConflict=RT,T.noop=th,T.now=Oo,T.pad=$x,T.padEnd=tT,T.padStart=eT,T.parseInt=rT,T.random=Vx,T.reduce=vb,T.reduceRight=_b,T.repeat=nT,T.replace=iT,T.result=Bx,T.round=$T,T.runInContext=L,T.sample=mb,T.size=xb,T.snakeCase=sT,T.some=Tb,T.sortedIndex=y1,T.sortedIndexBy=b1,T.sortedIndexOf=x1,T.sortedLastIndex=T1,T.sortedLastIndexBy=E1,T.sortedLastIndexOf=w1,T.startCase=aT,T.startsWith=uT,T.subtract=tE,T.sum=eE,T.sumBy=rE,T.template=hT,T.times=GT,T.toFinite=nn,T.toInteger=Ct,T.toLength=Xd,T.toLower=lT,T.toNumber=cr,T.toSafeInteger=lx,T.toString=Kt,T.toUpper=fT,T.trim=cT,T.trimEnd=dT,T.trimStart=pT,T.truncate=vT,T.unescape=_T,T.uniqueId=HT,T.upperCase=gT,T.upperFirst=Zu,T.each=Rd,T.eachRight=Cd,T.first=wd,$u(T,function(){var o={};return Lr(T,function(u,c){Jt.call(T.prototype,c)||(o[c]=u)}),o}(),{chain:!1}),T.VERSION=n,or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){T[o].placeholder=T}),or(["drop","take"],function(o,u){Gt.prototype[o]=function(c){c=c===t?1:we(Ct(c),0);var _=this.__filtered__&&!u?new Gt(this):this.clone();return _.__filtered__?_.__takeCount__=Oe(c,_.__takeCount__):_.__views__.push({size:Oe(c,X),type:o+(_.__dir__<0?"Right":"")}),_},Gt.prototype[o+"Right"]=function(c){return this.reverse()[o](c).reverse()}}),or(["filter","map","takeWhile"],function(o,u){var c=u+1,_=c==Rt||c==Q;Gt.prototype[o]=function(b){var w=this.clone();return w.__iteratees__.push({iteratee:mt(b,3),type:c}),w.__filtered__=w.__filtered__||_,w}}),or(["head","last"],function(o,u){var c="take"+(u?"Right":"");Gt.prototype[o]=function(){return this[c](1).value()[0]}}),or(["initial","tail"],function(o,u){var c="drop"+(u?"":"Right");Gt.prototype[o]=function(){return this.__filtered__?new Gt(this):this[c](1)}}),Gt.prototype.compact=function(){return this.filter(Ve)},Gt.prototype.find=function(o){return this.filter(o).head()},Gt.prototype.findLast=function(o){return this.reverse().find(o)},Gt.prototype.invokeMap=Ot(function(o,u){return typeof o=="function"?new Gt(this):this.map(function(c){return is(c,o,u)})}),Gt.prototype.reject=function(o){return this.filter(Do(mt(o)))},Gt.prototype.slice=function(o,u){o=Ct(o);var c=this;return c.__filtered__&&(o>0||u<0)?new Gt(c):(o<0?c=c.takeRight(-o):o&&(c=c.drop(o)),u!==t&&(u=Ct(u),c=u<0?c.dropRight(-u):c.take(u-o)),c)},Gt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Gt.prototype.toArray=function(){return this.take(X)},Lr(Gt.prototype,function(o,u){var c=/^(?:filter|find|map|reject)|While$/.test(u),_=/^(?:head|last)$/.test(u),b=T[_?"take"+(u=="last"?"Right":""):u],w=_||/^find/.test(u);b&&(T.prototype[u]=function(){var C=this.__wrapped__,M=_?[1]:arguments,N=C instanceof Gt,W=M[0],z=N||St(C),j=function(Lt){var kt=b.apply(T,mn([Lt],M));return _&&tt?kt[0]:kt};z&&c&&typeof W=="function"&&W.length!=1&&(N=z=!1);var tt=this.__chain__,ut=!!this.__actions__.length,bt=w&&!tt,It=N&&!ut;if(!w&&z){C=It?C:new Gt(this);var xt=o.apply(C,M);return xt.__actions__.push({func:Co,args:[j],thisArg:t}),new ur(xt,tt)}return bt&&It?o.apply(this,M):(xt=this.thru(j),bt?_?xt.value()[0]:xt.value():xt)})}),or(["pop","push","shift","sort","splice","unshift"],function(o){var u=to[o],c=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",_=/^(?:pop|shift)$/.test(o);T.prototype[o]=function(){var b=arguments;if(_&&!this.__chain__){var w=this.value();return u.apply(St(w)?w:[],b)}return this[c](function(C){return u.apply(St(C)?C:[],b)})}}),Lr(Gt.prototype,function(o,u){var c=T[u];if(c){var _=c.name+"";Jt.call(bi,_)||(bi[_]=[]),bi[_].push({name:u,func:c})}}),bi[To(t,E).name]=[{name:"wrapper",func:t}],Gt.prototype.clone=_m,Gt.prototype.reverse=gm,Gt.prototype.value=mm,T.prototype.at=j1,T.prototype.chain=q1,T.prototype.commit=K1,T.prototype.next=Z1,T.prototype.plant=Q1,T.prototype.reverse=$1,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=tb,T.prototype.first=T.prototype.head,Ji&&(T.prototype[Ji]=J1),T},gi=K0();Bn?((Bn.exports=gi)._=gi,Qa._=gi):Ce._=gi}).call(Pn)})(JC,Wi);function ov(r){let e,t,n;const i=[{texture:r[1]},r[2]];function s(h){r[7](h)}let a={};for(let h=0;h<i.length;h+=1)a=De(a,i[h]);return r[0]!==void 0&&(a.instance=r[0]),e=new dn({props:a}),je.push(()=>Xr(e,"instance",s)),{c(){se(e.$$.fragment)},m(h,l){ee(e,h,l),n=!0},p(h,l){const f=l&6?ui(i,[l&2&&{texture:h[1]},l&4&&hi(h[2])]):{};!t&&l&1&&(t=!0,f.instance=h[0],Hr(()=>t=!1)),e.$set(f)},i(h){n||(rt(e.$$.fragment,h),n=!0)},o(h){at(e.$$.fragment,h),n=!1},d(h){re(e,h)}}}function QC(r){let e,t,n=r[1]&&ov(r);return{c(){n&&n.c(),e=ai()},m(i,s){n&&n.m(i,s),Yt(i,e,s),t=!0},p(i,[s]){i[1]?n?(n.p(i,s),s&2&&rt(n,1)):(n=ov(i),n.c(),rt(n,1),n.m(e.parentNode,e)):n&&(nr(),at(n,1,1,()=>{n=null}),ir())},i(i){t||(rt(n),t=!0)},o(i){at(n),t=!1},d(i){n&&n.d(i),i&&Wt(e)}}}function $C(r,e,t){const n=["width","height","texture","instance"];let i=Fi(e,n),{width:s}=e,{height:a}=e,{texture:h}=e,{instance:l=void 0}=e,f={width:-1,height:-1},d;function v(p){l=p,t(0,l)}return r.$$set=p=>{e=De(De({},e),Es(p)),t(2,i=Fi(e,n)),"width"in p&&t(3,s=p.width),"height"in p&&t(4,a=p.height),"texture"in p&&t(5,h=p.texture),"instance"in p&&t(0,l=p.instance)},r.$$.update=()=>{if(r.$$.dirty&120&&h&&!Wi.isEqual(f,{width:s,height:a})){t(6,f={width:s,height:a});let{app:p}=Tg(),g=new Ke(h);g.width=s,g.height=a,t(1,d=p.renderer.generateTexture(g,{scaleMode:Ue.NEAREST,region:new Dt(0,0,s,a)}))}},[l,d,i,s,a,h,f,v]}class tI extends xr{constructor(e){super(),br(this,e,$C,QC,yr,{width:3,height:4,texture:5,instance:0})}}function eI(r){let e,t;return e=new dn({props:{texture:r[5]}}),{c(){se(e.$$.fragment)},m(n,i){ee(e,n,i),t=!0},p(n,i){const s={};i&32&&(s.texture=n[5]),e.$set(s)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function rI(r){let e,t;return e=new fi({props:{$$slots:{default:[nI]},$$scope:{ctx:r}}}),{c(){se(e.$$.fragment)},m(n,i){ee(e,n,i),t=!0},p(n,i){const s={};i&16415&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function nI(r){let e,t,n,i,s,a;e=new dn({props:{texture:r[3]}});const h=[{texture:r[2]},r[0].layers[r[1]].pos];let l={};for(let f=0;f<h.length;f+=1)l=De(l,h[f]);return n=new dn({props:l}),s=new dn({props:{texture:r[4]}}),{c(){se(e.$$.fragment),t=Vt(),se(n.$$.fragment),i=Vt(),se(s.$$.fragment)},m(f,d){ee(e,f,d),Yt(f,t,d),ee(n,f,d),Yt(f,i,d),ee(s,f,d),a=!0},p(f,d){const v={};d&8&&(v.texture=f[3]),e.$set(v);const p=d&7?ui(h,[d&4&&{texture:f[2]},d&3&&hi(f[0].layers[f[1]].pos)]):{};n.$set(p);const g={};d&16&&(g.texture=f[4]),s.$set(g)},i(f){a||(rt(e.$$.fragment,f),rt(n.$$.fragment,f),rt(s.$$.fragment,f),a=!0)},o(f){at(e.$$.fragment,f),at(n.$$.fragment,f),at(s.$$.fragment,f),a=!1},d(f){re(e,f),f&&Wt(t),re(n,f),f&&Wt(i),re(s,f)}}}function iI(r){let e,t,n,i;const s=[rI,eI],a=[];function h(l,f){return l[4]&&l[3]&&l[2]?0:l[5]?1:-1}return~(e=h(r))&&(t=a[e]=s[e](r)),{c(){t&&t.c(),n=ai()},m(l,f){~e&&a[e].m(l,f),Yt(l,n,f),i=!0},p(l,[f]){let d=e;e=h(l),e===d?~e&&a[e].p(l,f):(t&&(nr(),at(a[d],1,1,()=>{a[d]=null}),ir()),~e?(t=a[e],t?t.p(l,f):(t=a[e]=s[e](l),t.c()),rt(t,1),t.m(n.parentNode,n)):t=null)},i(l){i||(rt(t),i=!0)},o(l){at(t),i=!1},d(l){~e&&a[e].d(l),l&&Wt(n)}}}function sI(r,e,t){let n,{appSlot:i}=e,{selectedLayer:s}=e,a={},h=new WeakMap,l={width:-1,height:-1},f,{app:d}=Tg(),v,p,g,m;function x(E){if(!h.has(E.image)){let R=new Ke(new vt(new Mt(E.image)));R.x=E.pos.x,R.y=E.pos.y,R.width=E.rect.width,R.height=E.rect.height,h.set(E.image,d.renderer.generateTexture(R,{scaleMode:Ue.NEAREST,region:new Dt(0,0,117,166)}))}return h.get(E.image)}function y(E){let R=new Ze;for(let S of[...E].reverse())R.addChild(new Ke(x(S)));return d.renderer.generateTexture(R,{scaleMode:Ue.NEAREST,region:new Dt(0,0,117,166)})}return r.$$set=E=>{"appSlot"in E&&t(0,i=E.appSlot),"selectedLayer"in E&&t(1,s=E.selectedLayer)},r.$$.update=()=>{if(r.$$.dirty&3&&t(9,n=s!==void 0?i.layers[s].rect:void 0),r.$$.dirty&3&&s!==void 0&&(h.delete(i.layers[s].image),t(7,l={width:-1,height:-1}),t(2,f=void 0)),r.$$.dirty&67&&(Wi.isEqual(a,{selected:s,layers:i.layers.map(E=>E.image.src)})||(t(6,a={selected:s,layers:i.layers.map(E=>E.image.src)}),t(8,m=s!==void 0?new vt(new Mt(i.layers[s].image)):void 0),t(3,v=s!==void 0?y(i.layers.slice(s+1)):void 0),t(4,p=s!==void 0?y(i.layers.slice(0,s)):void 0),t(5,g=s===void 0?y(i.layers):void 0))),r.$$.dirty&896&&m&&!Wi.isEqual(l,n)){t(7,l={...n});let E=new Ke(m);E.width=l.width,E.height=l.height,t(2,f=d.renderer.generateTexture(E,{scaleMode:Ue.NEAREST,region:new Dt(0,0,l.width,l.height)}))}},[i,s,f,v,p,g,a,l,m,n]}class oI extends xr{constructor(e){super(),br(this,e,sI,iI,yr,{appSlot:0,selectedLayer:1})}}function av(r,e,t){const n=r.slice();return n[22]=e[t],n[24]=t,n}function uv(r,e,t){const n=r.slice();return n[25]=e[t],n[24]=t,n}function Mh(r){const e=r.slice(),t=e[3][e[0]];e[22]=t;const n=e[22].layers[e[4]];return e[25]=n,e}function hv(r,e,t){const n=r.slice();return n[22]=e[t],n}function lv(r,e,t){const n=r.slice();return n[22]=e[t],n[29]=e,n[24]=t,n}function aI(r){let e,t,n,i,s;function a(l){r[8](l,r[24])}let h={texture:vt.from(Bl),x:-2,y:-2};return r[2][r[24]]!==void 0&&(h.instance=r[2][r[24]]),e=new dn({props:h}),je.push(()=>Xr(e,"instance",a)),i=new oI({props:{appSlot:r[22],selectedLayer:r[0]===r[24]?r[4]:void 0}}),{c(){se(e.$$.fragment),n=Vt(),se(i.$$.fragment)},m(l,f){ee(e,l,f),Yt(l,n,f),ee(i,l,f),s=!0},p(l,f){r=l;const d={};!t&&f&12&&(t=!0,d.instance=r[2][r[24]],Hr(()=>t=!1)),e.$set(d);const v={};f&8&&(v.appSlot=r[22]),f&25&&(v.selectedLayer=r[0]===r[24]?r[4]:void 0),i.$set(v)},i(l){s||(rt(e.$$.fragment,l),rt(i.$$.fragment,l),s=!0)},o(l){at(e.$$.fragment,l),at(i.$$.fragment,l),s=!1},d(l){re(e,l),l&&Wt(n),re(i,l)}}}function fv(r,e){let t,n,i;const s=[{mask:e[2][e[24]]},e[22].pos];let a={$$slots:{default:[aI]},$$scope:{ctx:e}};for(let h=0;h<s.length;h+=1)a=De(a,s[h]);return n=new fi({props:a}),{key:r,first:null,c(){t=ai(),se(n.$$.fragment),this.first=t},m(h,l){Yt(h,t,l),ee(n,h,l),i=!0},p(h,l){e=h;const f=l&12?ui(s,[{mask:e[2][e[24]]},l&8&&hi(e[22].pos)]):{};l&1073741853&&(f.$$scope={dirty:l,ctx:e}),n.$set(f)},i(h){i||(rt(n.$$.fragment,h),i=!0)},o(h){at(n.$$.fragment,h),i=!1},d(h){h&&Wt(t),re(n,h)}}}function cv(r){let e,t;const n=[r[22].pos];let i={$$slots:{default:[uI]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=De(i,n[s]);return e=new fi({props:i}),{c(){se(e.$$.fragment)},m(s,a){ee(e,s,a),t=!0},p(s,a){const h=a&8?ui(n,[hi(s[22].pos)]):{};a&1073741832&&(h.$$scope={dirty:a,ctx:s}),e.$set(h)},i(s){t||(rt(e.$$.fragment,s),t=!0)},o(s){at(e.$$.fragment,s),t=!1},d(s){re(e,s)}}}function uI(r){let e,t;return e=new ZC({props:{text:r[22].dynamic,x:34,y:169,style:{fill:0,fontFamily:["Noto Sans TC","Noto Sans SC","Noto Sans JP","sans-serif"],fontSize:16,fontWeight:"600",align:"center",textBaseline:"alphabetic"}}}),{c(){se(e.$$.fragment)},m(n,i){ee(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.text=n[22].dynamic),e.$set(s)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function dv(r){let e,t,n=r[22].dynamic&&cv(r);return{c(){n&&n.c(),e=ai()},m(i,s){n&&n.m(i,s),Yt(i,e,s),t=!0},p(i,s){i[22].dynamic?n?(n.p(i,s),s&8&&rt(n,1)):(n=cv(i),n.c(),rt(n,1),n.m(e.parentNode,e)):n&&(nr(),at(n,1,1,()=>{n=null}),ir())},i(i){t||(rt(n),t=!0)},o(i){at(n),t=!1},d(i){n&&n.d(i),i&&Wt(e)}}}function pv(r){let e,t,n,i;e=new dn({props:{texture:vt.from(Ta)}});const s=[{texture:new vt(new Mt(r[25].image))},{x:r[22].pos.x+r[25].pos.x},{y:r[22].pos.y+r[25].pos.y},r[25].rect];let a={};for(let h=0;h<s.length;h+=1)a=De(a,s[h]);return n=new tI({props:a}),{c(){se(e.$$.fragment),t=Vt(),se(n.$$.fragment)},m(h,l){ee(e,h,l),Yt(h,t,l),ee(n,h,l),i=!0},p(h,l){const f=l&25?ui(s,[{texture:new vt(new Mt(h[25].image))},l&25&&{x:h[22].pos.x+h[25].pos.x},l&25&&{y:h[22].pos.y+h[25].pos.y},l&25&&hi(h[25].rect)]):{};n.$set(f)},i(h){i||(rt(e.$$.fragment,h),rt(n.$$.fragment,h),i=!0)},o(h){at(e.$$.fragment,h),at(n.$$.fragment,h),i=!1},d(h){re(e,h),h&&Wt(t),re(n,h)}}}function hI(r){let e,t,n=r[0]!==void 0&&r[4]!==void 0&&pv(Mh(r));return{c(){n&&n.c(),e=ai()},m(i,s){n&&n.m(i,s),Yt(i,e,s),t=!0},p(i,s){i[0]!==void 0&&i[4]!==void 0?n?(n.p(Mh(i),s),s&17&&rt(n,1)):(n=pv(Mh(i)),n.c(),rt(n,1),n.m(e.parentNode,e)):n&&(nr(),at(n,1,1,()=>{n=null}),ir())},i(i){t||(rt(n),t=!0)},o(i){at(n),t=!1},d(i){n&&n.d(i),i&&Wt(e)}}}function lI(r){let e,t,n=[],i=new Map,s,a,h,l,f,d;e=new dn({props:{texture:vt.from(Ta)}});let v=r[3];const p=y=>y[22].name;for(let y=0;y<v.length;y+=1){let E=lv(r,v,y),R=p(E);i.set(R,n[y]=fv(R,E))}a=new dn({props:{texture:vt.from(Rv),width:680,height:680}});let g=r[3],m=[];for(let y=0;y<g.length;y+=1)m[y]=dv(hv(r,g,y));const x=y=>at(m[y],1,1,()=>{m[y]=null});return f=new fi({props:{mask:r[5],alpha:.75,$$slots:{default:[hI]},$$scope:{ctx:r}}}),{c(){se(e.$$.fragment),t=Vt();for(let y=0;y<n.length;y+=1)n[y].c();s=Vt(),se(a.$$.fragment),h=Vt();for(let y=0;y<m.length;y+=1)m[y].c();l=Vt(),se(f.$$.fragment)},m(y,E){ee(e,y,E),Yt(y,t,E);for(let R=0;R<n.length;R+=1)n[R].m(y,E);Yt(y,s,E),ee(a,y,E),Yt(y,h,E);for(let R=0;R<m.length;R+=1)m[R].m(y,E);Yt(y,l,E),ee(f,y,E),d=!0},p(y,E){if(E&29&&(v=y[3],nr(),n=Fl(n,E,p,1,y,v,i,s.parentNode,uE,fv,s,lv),ir()),E&8){g=y[3];let S;for(S=0;S<g.length;S+=1){const O=hv(y,g,S);m[S]?(m[S].p(O,E),rt(m[S],1)):(m[S]=dv(O),m[S].c(),rt(m[S],1),m[S].m(l.parentNode,l))}for(nr(),S=g.length;S<m.length;S+=1)x(S);ir()}const R={};E&32&&(R.mask=y[5]),E&1073741849&&(R.$$scope={dirty:E,ctx:y}),f.$set(R)},i(y){if(!d){rt(e.$$.fragment,y);for(let E=0;E<v.length;E+=1)rt(n[E]);rt(a.$$.fragment,y);for(let E=0;E<g.length;E+=1)rt(m[E]);rt(f.$$.fragment,y),d=!0}},o(y){at(e.$$.fragment,y);for(let E=0;E<n.length;E+=1)at(n[E]);at(a.$$.fragment,y),m=m.filter(Boolean);for(let E=0;E<m.length;E+=1)at(m[E]);at(f.$$.fragment,y),d=!1},d(y){re(e,y),y&&Wt(t);for(let E=0;E<n.length;E+=1)n[E].d(y);y&&Wt(s),re(a,y),y&&Wt(h),Ev(m,y),y&&Wt(l),re(f,y)}}}function fI(r){let e,t;return e=new WC({props:{resources:[Rv,Ta,Bl],$$slots:{default:[lI]},$$scope:{ctx:r}}}),{c(){se(e.$$.fragment)},m(n,i){ee(e,n,i),t=!0},p(n,i){const s={};i&1073741885&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){re(e,n)}}}function cI(r){let e=[],t=new Map,n,i,s,a=[...r[22].layers].reverse();const h=f=>f[25].image;for(let f=0;f<a.length;f+=1){let d=uv(r,a,f),v=h(d);t.set(v,e[f]=vv(v,d))}let l=r[4]!==void 0&&_v(r);return{c(){for(let f=0;f<e.length;f+=1)e[f].c();n=Vt(),l&&l.c(),i=ai()},m(f,d){for(let v=0;v<e.length;v+=1)e[v].m(f,d);Yt(f,n,d),l&&l.m(f,d),Yt(f,i,d),s=!0},p(f,d){d&24&&(a=[...f[22].layers].reverse(),e=Fl(e,d,h,1,f,a,t,n.parentNode,Pv,vv,n,uv)),f[4]!==void 0?l?(l.p(f,d),d&16&&rt(l,1)):(l=_v(f),l.c(),rt(l,1),l.m(i.parentNode,i)):l&&(nr(),at(l,1,1,()=>{l=null}),ir())},i(f){s||(rt(l),s=!0)},o(f){at(l),s=!1},d(f){for(let d=0;d<e.length;d+=1)e[d].d(f);f&&Wt(n),l&&l.d(f),f&&Wt(i)}}}function dI(r){let e,t,n;function i(){return r[10](r[24])}return{c(){e=Pt("button"),Tt(e,"class","block h-full w-full")},m(s,a){Yt(s,e,a),t||(n=le(e,"click",i),t=!0)},p(s,a){r=s},i:Ge,o:Ge,d(s){s&&Wt(e),t=!1,n()}}}function vv(r,e){let t,n,i;function s(){return e[11](e[22],e[24])}return{key:r,first:null,c(){t=Pt("div"),Tt(t,"class","absolute z-10"),zt(t,"top",e[25].pos.y+"px"),zt(t,"left",e[25].pos.x+"px"),zt(t,"width",e[25].rect.width+"px"),zt(t,"height",e[25].rect.height+"px"),this.first=t},m(a,h){Yt(a,t,h),n||(i=le(t,"mousedown",s),n=!0)},p(a,h){e=a,h&8&&zt(t,"top",e[25].pos.y+"px"),h&8&&zt(t,"left",e[25].pos.x+"px"),h&8&&zt(t,"width",e[25].rect.width+"px"),h&8&&zt(t,"height",e[25].rect.height+"px")},d(a){a&&Wt(t),n=!1,i()}}}function _v(r){let e,t,n,i,s,a;function h(p){r[12](p)}function l(p){r[13](p)}function f(p){r[14](p)}function d(p){r[15](p)}let v={ratio:r[3][r[0]].layers[r[4]].image.width/r[3][r[0]].layers[r[4]].image.height};return r[3][r[0]].layers[r[4]].pos.x!==void 0&&(v.x=r[3][r[0]].layers[r[4]].pos.x),r[3][r[0]].layers[r[4]].pos.y!==void 0&&(v.y=r[3][r[0]].layers[r[4]].pos.y),r[3][r[0]].layers[r[4]].rect.width!==void 0&&(v.width=r[3][r[0]].layers[r[4]].rect.width),r[3][r[0]].layers[r[4]].rect.height!==void 0&&(v.height=r[3][r[0]].layers[r[4]].rect.height),e=new cE({props:v}),je.push(()=>Xr(e,"x",h)),je.push(()=>Xr(e,"y",l)),je.push(()=>Xr(e,"width",f)),je.push(()=>Xr(e,"height",d)),{c(){se(e.$$.fragment)},m(p,g){ee(e,p,g),a=!0},p(p,g){const m={};g&25&&(m.ratio=p[3][p[0]].layers[p[4]].image.width/p[3][p[0]].layers[p[4]].image.height),!t&&g&25&&(t=!0,m.x=p[3][p[0]].layers[p[4]].pos.x,Hr(()=>t=!1)),!n&&g&25&&(n=!0,m.y=p[3][p[0]].layers[p[4]].pos.y,Hr(()=>n=!1)),!i&&g&25&&(i=!0,m.width=p[3][p[0]].layers[p[4]].rect.width,Hr(()=>i=!1)),!s&&g&25&&(s=!0,m.height=p[3][p[0]].layers[p[4]].rect.height,Hr(()=>s=!1)),e.$set(m)},i(p){a||(rt(e.$$.fragment,p),a=!0)},o(p){at(e.$$.fragment,p),a=!1},d(p){re(e,p)}}}function gv(r){let e,t,n,i,s;const a=[dI,cI],h=[];function l(f,d){return f[0]!==f[24]?0:1}return t=l(r),n=h[t]=a[t](r),{c(){e=Pt("div"),n.c(),i=Vt(),Tt(e,"class","slot svelte-1m3oa9i"),zt(e,"left",r[22].pos.x+"px"),zt(e,"top",r[22].pos.y+"px"),Ft(e,"outline",r[0]===r[24])},m(f,d){Yt(f,e,d),h[t].m(e,null),gt(e,i),s=!0},p(f,d){let v=t;t=l(f),t===v?h[t].p(f,d):(nr(),at(h[v],1,1,()=>{h[v]=null}),ir(),n=h[t],n?n.p(f,d):(n=h[t]=a[t](f),n.c()),rt(n,1),n.m(e,i)),(!s||d&8)&&zt(e,"left",f[22].pos.x+"px"),(!s||d&8)&&zt(e,"top",f[22].pos.y+"px"),(!s||d&1)&&Ft(e,"outline",f[0]===f[24])},i(f){s||(rt(n),s=!0)},o(f){at(n),s=!1},d(f){f&&Wt(e),h[t].d()}}}function mv(r){let e,t,n,i,s;function a(d){r[16](d)}function h(d){r[17](d)}function l(d){r[18](d)}let f={};return r[3][r[0]]!==void 0&&(f.slot=r[3][r[0]]),r[4]!==void 0&&(f.selectedLayer=r[4]),r[0]!==void 0&&(f.selectedSlot=r[0]),e=new gE({props:f}),je.push(()=>Xr(e,"slot",a)),je.push(()=>Xr(e,"selectedLayer",h)),je.push(()=>Xr(e,"selectedSlot",l)),{c(){se(e.$$.fragment)},m(d,v){ee(e,d,v),s=!0},p(d,v){const p={};!t&&v&9&&(t=!0,p.slot=d[3][d[0]],Hr(()=>t=!1)),!n&&v&16&&(n=!0,p.selectedLayer=d[4],Hr(()=>n=!1)),!i&&v&1&&(i=!0,p.selectedSlot=d[0],Hr(()=>i=!1)),e.$set(p)},i(d){s||(rt(e.$$.fragment,d),s=!0)},o(d){at(e.$$.fragment,d),s=!1},d(d){re(e,d)}}}function pI(r){let e,t,n,i,s,a,h,l,f,d,v,p,g,m,x,y;function E(A){r[9](A)}let R={width:680,height:680,backgroundColor:r[6],antialias:!0,render:"demand",$$slots:{default:[fI]},$$scope:{ctx:r}};r[1]!==void 0&&(R.instance=r[1]),i=new NC({props:R}),je.push(()=>Xr(i,"instance",E));let S=r[3],O=[];for(let A=0;A<S.length;A+=1)O[A]=gv(av(r,S,A));const P=A=>at(O[A],1,1,()=>{O[A]=null});let D=r[0]!==void 0&&mv(r);return{c(){e=Pt("div"),t=Pt("div"),n=Pt("div"),se(i.$$.fragment),a=Vt();for(let A=0;A<O.length;A+=1)O[A].c();h=Vt(),l=Pt("div"),f=Pt("div"),D&&D.c(),d=Vt(),v=Pt("button"),v.textContent="保存",p=Vt(),g=Pt("div"),g.innerHTML=`<p>Credit: <a class="text-blue-700" target="_blank" rel="noreferrer" href="https://twitter.com/EastAiruier/status/1624174786359496704">@EastAiruier</a></p> 
        <p class="mt-2">代碼: <a href="https://github.com/eslym/vtuber-preference" class="text-blue-700" target="_blank" rel="noreferrer">eslym/vtuber-preference</a></p>`,Tt(n,"class","template svelte-1m3oa9i"),Tt(f,"class","h-0 flex-grow"),Tt(v,"class","bg-slate-400 p-2 text-center text-lg font-bold text-white"),Tt(l,"class","flex w-80 flex-col overflow-auto bg-white"),Tt(t,"class","flex flex-row shadow-lg"),Tt(g,"class","text-center text-sm italic"),Tt(e,"class","flex h-screen w-screen flex-col items-center justify-center gap-4")},m(A,F){Yt(A,e,F),gt(e,t),gt(t,n),ee(i,n,null),gt(n,a);for(let I=0;I<O.length;I+=1)O[I].m(n,null);gt(t,h),gt(t,l),gt(l,f),D&&D.m(f,null),gt(l,d),gt(l,v),gt(e,p),gt(e,g),m=!0,x||(y=le(v,"click",r[7]),x=!0)},p(A,[F]){const I={};if(F&1073741885&&(I.$$scope={dirty:F,ctx:A}),!s&&F&2&&(s=!0,I.instance=A[1],Hr(()=>s=!1)),i.$set(I),F&25){S=A[3];let B;for(B=0;B<S.length;B+=1){const Z=av(A,S,B);O[B]?(O[B].p(Z,F),rt(O[B],1)):(O[B]=gv(Z),O[B].c(),rt(O[B],1),O[B].m(n,null))}for(nr(),B=S.length;B<O.length;B+=1)P(B);ir()}A[0]!==void 0?D?(D.p(A,F),F&1&&rt(D,1)):(D=mv(A),D.c(),rt(D,1),D.m(f,null)):D&&(nr(),at(D,1,1,()=>{D=null}),ir())},i(A){if(!m){rt(i.$$.fragment,A);for(let F=0;F<S.length;F+=1)rt(O[F]);rt(D),m=!0}},o(A){at(i.$$.fragment,A),O=O.filter(Boolean);for(let F=0;F<O.length;F+=1)at(O[F]);at(D),m=!1},d(A){A&&Wt(e),re(i),Ev(O,A),D&&D.d(),x=!1,y()}}}function vI(r,e,t){let n,i=[],s=[],a=[{name:"第一個看的",pos:{x:48,y:48},layers:[]},{name:"最常看的",pos:{x:166,y:48},layers:[]},{name:"最佳節目",pos:{x:283,y:48},layers:[]},{name:"最瘋狂的",pos:{x:401,y:48},layers:[]},{name:"最療愈的",pos:{x:519,y:48},layers:[]},{name:"聲音最好聽的",pos:{x:48,y:248},layers:[]},{name:"唱歌最好聽的",pos:{x:166,y:248},layers:[]},{name:"最喜歡的",pos:{x:283,y:248},layers:[]},{name:"影響最深遠的",pos:{x:401,y:248},layers:[]},{name:"最漂亮的",pos:{x:519,y:248},layers:[]},{name:"最想犯罪的",pos:{x:48,y:448},layers:[]},{name:"最帥的",pos:{x:166,y:448},layers:[]},{name:"最想推廣的",pos:{x:283,y:448},layers:[]},{name:"最婆的",pos:{x:401,y:448},layers:[]},{name:"最",pos:{x:519,y:448},dynamic:"",layers:[]}];const h=Aa("#ffffff");let l,f,d,v=new mg.ColorMatrixFilter;v.negative(!0);function p(){if(!s[l]){let I=a[l],B=new Ze;B.addChild(new Ke(vt.from(Ta)));let Z=B.addChild(new Ke(vt.from(Bl)));Z.filters=[v],Z.x=I.pos.x-2,Z.y=I.pos.y-2,s[l]=new Ke(d.renderer.generateTexture(B))}return s[l]}async function g(){t(0,l=void 0),t(4,f=void 0),await oE();let B=new yf(d.renderer).base64(d.stage,"image/jpeg"),Z=document.createElement("a");Z.download="output.jpg",Z.href=B,Z.click()}function m(I,B){r.$$.not_equal(i[B],I)&&(i[B]=I,t(2,i))}function x(I){d=I,t(1,d)}const y=I=>{t(0,l=I),t(4,f=void 0)},E=(I,B)=>t(4,f=I.layers.length-B-1);function R(I){r.$$.not_equal(a[l].layers[f].pos.x,I)&&(a[l].layers[f].pos.x=I,t(3,a))}function S(I){r.$$.not_equal(a[l].layers[f].pos.y,I)&&(a[l].layers[f].pos.y=I,t(3,a))}function O(I){r.$$.not_equal(a[l].layers[f].rect.width,I)&&(a[l].layers[f].rect.width=I,t(3,a))}function P(I){r.$$.not_equal(a[l].layers[f].rect.height,I)&&(a[l].layers[f].rect.height=I,t(3,a))}function D(I){r.$$.not_equal(a[l],I)&&(a[l]=I,t(3,a))}function A(I){f=I,t(4,f)}function F(I){l=I,t(0,l)}return r.$$.update=()=>{r.$$.dirty&3&&t(5,n=d&&l!==void 0?p():null)},[l,d,i,a,f,n,h,g,m,x,y,E,R,S,O,P,D,A,F]}class _I extends xr{constructor(e){super(),br(this,e,vI,pI,yr,{})}}new _I({target:document.body});window.PIXI=vC;
