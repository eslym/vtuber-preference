import{S as ge,i as he,s as pe,d as z,f as N,g as m,t as M,h as R,j as O,k as p,l as Y,n as x,m as D,r as Ve,o as Wt,v as _e,C as be,w as me,x as ne,y as wt,z as ie,A as Q,B as He,D as J,E as S,F as ue,G as I,H as ce,I as ae,J as Pe,K as j,L as kt,M as Ke,N as Xe,O as At,P as ke,Q as Ze,R as ve,T as Mt,U as Le,V as Qe,W as fe,X as Ue,Y as Re,Z as Me,_ as Ge,$ as Tt,a0 as Lt,a1 as qt,a2 as Et,a3 as Nt,a4 as Vt,a5 as Ut,a6 as Rt,a7 as xe,a8 as yt,a9 as Bt,aa as Ft,ab as Ot,ac as qe,ad as Dt}from"./chunk-aabda652.js";import{S as Se,b as ze,R as Ie,c as se,d as Ee,C as St,M as Pt,e as $e,f as Qt,g as Jt,i as We,E as jt,s as zt,j as Yt,k as Ht}from"./chunk-7d7f547b.js";import"./chunk-28e086c5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Kt(l){let e,n,t,r,s,o,i,f,a,u,_,c,v,h,q,d,g,C,k,W,B,K,le;return{c(){e=z("div"),n=z("div"),t=z("div"),r=N(),s=z("div"),o=N(),i=z("div"),f=N(),a=z("div"),u=z("div"),_=N(),c=z("div"),v=N(),h=z("div"),q=N(),d=z("div"),g=z("div"),C=N(),k=z("div"),W=N(),B=z("div"),m(t,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),M(t,"cursor-nw-resize",!l[4]),M(t,"dragging",l[4]&&l[5]===l[15]),m(s,"class","resizer h-[6px] border-b-2 border-dashed svelte-19ac299"),R(s,"width",l[2]+"px"),M(s,"cursor-n-resize",!l[4]),M(s,"dragging",l[4]&&l[5]===l[13]),m(i,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),M(i,"cursor-ne-resize",!l[4]),M(i,"dragging",l[4]&&l[5]===l[16]),m(n,"class","flex flex-row"),m(u,"class","resizer w-[6px] border-r-2 border-dashed svelte-19ac299"),R(u,"height",l[3]+"px"),M(u,"cursor-w-resize",!l[4]),M(u,"dragging",l[4]&&l[5]===l[12]),m(c,"class","cursor-move"),R(c,"width",l[2]+"px"),R(c,"height",l[3]+"px"),m(h,"class","resizer w-[6px] border-l-2 border-dashed svelte-19ac299"),R(h,"height",l[3]+"px"),M(h,"cursor-e-resize",!l[4]),M(h,"dragging",l[4]&&l[5]===l[10]),m(a,"class","flex flex-row"),m(g,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),M(g,"cursor-sw-resize",!l[4]),M(g,"dragging",l[4]&&l[5]===l[17]),m(k,"class","resizer h-[6px] border-t-2 border-dashed svelte-19ac299"),R(k,"width",l[2]+"px"),M(k,"cursor-s-resize",!l[4]),M(k,"dragging",l[4]&&l[5]===l[11]),m(B,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),M(B,"cursor-se-resize",!l[4]),M(B,"dragging",l[4]&&l[5]===l[14]),m(d,"class","flex flex-row"),m(e,"class","this svelte-19ac299"),R(e,"left",l[0]-6+"px"),R(e,"top",l[1]-6+"px"),R(e,"width",l[2]+12+"px"),R(e,"height",l[3]+12+"px"),M(e,"dragging",!!l[4])},m(w,L){O(w,e,L),p(e,n),p(n,t),p(n,r),p(n,s),p(n,o),p(n,i),p(e,f),p(e,a),p(a,u),p(a,_),p(a,c),p(a,v),p(a,h),p(e,q),p(e,d),p(d,g),p(d,C),p(d,k),p(d,W),p(d,B),K||(le=[Y(window,"mouseup",l[19]),Y(window,"mousemove",l[8]),Y(t,"mousedown",l[20]),Y(s,"mousedown",l[21]),Y(i,"mousedown",l[22]),Y(u,"mousedown",l[23]),Y(c,"mousedown",l[24]),Y(h,"mousedown",l[25]),Y(g,"mousedown",l[26]),Y(k,"mousedown",l[27]),Y(B,"mousedown",l[28])],K=!0)},p(w,[L]){L&16&&M(t,"cursor-nw-resize",!w[4]),L&32816&&M(t,"dragging",w[4]&&w[5]===w[15]),L&4&&R(s,"width",w[2]+"px"),L&16&&M(s,"cursor-n-resize",!w[4]),L&8240&&M(s,"dragging",w[4]&&w[5]===w[13]),L&16&&M(i,"cursor-ne-resize",!w[4]),L&65584&&M(i,"dragging",w[4]&&w[5]===w[16]),L&8&&R(u,"height",w[3]+"px"),L&16&&M(u,"cursor-w-resize",!w[4]),L&4144&&M(u,"dragging",w[4]&&w[5]===w[12]),L&4&&R(c,"width",w[2]+"px"),L&8&&R(c,"height",w[3]+"px"),L&8&&R(h,"height",w[3]+"px"),L&16&&M(h,"cursor-e-resize",!w[4]),L&1072&&M(h,"dragging",w[4]&&w[5]===w[10]),L&16&&M(g,"cursor-sw-resize",!w[4]),L&131120&&M(g,"dragging",w[4]&&w[5]===w[17]),L&4&&R(k,"width",w[2]+"px"),L&16&&M(k,"cursor-s-resize",!w[4]),L&2096&&M(k,"dragging",w[4]&&w[5]===w[11]),L&16&&M(B,"cursor-se-resize",!w[4]),L&16432&&M(B,"dragging",w[4]&&w[5]===w[14]),L&1&&R(e,"left",w[0]-6+"px"),L&2&&R(e,"top",w[1]-6+"px"),L&4&&R(e,"width",w[2]+12+"px"),L&8&&R(e,"height",w[3]+12+"px"),L&16&&M(e,"dragging",!!w[4])},i:x,o:x,d(w){w&&D(e),K=!1,Ve(le)}}}function Xt(l,e,n){let{x:t}=e,{y:r}=e,{width:s}=e,{height:o}=e,{ratio:i=s/o}=e,f,a=()=>{},u="",_=Wt();function c(A,y,V){A.preventDefault(),n(4,f=A.target),n(5,a=y),n(6,u=V),document.body.classList.add(V)}function v(A){f&&(a({x:A.clientX,y:A.clientY}),_("update",{pos:{x:t,y:r},rect:{width:s,height:o}}))}function h(A){A.preventDefault(),n(4,f=A.target);let y=A.offsetX,V=A.offsetY;n(5,a=P=>{let X=f.getBoundingClientRect(),G=P.x-(X.x+y),de=P.y-(X.y+V);n(0,t+=G),n(1,r+=de)})}function q(A,y=!1){let V=f.getBoundingClientRect(),P=A.x-(V.x+1+V.width/2),X=Math.max(s+(y?-P:P),0),G=Math.max(X/i,0),de=(G-o)/2;n(2,s=X),n(3,o=G),n(1,r-=de)}function d(A,y=!1){let V=f.getBoundingClientRect(),P=A.y-(V.y+V.height/2),X=Math.max(o+(y?-P:P),0),G=Math.max(X*i,0),de=(G-s)/2;n(2,s=G),n(3,o=X),n(0,t-=de)}function g(A){let y=s;q(A,!0),n(0,t-=s-y)}function C(A){let y=o;d(A,!0),n(1,r-=o-y)}function k(A,y={}){let V=f.getBoundingClientRect(),P=(A.x-(V.x+V.width/2))*(y.x?-1:1),X=(A.y-(V.y+V.height/2))*(y.y?-1:1),G=Math.abs(P)<Math.abs(X)?P:X,de=Math.min(Math.abs(P)/Math.max(s,1),Math.abs(X)/Math.max(o,1)),Ce=Math.max(s+Math.max(s,1)*de*(G<0?-1:1),0);n(3,o=Math.max(Ce/i,0)),n(2,s=Ce)}function W(A){let y={width:s,height:o};k(A,{x:!0,y:!0}),n(0,t-=s-y.width),n(1,r-=o-y.height)}function B(A){let y=o;k(A,{y:!0}),n(1,r-=o-y)}function K(A){let y=s;k(A,{x:!0}),n(0,t-=s-y)}const le=()=>{n(4,f=void 0),u.length&&document.body.classList.remove(u)},w=A=>c(A,W,"cursor-nw-resize"),L=A=>c(A,C,"cursor-n-resize"),E=A=>c(A,B,"cursor-ne-resize"),b=A=>c(A,g,"cursor-w-resize"),T=A=>h(A),F=A=>c(A,q,"cursor-e-resize"),$=A=>c(A,K,"cursor-sw-resize"),oe=A=>c(A,d,"cursor-s-resize"),ee=A=>c(A,k,"cursor-se-resize");return l.$$set=A=>{"x"in A&&n(0,t=A.x),"y"in A&&n(1,r=A.y),"width"in A&&n(2,s=A.width),"height"in A&&n(3,o=A.height),"ratio"in A&&n(18,i=A.ratio)},[t,r,s,o,f,a,u,c,v,h,q,d,g,C,k,W,B,K,i,le,w,L,E,b,T,F,$,oe,ee]}class Zt extends ge{constructor(e){super(),he(this,e,Xt,Kt,pe,{x:0,y:1,width:2,height:3,ratio:18})}}const Fe="/assets/png-847a4edb.png",Oe="/assets/png-86f6b9a0.png",Je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAACmCAYAAADkrsA9AAABbmlDQ1BpY2MAACiRdZE9S8NQFIaftkqLHzioIOJQQcWhgiiKo1SwizrUClZdmpi2QtqGpEWKq+DiUHAQXfwa/Ae6Cq4KgqAIIm7ufi1S4rlGqIjecHMe3nvfw8kb8E+Zes6pG4dcvmjHY9HwfHIhHHzCTzshuhlJ6Y41PTuZ4N/1foNP1esB1ev/e3+uxmXD0cEXEh7VLbsoLNMwtVq0FG8Kt+nZ1LLwvnDElgGFL5SuefyoOOPxq2I7EZ8Av+oZzvxg7QfrWTsn3C/ckzNL+vc86kuajPzcrNRO2V04xIkRJYxGiRVMigxIzUtmf/sGv3wzFMSjy9uijC2ODFnxRkQtSVdDalp0Qx6Tssr9d55OenjI694UhfoH133pheAWVCuu+3HgutVDCNzDWb7mL0hOY2+iV2pazx60rMPJeU3TtuF0AzrurJSd+pICsv3pNDwfQ3MSWq+gYdHL6vuco1tIrMkvuoSdXeiT+y1Ln0y7aC2psZS3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAEPUlEQVR42u2c7WtOcRjHz2/maZlMEklC2MYwbR7nabJ2CymLiCQR0uZZiJKH8pDZvPQveKU0eUG0SJS08lCiJS3RlpAXU7fvz33odFjDivtcfT717aKkuT6u65zfObvngj8knU6PVkkpFUqRMkrJV3ID6ClflA9Kq/JEaVaanHMv/+Qvcb8p0gurUWqVWfT+n3NXaVQuS/CXHkuV0GqVeqWQ3v53niq7JPbaX0mVzP4qDcpmepl1XFLqJPfzb0uV0OEqV5Qy+pe1PFCWS2xbt1JDoTeVCfQt63mmLIyLdb9YubeZ0MRN7LzoKs6J/YEGhCaOstDbz5Ma3uU20aPEkvp+V+wi59AWji2JP+6U+HPs9/Vbg9DEUxh6/HFNraUnJvjm0YXPcl/QDzOM8ZOaog+mqPZSK+iDKSq81CL6YIpif01t1y8K6IUZOrzUzoAX3Jbo9FLT9MEWObQAqYBUQCogFZCKVEAqIBWQCkhFKiAVkApIBaQCUpEKSAWkAlIBqUgFpAJSAamAVEAqUgGpgFRAKiAVqYBUQCogFZAKSEUqIBWQCkgFpCIVkApIBaQCUgGpSAWkAlIBqYBUpAJSAamAVEAqIBWpgFRAKiAVkIpUQCogFZAKSAWkIhWQCkgFpAJSkQpIBaQCUgGpgFSkAlIBqYBUQCpSAamAVEAqIBWQilRAKiAVkApIRSqYkrpUeU4rDEl1zl1VnaQcVD7RkuTjor9Jp9MjVM4oa2mNEakRuRUqF5WptMjIjZJWcrNKmbJNaadNBiY1NrWDVY4rW7lbNiI1IneKSqMyj7YZOadqJT9SWaCsUV7TOgOTGpvaAeERaK/ShzYakBqRO1alXllGK41IjchNqVxQxtPSBF1Tu7neNqmUKPuVj7TVwKTGpna4ymllPe01IjUid3aQeSo1jTYncP12sZLvqExXtijvaLWBSY1NbYHKMWW70ou2G5AaketvpvxTqQW0PoHrt4uV3KJSqaxSXtF+A5Mam9o8lQNh+qLCgNSI3NEq55UV6DAiNSK3SqVBKURLgq6p3Vxvr6tMVvYoH1BjYFJjUztM5ZSyEUVGpEbkzggyT6XKUZXA9dvFSr6nMlPZpLxFl4FJjU3tIJWjSm3AUykbUiNyi4PMU6lF6Evg+u1iJT9WWaysVFpRaGBSY1PbX2VfkPl+qX7oNCA1IneUyjmlBqVGpEbkVobX24lcU638D3XuhkqpUqe8Z1KNoakdqnIyPOM6pNqSWx6u5JmsXzsr+b7KHGWD8oZJtTe1A1WOKDuVXKTakuvf2fp3t1VItSXW/9v9Z4D8Z4HGINWWXP8kyr+YP6TkIdWW3JEqZ5XVSLUnd36QeTFfwpHGzhHoVpD5/M8OpYNJtTe1Q1ROBJnPAzmk2pJbGq7kOaxfOyv5ocpcZZ3SxqTam9p8lcPKbqU3Um3JHRdkfs7Fkmz72r4Cqsn0nVDw0i4AAAAASUVORK5CYII=",vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAbCAYAAABydtG3AAABbmlDQ1BpY2MAACiRdZFLSwJhFIYftShKcVFQRAsXFhEKURAtwyA31kINstqM4y3wMswoIW2DNi2EFlGbbov+QW2DtgVBUAQR7dp324RMZ1RQQs/wzXl4v/MezpwBeyir5oyuecjli3o4GPCsxtY8Pe/YGcLGJC5FNbSlyGKUjvHzKJUSD36rV+e6ttGfSBoq2HqFZ1VNLwrLNIS2iprFe8KDakZJCJ8I+3QZUPjW0uN1frM4Xecvi/VoeAHsVk9PuoXjLaxm9JzwhLA3ly2pjXmsL3Em8ysRySNyRjEIEySAhzglNslSxC85Lztr75uq+ZYpiEeVt0YZXRxpMuL1iVqSrknJKdGT8mQpW3v/v08jNTNd7+4MQPeraX6OQc8+VCum+XtqmtUzcLzAdb7pL8ie5r5FrzQ17zG4d+DypqnFD+BqF4afNUVXapJDjj2Vgo8LcMVg4B761uu7atxz/gTRbflFd3B4BONS7974A/7qaAncN4wDAAAACXBIWXMAAC4jAAAuIwF4pT92AAABLklEQVRo3u2ZoQ7CMBRF2ymCYw5w4LDwCfALSD4BjcQi4TewOCx2cjgmsZObK7fQErJsQEiAveSe5NFsI4h70u6VamNMWyk1VkQcGvL2lCeTAJUyBrnyCOURyiOUR3mE8sj35GWMQa68nDHIlZcwBrnyIsYgkkzbTwOYhTgSdptyib08dpzy2Pllk8dCwtAWJ6+H4cRIxJBCXRg4iwmXTlEsr978FWbfHMOauchYMv0+z9/YKJ6qS2B2d1Z8wj1frYkwyUb+omyfN2JG9dyUP4orlYcvRG5NZQNTH7ZQ0i/eDJ68FJsYVsztr5xRIVxMyx4GL7qahZuFE9SBWf5mD+e6fht9F1XZROpPfh09zVDd/pEZoDqoFqrB3N8md68lK+aIiu3SqApnq25HUMkF9iA+fiYIrQ4AAAAASUVORK5CYII=";function Gt(l){let e,n,t,r,s,o,i;return{c(){e=z("label"),n=z("div"),t=_e(l[2]),r=N(),s=z("span"),o=N(),i=z("input"),m(n,"class","w-0 flex-grow"),m(s,"class","inline-block h-6 w-6 rounded-full border-2 shadow "),R(s,"background-color",l[1]),M(s,"border-white",be(l[1]).isDark()),M(s,"border-black",be(l[1]).isLight()),m(i,"type","hidden"),m(e,"class","flex cursor-pointer flex-row items-center gap-2 py-2 px-4 hover:bg-gray-300"),M(e,"bg-gray-300",l[3])},m(f,a){O(f,e,a),p(e,n),p(n,t),p(e,r),p(e,s),p(e,o),p(e,i),l[4](e)},p(f,[a]){a&4&&me(t,f[2]),a&2&&R(s,"background-color",f[1]),a&2&&M(s,"border-white",be(f[1]).isDark()),a&2&&M(s,"border-black",be(f[1]).isLight()),a&8&&M(e,"bg-gray-300",f[3])},i:x,o:x,d(f){f&&D(e),l[4](null)}}}function xt(l,e,n){let{hex:t}=e,{label:r}=e,{isOpen:s}=e,{labelWrapper:o}=e;function i(f){ne[f?"unshift":"push"](()=>{o=f,n(0,o)})}return l.$$set=f=>{"hex"in f&&n(1,t=f.hex),"label"in f&&n(2,r=f.label),"isOpen"in f&&n(3,s=f.isOpen),"labelWrapper"in f&&n(0,o=f.labelWrapper)},[o,t,r,s,i]}class $t extends ge{constructor(e){super(),he(this,e,xt,Gt,pe,{hex:1,label:2,isOpen:3,labelWrapper:0})}}const el={slots:["The 1st You Watch","Watch the Most","Best Program","Craziest","Most Healing","Best Voice","Best Singing","Daisuki❤","Most influencial (to you)","Prettiest","You Would Commit A Crime","Most Kakkoi","Want To Promote the Most","Most Waifu Material","Customize"],label:{export:"Export",bgColor:"Background Color",addImage:"Add Image",credit:"Credit: ",code:"Source Code: ",language:"Language: ",translate:"Translate: "}},tl=Object.freeze(Object.defineProperty({__proto__:null,default:el},Symbol.toStringTag,{value:"Module"})),ll={slots:["第一個看的","最常看的","最佳節目","最瘋狂的","最療愈的","聲音最好聽的","唱歌最好聽的","最喜歡的","影響最深遠的","最漂亮的","最想犯罪的","最帥的","最想推廣的","最婆的","自定义"],label:{export:"導出",bgColor:"背景顏色",addImage:"添加圖片",credit:"Credit: ",code:"代碼：",language:"語言：",translate:"翻譯："}},nl=Object.freeze(Object.defineProperty({__proto__:null,default:ll},Symbol.toStringTag,{value:"Module"})),rl=Object.assign({"../locales/en.yaml":tl,"../locales/zh-TW.yaml":nl}),et="zh-TW",Te="_lang",De={"zh-TW":!0,en:!0},Ne=new Set;function sl(l){var s;let e=rl[`../locales/${we.lang}.yaml`],n=l.split("."),t=n.shift(),r=(s=e==null?void 0:e.default)==null?void 0:s[t];for(;n.length;){let o=n.shift();r=r==null?void 0:r[o]}return r!==void 0?`${r}`:`!!{${l}}!!`}function ol(l,e){return l(we),Ne.add(l),()=>Ne.delete(l)}const we=Object.defineProperties(sl,{lang:{get(){let l=localStorage.getItem(Te)??et;return De[l]?l:et},set(l){if(De[l]&&l!==localStorage.getItem(Te)){localStorage.setItem(Te,l);for(let e of Ne)e(we)}}}});we.subscribe=ol;window.addEventListener("storage",l=>{if(l.key===Te&&De[l.newValue])for(let e of Ne)e(we)});function il(l){let e,n,t,r,s;return{c(){e=z("label"),n=z("span"),t=N(),r=z("input"),m(n,"class","inline-block h-4 w-4 rounded-full border shadow "),R(n,"background-color",l[1]),M(n,"border-white",be(l[1]).isDark()),M(n,"border-black",be(l[1]).isLight()),m(r,"type","hidden"),r.value=s=""+(l[3]+l[2]),m(e,"class","flex cursor-pointer flex-row items-center")},m(o,i){O(o,e,i),p(e,n),p(e,t),p(e,r),l[4](e)},p(o,[i]){i&2&&R(n,"background-color",o[1]),i&2&&M(n,"border-white",be(o[1]).isDark()),i&2&&M(n,"border-black",be(o[1]).isLight()),i&12&&s!==(s=""+(o[3]+o[2]))&&(r.value=s)},i:x,o:x,d(o){o&&D(e),l[4](null)}}}function al(l,e,n){let{hex:t}=e,{label:r}=e,{isOpen:s}=e,{labelWrapper:o}=e;function i(f){ne[f?"unshift":"push"](()=>{o=f,n(0,o)})}return l.$$set=f=>{"hex"in f&&n(1,t=f.hex),"label"in f&&n(2,r=f.label),"isOpen"in f&&n(3,s=f.isOpen),"labelWrapper"in f&&n(0,o=f.labelWrapper)},[o,t,r,s,i]}class fl extends ge{constructor(e){super(),he(this,e,al,il,pe,{hex:1,label:2,isOpen:3,labelWrapper:0})}}function tt(l,e,n){const t=l.slice();return t[24]=e[n],t[26]=n,t}function lt(l){let e,n,t;function r(o){l[11](o)}let s={isAlpha:!1,label:"",components:{input:fl}};return l[0].color!==void 0&&(s.hex=l[0].color),e=new wt({props:s}),ne.push(()=>ie(e,"hex",r)),{c(){Q(e.$$.fragment)},m(o,i){J(e,o,i),t=!0},p(o,i){const f={};!n&&i&1&&(n=!0,f.hex=o[0].color,ae(()=>n=!1)),e.$set(f)},i(o){t||(S(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){j(e,o)}}}function nt(l,e){let n,t,r,s,o,i,f,a=e[24].name+"",u,_,c,v,h;function q(...k){return e[17](e[26],...k)}function d(){return e[20](e[24],e[26])}function g(){return e[21](e[26])}function C(...k){return e[22](e[26],...k)}return{key:l,first:null,c(){n=z("div"),t=z("div"),r=z("img"),i=N(),f=z("div"),u=_e(a),_=N(),c=z("button"),c.textContent="Ｘ",m(r,"draggable","false"),m(r,"alt",s=e[24].name),Ke(r.src,o=e[24].image.src)||m(r,"src",o),m(r,"class","h-10 w-10 object-cover"),m(f,"class","w-0 flex-grow overflow-hidden whitespace-nowrap"),m(t,"class","flex w-0 flex-grow items-center gap-2 overflow-hidden"),m(t,"draggable","true"),m(c,"class","h-10 w-10 bg-slate-500 font-bold text-white"),m(n,"class","flex select-none flex-row items-center gap-4"),M(n,"bg-slate-300",e[1]===e[26]),this.first=n},m(k,W){O(k,n,W),p(n,t),p(t,r),p(t,i),p(t,f),p(f,u),p(n,_),p(n,c),v||(h=[Y(t,"dragstart",q),Y(t,"dragend",e[18]),Y(c,"mousedown",Xe(e[19])),Y(c,"click",Xe(d)),Y(n,"mousedown",g),Y(n,"dragover",C)],v=!0)},p(k,W){e=k,W&1&&s!==(s=e[24].name)&&m(r,"alt",s),W&1&&!Ke(r.src,o=e[24].image.src)&&m(r,"src",o),W&1&&a!==(a=e[24].name+"")&&me(u,a),W&3&&M(n,"bg-slate-300",e[1]===e[26])},d(k){k&&D(n),v=!1,Ve(h)}}}function ul(l){var A;let e,n,t,r,s,o,i,f,a,u,_,c,v,h,q,d,g,C,k=[],W=new Map,B,K,le=l[6]("label.addImage")+"",w,L,E,b,T=((A=l[0].name)==null?void 0:A.length)&&lt(l);function F(y){l[14](y)}let $={isAlpha:!1,label:l[6]("label.bgColor"),components:{input:$t}};l[0].background!==void 0&&($.hex=l[0].background),c=new wt({props:$}),ne.push(()=>ie(c,"hex",F));let oe=l[0].layers;const ee=y=>y[24].image;for(let y=0;y<oe.length;y+=1){let V=tt(l,oe,y),P=ee(V);W.set(P,k[y]=nt(P,V))}return{c(){e=z("div"),n=z("div"),t=z("button"),t.textContent="＜",r=N(),T&&T.c(),s=N(),o=z("input"),f=N(),a=z("button"),a.textContent="＞",u=N(),_=z("div"),Q(c.$$.fragment),h=N(),q=z("div"),d=z("form"),g=z("input"),C=N();for(let y=0;y<k.length;y+=1)k[y].c();B=N(),K=z("button"),w=_e(le),m(t,"class","p-2"),m(o,"class","w-0 flex-grow bg-transparent py-2 px-1 font-normal text-slate-100 underline-offset-4 placeholder:text-slate-300 focus:outline-none"),m(o,"placeholder",i=l[6](`slots.${l[2]}`)),m(a,"class","p-2"),m(n,"class","flex flex-row items-center bg-slate-600 text-xl font-bold text-white"),m(g,"type","file"),m(g,"accept",".jpg,.jpeg,.png,.bmp,.webp"),m(d,"class","hidden"),m(K,"class","block p-0.5 hover:bg-gray-300 active:bg-gray-200"),m(q,"class","flex h-0 flex-grow flex-col gap-2 p-4"),m(e,"class","flex h-full w-full flex-col bg-gray-100")},m(y,V){O(y,e,V),p(e,n),p(n,t),p(n,r),T&&T.m(n,null),p(n,s),p(n,o),He(o,l[0].name),p(n,f),p(n,a),p(e,u),p(e,_),J(c,_,null),p(e,h),p(e,q),p(q,d),p(d,g),l[15](g),l[16](d),p(q,C);for(let P=0;P<k.length;P+=1)k[P].m(q,null);p(q,B),p(q,K),p(K,w),L=!0,E||(b=[Y(t,"click",l[10]),Y(o,"input",l[12]),Y(a,"click",l[13]),Y(g,"change",l[7]),Y(K,"click",l[23])],E=!0)},p(y,[V]){var X;(X=y[0].name)!=null&&X.length?T?(T.p(y,V),V&1&&S(T,1)):(T=lt(y),T.c(),S(T,1),T.m(n,s)):T&&(ue(),I(T,1,1,()=>{T=null}),ce()),(!L||V&68&&i!==(i=y[6](`slots.${y[2]}`)))&&m(o,"placeholder",i),V&1&&o.value!==y[0].name&&He(o,y[0].name);const P={};V&64&&(P.label=y[6]("label.bgColor")),!v&&V&1&&(v=!0,P.hex=y[0].background,ae(()=>v=!1)),c.$set(P),V&803&&(oe=y[0].layers,k=Pe(k,V,ee,1,y,oe,W,q,At,nt,B,tt)),(!L||V&64)&&le!==(le=y[6]("label.addImage")+"")&&me(w,le)},i(y){L||(S(T),S(c.$$.fragment,y),L=!0)},o(y){I(T),I(c.$$.fragment,y),L=!1},d(y){y&&D(e),T&&T.d(),j(c),l[15](null),l[16](null);for(let V=0;V<k.length;V+=1)k[V].d();E=!1,Ve(b)}}}function cl(l,e,n){let t;kt(l,we,b=>n(6,t=b));let{slot:r}=e,{selectedLayer:s}=e,{selectedSlot:o}=e,i,f;function a(){let b=i.files[0],T=new FileReader;T.onload=()=>{let F=new Image;F.onload=()=>{let $={width:F.width,height:F.height};if(F.width>F.height){if(F.width>512){let ee=F.width/512;$.width/=ee,$.height/=ee}}else if(F.height>512){let ee=F.height/512;$.width/=ee,$.height/=ee}let oe={name:b.name,image:F,pos:{x:56-$.width/2,y:80-$.height/2},rect:$};n(1,s=0),n(0,r.layers=[oe,...r.layers],r)},F.src=T.result},T.readAsDataURL(b),f.reset()}let u=!1;function _(b,T){n(5,u=T);let F=b.target.parentElement;b.dataTransfer.dropEffect="move",b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/plain",r.layers[T].name),b.dataTransfer.setDragImage(F,F.clientWidth/2,F.clientHeight/2)}function c(b,T){if(u===!1)return;b.preventDefault();let F=r.layers[u],$=r.layers[T];n(0,r.layers[T]=F,r),n(0,r.layers[u]=$,r),n(5,u=T),b.dataTransfer.dropEffect="move",n(1,s=T)}const v=()=>{n(2,o=(15+o-1)%15),n(1,s=void 0)};function h(b){l.$$.not_equal(r.color,b)&&(r.color=b,n(0,r))}function q(){r.name=this.value,n(0,r)}const d=()=>{n(2,o=(o+1)%15),n(1,s=void 0)};function g(b){l.$$.not_equal(r.background,b)&&(r.background=b,n(0,r))}function C(b){ne[b?"unshift":"push"](()=>{i=b,n(3,i)})}function k(b){ne[b?"unshift":"push"](()=>{f=b,n(4,f)})}const W=(b,T)=>_(T,b),B=()=>{n(5,u=!1)},K=()=>{},le=(b,T)=>{n(0,r.layers=r.layers.filter(F=>F!==b),r),n(1,s=s>T?s-1:s<T?s:void 0)},w=b=>n(1,s=b),L=(b,T)=>c(T,b),E=()=>i.click();return l.$$set=b=>{"slot"in b&&n(0,r=b.slot),"selectedLayer"in b&&n(1,s=b.selectedLayer),"selectedSlot"in b&&n(2,o=b.selectedSlot)},[r,s,o,i,f,u,t,a,_,c,v,h,q,d,g,C,k,W,B,K,le,w,L,E]}class dl extends ge{constructor(e){super(),he(this,e,cl,ul,pe,{slot:0,selectedLayer:1,selectedSlot:2})}}function rt(l){let e,n,t;const r=[{texture:l[1]},l[2]];function s(i){l[7](i)}let o={};for(let i=0;i<r.length;i+=1)o=ve(o,r[i]);return l[0]!==void 0&&(o.instance=l[0]),e=new fe({props:o}),ne.push(()=>ie(e,"instance",s)),{c(){Q(e.$$.fragment)},m(i,f){J(e,i,f),t=!0},p(i,f){const a=f&6?Ue(r,[f&2&&{texture:i[1]},f&4&&Re(i[2])]):{};!n&&f&1&&(n=!0,a.instance=i[0],ae(()=>n=!1)),e.$set(a)},i(i){t||(S(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function gl(l){let e,n,t=l[1]&&rt(l);return{c(){t&&t.c(),e=ke()},m(r,s){t&&t.m(r,s),O(r,e,s),n=!0},p(r,[s]){r[1]?t?(t.p(r,s),s&2&&S(t,1)):(t=rt(r),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(ue(),I(t,1,1,()=>{t=null}),ce())},i(r){n||(S(t),n=!0)},o(r){I(t),n=!1},d(r){t&&t.d(r),r&&D(e)}}}function hl(l,e,n){const t=["width","height","texture","instance"];let r=Ze(e,t),{width:s}=e,{height:o}=e,{texture:i}=e,{instance:f=void 0}=e,a={width:-1,height:-1},u;function _(c){f=c,n(0,f)}return l.$$set=c=>{e=ve(ve({},e),Mt(c)),n(2,r=Ze(e,t)),"width"in c&&n(3,s=c.width),"height"in c&&n(4,o=c.height),"texture"in c&&n(5,i=c.texture),"instance"in c&&n(0,f=c.instance)},l.$$.update=()=>{if(l.$$.dirty&120&&i&&!Le.isEqual(a,{width:s,height:o})){n(6,a={width:s,height:o});let{app:c}=Qe(),v=new Se(i);v.width=s,v.height=o,n(1,u=c.renderer.generateTexture(v,{scaleMode:ze.LINEAR,region:new Ie(0,0,s,o)}))}},[f,u,r,s,o,i,a,_]}class pl extends ge{constructor(e){super(),he(this,e,hl,gl,pe,{width:3,height:4,texture:5,instance:0})}}function _l(l){let e,n;return e=new fe({props:{texture:l[5]}}),{c(){Q(e.$$.fragment)},m(t,r){J(e,t,r),n=!0},p(t,r){const s={};r&32&&(s.texture=t[5]),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function ml(l){let e,n;return e=new Me({props:{$$slots:{default:[bl]},$$scope:{ctx:l}}}),{c(){Q(e.$$.fragment)},m(t,r){J(e,t,r),n=!0},p(t,r){const s={};r&16415&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function bl(l){let e,n,t,r,s,o;e=new fe({props:{texture:l[3]}});const i=[{texture:l[2]},l[0].layers[l[1]].pos];let f={};for(let a=0;a<i.length;a+=1)f=ve(f,i[a]);return t=new fe({props:f}),s=new fe({props:{texture:l[4]}}),{c(){Q(e.$$.fragment),n=N(),Q(t.$$.fragment),r=N(),Q(s.$$.fragment)},m(a,u){J(e,a,u),O(a,n,u),J(t,a,u),O(a,r,u),J(s,a,u),o=!0},p(a,u){const _={};u&8&&(_.texture=a[3]),e.$set(_);const c=u&7?Ue(i,[u&4&&{texture:a[2]},u&3&&Re(a[0].layers[a[1]].pos)]):{};t.$set(c);const v={};u&16&&(v.texture=a[4]),s.$set(v)},i(a){o||(S(e.$$.fragment,a),S(t.$$.fragment,a),S(s.$$.fragment,a),o=!0)},o(a){I(e.$$.fragment,a),I(t.$$.fragment,a),I(s.$$.fragment,a),o=!1},d(a){j(e,a),a&&D(n),j(t,a),a&&D(r),j(s,a)}}}function wl(l){let e,n,t,r;const s=[ml,_l],o=[];function i(f,a){return f[4]&&f[3]&&f[2]?0:f[5]?1:-1}return~(e=i(l))&&(n=o[e]=s[e](l)),{c(){n&&n.c(),t=ke()},m(f,a){~e&&o[e].m(f,a),O(f,t,a),r=!0},p(f,[a]){let u=e;e=i(f),e===u?~e&&o[e].p(f,a):(n&&(ue(),I(o[u],1,1,()=>{o[u]=null}),ce()),~e?(n=o[e],n?n.p(f,a):(n=o[e]=s[e](f),n.c()),S(n,1),n.m(t.parentNode,t)):n=null)},i(f){r||(S(n),r=!0)},o(f){I(n),r=!1},d(f){~e&&o[e].d(f),f&&D(t)}}}function kl(l,e,n){let t,{renderSlot:r}=e,{selectedLayer:s}=e,o={},i=new WeakMap,f={width:-1,height:-1},a,{app:u}=Qe(),_,c,v,h;function q(g){if(!i.has(g.image)){let C=new se(new Ee(g.image)),k=new Se(C);k.x=g.pos.x,k.y=g.pos.y,k.width=g.rect.width,k.height=g.rect.height,i.set(g.image,u.renderer.generateTexture(k,{scaleMode:ze.LINEAR,region:new Ie(0,0,117,166),multisample:Pt.HIGH}))}return i.get(g.image)}function d(g){let C=new St;for(let k of[...g].reverse())C.addChild(new Se(q(k)));return u.renderer.generateTexture(C,{scaleMode:ze.NEAREST,region:new Ie(0,0,117,166)})}return l.$$set=g=>{"renderSlot"in g&&n(0,r=g.renderSlot),"selectedLayer"in g&&n(1,s=g.selectedLayer)},l.$$.update=()=>{if(l.$$.dirty&3&&n(9,t=s!==void 0?r.layers[s].rect:void 0),l.$$.dirty&3&&s!==void 0&&(i.delete(r.layers[s].image),n(7,f={width:-1,height:-1}),n(2,a=void 0)),l.$$.dirty&67&&(Le.isEqual(o,{selected:s,layers:r.layers.map(g=>g.image.src)})||(n(6,o={selected:s,layers:r.layers.map(g=>g.image.src)}),n(8,h=s!==void 0?new se(new Ee(r.layers[s].image)):void 0),n(3,_=s!==void 0?d(r.layers.slice(s+1)):void 0),n(4,c=s!==void 0?d(r.layers.slice(0,s)):void 0),n(5,v=s===void 0?d(r.layers):void 0))),l.$$.dirty&896&&h&&!Le.isEqual(f,t)){n(7,f={...t});let g=new Se(h);g.width=f.width,g.height=f.height,n(2,a=u.renderer.generateTexture(g,{scaleMode:ze.NEAREST,region:new Ie(0,0,f.width,f.height)}))}},[r,s,a,_,c,v,o,f,h,t]}class Al extends ge{constructor(e){super(),he(this,e,kl,wl,pe,{renderSlot:0,selectedLayer:1})}}const yl=l=>({fonts:l&1}),st=l=>({fonts:l[0]});function Sl(l){return{c:x,m:x,p:x,i:x,o:x,d:x}}function zl(l){let e;const n=l[3].default,t=qt(n,l,l[2],st);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&5)&&Et(t,n,r,r[2],e?Vt(n,r[2],s,yl):Nt(r[2]),st)},i(r){e||(S(t,r),e=!0)},o(r){I(t,r),e=!1},d(r){t&&t.d(r)}}}function vl(l){return{c:x,m:x,p:x,i:x,o:x,d:x}}function Cl(l){let e,n,t,r={ctx:l,current:null,token:null,hasCatch:!1,pending:vl,then:zl,catch:Sl,blocks:[,,,]};return Ge(n=l[1],r),{c(){e=ke(),r.block.c()},m(s,o){O(s,e,o),r.block.m(s,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(s,[o]){l=s,r.ctx=l,o&2&&n!==(n=l[1])&&Ge(n,r)||Tt(r,l,o)},i(s){t||(S(r.block),t=!0)},o(s){for(let o=0;o<3;o+=1){const i=r.blocks[o];I(i)}t=!1},d(s){s&&D(e),r.block.d(s),r.token=null,r=null}}}function Il(l,e,n){let t,{$$slots:r={},$$scope:s}=e,{fonts:o}=e;return l.$$set=i=>{"fonts"in i&&n(0,o=i.fonts),"$$scope"in i&&n(2,s=i.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&n(1,t=Promise.all(o.map(i=>new Lt(i).load())))},[o,t,s,r]}class Wl extends ge{constructor(e){super(),he(this,e,Il,Cl,pe,{fonts:0})}}function ot(l){let e,n;return e=new fe({props:{texture:l[3],x:l[0],y:l[1],anchor:l[2]}}),{c(){Q(e.$$.fragment)},m(t,r){J(e,t,r),n=!0},p(t,r){const s={};r&8&&(s.texture=t[3]),r&1&&(s.x=t[0]),r&2&&(s.y=t[1]),r&4&&(s.anchor=t[2]),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Ml(l){let e,n,t=l[3]&&ot(l);return{c(){t&&t.c(),e=ke()},m(r,s){t&&t.m(r,s),O(r,e,s),n=!0},p(r,[s]){r[3]?t?(t.p(r,s),s&8&&S(t,1)):(t=ot(r),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(ue(),I(t,1,1,()=>{t=null}),ce())},i(r){n||(S(t),n=!0)},o(r){I(t),n=!1},d(r){t&&t.d(r),r&&D(e)}}}function Tl(l,e,n){let{text:t}=e,{style:r={}}=e,{maxWidth:s}=e,{maxHeight:o}=e,{x:i=0}=e,{y:f=0}=e,{anchor:a=0}=e,u,_={};function c(h,q){let d=new $e(h);d.wordWrapWidth=q;let g=Jt.measureText(t,d,d.wordWrap),C=1;return g.width>s&&(C=s/g.width),g.height*C>o&&(C*=o/(g.height*C)),C}function v(){n(8,_={text:t,style:r});let{app:h}=Qe(),q=new $e({...r,wordWrap:!0,wordWrapWidth:s}),d=c(q,s);if(d<1){let C=s/d,k=C;for(d=c(q,C);k>2;){k/=2;let W={width:C-k,scale:c(q,C-k)},B={width:C+k,scale:c(q,C+k)};if(W.scale>d&&W.scale>B.scale){C=W.width,d=W.scale;continue}if(B.scale>d&&B.scale>W.scale){C=B.width,d=B.scale;continue}}q.wordWrapWidth=C}let g=new Qt(t,q);return g.width*=d,g.height*=d,h.renderer.generateTexture(g,{scaleMode:ze.LINEAR,region:new Ie(0,0,g.width,g.height)})}return l.$$set=h=>{"text"in h&&n(4,t=h.text),"style"in h&&n(5,r=h.style),"maxWidth"in h&&n(6,s=h.maxWidth),"maxHeight"in h&&n(7,o=h.maxHeight),"x"in h&&n(0,i=h.x),"y"in h&&n(1,f=h.y),"anchor"in h&&n(2,a=h.anchor)},l.$$.update=()=>{l.$$.dirty&304&&(Le.isEqual(_,{text:t,style:r})||n(3,u=v()))},[i,f,a,u,t,r,s,o,_]}class Ll extends ge{constructor(e){super(),he(this,e,Tl,Ml,pe,{text:4,style:5,maxWidth:6,maxHeight:7,x:0,y:1,anchor:2})}}function it(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function at(l,e,n){const t=l.slice();return t[26]=e[n],t[25]=n,t}function Be(l){const e=l.slice(),n=e[3][e[0]];e[23]=n;const t=e[23].layers[e[4]];return e[26]=t,e}function ft(l,e,n){const t=l.slice();return t[23]=e[n],t}function ut(l,e,n){const t=l.slice();return t[23]=e[n],t[30]=e,t[25]=n,t}function ql(l){let e,n,t,r,s,o,i;function f(u){l[9](u,l[25])}let a={texture:se.from(Je),x:-2,y:-2};return l[2][l[25]]!==void 0&&(a.instance=l[2][l[25]]),e=new fe({props:a}),ne.push(()=>ie(e,"instance",f)),r=new fe({props:{texture:se.WHITE,filters:[new qe(We(l[23].background))],width:117,height:166}}),o=new Al({props:{renderSlot:l[23],selectedLayer:l[0]===l[25]?l[4]:void 0}}),{c(){Q(e.$$.fragment),t=N(),Q(r.$$.fragment),s=N(),Q(o.$$.fragment)},m(u,_){J(e,u,_),O(u,t,_),J(r,u,_),O(u,s,_),J(o,u,_),i=!0},p(u,_){l=u;const c={};!n&&_[0]&12&&(n=!0,c.instance=l[2][l[25]],ae(()=>n=!1)),e.$set(c);const v={};_[0]&8&&(v.filters=[new qe(We(l[23].background))]),r.$set(v);const h={};_[0]&8&&(h.renderSlot=l[23]),_[0]&25&&(h.selectedLayer=l[0]===l[25]?l[4]:void 0),o.$set(h)},i(u){i||(S(e.$$.fragment,u),S(r.$$.fragment,u),S(o.$$.fragment,u),i=!0)},o(u){I(e.$$.fragment,u),I(r.$$.fragment,u),I(o.$$.fragment,u),i=!1},d(u){j(e,u),u&&D(t),j(r,u),u&&D(s),j(o,u)}}}function ct(l,e){let n,t,r;const s=[{mask:e[2][e[25]]},e[23].pos,{zIndex:1}];let o={$$slots:{default:[ql]},$$scope:{ctx:e}};for(let i=0;i<s.length;i+=1)o=ve(o,s[i]);return t=new Me({props:o}),{key:l,first:null,c(){n=ke(),Q(t.$$.fragment),this.first=n},m(i,f){O(i,n,f),J(t,i,f),r=!0},p(i,f){e=i;const a=f[0]&12?Ue(s,[{mask:e[2][e[25]]},f[0]&8&&Re(e[23].pos),s[2]]):{};f[0]&29|f[1]&1&&(a.$$scope={dirty:f,ctx:e}),t.$set(a)},i(i){r||(S(t.$$.fragment,i),r=!0)},o(i){I(t.$$.fragment,i),r=!1},d(i){i&&D(n),j(t,i)}}}function dt(l){let e,n;return e=new Me({props:{x:l[23].pos.x+1,y:l[23].pos.y+167,zIndex:3,$$slots:{default:[El]},$$scope:{ctx:l}}}),{c(){Q(e.$$.fragment)},m(t,r){J(e,t,r),n=!0},p(t,r){const s={};r[0]&8&&(s.x=t[23].pos.x+1),r[0]&8&&(s.y=t[23].pos.y+167),r[0]&8|r[1]&1&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function El(l){let e,n,t,r;return e=new fe({props:{texture:se.from(vt)}}),t=new Ll({props:{text:l[23].name.trim(),style:{fill:We(l[23].color),breakWords:!0,fontFamily:["Noto Sans TC","Noto Sans SC","Noto Sans JP","sans-serif"],fontSize:15,fontWeight:"bold",align:"center",textBaseline:"alphabetic"},anchor:.5,x:56,y:14,maxWidth:108,maxHeight:26}}),{c(){Q(e.$$.fragment),n=N(),Q(t.$$.fragment)},m(s,o){J(e,s,o),O(s,n,o),J(t,s,o),r=!0},p(s,o){const i={};o[0]&8&&(i.text=s[23].name.trim()),o[0]&8&&(i.style={fill:We(s[23].color),breakWords:!0,fontFamily:["Noto Sans TC","Noto Sans SC","Noto Sans JP","sans-serif"],fontSize:15,fontWeight:"bold",align:"center",textBaseline:"alphabetic"}),t.$set(i)},i(s){r||(S(e.$$.fragment,s),S(t.$$.fragment,s),r=!0)},o(s){I(e.$$.fragment,s),I(t.$$.fragment,s),r=!1},d(s){j(e,s),s&&D(n),j(t,s)}}}function gt(l){var r;let e,n,t=((r=l[23].name)==null?void 0:r.length)&&dt(l);return{c(){t&&t.c(),e=ke()},m(s,o){t&&t.m(s,o),O(s,e,o),n=!0},p(s,o){var i;(i=s[23].name)!=null&&i.length?t?(t.p(s,o),o[0]&8&&S(t,1)):(t=dt(s),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(ue(),I(t,1,1,()=>{t=null}),ce())},i(s){n||(S(t),n=!0)},o(s){I(t),n=!1},d(s){t&&t.d(s),s&&D(e)}}}function ht(l){let e,n,t,r;e=new fe({props:{texture:se.WHITE,width:680,height:680,filters:[new qe(0)]}});const s=[{texture:new se(new Ee(l[26].image))},{alpha:.75},{x:l[23].pos.x+l[26].pos.x},{y:l[23].pos.y+l[26].pos.y},l[26].rect];let o={};for(let i=0;i<s.length;i+=1)o=ve(o,s[i]);return t=new pl({props:o}),{c(){Q(e.$$.fragment),n=N(),Q(t.$$.fragment)},m(i,f){J(e,i,f),O(i,n,f),J(t,i,f),r=!0},p(i,f){const a=f[0]&25?Ue(s,[{texture:new se(new Ee(i[26].image))},s[1],f[0]&25&&{x:i[23].pos.x+i[26].pos.x},f[0]&25&&{y:i[23].pos.y+i[26].pos.y},f[0]&25&&Re(i[26].rect)]):{};t.$set(a)},i(i){r||(S(e.$$.fragment,i),S(t.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(t.$$.fragment,i),r=!1},d(i){j(e,i),i&&D(n),j(t,i)}}}function Nl(l){let e,n,t=l[0]!==void 0&&l[4]!==void 0&&ht(Be(l));return{c(){t&&t.c(),e=ke()},m(r,s){t&&t.m(r,s),O(r,e,s),n=!0},p(r,s){r[0]!==void 0&&r[4]!==void 0?t?(t.p(Be(r),s),s[0]&17&&S(t,1)):(t=ht(Be(r)),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(ue(),I(t,1,1,()=>{t=null}),ce())},i(r){n||(S(t),n=!0)},o(r){I(t),n=!1},d(r){t&&t.d(r),r&&D(e)}}}function Vl(l){let e,n,t=[],r=new Map,s,o,i,f,a,u;e=new fe({props:{texture:se.WHITE,width:680,height:680,zIndex:0}});let _=l[3];const c=d=>d[23];for(let d=0;d<_.length;d+=1){let g=ut(l,_,d),C=c(g);r.set(C,t[d]=ct(C,g))}o=new fe({props:{texture:se.from(l[6].lang==="zh-TW"?Fe:Oe),width:680,height:680,zIndex:2}});let v=l[3],h=[];for(let d=0;d<v.length;d+=1)h[d]=gt(ft(l,v,d));const q=d=>I(h[d],1,1,()=>{h[d]=null});return a=new Me({props:{mask:l[5],alpha:.8,zIndex:4,$$slots:{default:[Nl]},$$scope:{ctx:l}}}),{c(){Q(e.$$.fragment),n=N();for(let d=0;d<t.length;d+=1)t[d].c();s=N(),Q(o.$$.fragment),i=N();for(let d=0;d<h.length;d+=1)h[d].c();f=N(),Q(a.$$.fragment)},m(d,g){J(e,d,g),O(d,n,g);for(let C=0;C<t.length;C+=1)t[C].m(d,g);O(d,s,g),J(o,d,g),O(d,i,g);for(let C=0;C<h.length;C+=1)h[C].m(d,g);O(d,f,g),J(a,d,g),u=!0},p(d,g){g[0]&29&&(_=d[3],ue(),t=Pe(t,g,c,1,d,_,r,s.parentNode,Dt,ct,s,ut),ce());const C={};if(g[0]&64&&(C.texture=se.from(d[6].lang==="zh-TW"?Fe:Oe)),o.$set(C),g[0]&8){v=d[3];let W;for(W=0;W<v.length;W+=1){const B=ft(d,v,W);h[W]?(h[W].p(B,g),S(h[W],1)):(h[W]=gt(B),h[W].c(),S(h[W],1),h[W].m(f.parentNode,f))}for(ue(),W=v.length;W<h.length;W+=1)q(W);ce()}const k={};g[0]&32&&(k.mask=d[5]),g[0]&25|g[1]&1&&(k.$$scope={dirty:g,ctx:d}),a.$set(k)},i(d){if(!u){S(e.$$.fragment,d);for(let g=0;g<_.length;g+=1)S(t[g]);S(o.$$.fragment,d);for(let g=0;g<v.length;g+=1)S(h[g]);S(a.$$.fragment,d),u=!0}},o(d){I(e.$$.fragment,d);for(let g=0;g<t.length;g+=1)I(t[g]);I(o.$$.fragment,d),h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)I(h[g]);I(a.$$.fragment,d),u=!1},d(d){j(e,d),d&&D(n);for(let g=0;g<t.length;g+=1)t[g].d(d);d&&D(s),j(o,d),d&&D(i),yt(h,d),d&&D(f),j(a,d)}}}function Ul(l){let e,n;return e=new Me({props:{sortableChildren:!0,$$slots:{default:[Vl]},$$scope:{ctx:l}}}),{c(){Q(e.$$.fragment)},m(t,r){J(e,t,r),n=!0},p(t,r){const s={};r[0]&125|r[1]&1&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Rl(l){let e,n;return e=new Wl({props:{fonts:["Noto Sans TC","Noto Sans SC","Noto Sans JP"],$$slots:{default:[Ul]},$$scope:{ctx:l}}}),{c(){Q(e.$$.fragment)},m(t,r){J(e,t,r),n=!0},p(t,r){const s={};r[0]&125|r[1]&1&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Bl(l){let e,n;return e=new Bt({props:{resources:[Fe,Oe,Je,vt],$$slots:{default:[Rl]},$$scope:{ctx:l}}}),{c(){Q(e.$$.fragment)},m(t,r){J(e,t,r),n=!0},p(t,r){const s={};r[0]&125|r[1]&1&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Fl(l){let e=[],n=new Map,t,r,s,o=[...l[23].layers].reverse();const i=a=>a[26].image;for(let a=0;a<o.length;a+=1){let u=at(l,o,a),_=i(u);n.set(_,e[a]=pt(_,u))}let f=l[4]!==void 0&&_t(l);return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=N(),f&&f.c(),r=ke()},m(a,u){for(let _=0;_<e.length;_+=1)e[_].m(a,u);O(a,t,u),f&&f.m(a,u),O(a,r,u),s=!0},p(a,u){u[0]&24&&(o=[...a[23].layers].reverse(),e=Pe(e,u,i,1,a,o,n,t.parentNode,At,pt,t,at)),a[4]!==void 0?f?(f.p(a,u),u[0]&16&&S(f,1)):(f=_t(a),f.c(),S(f,1),f.m(r.parentNode,r)):f&&(ue(),I(f,1,1,()=>{f=null}),ce())},i(a){s||(S(f),s=!0)},o(a){I(f),s=!1},d(a){for(let u=0;u<e.length;u+=1)e[u].d(a);a&&D(t),f&&f.d(a),a&&D(r)}}}function Ol(l){let e,n,t;function r(){return l[11](l[25])}return{c(){e=z("button"),m(e,"class","block h-full w-full")},m(s,o){O(s,e,o),n||(t=Y(e,"click",r),n=!0)},p(s,o){l=s},i:x,o:x,d(s){s&&D(e),n=!1,t()}}}function pt(l,e){let n,t,r;function s(){return e[12](e[23],e[25])}return{key:l,first:null,c(){n=z("div"),m(n,"class","absolute z-10"),R(n,"top",e[26].pos.y+"px"),R(n,"left",e[26].pos.x+"px"),R(n,"width",e[26].rect.width+"px"),R(n,"height",e[26].rect.height+"px"),this.first=n},m(o,i){O(o,n,i),t||(r=Y(n,"mousedown",s),t=!0)},p(o,i){e=o,i[0]&8&&R(n,"top",e[26].pos.y+"px"),i[0]&8&&R(n,"left",e[26].pos.x+"px"),i[0]&8&&R(n,"width",e[26].rect.width+"px"),i[0]&8&&R(n,"height",e[26].rect.height+"px")},d(o){o&&D(n),t=!1,r()}}}function _t(l){let e,n,t,r,s,o;function i(c){l[13](c)}function f(c){l[14](c)}function a(c){l[15](c)}function u(c){l[16](c)}let _={ratio:l[3][l[0]].layers[l[4]].image.width/l[3][l[0]].layers[l[4]].image.height};return l[3][l[0]].layers[l[4]].pos.x!==void 0&&(_.x=l[3][l[0]].layers[l[4]].pos.x),l[3][l[0]].layers[l[4]].pos.y!==void 0&&(_.y=l[3][l[0]].layers[l[4]].pos.y),l[3][l[0]].layers[l[4]].rect.width!==void 0&&(_.width=l[3][l[0]].layers[l[4]].rect.width),l[3][l[0]].layers[l[4]].rect.height!==void 0&&(_.height=l[3][l[0]].layers[l[4]].rect.height),e=new Zt({props:_}),ne.push(()=>ie(e,"x",i)),ne.push(()=>ie(e,"y",f)),ne.push(()=>ie(e,"width",a)),ne.push(()=>ie(e,"height",u)),{c(){Q(e.$$.fragment)},m(c,v){J(e,c,v),o=!0},p(c,v){const h={};v[0]&25&&(h.ratio=c[3][c[0]].layers[c[4]].image.width/c[3][c[0]].layers[c[4]].image.height),!n&&v[0]&25&&(n=!0,h.x=c[3][c[0]].layers[c[4]].pos.x,ae(()=>n=!1)),!t&&v[0]&25&&(t=!0,h.y=c[3][c[0]].layers[c[4]].pos.y,ae(()=>t=!1)),!r&&v[0]&25&&(r=!0,h.width=c[3][c[0]].layers[c[4]].rect.width,ae(()=>r=!1)),!s&&v[0]&25&&(s=!0,h.height=c[3][c[0]].layers[c[4]].rect.height,ae(()=>s=!1)),e.$set(h)},i(c){o||(S(e.$$.fragment,c),o=!0)},o(c){I(e.$$.fragment,c),o=!1},d(c){j(e,c)}}}function mt(l){let e,n,t,r,s;const o=[Ol,Fl],i=[];function f(a,u){return a[0]!==a[25]?0:1}return n=f(l),t=i[n]=o[n](l),{c(){e=z("div"),t.c(),r=N(),m(e,"class","slot svelte-p2cpum"),R(e,"left",l[23].pos.x+"px"),R(e,"top",l[23].pos.y+"px"),M(e,"outline",l[0]===l[25])},m(a,u){O(a,e,u),i[n].m(e,null),p(e,r),s=!0},p(a,u){let _=n;n=f(a),n===_?i[n].p(a,u):(ue(),I(i[_],1,1,()=>{i[_]=null}),ce(),t=i[n],t?t.p(a,u):(t=i[n]=o[n](a),t.c()),S(t,1),t.m(e,r)),(!s||u[0]&8)&&R(e,"left",a[23].pos.x+"px"),(!s||u[0]&8)&&R(e,"top",a[23].pos.y+"px"),(!s||u[0]&1)&&M(e,"outline",a[0]===a[25])},i(a){s||(S(t),s=!0)},o(a){I(t),s=!1},d(a){a&&D(e),i[n].d()}}}function bt(l){let e,n,t,r,s;function o(u){l[17](u)}function i(u){l[18](u)}function f(u){l[19](u)}let a={};return l[3][l[0]]!==void 0&&(a.slot=l[3][l[0]]),l[4]!==void 0&&(a.selectedLayer=l[4]),l[0]!==void 0&&(a.selectedSlot=l[0]),e=new dl({props:a}),ne.push(()=>ie(e,"slot",o)),ne.push(()=>ie(e,"selectedLayer",i)),ne.push(()=>ie(e,"selectedSlot",f)),{c(){Q(e.$$.fragment)},m(u,_){J(e,u,_),s=!0},p(u,_){const c={};!n&&_[0]&9&&(n=!0,c.slot=u[3][u[0]],ae(()=>n=!1)),!t&&_[0]&16&&(t=!0,c.selectedLayer=u[4],ae(()=>t=!1)),!r&&_[0]&1&&(r=!0,c.selectedSlot=u[0],ae(()=>r=!1)),e.$set(c)},i(u){s||(S(e.$$.fragment,u),s=!0)},o(u){I(e.$$.fragment,u),s=!1},d(u){j(e,u)}}}function Dl(l){let e,n,t,r,s,o,i,f,a,u=l[6]("label.export")+"",_,c,v,h,q,d,g=l[6]("label.language")+"",C,k,W,B,K,le,w,L=l[6]("label.credit")+"",E,b,T,F,$=l[6]("label.translate")+"",oe,ee,A,y,V=l[6]("label.code")+"",P,X,G,de,Ce;function Ct(U){l[10](U)}let je={width:680,height:680,backgroundColor:l[7],antialias:!0,resolution:1,render:"demand",$$slots:{default:[Bl]},$$scope:{ctx:l}};l[1]!==void 0&&(je.instance=l[1]),r=new Ut({props:je}),ne.push(()=>ie(r,"instance",Ct));let Ae=l[3],Z=[];for(let U=0;U<Ae.length;U+=1)Z[U]=mt(it(l,Ae,U));const It=U=>I(Z[U],1,1,()=>{Z[U]=null});let te=l[0]!==void 0&&bt(l);return{c(){e=z("div"),n=z("div"),t=z("div"),Q(r.$$.fragment),o=N();for(let U=0;U<Z.length;U+=1)Z[U].c();i=N(),f=z("div"),a=z("button"),_=_e(u),c=N(),v=z("div"),te&&te.c(),h=N(),q=z("div"),d=z("p"),C=_e(g),k=N(),W=z("select"),B=z("option"),B.textContent="中文",K=z("option"),K.textContent="English",le=N(),w=z("p"),E=_e(L),b=z("a"),b.textContent="@EastAiruier",T=N(),F=z("p"),oe=_e($),ee=z("a"),ee.textContent="@Ichiroku16_Vt",A=N(),y=z("p"),P=_e(V),X=z("a"),X.textContent="eslym/vtuber-preference",m(t,"class","template svelte-p2cpum"),m(n,"class","flex flex-grow flex-row items-center justify-center overflow-hidden shadow-lg"),m(a,"class","bg-indigo-600 p-2 text-center text-lg font-bold text-white"),m(v,"class","h-0 flex-grow"),B.__value="zh-TW",B.value=B.__value,K.__value="en",K.value=K.__value,l[6].lang===void 0&&Rt(()=>l[20].call(W)),m(d,"class","font-bold not-italic"),m(b,"class","text-blue-700"),m(b,"target","_blank"),m(b,"rel","noreferrer"),m(b,"href","https://twitter.com/EastAiruier/status/1624174786359496704"),m(w,"class","mt-2"),m(ee,"class","text-blue-700"),m(ee,"target","_blank"),m(ee,"rel","noreferrer"),m(ee,"href","https://twitter.com/Ichiroku16_Vt/status/1628215427733266432"),m(F,"class","mt-2"),m(X,"href","https://github.com/eslym/vtuber-preference"),m(X,"class","text-blue-700"),m(X,"target","_blank"),m(X,"rel","noreferrer"),m(y,"class","mt-2"),m(q,"class","py-2 text-center text-sm italic"),m(f,"class","flex h-full w-80 flex-col overflow-auto border-slate-200 bg-white shadow"),m(e,"class","flex h-screen w-screen flex-row bg-opacity-90"),M(e,"bg-black",l[0]!==void 0&&l[4]!==void 0)},m(U,H){O(U,e,H),p(e,n),p(n,t),J(r,t,null),p(t,o);for(let ye=0;ye<Z.length;ye+=1)Z[ye].m(t,null);p(e,i),p(e,f),p(f,a),p(a,_),p(f,c),p(f,v),te&&te.m(v,null),p(f,h),p(f,q),p(q,d),p(d,C),p(d,k),p(d,W),p(W,B),p(W,K),xe(W,l[6].lang),p(q,le),p(q,w),p(w,E),p(w,b),p(q,T),p(q,F),p(F,oe),p(F,ee),p(q,A),p(q,y),p(y,P),p(y,X),G=!0,de||(Ce=[Y(a,"click",l[8]),Y(W,"change",l[20])],de=!0)},p(U,H){const ye={};if(H[0]&125|H[1]&1&&(ye.$$scope={dirty:H,ctx:U}),!s&&H[0]&2&&(s=!0,ye.instance=U[1],ae(()=>s=!1)),r.$set(ye),H[0]&25){Ae=U[3];let re;for(re=0;re<Ae.length;re+=1){const Ye=it(U,Ae,re);Z[re]?(Z[re].p(Ye,H),S(Z[re],1)):(Z[re]=mt(Ye),Z[re].c(),S(Z[re],1),Z[re].m(t,null))}for(ue(),re=Ae.length;re<Z.length;re+=1)It(re);ce()}(!G||H[0]&64)&&u!==(u=U[6]("label.export")+"")&&me(_,u),U[0]!==void 0?te?(te.p(U,H),H[0]&1&&S(te,1)):(te=bt(U),te.c(),S(te,1),te.m(v,null)):te&&(ue(),I(te,1,1,()=>{te=null}),ce()),(!G||H[0]&64)&&g!==(g=U[6]("label.language")+"")&&me(C,g),H[0]&64&&xe(W,U[6].lang),(!G||H[0]&64)&&L!==(L=U[6]("label.credit")+"")&&me(E,L),(!G||H[0]&64)&&$!==($=U[6]("label.translate")+"")&&me(oe,$),(!G||H[0]&64)&&V!==(V=U[6]("label.code")+"")&&me(P,V),(!G||H[0]&17)&&M(e,"bg-black",U[0]!==void 0&&U[4]!==void 0)},i(U){if(!G){S(r.$$.fragment,U);for(let H=0;H<Ae.length;H+=1)S(Z[H]);S(te),G=!0}},o(U){I(r.$$.fragment,U),Z=Z.filter(Boolean);for(let H=0;H<Z.length;H+=1)I(Z[H]);I(te),G=!1},d(U){U&&D(e),j(r),yt(Z,U),te&&te.d(),de=!1,Ve(Ce)}}}function Pl(l,e,n){let t,r;kt(l,we,E=>n(6,r=E));let s=[],o=[],i=[{background:"#ffffff",color:"#000000",pos:{x:48,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:166,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:283,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:401,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:519,y:48},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:48,y:248},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:166,y:248},layers:[]},{background:"#ffffff",color:"#ff0000",pos:{x:283,y:248},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:401,y:248},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:519,y:248},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:48,y:448},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:166,y:448},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:283,y:448},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:401,y:448},layers:[]},{background:"#ffffff",color:"#000000",pos:{x:519,y:448},layers:[]}];const f=We("#ffffff");let a,u,_;function c(){if(!o[a]){let E=i[a],b=new St,T=b.addChild(new Se(se.WHITE));T.width=680,T.height=680;let F=b.addChild(new Se(se.from(Je)));F.filters=[new qe(0)],F.x=E.pos.x-2,F.y=E.pos.y-2,o[a]=new Se(_.renderer.generateTexture(b))}return o[a]}async function v(){n(4,u=void 0),await Ft();let b=new jt(_.renderer).base64(_.stage,"image/jpeg"),T=document.createElement("a");T.download="output.jpg",T.href=b,T.click()}function h(E,b){l.$$.not_equal(s[b],E)&&(s[b]=E,n(2,s))}function q(E){_=E,n(1,_)}const d=E=>{n(0,a=E),n(4,u=void 0)},g=(E,b)=>n(4,u=E.layers.length-b-1);function C(E){l.$$.not_equal(i[a].layers[u].pos.x,E)&&(i[a].layers[u].pos.x=E,n(3,i))}function k(E){l.$$.not_equal(i[a].layers[u].pos.y,E)&&(i[a].layers[u].pos.y=E,n(3,i))}function W(E){l.$$.not_equal(i[a].layers[u].rect.width,E)&&(i[a].layers[u].rect.width=E,n(3,i))}function B(E){l.$$.not_equal(i[a].layers[u].rect.height,E)&&(i[a].layers[u].rect.height=E,n(3,i))}function K(E){l.$$.not_equal(i[a],E)&&(i[a]=E,n(3,i))}function le(E){u=E,n(4,u)}function w(E){a=E,n(0,a)}function L(){r.lang=Ot(this),we.set(r)}return l.$$.update=()=>{l.$$.dirty[0]&3&&n(5,t=_&&a!==void 0?c():null)},[a,_,s,i,u,t,r,f,v,h,q,d,g,C,k,W,B,K,le,w,L]}class Ql extends ge{constructor(e){super(),he(this,e,Pl,Dl,pe,{},null,[-1,-1])}}zt.SCALE_MODE=ze.LINEAR;zt.MIPMAP_TEXTURES=Yt.ON;new Ql({target:document.body});window.PIXI=Ht;
