(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Ge(){}function Fe(r,e){for(const t in e)r[t]=e[t];return r}function yv(r){return r()}function ep(){return Object.create(null)}function Dn(r){r.forEach(yv)}function Il(r){return typeof r=="function"}function yr(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let Ns;function rp(r,e){return Ns||(Ns=document.createElement("a")),Ns.href=e,r===Ns.href}function iE(r){return Object.keys(r).length===0}function Vr(r,e,t,n){if(r){const i=bv(r,e,t,n);return r[0](i)}}function bv(r,e,t,n){return r[1]&&n?Fe(t.ctx.slice(),r[1](n(e))):t.ctx}function Yr(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let h=0;h<a;h+=1)o[h]=e.dirty[h]|i[h];return o}return e.dirty|i}return e.dirty}function jr(r,e,t,n,i,o){if(i){const a=bv(e,t,n,o);r.p(a,i)}}function qr(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function wo(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function Fi(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function xv(r){const e={};for(const t in r)e[t]=!0;return e}function Tv(r){return r&&Il(r.destroy)?r.destroy:Ge}function gt(r,e){r.appendChild(e)}function Yt(r,e,t){r.insertBefore(e,t||null)}function Wt(r){r.parentNode&&r.parentNode.removeChild(r)}function Ev(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function Pt(r){return document.createElement(r)}function Wo(r){return document.createTextNode(r)}function Vt(){return Wo(" ")}function ai(){return Wo("")}function le(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Tt(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function oE(r){return Array.from(r.childNodes)}function Ol(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function np(r,e){r.value=e??""}function zt(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Ft(r,e,t){r.classList[t?"add":"remove"](e)}function sE(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(r,t,n,e),i}let So;function xo(r){So=r}function zo(){if(!So)throw new Error("Function called outside component initialization");return So}function xa(r){zo().$$.on_mount.push(r)}function Ml(r){zo().$$.after_update.push(r)}function Vo(){const r=zo();return(e,t,{cancelable:n=!1}={})=>{const i=r.$$.callbacks[e];if(i){const o=sE(e,t,{cancelable:n});return i.slice().forEach(a=>{a.call(r,o)}),!o.defaultPrevented}return!0}}function Li(r,e){return zo().$$.context.set(r,e),e}function Dl(r){return zo().$$.context.get(r)}function st(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Oi=[],je=[],ua=[],Mh=[],wv=Promise.resolve();let Dh=!1;function Sv(){Dh||(Dh=!0,wv.then(Av))}function aE(){return Sv(),wv}function Fh(r){ua.push(r)}function Hr(r){Mh.push(r)}const rh=new Set;let Pi=0;function Av(){if(Pi!==0)return;const r=So;do{try{for(;Pi<Oi.length;){const e=Oi[Pi];Pi++,xo(e),uE(e.$$)}}catch(e){throw Oi.length=0,Pi=0,e}for(xo(null),Oi.length=0,Pi=0;je.length;)je.pop()();for(let e=0;e<ua.length;e+=1){const t=ua[e];rh.has(t)||(rh.add(t),t())}ua.length=0}while(Oi.length);for(;Mh.length;)Mh.pop()();Dh=!1,rh.clear(),xo(r)}function uE(r){if(r.fragment!==null){r.update(),Dn(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Fh)}}const ha=new Set;let $n;function nr(){$n={r:0,c:[],p:$n}}function ir(){$n.r||Dn($n.c),$n=$n.p}function rt(r,e){r&&r.i&&(ha.delete(r),r.i(e))}function at(r,e,t,n){if(r&&r.o){if(ha.has(r))return;ha.add(r),$n.c.push(()=>{ha.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Pv(r,e){r.d(1),e.delete(r.key)}function hE(r,e){at(r,1,1,()=>{e.delete(r.key)})}function Fl(r,e,t,n,i,o,a,h,l,f,d,v){let p=r.length,g=o.length,m=p;const x={};for(;m--;)x[r[m].key]=m;const y=[],E=new Map,C=new Map;for(m=g;m--;){const D=v(i,o,m),A=t(D);let I=a.get(A);I?n&&I.p(D,e):(I=f(A,D),I.c()),E.set(A,y[m]=I),A in x&&C.set(A,Math.abs(m-x[A]))}const S=new Set,O=new Set;function P(D){rt(D,1),D.m(h,d),a.set(D.key,D),d=D.first,g--}for(;p&&g;){const D=y[g-1],A=r[p-1],I=D.key,F=A.key;D===A?(d=D.first,p--,g--):E.has(F)?!a.has(I)||S.has(I)?P(D):O.has(F)?p--:C.get(I)>C.get(F)?(O.add(I),P(D)):(S.add(F),p--):(l(A,a),p--)}for(;p--;){const D=r[p];E.has(D.key)||l(D,a)}for(;g;)P(y[g-1]);return y}function ui(r,e){const t={},n={},i={$$scope:1};let o=r.length;for(;o--;){const a=r[o],h=e[o];if(h){for(const l in a)l in h||(n[l]=1);for(const l in h)i[l]||(t[l]=h[l],i[l]=1);r[o]=h}else for(const l in a)i[l]=1}for(const a in n)a in t||(t[a]=void 0);return t}function hi(r){return typeof r=="object"&&r!==null?r:{}}function Xr(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function oe(r){r&&r.c()}function re(r,e,t,n){const{fragment:i,after_update:o}=r.$$;i&&i.m(e,t),n||Fh(()=>{const a=r.$$.on_mount.map(yv).filter(Il);r.$$.on_destroy?r.$$.on_destroy.push(...a):Dn(a),r.$$.on_mount=[]}),o.forEach(Fh)}function ne(r,e){const t=r.$$;t.fragment!==null&&(Dn(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function lE(r,e){r.$$.dirty[0]===-1&&(Oi.push(r),Sv(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function br(r,e,t,n,i,o,a,h=[-1]){const l=So;xo(r);const f=r.$$={fragment:null,ctx:[],props:o,update:Ge,not_equal:i,bound:ep(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ep(),dirty:h,skip_bound:!1,root:e.target||l.$$.root};a&&a(f.root);let d=!1;if(f.ctx=t?t(r,e.props||{},(v,p,...g)=>{const m=g.length?g[0]:p;return f.ctx&&i(f.ctx[v],f.ctx[v]=m)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](m),d&&lE(r,v)),p}):[],f.update(),d=!0,Dn(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const v=oE(e.target);f.fragment&&f.fragment.l(v),v.forEach(Wt)}else f.fragment&&f.fragment.c();e.intro&&rt(r.$$.fragment),re(r,e.target,e.anchor,e.customElement),Av()}xo(l)}class xr{$destroy(){ne(this,1),this.$destroy=Ge}$on(e,t){if(!Il(t))return Ge;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!iE(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function fE(r){let e,t,n,i,o,a,h,l,f,d,v,p,g,m,x,y,E,C,S,O,P,D,A;return{c(){e=Pt("div"),t=Pt("div"),n=Pt("div"),i=Vt(),o=Pt("div"),a=Vt(),h=Pt("div"),l=Vt(),f=Pt("div"),d=Pt("div"),v=Vt(),p=Pt("div"),g=Vt(),m=Pt("div"),x=Vt(),y=Pt("div"),E=Pt("div"),C=Vt(),S=Pt("div"),O=Vt(),P=Pt("div"),Tt(n,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),Ft(n,"cursor-nw-resize",!r[4]),Ft(n,"dragging",r[4]&&r[5]===r[15]),Tt(o,"class","resizer h-[6px] border-b-2 border-dashed svelte-19ac299"),zt(o,"width",r[2]+"px"),Ft(o,"cursor-n-resize",!r[4]),Ft(o,"dragging",r[4]&&r[5]===r[13]),Tt(h,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),Ft(h,"cursor-ne-resize",!r[4]),Ft(h,"dragging",r[4]&&r[5]===r[16]),Tt(t,"class","flex flex-row"),Tt(d,"class","resizer w-[6px] border-r-2 border-dashed svelte-19ac299"),zt(d,"height",r[3]+"px"),Ft(d,"cursor-w-resize",!r[4]),Ft(d,"dragging",r[4]&&r[5]===r[12]),Tt(p,"class","cursor-move"),zt(p,"width",r[2]+"px"),zt(p,"height",r[3]+"px"),Tt(m,"class","resizer w-[6px] border-l-2 border-dashed svelte-19ac299"),zt(m,"height",r[3]+"px"),Ft(m,"cursor-e-resize",!r[4]),Ft(m,"dragging",r[4]&&r[5]===r[10]),Tt(f,"class","flex flex-row"),Tt(E,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),Ft(E,"cursor-sw-resize",!r[4]),Ft(E,"dragging",r[4]&&r[5]===r[17]),Tt(S,"class","resizer h-[6px] border-t-2 border-dashed svelte-19ac299"),zt(S,"width",r[2]+"px"),Ft(S,"cursor-s-resize",!r[4]),Ft(S,"dragging",r[4]&&r[5]===r[11]),Tt(P,"class","resizer h-[6px] w-[6px] rounded-sm border-2 svelte-19ac299"),Ft(P,"cursor-se-resize",!r[4]),Ft(P,"dragging",r[4]&&r[5]===r[14]),Tt(y,"class","flex flex-row"),Tt(e,"class","this svelte-19ac299"),zt(e,"left",r[0]-6+"px"),zt(e,"top",r[1]-6+"px"),zt(e,"width",r[2]+12+"px"),zt(e,"height",r[3]+12+"px"),Ft(e,"dragging",!!r[4])},m(I,F){Yt(I,e,F),gt(e,t),gt(t,n),gt(t,i),gt(t,o),gt(t,a),gt(t,h),gt(e,l),gt(e,f),gt(f,d),gt(f,v),gt(f,p),gt(f,g),gt(f,m),gt(e,x),gt(e,y),gt(y,E),gt(y,C),gt(y,S),gt(y,O),gt(y,P),D||(A=[le(window,"mouseup",r[19]),le(window,"mousemove",r[8]),le(n,"mousedown",r[20]),le(o,"mousedown",r[21]),le(h,"mousedown",r[22]),le(d,"mousedown",r[23]),le(p,"mousedown",r[24]),le(m,"mousedown",r[25]),le(E,"mousedown",r[26]),le(S,"mousedown",r[27]),le(P,"mousedown",r[28])],D=!0)},p(I,[F]){F&16&&Ft(n,"cursor-nw-resize",!I[4]),F&32816&&Ft(n,"dragging",I[4]&&I[5]===I[15]),F&4&&zt(o,"width",I[2]+"px"),F&16&&Ft(o,"cursor-n-resize",!I[4]),F&8240&&Ft(o,"dragging",I[4]&&I[5]===I[13]),F&16&&Ft(h,"cursor-ne-resize",!I[4]),F&65584&&Ft(h,"dragging",I[4]&&I[5]===I[16]),F&8&&zt(d,"height",I[3]+"px"),F&16&&Ft(d,"cursor-w-resize",!I[4]),F&4144&&Ft(d,"dragging",I[4]&&I[5]===I[12]),F&4&&zt(p,"width",I[2]+"px"),F&8&&zt(p,"height",I[3]+"px"),F&8&&zt(m,"height",I[3]+"px"),F&16&&Ft(m,"cursor-e-resize",!I[4]),F&1072&&Ft(m,"dragging",I[4]&&I[5]===I[10]),F&16&&Ft(E,"cursor-sw-resize",!I[4]),F&131120&&Ft(E,"dragging",I[4]&&I[5]===I[17]),F&4&&zt(S,"width",I[2]+"px"),F&16&&Ft(S,"cursor-s-resize",!I[4]),F&2096&&Ft(S,"dragging",I[4]&&I[5]===I[11]),F&16&&Ft(P,"cursor-se-resize",!I[4]),F&16432&&Ft(P,"dragging",I[4]&&I[5]===I[14]),F&1&&zt(e,"left",I[0]-6+"px"),F&2&&zt(e,"top",I[1]-6+"px"),F&4&&zt(e,"width",I[2]+12+"px"),F&8&&zt(e,"height",I[3]+12+"px"),F&16&&Ft(e,"dragging",!!I[4])},i:Ge,o:Ge,d(I){I&&Wt(e),D=!1,Dn(A)}}}function cE(r,e,t){let{x:n}=e,{y:i}=e,{width:o}=e,{height:a}=e,{ratio:h=o/a}=e,l,f=()=>{},d="",v=Vo();function p(V,ft,ht){V.preventDefault(),t(4,l=V.target),t(5,f=ft),t(6,d=ht),document.body.classList.add(ht)}function g(V){l&&(f({x:V.clientX,y:V.clientY}),v("update",{pos:{x:n,y:i},rect:{width:o,height:a}}))}function m(V){V.preventDefault(),t(4,l=V.target);let ft=V.offsetX,ht=V.offsetY;t(5,f=q=>{let X=l.getBoundingClientRect(),ct=q.x-(X.x+ft),yt=q.y-(X.y+ht);t(0,n+=ct),t(1,i+=yt)})}function x(V,ft=!1){let ht=l.getBoundingClientRect(),q=V.x-(ht.x+1+ht.width/2),X=Math.max(o+(ft?-q:q),0),ct=Math.max(X/h,0),yt=(ct-a)/2;t(2,o=X),t(3,a=ct),t(1,i-=yt)}function y(V,ft=!1){let ht=l.getBoundingClientRect(),q=V.y-(ht.y+ht.height/2),X=Math.max(a+(ft?-q:q),0),ct=Math.max(X*h,0),yt=(ct-o)/2;t(2,o=ct),t(3,a=X),t(0,n-=yt)}function E(V){let ft=o;x(V,!0),t(0,n-=o-ft)}function C(V){let ft=a;y(V,!0),t(1,i-=a-ft)}function S(V,ft={}){let ht=l.getBoundingClientRect(),q=(V.x-(ht.x+ht.width/2))*(ft.x?-1:1),X=(V.y-(ht.y+ht.height/2))*(ft.y?-1:1),ct=Math.abs(q)<Math.abs(X)?q:X,yt=Math.min(Math.abs(q)/Math.max(o,1),Math.abs(X)/Math.max(a,1)),Et=Math.max(o+Math.max(o,1)*yt*(ct<0?-1:1),0);t(3,a=Math.max(Et/h,0)),t(2,o=Et)}function O(V){let ft={width:o,height:a};S(V,{x:!0,y:!0}),t(0,n-=o-ft.width),t(1,i-=a-ft.height)}function P(V){let ft=a;S(V,{y:!0}),t(1,i-=a-ft)}function D(V){let ft=o;S(V,{x:!0}),t(0,n-=o-ft)}const A=()=>{t(4,l=void 0),d.length&&document.body.classList.remove(d)},I=V=>p(V,O,"cursor-nw-resize"),F=V=>p(V,C,"cursor-n-resize"),B=V=>p(V,P,"cursor-ne-resize"),J=V=>p(V,E,"cursor-w-resize"),nt=V=>m(V),_t=V=>p(V,x,"cursor-e-resize"),Rt=V=>p(V,D,"cursor-sw-resize"),$=V=>p(V,y,"cursor-s-resize"),Q=V=>p(V,S,"cursor-se-resize");return r.$$set=V=>{"x"in V&&t(0,n=V.x),"y"in V&&t(1,i=V.y),"width"in V&&t(2,o=V.width),"height"in V&&t(3,a=V.height),"ratio"in V&&t(18,h=V.ratio)},[n,i,o,a,l,f,d,p,g,m,x,y,E,C,S,O,P,D,h,A,I,F,B,J,nt,_t,Rt,$,Q]}class dE extends xr{constructor(e){super(),br(this,e,cE,fE,yr,{x:0,y:1,width:2,height:3,ratio:18})}}const Rv="/assets/template-847a4edb.png",Ll="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHUAAACmCAYAAADkrsA9AAABbmlDQ1BpY2MAACiRdZE9S8NQFIaftkqLHzioIOJQQcWhgiiKo1SwizrUClZdmpi2QtqGpEWKq+DiUHAQXfwa/Ae6Cq4KgqAIIm7ufi1S4rlGqIjecHMe3nvfw8kb8E+Zes6pG4dcvmjHY9HwfHIhHHzCTzshuhlJ6Y41PTuZ4N/1foNP1esB1ev/e3+uxmXD0cEXEh7VLbsoLNMwtVq0FG8Kt+nZ1LLwvnDElgGFL5SuefyoOOPxq2I7EZ8Av+oZzvxg7QfrWTsn3C/ckzNL+vc86kuajPzcrNRO2V04xIkRJYxGiRVMigxIzUtmf/sGv3wzFMSjy9uijC2ODFnxRkQtSVdDalp0Qx6Tssr9d55OenjI694UhfoH133pheAWVCuu+3HgutVDCNzDWb7mL0hOY2+iV2pazx60rMPJeU3TtuF0AzrurJSd+pICsv3pNDwfQ3MSWq+gYdHL6vuco1tIrMkvuoSdXeiT+y1Ln0y7aC2psZS3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAEPUlEQVR42u2c7WtOcRjHz2/maZlMEklC2MYwbR7nabJ2CymLiCQR0uZZiJKH8pDZvPQveKU0eUG0SJS08lCiJS3RlpAXU7fvz33odFjDivtcfT717aKkuT6u65zfObvngj8knU6PVkkpFUqRMkrJV3ID6ClflA9Kq/JEaVaanHMv/+Qvcb8p0gurUWqVWfT+n3NXaVQuS/CXHkuV0GqVeqWQ3v53niq7JPbaX0mVzP4qDcpmepl1XFLqJPfzb0uV0OEqV5Qy+pe1PFCWS2xbt1JDoTeVCfQt63mmLIyLdb9YubeZ0MRN7LzoKs6J/YEGhCaOstDbz5Ma3uU20aPEkvp+V+wi59AWji2JP+6U+HPs9/Vbg9DEUxh6/HFNraUnJvjm0YXPcl/QDzOM8ZOaog+mqPZSK+iDKSq81CL6YIpif01t1y8K6IUZOrzUzoAX3Jbo9FLT9MEWObQAqYBUQCogFZCKVEAqIBWQCkhFKiAVkApIBaQCUpEKSAWkAlIBqUgFpAJSAamAVEAqUgGpgFRAKiAVqYBUQCogFZAKSEUqIBWQCkgFpCIVkApIBaQCUgGpSAWkAlIBqYBUpAJSAamAVEAqIBWpgFRAKiAVkIpUQCogFZAKSAWkIhWQCkgFpAJSkQpIBaQCUgGpgFSkAlIBqYBUQCpSAamAVEAqIBWQilRAKiAVkApIRSqYkrpUeU4rDEl1zl1VnaQcVD7RkuTjor9Jp9MjVM4oa2mNEakRuRUqF5WptMjIjZJWcrNKmbJNaadNBiY1NrWDVY4rW7lbNiI1IneKSqMyj7YZOadqJT9SWaCsUV7TOgOTGpvaAeERaK/ShzYakBqRO1alXllGK41IjchNqVxQxtPSBF1Tu7neNqmUKPuVj7TVwKTGpna4ymllPe01IjUid3aQeSo1jTYncP12sZLvqExXtijvaLWBSY1NbYHKMWW70ou2G5AaketvpvxTqQW0PoHrt4uV3KJSqaxSXtF+A5Mam9o8lQNh+qLCgNSI3NEq55UV6DAiNSK3SqVBKURLgq6p3Vxvr6tMVvYoH1BjYFJjUztM5ZSyEUVGpEbkzggyT6XKUZXA9dvFSr6nMlPZpLxFl4FJjU3tIJWjSm3AUykbUiNyi4PMU6lF6Evg+u1iJT9WWaysVFpRaGBSY1PbX2VfkPl+qX7oNCA1IneUyjmlBqVGpEbkVobX24lcU638D3XuhkqpUqe8Z1KNoakdqnIyPOM6pNqSWx6u5JmsXzsr+b7KHGWD8oZJtTe1A1WOKDuVXKTakuvf2fp3t1VItSXW/9v9Z4D8Z4HGINWWXP8kyr+YP6TkIdWW3JEqZ5XVSLUnd36QeTFfwpHGzhHoVpD5/M8OpYNJtTe1Q1ROBJnPAzmk2pJbGq7kOaxfOyv5ocpcZZ3SxqTam9p8lcPKbqU3Um3JHRdkfs7Fkmz72r4Cqsn0nVDw0i4AAAAASUVORK5CYII=";function ip(r,e,t){const n=r.slice();return n[20]=e[t],n[22]=t,n}function pE(r){let e,t=r[0].name+"",n,i,o,a,h;return{c(){e=Pt("div"),n=Wo(t),i=Vt(),o=Pt("input"),Tt(e,"class","py-2 pl-4"),Tt(o,"class","w-0 flex-grow bg-transparent py-2 pr-4 font-normal text-slate-200 underline-offset-4 placeholder:text-slate-400 placeholder:underline focus:outline-none"),Tt(o,"placeholder","(自行输入)　　　　　　　　　　　　　　　　　　　　")},m(l,f){Yt(l,e,f),gt(e,n),Yt(l,i,f),Yt(l,o,f),np(o,r[0].dynamic),a||(h=le(o,"input",r[10]),a=!0)},p(l,f){f&1&&t!==(t=l[0].name+"")&&Ol(n,t),f&1&&o.value!==l[0].dynamic&&np(o,l[0].dynamic)},d(l){l&&Wt(e),l&&Wt(i),l&&Wt(o),a=!1,h()}}}function vE(r){let e,t=r[0].name+"",n;return{c(){e=Pt("div"),n=Wo(t),Tt(e,"class","w-0 flex-grow px-4 py-2")},m(i,o){Yt(i,e,o),gt(e,n)},p(i,o){o&1&&t!==(t=i[0].name+"")&&Ol(n,t)},d(i){i&&Wt(e)}}}function op(r,e){let t,n,i,o,a,h,l,f=e[20].name+"",d,v,p,g,m;function x(...S){return e[14](e[22],...S)}function y(){return e[16](e[20],e[22])}function E(){return e[17](e[22])}function C(...S){return e[18](e[22],...S)}return{key:r,first:null,c(){t=Pt("div"),n=Pt("div"),i=Pt("img"),h=Vt(),l=Pt("div"),d=Wo(f),v=Vt(),p=Pt("button"),p.textContent="Ｘ",Tt(i,"draggable","false"),Tt(i,"alt",o=e[20].name),rp(i.src,a=e[20].image.src)||Tt(i,"src",a),Tt(i,"class","h-10 w-10 object-cover"),Tt(l,"class","w-0 flex-grow overflow-hidden whitespace-nowrap"),Tt(n,"class","flex w-0 flex-grow items-center gap-2 overflow-hidden"),Tt(n,"draggable","true"),Tt(p,"class","h-10 w-10 bg-slate-500 font-bold text-white"),Tt(t,"class","flex select-none flex-row items-center gap-4"),Ft(t,"bg-slate-300",e[1]===e[22]),this.first=t},m(S,O){Yt(S,t,O),gt(t,n),gt(n,i),gt(n,h),gt(n,l),gt(l,d),gt(t,v),gt(t,p),g||(m=[le(n,"dragstart",x),le(n,"dragend",e[15]),le(p,"click",y),le(t,"mousedown",E),le(t,"dragover",C)],g=!0)},p(S,O){e=S,O&1&&o!==(o=e[20].name)&&Tt(i,"alt",o),O&1&&!rp(i.src,a=e[20].image.src)&&Tt(i,"src",a),O&1&&f!==(f=e[20].name+"")&&Ol(d,f),O&3&&Ft(t,"bg-slate-300",e[1]===e[22])},d(S){S&&Wt(t),g=!1,Dn(m)}}}function _E(r){let e,t,n,i,o,a,h,l,f,d,v,p=[],g=new Map,m,x,y,E;function C(A,I){return A[0].dynamic===void 0?vE:pE}let S=C(r),O=S(r),P=r[0].layers;const D=A=>A[20].image;for(let A=0;A<P.length;A+=1){let I=ip(r,P,A),F=D(I);g.set(F,p[A]=op(F,I))}return{c(){e=Pt("div"),t=Pt("div"),n=Pt("button"),n.textContent="＜",i=Vt(),O.c(),o=Vt(),a=Pt("button"),a.textContent="＞",h=Vt(),l=Pt("div"),f=Pt("form"),d=Pt("input"),v=Vt();for(let A=0;A<p.length;A+=1)p[A].c();m=Vt(),x=Pt("button"),x.textContent="添加圖片",Tt(n,"class","p-2"),Tt(a,"class","p-2"),Tt(t,"class","flex flex-row items-center bg-slate-600 text-xl font-bold text-white"),Tt(d,"type","file"),Tt(d,"accept",".jpg,.jpeg,.png,.bmp,.webp"),Tt(f,"class","hidden"),Tt(x,"class","block p-0.5 hover:bg-gray-300 active:bg-gray-200"),Tt(l,"class","flex h-0 flex-grow flex-col gap-2 p-4"),Tt(e,"class","flex h-full w-full flex-col bg-gray-100")},m(A,I){Yt(A,e,I),gt(e,t),gt(t,n),gt(t,i),O.m(t,null),gt(t,o),gt(t,a),gt(e,h),gt(e,l),gt(l,f),gt(f,d),r[12](d),r[13](f),gt(l,v);for(let F=0;F<p.length;F+=1)p[F].m(l,null);gt(l,m),gt(l,x),y||(E=[le(n,"click",r[9]),le(a,"click",r[11]),le(d,"change",r[6]),le(x,"click",r[19])],y=!0)},p(A,[I]){S===(S=C(A))&&O?O.p(A,I):(O.d(1),O=S(A),O&&(O.c(),O.m(t,o))),I&419&&(P=A[0].layers,p=Fl(p,I,D,1,A,P,g,l,Pv,op,m,ip))},i:Ge,o:Ge,d(A){A&&Wt(e),O.d(),r[12](null),r[13](null);for(let I=0;I<p.length;I+=1)p[I].d();y=!1,Dn(E)}}}function gE(r,e,t){let{slot:n}=e,{selectedLayer:i}=e,{selectedSlot:o}=e,a,h;function l(){let A=a.files[0],I=new FileReader;I.onload=()=>{let F=new Image;F.onload=()=>{let B={width:F.width,height:F.height};if(F.width>F.height){if(F.width>512){let nt=F.width/512;B.width/=nt,B.height/=nt}}else if(F.height>512){let nt=F.height/512;B.width/=nt,B.height/=nt}let J={name:A.name,image:F,pos:{x:56-B.width/2,y:80-B.height/2},rect:B};t(1,i=0),t(0,n.layers=[J,...n.layers],n)},F.src=I.result},I.readAsDataURL(A),h.reset()}let f=!1;function d(A,I){t(5,f=I);let F=A.target.parentElement;A.dataTransfer.dropEffect="move",A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",n.layers[I].name),A.dataTransfer.setDragImage(F,F.clientWidth/2,F.clientHeight/2)}function v(A,I){if(f===!1)return;A.preventDefault();let F=n.layers[f],B=n.layers[I];t(0,n.layers[I]=F,n),t(0,n.layers[f]=B,n),t(5,f=I),A.dataTransfer.dropEffect="move",t(1,i=I)}const p=()=>{t(2,o=(15+o-1)%15),t(1,i=void 0)};function g(){n.dynamic=this.value,t(0,n)}const m=()=>{t(2,o=(o+1)%15),t(1,i=void 0)};function x(A){je[A?"unshift":"push"](()=>{a=A,t(3,a)})}function y(A){je[A?"unshift":"push"](()=>{h=A,t(4,h)})}const E=(A,I)=>d(I,A),C=()=>{t(5,f=!1)},S=(A,I)=>{t(0,n.layers=n.layers.filter(F=>F!==A),n),t(1,i=i>I?i-1:i<I?i:void 0)},O=A=>t(1,i=A),P=(A,I)=>v(I,A),D=()=>a.click();return r.$$set=A=>{"slot"in A&&t(0,n=A.slot),"selectedLayer"in A&&t(1,i=A.selectedLayer),"selectedSlot"in A&&t(2,o=A.selectedSlot)},[n,i,o,a,h,f,l,d,v,p,g,m,x,y,E,C,S,O,P,D]}class mE extends xr{constructor(e){super(),br(this,e,gE,_E,yr,{slot:0,selectedLayer:1,selectedSlot:2})}}function yE(r){var e=this.constructor;return this.then(function(t){return e.resolve(r()).then(function(){return t})},function(t){return e.resolve(r()).then(function(){return e.reject(t)})})}function bE(r){var e=this;return new e(function(t,n){if(!(r&&typeof r.length<"u"))return n(new TypeError(typeof r+" "+r+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(r);if(i.length===0)return t([]);var o=i.length;function a(l,f){if(f&&(typeof f=="object"||typeof f=="function")){var d=f.then;if(typeof d=="function"){d.call(f,function(v){a(l,v)},function(v){i[l]={status:"rejected",reason:v},--o===0&&t(i)});return}}i[l]={status:"fulfilled",value:f},--o===0&&t(i)}for(var h=0;h<i.length;h++)a(h,i[h])})}function Cv(r,e){this.name="AggregateError",this.errors=r,this.message=e||""}Cv.prototype=Error.prototype;function xE(r){var e=this;return new e(function(t,n){if(!(r&&typeof r.length<"u"))return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(r);if(i.length===0)return n();for(var o=[],a=0;a<i.length;a++)try{e.resolve(i[a]).then(t).catch(function(h){o.push(h),o.length===i.length&&n(new Cv(o,"All promises were rejected"))})}catch(h){n(h)}})}var TE=setTimeout;function Iv(r){return Boolean(r&&typeof r.length<"u")}function EE(){}function wE(r,e){return function(){r.apply(e,arguments)}}function ve(r){if(!(this instanceof ve))throw new TypeError("Promises must be constructed via new");if(typeof r!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Mv(r,this)}function Ov(r,e){for(;r._state===3;)r=r._value;if(r._state===0){r._deferreds.push(e);return}r._handled=!0,ve._immediateFn(function(){var t=r._state===1?e.onFulfilled:e.onRejected;if(t===null){(r._state===1?Lh:Ao)(e.promise,r._value);return}var n;try{n=t(r._value)}catch(i){Ao(e.promise,i);return}Lh(e.promise,n)})}function Lh(r,e){try{if(e===r)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var t=e.then;if(e instanceof ve){r._state=3,r._value=e,Bh(r);return}else if(typeof t=="function"){Mv(wE(t,e),r);return}}r._state=1,r._value=e,Bh(r)}catch(n){Ao(r,n)}}function Ao(r,e){r._state=2,r._value=e,Bh(r)}function Bh(r){r._state===2&&r._deferreds.length===0&&ve._immediateFn(function(){r._handled||ve._unhandledRejectionFn(r._value)});for(var e=0,t=r._deferreds.length;e<t;e++)Ov(r,r._deferreds[e]);r._deferreds=null}function SE(r,e,t){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof e=="function"?e:null,this.promise=t}function Mv(r,e){var t=!1;try{r(function(n){t||(t=!0,Lh(e,n))},function(n){t||(t=!0,Ao(e,n))})}catch(n){if(t)return;t=!0,Ao(e,n)}}ve.prototype.catch=function(r){return this.then(null,r)};ve.prototype.then=function(r,e){var t=new this.constructor(EE);return Ov(this,new SE(r,e,t)),t};ve.prototype.finally=yE;ve.all=function(r){return new ve(function(e,t){if(!Iv(r))return t(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(r);if(n.length===0)return e([]);var i=n.length;function o(h,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var f=l.then;if(typeof f=="function"){f.call(l,function(d){o(h,d)},t);return}}n[h]=l,--i===0&&e(n)}catch(d){t(d)}}for(var a=0;a<n.length;a++)o(a,n[a])})};ve.any=xE;ve.allSettled=bE;ve.resolve=function(r){return r&&typeof r=="object"&&r.constructor===ve?r:new ve(function(e){e(r)})};ve.reject=function(r){return new ve(function(e,t){t(r)})};ve.race=function(r){return new ve(function(e,t){if(!Iv(r))return t(new TypeError("Promise.race accepts an array"));for(var n=0,i=r.length;n<i;n++)ve.resolve(r[n]).then(e,t)})};ve._immediateFn=typeof setImmediate=="function"&&function(r){setImmediate(r)}||function(r){TE(r,0)};ve._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var sp=Object.getOwnPropertySymbols,AE=Object.prototype.hasOwnProperty,PE=Object.prototype.propertyIsEnumerable;function RE(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function CE(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var IE=CE()?Object.assign:function(r,e){for(var t,n=RE(r),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var a in t)AE.call(t,a)&&(n[a]=t[a]);if(sp){i=sp(t);for(var h=0;h<i.length;h++)PE.call(t,i[h])&&(n[i[h]]=t[i[h]])}}return n};/*!
 * @pixi/polyfill - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=ve);Object.assign||(Object.assign=IE);var OE=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var ME=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-ME}}var nh=Date.now(),ap=["ms","moz","webkit","o"];for(var ih=0;ih<ap.length&&!globalThis.requestAnimationFrame;++ih){var oh=ap[ih];globalThis.requestAnimationFrame=globalThis[oh+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[oh+"CancelAnimationFrame"]||globalThis[oh+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(r){if(typeof r!="function")throw new TypeError(r+"is not a function");var e=Date.now(),t=OE+nh-e;return t<0&&(t=0),nh=e,globalThis.self.setTimeout(function(){nh=Date.now(),r(performance.now())},t)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(r){return clearTimeout(r)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wr;(function(r){r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2"})(Wr||(Wr={}));var Bi;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS"})(Bi||(Bi={}));var Po;(function(r){r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL"})(Po||(Po={}));var dt;(function(r){r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR"})(dt||(dt={}));var _r;(function(r){r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(_r||(_r={}));var Z;(function(r){r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Z||(Z={}));var Rn;(function(r){r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Rn||(Rn={}));var pt;(function(r){r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT"})(pt||(pt={}));var Ro;(function(r){r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT"})(Ro||(Ro={}));var De;(function(r){r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR"})(De||(De={}));var Ir;(function(r){r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ir||(Ir={}));var or;(function(r){r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL"})(or||(or={}));var mr;(function(r){r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(mr||(mr={}));var vr;(function(r){r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT"})(vr||(vr={}));var Co;(function(r){r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL"})(Co||(Co={}));var qe;(function(r){r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp"})(qe||(qe={}));var be;(function(r){r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR"})(be||(be={}));var Nh;(function(r){r[r.RED=1]="RED",r[r.GREEN=2]="GREEN",r[r.BLUE=4]="BLUE",r[r.ALPHA=8]="ALPHA"})(Nh||(Nh={}));var ee;(function(r){r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH"})(ee||(ee={}));var Or;(function(r){r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Or||(Or={}));/*!
 * @pixi/settings - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Dv={createCanvas:function(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,t},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var r;return(r=document.baseURI)!==null&&r!==void 0?r:window.location.href},fetch:function(r,e){return fetch(r,e)}},sh=/iPhone/i,up=/iPod/i,hp=/iPad/i,lp=/\biOS-universal(?:.+)Mac\b/i,ah=/\bAndroid(?:.+)Mobile\b/i,fp=/Android/i,Ri=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Us=/Silk/i,an=/Windows Phone/i,cp=/\bWindows(?:.+)ARM\b/i,dp=/BlackBerry/i,pp=/BB10/i,vp=/Opera Mini/i,_p=/\b(CriOS|Chrome)(?:.+)Mobile/i,gp=/Mobile(?:.+)Firefox\b/i,mp=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function DE(r){return function(e){return e.test(r)}}function FE(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var t=e.userAgent,n=t.split("[FBAN");typeof n[1]<"u"&&(t=n[0]),n=t.split("Twitter"),typeof n[1]<"u"&&(t=n[0]);var i=DE(t),o={apple:{phone:i(sh)&&!i(an),ipod:i(up),tablet:!i(sh)&&(i(hp)||mp(e))&&!i(an),universal:i(lp),device:(i(sh)||i(up)||i(hp)||i(lp)||mp(e))&&!i(an)},amazon:{phone:i(Ri),tablet:!i(Ri)&&i(Us),device:i(Ri)||i(Us)},android:{phone:!i(an)&&i(Ri)||!i(an)&&i(ah),tablet:!i(an)&&!i(Ri)&&!i(ah)&&(i(Us)||i(fp)),device:!i(an)&&(i(Ri)||i(Us)||i(ah)||i(fp))||i(/\bokhttp\b/i)},windows:{phone:i(an),tablet:i(cp),device:i(an)||i(cp)},other:{blackberry:i(dp),blackberry10:i(pp),opera:i(vp),firefox:i(gp),chrome:i(_p),device:i(dp)||i(pp)||i(vp)||i(gp)||i(_p)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var gr=FE(globalThis.navigator);function LE(){return!gr.apple.device}function BE(r){var e=!0;if(gr.tablet||gr.phone){if(gr.apple.device){var t=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(t){var n=parseInt(t[1],10);n<11&&(e=!1)}}if(gr.android.device){var t=navigator.userAgent.match(/Android\s([0-9.]*)/);if(t){var n=parseInt(t[1],10);n<7&&(e=!1)}}}return e?r:4}var tt={ADAPTER:Dv,MIPMAP_TEXTURES:or.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ee.NONE,SPRITE_MAX_TEXTURES:BE(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Co.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Ir.CLAMP,SCALE_MODE:De.LINEAR,PRECISION_VERTEX:qe.HIGH,PRECISION_FRAGMENT:gr.apple.device?qe.HIGH:qe.MEDIUM,CAN_UPLOAD_SAME_BUFFER:LE(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Uh={},NE={get exports(){return Uh},set exports(r){Uh=r}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(l,f,d){this.fn=l,this.context=f,this.once=d||!1}function o(l,f,d,v,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,v||l,p),m=t?t+f:f;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],g]:l._events[m].push(g):(l._events[m]=g,l._eventsCount++),l}function a(l,f){--l._eventsCount===0?l._events=new n:delete l._events[f]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var f=[],d,v;if(this._eventsCount===0)return f;for(v in d=this._events)e.call(d,v)&&f.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},h.prototype.listeners=function(f){var d=t?t+f:f,v=this._events[d];if(!v)return[];if(v.fn)return[v.fn];for(var p=0,g=v.length,m=new Array(g);p<g;p++)m[p]=v[p].fn;return m},h.prototype.listenerCount=function(f){var d=t?t+f:f,v=this._events[d];return v?v.fn?1:v.length:0},h.prototype.emit=function(f,d,v,p,g,m){var x=t?t+f:f;if(!this._events[x])return!1;var y=this._events[x],E=arguments.length,C,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,v),!0;case 4:return y.fn.call(y.context,d,v,p),!0;case 5:return y.fn.call(y.context,d,v,p,g),!0;case 6:return y.fn.call(y.context,d,v,p,g,m),!0}for(S=1,C=new Array(E-1);S<E;S++)C[S-1]=arguments[S];y.fn.apply(y.context,C)}else{var O=y.length,P;for(S=0;S<O;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),E){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,v);break;case 4:y[S].fn.call(y[S].context,d,v,p);break;default:if(!C)for(P=1,C=new Array(E-1);P<E;P++)C[P-1]=arguments[P];y[S].fn.apply(y[S].context,C)}}return!0},h.prototype.on=function(f,d,v){return o(this,f,d,v,!1)},h.prototype.once=function(f,d,v){return o(this,f,d,v,!0)},h.prototype.removeListener=function(f,d,v,p){var g=t?t+f:f;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!v||m.context===v)&&a(this,g);else{for(var x=0,y=[],E=m.length;x<E;x++)(m[x].fn!==d||p&&!m[x].once||v&&m[x].context!==v)&&y.push(m[x]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},h.prototype.removeAllListeners=function(f){var d;return f?(d=t?t+f:f,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,r.exports=h})(NE);const zi=Uh;var Ni={},UE={get exports(){return Ni},set exports(r){Ni=r}};UE.exports=Ta;Ni.default=Ta;function Ta(r,e,t){t=t||2;var n=e&&e.length,i=n?e[0]*t:r.length,o=Fv(r,0,i,t,!0),a=[];if(!o||o.next===o.prev)return a;var h,l,f,d,v,p,g;if(n&&(o=WE(r,e,o,t)),r.length>80*t){h=f=r[0],l=d=r[1];for(var m=t;m<i;m+=t)v=r[m],p=r[m+1],v<h&&(h=v),p<l&&(l=p),v>f&&(f=v),p>d&&(d=p);g=Math.max(f-h,d-l),g=g!==0?32767/g:0}return Io(o,a,t,h,l,g,0),a}function Fv(r,e,t,n,i){var o,a;if(i===Hh(r,e,t,n)>0)for(o=e;o<t;o+=n)a=yp(o,r[o],r[o+1],a);else for(o=t-n;o>=e;o-=n)a=yp(o,r[o],r[o+1],a);return a&&Ea(a,a.next)&&(Mo(a),a=a.next),a}function ii(r,e){if(!r)return r;e||(e=r);var t=r,n;do if(n=!1,!t.steiner&&(Ea(t,t.next)||de(t.prev,t,t.next)===0)){if(Mo(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Io(r,e,t,n,i,o,a){if(r){!a&&o&&qE(r,n,i,o);for(var h=r,l,f;r.prev!==r.next;){if(l=r.prev,f=r.next,o?kE(r,n,i,o):GE(r)){e.push(l.i/t|0),e.push(r.i/t|0),e.push(f.i/t|0),Mo(r),r=f.next,h=f.next;continue}if(r=f,r===h){a?a===1?(r=HE(ii(r),e,t),Io(r,e,t,n,i,o,2)):a===2&&XE(r,e,t,n,i,o):Io(ii(r),e,t,n,i,o,1);break}}}}function GE(r){var e=r.prev,t=r,n=r.next;if(de(e,t,n)>=0)return!1;for(var i=e.x,o=t.x,a=n.x,h=e.y,l=t.y,f=n.y,d=i<o?i<a?i:a:o<a?o:a,v=h<l?h<f?h:f:l<f?l:f,p=i>o?i>a?i:a:o>a?o:a,g=h>l?h>f?h:f:l>f?l:f,m=n.next;m!==e;){if(m.x>=d&&m.x<=p&&m.y>=v&&m.y<=g&&Mi(i,h,o,l,a,f,m.x,m.y)&&de(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function kE(r,e,t,n){var i=r.prev,o=r,a=r.next;if(de(i,o,a)>=0)return!1;for(var h=i.x,l=o.x,f=a.x,d=i.y,v=o.y,p=a.y,g=h<l?h<f?h:f:l<f?l:f,m=d<v?d<p?d:p:v<p?v:p,x=h>l?h>f?h:f:l>f?l:f,y=d>v?d>p?d:p:v>p?v:p,E=Gh(g,m,e,t,n),C=Gh(x,y,e,t,n),S=r.prevZ,O=r.nextZ;S&&S.z>=E&&O&&O.z<=C;){if(S.x>=g&&S.x<=x&&S.y>=m&&S.y<=y&&S!==i&&S!==a&&Mi(h,d,l,v,f,p,S.x,S.y)&&de(S.prev,S,S.next)>=0||(S=S.prevZ,O.x>=g&&O.x<=x&&O.y>=m&&O.y<=y&&O!==i&&O!==a&&Mi(h,d,l,v,f,p,O.x,O.y)&&de(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;S&&S.z>=E;){if(S.x>=g&&S.x<=x&&S.y>=m&&S.y<=y&&S!==i&&S!==a&&Mi(h,d,l,v,f,p,S.x,S.y)&&de(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;O&&O.z<=C;){if(O.x>=g&&O.x<=x&&O.y>=m&&O.y<=y&&O!==i&&O!==a&&Mi(h,d,l,v,f,p,O.x,O.y)&&de(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function HE(r,e,t){var n=r;do{var i=n.prev,o=n.next.next;!Ea(i,o)&&Lv(i,n,n.next,o)&&Oo(i,o)&&Oo(o,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(o.i/t|0),Mo(n),Mo(n.next),n=r=o),n=n.next}while(n!==r);return ii(n)}function XE(r,e,t,n,i,o){var a=r;do{for(var h=a.next.next;h!==a.prev;){if(a.i!==h.i&&JE(a,h)){var l=Bv(a,h);a=ii(a,a.next),l=ii(l,l.next),Io(a,e,t,n,i,o,0),Io(l,e,t,n,i,o,0);return}h=h.next}a=a.next}while(a!==r)}function WE(r,e,t,n){var i=[],o,a,h,l,f;for(o=0,a=e.length;o<a;o++)h=e[o]*n,l=o<a-1?e[o+1]*n:r.length,f=Fv(r,h,l,n,!1),f===f.next&&(f.steiner=!0),i.push(ZE(f));for(i.sort(zE),o=0;o<i.length;o++)t=VE(i[o],t);return t}function zE(r,e){return r.x-e.x}function VE(r,e){var t=YE(r,e);if(!t)return e;var n=Bv(t,r);return ii(n,n.next),ii(t,t.next)}function YE(r,e){var t=e,n=r.x,i=r.y,o=-1/0,a;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){var h=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=n&&h>o&&(o=h,a=t.x<t.next.x?t:t.next,h===n))return a}t=t.next}while(t!==e);if(!a)return null;var l=a,f=a.x,d=a.y,v=1/0,p;t=a;do n>=t.x&&t.x>=f&&n!==t.x&&Mi(i<d?n:o,i,f,d,i<d?o:n,i,t.x,t.y)&&(p=Math.abs(i-t.y)/(n-t.x),Oo(t,r)&&(p<v||p===v&&(t.x>a.x||t.x===a.x&&jE(a,t)))&&(a=t,v=p)),t=t.next;while(t!==l);return a}function jE(r,e){return de(r.prev,r,e.prev)<0&&de(e.next,r,r.next)<0}function qE(r,e,t,n){var i=r;do i.z===0&&(i.z=Gh(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,KE(i)}function KE(r){var e,t,n,i,o,a,h,l,f=1;do{for(t=r,r=null,o=null,a=0;t;){for(a++,n=t,h=0,e=0;e<f&&(h++,n=n.nextZ,!!n);e++);for(l=f;h>0||l>0&&n;)h!==0&&(l===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,h--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:r=i,i.prevZ=o,o=i;t=n}o.nextZ=null,f*=2}while(a>1);return r}function Gh(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function ZE(r){var e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Mi(r,e,t,n,i,o,a,h){return(i-a)*(e-h)>=(r-a)*(o-h)&&(r-a)*(n-h)>=(t-a)*(e-h)&&(t-a)*(o-h)>=(i-a)*(n-h)}function JE(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!QE(r,e)&&(Oo(r,e)&&Oo(e,r)&&$E(r,e)&&(de(r.prev,r,e.prev)||de(r,e.prev,e))||Ea(r,e)&&de(r.prev,r,r.next)>0&&de(e.prev,e,e.next)>0)}function de(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function Ea(r,e){return r.x===e.x&&r.y===e.y}function Lv(r,e,t,n){var i=ks(de(r,e,t)),o=ks(de(r,e,n)),a=ks(de(t,n,r)),h=ks(de(t,n,e));return!!(i!==o&&a!==h||i===0&&Gs(r,t,e)||o===0&&Gs(r,n,e)||a===0&&Gs(t,r,n)||h===0&&Gs(t,e,n))}function Gs(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function ks(r){return r>0?1:r<0?-1:0}function QE(r,e){var t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&Lv(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function Oo(r,e){return de(r.prev,r,r.next)<0?de(r,e,r.next)>=0&&de(r,r.prev,e)>=0:de(r,e,r.prev)<0||de(r,r.next,e)<0}function $E(r,e){var t=r,n=!1,i=(r.x+e.x)/2,o=(r.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function Bv(r,e){var t=new kh(r.i,r.x,r.y),n=new kh(e.i,e.x,e.y),i=r.next,o=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function yp(r,e,t,n){var i=new kh(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Mo(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function kh(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ta.deviation=function(r,e,t,n){var i=e&&e.length,o=i?e[0]*t:r.length,a=Math.abs(Hh(r,0,o,t));if(i)for(var h=0,l=e.length;h<l;h++){var f=e[h]*t,d=h<l-1?e[h+1]*t:r.length;a-=Math.abs(Hh(r,f,d,t))}var v=0;for(h=0;h<n.length;h+=3){var p=n[h]*t,g=n[h+1]*t,m=n[h+2]*t;v+=Math.abs((r[p]-r[m])*(r[g+1]-r[p+1])-(r[p]-r[g])*(r[m+1]-r[p+1]))}return a===0&&v===0?0:Math.abs((v-a)/a)};function Hh(r,e,t,n){for(var i=0,o=e,a=t-n;o<t;o+=n)i+=(r[a]-r[o])*(r[o+1]+r[a+1]),a=o;return i}Ta.flatten=function(r){for(var e=r[0][0].length,t={vertices:[],holes:[],dimensions:e},n=0,i=0;i<r.length;i++){for(var o=0;o<r[i].length;o++)for(var a=0;a<e;a++)t.vertices.push(r[i][o][a]);i>0&&(n+=r[i-1].length,t.holes.push(n))}return t};var pa={},tw={get exports(){return pa},set exports(r){pa=r}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(r,e){(function(t){var n=e&&!e.nodeType&&e,i=r&&!r.nodeType&&r,o=typeof Pn=="object"&&Pn;(o.global===o||o.window===o||o.self===o)&&(t=o);var a,h=2147483647,l=36,f=1,d=26,v=38,p=700,g=72,m=128,x="-",y=/^xn--/,E=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=l-f,P=Math.floor,D=String.fromCharCode,A;function I(q){throw RangeError(S[q])}function F(q,X){for(var ct=q.length,yt=[];ct--;)yt[ct]=X(q[ct]);return yt}function B(q,X){var ct=q.split("@"),yt="";ct.length>1&&(yt=ct[0]+"@",q=ct[1]),q=q.replace(C,".");var Et=q.split("."),Nt=F(Et,X).join(".");return yt+Nt}function J(q){for(var X=[],ct=0,yt=q.length,Et,Nt;ct<yt;)Et=q.charCodeAt(ct++),Et>=55296&&Et<=56319&&ct<yt?(Nt=q.charCodeAt(ct++),(Nt&64512)==56320?X.push(((Et&1023)<<10)+(Nt&1023)+65536):(X.push(Et),ct--)):X.push(Et);return X}function nt(q){return F(q,function(X){var ct="";return X>65535&&(X-=65536,ct+=D(X>>>10&1023|55296),X=56320|X&1023),ct+=D(X),ct}).join("")}function _t(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:l}function Rt(q,X){return q+22+75*(q<26)-((X!=0)<<5)}function $(q,X,ct){var yt=0;for(q=ct?P(q/p):q>>1,q+=P(q/X);q>O*d>>1;yt+=l)q=P(q/O);return P(yt+(O+1)*q/(q+v))}function Q(q){var X=[],ct=q.length,yt,Et=0,Nt=m,Lt=g,Ht,ot,G,Y,Ut,Xt,lt,k,Zt;for(Ht=q.lastIndexOf(x),Ht<0&&(Ht=0),ot=0;ot<Ht;++ot)q.charCodeAt(ot)>=128&&I("not-basic"),X.push(q.charCodeAt(ot));for(G=Ht>0?Ht+1:0;G<ct;){for(Y=Et,Ut=1,Xt=l;G>=ct&&I("invalid-input"),lt=_t(q.charCodeAt(G++)),(lt>=l||lt>P((h-Et)/Ut))&&I("overflow"),Et+=lt*Ut,k=Xt<=Lt?f:Xt>=Lt+d?d:Xt-Lt,!(lt<k);Xt+=l)Zt=l-k,Ut>P(h/Zt)&&I("overflow"),Ut*=Zt;yt=X.length+1,Lt=$(Et-Y,yt,Y==0),P(Et/yt)>h-Nt&&I("overflow"),Nt+=P(Et/yt),Et%=yt,X.splice(Et++,0,Nt)}return nt(X)}function V(q){var X,ct,yt,Et,Nt,Lt,Ht,ot,G,Y,Ut,Xt=[],lt,k,Zt,fe;for(q=J(q),lt=q.length,X=m,ct=0,Nt=g,Lt=0;Lt<lt;++Lt)Ut=q[Lt],Ut<128&&Xt.push(D(Ut));for(yt=Et=Xt.length,Et&&Xt.push(x);yt<lt;){for(Ht=h,Lt=0;Lt<lt;++Lt)Ut=q[Lt],Ut>=X&&Ut<Ht&&(Ht=Ut);for(k=yt+1,Ht-X>P((h-ct)/k)&&I("overflow"),ct+=(Ht-X)*k,X=Ht,Lt=0;Lt<lt;++Lt)if(Ut=q[Lt],Ut<X&&++ct>h&&I("overflow"),Ut==X){for(ot=ct,G=l;Y=G<=Nt?f:G>=Nt+d?d:G-Nt,!(ot<Y);G+=l)fe=ot-Y,Zt=l-Y,Xt.push(D(Rt(Y+fe%Zt,0))),ot=P(fe/Zt);Xt.push(D(Rt(ot,0))),Nt=$(ct,k,yt==Et),ct=0,++yt}++ct,++X}return Xt.join("")}function ft(q){return B(q,function(X){return y.test(X)?Q(X.slice(4).toLowerCase()):X})}function ht(q){return B(q,function(X){return E.test(X)?"xn--"+V(X):X})}if(a={version:"1.3.2",ucs2:{decode:J,encode:nt},decode:Q,encode:V,toASCII:ht,toUnicode:ft},n&&i)if(r.exports==n)i.exports=a;else for(A in a)a.hasOwnProperty(A)&&(n[A]=a[A]);else t.punycode=a})(Pn)})(tw,pa);var ew={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}},Do={};function rw(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var nw=function(r,e,t,n){e=e||"&",t=t||"=";var i={};if(typeof r!="string"||r.length===0)return i;var o=/\+/g;r=r.split(e);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var h=r.length;a>0&&h>a&&(h=a);for(var l=0;l<h;++l){var f=r[l].replace(o,"%20"),d=f.indexOf(t),v,p,g,m;d>=0?(v=f.substr(0,d),p=f.substr(d+1)):(v=f,p=""),g=decodeURIComponent(v),m=decodeURIComponent(p),rw(i,g)?Array.isArray(i[g])?i[g].push(m):i[g]=[i[g],m]:i[g]=m}return i},fo=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}},iw=function(r,e,t,n){return e=e||"&",t=t||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map(function(i){var o=encodeURIComponent(fo(i))+t;return Array.isArray(r[i])?r[i].map(function(a){return o+encodeURIComponent(fo(a))}).join(e):o+encodeURIComponent(fo(r[i]))}).join(e):n?encodeURIComponent(fo(n))+t+encodeURIComponent(fo(r)):""};Do.decode=Do.parse=nw;Do.encode=Do.stringify=iw;var ow=pa,Gr=ew,sw=wa,aw=mw,uw=gw;function Mr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var hw=/^([a-z0-9.+-]+:)/i,lw=/:[0-9]*$/,fw=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,cw=["<",">",'"',"`"," ","\r",`
`,"	"],dw=["{","}","|","\\","^","`"].concat(cw),Xh=["'"].concat(dw),bp=["%","/","?",";","#"].concat(Xh),xp=["/","?","#"],pw=255,Tp=/^[+a-z0-9A-Z_-]{0,63}$/,vw=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_w={javascript:!0,"javascript:":!0},Wh={javascript:!0,"javascript:":!0},Di={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},zh=Do;function wa(r,e,t){if(r&&Gr.isObject(r)&&r instanceof Mr)return r;var n=new Mr;return n.parse(r,e,t),n}Mr.prototype.parse=function(r,e,t){if(!Gr.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",o=r.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),r=o.join(i);var h=r;if(h=h.trim(),!t&&r.split("#").length===1){var l=fw.exec(h);if(l)return this.path=h,this.href=h,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=zh.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=hw.exec(h);if(f){f=f[0];var d=f.toLowerCase();this.protocol=d,h=h.substr(f.length)}if(t||f||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var v=h.substr(0,2)==="//";v&&!(f&&Wh[f])&&(h=h.substr(2),this.slashes=!0)}if(!Wh[f]&&(v||f&&!Di[f])){for(var p=-1,g=0;g<xp.length;g++){var m=h.indexOf(xp[g]);m!==-1&&(p===-1||m<p)&&(p=m)}var x,y;p===-1?y=h.lastIndexOf("@"):y=h.lastIndexOf("@",p),y!==-1&&(x=h.slice(0,y),h=h.slice(y+1),this.auth=decodeURIComponent(x)),p=-1;for(var g=0;g<bp.length;g++){var m=h.indexOf(bp[g]);m!==-1&&(p===-1||m<p)&&(p=m)}p===-1&&(p=h.length),this.host=h.slice(0,p),h=h.slice(p),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var C=this.hostname.split(/\./),g=0,S=C.length;g<S;g++){var O=C[g];if(O&&!O.match(Tp)){for(var P="",D=0,A=O.length;D<A;D++)O.charCodeAt(D)>127?P+="x":P+=O[D];if(!P.match(Tp)){var I=C.slice(0,g),F=C.slice(g+1),B=O.match(vw);B&&(I.push(B[1]),F.unshift(B[2])),F.length&&(h="/"+F.join(".")+h),this.hostname=I.join(".");break}}}this.hostname.length>pw?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=ow.toASCII(this.hostname));var J=this.port?":"+this.port:"",nt=this.hostname||"";this.host=nt+J,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),h[0]!=="/"&&(h="/"+h))}if(!_w[d])for(var g=0,S=Xh.length;g<S;g++){var _t=Xh[g];if(h.indexOf(_t)!==-1){var Rt=encodeURIComponent(_t);Rt===_t&&(Rt=escape(_t)),h=h.split(_t).join(Rt)}}var $=h.indexOf("#");$!==-1&&(this.hash=h.substr($),h=h.slice(0,$));var Q=h.indexOf("?");if(Q!==-1?(this.search=h.substr(Q),this.query=h.substr(Q+1),e&&(this.query=zh.parse(this.query)),h=h.slice(0,Q)):e&&(this.search="",this.query={}),h&&(this.pathname=h),Di[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",V=this.search||"";this.path=J+V}return this.href=this.format(),this};function gw(r){return Gr.isString(r)&&(r=wa(r)),r instanceof Mr?r.format():Mr.prototype.format.call(r)}Mr.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Gr.isObject(this.query)&&Object.keys(this.query).length&&(o=zh.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Di[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),t=t.replace(/[?#]/g,function(h){return encodeURIComponent(h)}),a=a.replace("#","%23"),e+i+t+a+n};function mw(r,e){return wa(r,!1,!0).resolve(e)}Mr.prototype.resolve=function(r){return this.resolveObject(wa(r,!1,!0)).format()};Mr.prototype.resolveObject=function(r){if(Gr.isString(r)){var e=new Mr;e.parse(r,!1,!0),r=e}for(var t=new Mr,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];t[o]=this[o]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var a=Object.keys(r),h=0;h<a.length;h++){var l=a[h];l!=="protocol"&&(t[l]=r[l])}return Di[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!Di[r.protocol]){for(var f=Object.keys(r),d=0;d<f.length;d++){var v=f[d];t[v]=r[v]}return t.href=t.format(),t}if(t.protocol=r.protocol,!r.host&&!Wh[r.protocol]){for(var S=(r.pathname||"").split("/");S.length&&!(r.host=S.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),t.pathname=S.join("/")}else t.pathname=r.pathname;if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var p=t.pathname||"",g=t.search||"";t.path=p+g}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var m=t.pathname&&t.pathname.charAt(0)==="/",x=r.host||r.pathname&&r.pathname.charAt(0)==="/",y=x||m||t.host&&r.pathname,E=y,C=t.pathname&&t.pathname.split("/")||[],S=r.pathname&&r.pathname.split("/")||[],O=t.protocol&&!Di[t.protocol];if(O&&(t.hostname="",t.port=null,t.host&&(C[0]===""?C[0]=t.host:C.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host=null),y=y&&(S[0]===""||C[0]==="")),x)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,C=S;else if(S.length)C||(C=[]),C.pop(),C=C.concat(S),t.search=r.search,t.query=r.query;else if(!Gr.isNullOrUndefined(r.search)){if(O){t.hostname=t.host=C.shift();var P=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;P&&(t.auth=P.shift(),t.host=t.hostname=P.shift())}return t.search=r.search,t.query=r.query,(!Gr.isNull(t.pathname)||!Gr.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!C.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var D=C.slice(-1)[0],A=(t.host||r.host||C.length>1)&&(D==="."||D==="..")||D==="",I=0,F=C.length;F>=0;F--)D=C[F],D==="."?C.splice(F,1):D===".."?(C.splice(F,1),I++):I&&(C.splice(F,1),I--);if(!y&&!E)for(;I--;I)C.unshift("..");y&&C[0]!==""&&(!C[0]||C[0].charAt(0)!=="/")&&C.unshift(""),A&&C.join("/").substr(-1)!=="/"&&C.push("");var B=C[0]===""||C[0]&&C[0].charAt(0)==="/";if(O){t.hostname=t.host=B?"":C.length?C.shift():"";var P=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;P&&(t.auth=P.shift(),t.host=t.hostname=P.shift())}return y=y||t.host&&C.length,y&&!B&&C.unshift(""),C.length?t.pathname=C.join("/"):(t.pathname=null,t.path=null),(!Gr.isNull(t.pathname)||!Gr.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t};Mr.prototype.parseHost=function(){var r=this.host,e=lw.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};/*!
 * @pixi/utils - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ti={parse:sw,format:uw,resolve:aw};function Ar(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function Ep(r){var e=r.split("?")[0];return e.split("#")[0]}function yw(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bw(r,e,t){return r.replace(new RegExp(yw(e),"g"),t)}function xw(r,e){for(var t="",n=0,i=-1,o=0,a,h=0;h<=r.length;++h){if(h<r.length)a=r.charCodeAt(h);else{if(a===47)break;a=47}if(a===47){if(!(i===h-1||o===1))if(i!==h-1&&o===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var l=t.lastIndexOf("/");if(l!==t.length-1){l===-1?(t="",n=0):(t=t.slice(0,l),n=t.length-1-t.lastIndexOf("/")),i=h,o=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=h,o=0;continue}}e&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+="/"+r.slice(i+1,h):t=r.slice(i+1,h),n=h-i-1;i=h,o=0}else a===46&&o!==-1?++o:o=-1}return t}var Nv={toPosix:function(r){return bw(r,"\\","/")},isUrl:function(r){return/^https?:/.test(this.toPosix(r))},isDataUrl:function(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},hasProtocol:function(r){return/^[^/:]+:\//.test(this.toPosix(r))},getProtocol:function(r){Ar(r),r=this.toPosix(r);var e="",t=/^file:\/\/\//.exec(r),n=/^[^/:]+:\/\//.exec(r),i=/^[^/:]+:\//.exec(r);if(t||n||i){var o=(t==null?void 0:t[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=o,r=r.slice(o.length)}return e},toAbsolute:function(r,e,t){if(this.isDataUrl(r))return r;var n=Ep(this.toPosix(e??tt.ADAPTER.getBaseUrl())),i=Ep(this.toPosix(t??this.rootname(n)));if(Ar(r),r=this.toPosix(r),r.startsWith("/"))return Nv.join(i,r.slice(1));var o=this.isAbsolute(r)?r:this.join(n,r);return o},normalize:function(r){if(r=this.toPosix(r),Ar(r),r.length===0)return".";var e="",t=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));var n=r.endsWith("/");return r=xw(r,!1),r.length>0&&n&&(r+="/"),t?"/"+r:e+r},isAbsolute:function(r){return Ar(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join:function(){for(var r=arguments,e,t=[],n=0;n<arguments.length;n++)t[n]=r[n];if(t.length===0)return".";for(var i,o=0;o<t.length;++o){var a=t[o];if(Ar(a),a.length>0)if(i===void 0)i=a;else{var h=(e=t[o-1])!==null&&e!==void 0?e:"";this.extname(h)?i+="/../"+a:i+="/"+a}}return i===void 0?".":this.normalize(i)},dirname:function(r){if(Ar(r),r.length===0)return".";r=this.toPosix(r);var e=r.charCodeAt(0),t=e===47,n=-1,i=!0,o=this.getProtocol(r),a=r;r=r.slice(o.length);for(var h=r.length-1;h>=1;--h)if(e=r.charCodeAt(h),e===47){if(!i){n=h;break}}else i=!1;return n===-1?t?"/":this.isUrl(a)?o+r:o:t&&n===1?"//":o+r.slice(0,n)},rootname:function(r){Ar(r),r=this.toPosix(r);var e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){var t=r.indexOf("/",e.length);t!==-1?e=r.slice(0,t):e=r,e.endsWith("/")||(e+="/")}return e},basename:function(r,e){Ar(r),e&&Ar(e),r=this.toPosix(r);var t=0,n=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";var a=e.length-1,h=-1;for(o=r.length-1;o>=0;--o){var l=r.charCodeAt(o);if(l===47){if(!i){t=o+1;break}}else h===-1&&(i=!1,h=o+1),a>=0&&(l===e.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=h))}return t===n?n=h:n===-1&&(n=r.length),r.slice(t,n)}for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===47){if(!i){t=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":r.slice(t,n)},extname:function(r){Ar(r),r=this.toPosix(r);for(var e=-1,t=0,n=-1,i=!0,o=0,a=r.length-1;a>=0;--a){var h=r.charCodeAt(a);if(h===47){if(!i){t=a+1;break}continue}n===-1&&(i=!1,n=a+1),h===46?e===-1?e=a:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===t+1?"":r.slice(e,n)},parse:function(r){Ar(r);var e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=this.toPosix(r);var t=r.charCodeAt(0),n=this.isAbsolute(r),i;e.root=this.rootname(r),n||this.hasProtocol(r)?i=1:i=0;for(var o=-1,a=0,h=-1,l=!0,f=r.length-1,d=0;f>=i;--f){if(t=r.charCodeAt(f),t===47){if(!l){a=f+1;break}continue}h===-1&&(l=!1,h=f+1),t===46?o===-1?o=f:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||h===-1||d===0||d===1&&o===h-1&&o===a+1?h!==-1&&(a===0&&n?e.base=e.name=r.slice(1,h):e.base=e.name=r.slice(a,h)):(a===0&&n?(e.name=r.slice(1,o),e.base=r.slice(1,h)):(e.name=r.slice(a,o),e.base=r.slice(a,h)),e.ext=r.slice(o,h)),e.dir=this.dirname(r),e},sep:"/",delimiter:":"};tt.RETINA_PREFIX=/@([0-9\.]+)x/;tt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Vh=!1,wp="6.5.9";function Tw(){Vh=!0}function Uv(r){var e;if(!Vh){if(tt.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var t=[`
 %c %c %c PixiJS `+wp+" - ✰ "+r+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,t)}else globalThis.console&&globalThis.console.log("PixiJS "+wp+" - "+r+" - http://www.pixijs.com/");Vh=!0}}var uh;function Gv(){return typeof uh>"u"&&(uh=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:tt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!tt.ADAPTER.getWebGLRenderingContext())return!1;var t=tt.ADAPTER.createCanvas(),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch{return!1}}()),uh}var Ew="#f0f8ff",ww="#faebd7",Sw="#00ffff",Aw="#7fffd4",Pw="#f0ffff",Rw="#f5f5dc",Cw="#ffe4c4",Iw="#000000",Ow="#ffebcd",Mw="#0000ff",Dw="#8a2be2",Fw="#a52a2a",Lw="#deb887",Bw="#5f9ea0",Nw="#7fff00",Uw="#d2691e",Gw="#ff7f50",kw="#6495ed",Hw="#fff8dc",Xw="#dc143c",Ww="#00ffff",zw="#00008b",Vw="#008b8b",Yw="#b8860b",jw="#a9a9a9",qw="#006400",Kw="#a9a9a9",Zw="#bdb76b",Jw="#8b008b",Qw="#556b2f",$w="#ff8c00",tS="#9932cc",eS="#8b0000",rS="#e9967a",nS="#8fbc8f",iS="#483d8b",oS="#2f4f4f",sS="#2f4f4f",aS="#00ced1",uS="#9400d3",hS="#ff1493",lS="#00bfff",fS="#696969",cS="#696969",dS="#1e90ff",pS="#b22222",vS="#fffaf0",_S="#228b22",gS="#ff00ff",mS="#dcdcdc",yS="#f8f8ff",bS="#daa520",xS="#ffd700",TS="#808080",ES="#008000",wS="#adff2f",SS="#808080",AS="#f0fff0",PS="#ff69b4",RS="#cd5c5c",CS="#4b0082",IS="#fffff0",OS="#f0e68c",MS="#fff0f5",DS="#e6e6fa",FS="#7cfc00",LS="#fffacd",BS="#add8e6",NS="#f08080",US="#e0ffff",GS="#fafad2",kS="#d3d3d3",HS="#90ee90",XS="#d3d3d3",WS="#ffb6c1",zS="#ffa07a",VS="#20b2aa",YS="#87cefa",jS="#778899",qS="#778899",KS="#b0c4de",ZS="#ffffe0",JS="#00ff00",QS="#32cd32",$S="#faf0e6",t2="#ff00ff",e2="#800000",r2="#66cdaa",n2="#0000cd",i2="#ba55d3",o2="#9370db",s2="#3cb371",a2="#7b68ee",u2="#00fa9a",h2="#48d1cc",l2="#c71585",f2="#191970",c2="#f5fffa",d2="#ffe4e1",p2="#ffe4b5",v2="#ffdead",_2="#000080",g2="#fdf5e6",m2="#808000",y2="#6b8e23",b2="#ffa500",x2="#ff4500",T2="#da70d6",E2="#eee8aa",w2="#98fb98",S2="#afeeee",A2="#db7093",P2="#ffefd5",R2="#ffdab9",C2="#cd853f",I2="#ffc0cb",O2="#dda0dd",M2="#b0e0e6",D2="#800080",F2="#663399",L2="#ff0000",B2="#bc8f8f",N2="#4169e1",U2="#8b4513",G2="#fa8072",k2="#f4a460",H2="#2e8b57",X2="#fff5ee",W2="#a0522d",z2="#c0c0c0",V2="#87ceeb",Y2="#6a5acd",j2="#708090",q2="#708090",K2="#fffafa",Z2="#00ff7f",J2="#4682b4",Q2="#d2b48c",$2="#008080",tA="#d8bfd8",eA="#ff6347",rA="#40e0d0",nA="#ee82ee",iA="#f5deb3",oA="#ffffff",sA="#f5f5f5",aA="#ffff00",uA="#9acd32",hA={aliceblue:Ew,antiquewhite:ww,aqua:Sw,aquamarine:Aw,azure:Pw,beige:Rw,bisque:Cw,black:Iw,blanchedalmond:Ow,blue:Mw,blueviolet:Dw,brown:Fw,burlywood:Lw,cadetblue:Bw,chartreuse:Nw,chocolate:Uw,coral:Gw,cornflowerblue:kw,cornsilk:Hw,crimson:Xw,cyan:Ww,darkblue:zw,darkcyan:Vw,darkgoldenrod:Yw,darkgray:jw,darkgreen:qw,darkgrey:Kw,darkkhaki:Zw,darkmagenta:Jw,darkolivegreen:Qw,darkorange:$w,darkorchid:tS,darkred:eS,darksalmon:rS,darkseagreen:nS,darkslateblue:iS,darkslategray:oS,darkslategrey:sS,darkturquoise:aS,darkviolet:uS,deeppink:hS,deepskyblue:lS,dimgray:fS,dimgrey:cS,dodgerblue:dS,firebrick:pS,floralwhite:vS,forestgreen:_S,fuchsia:gS,gainsboro:mS,ghostwhite:yS,goldenrod:bS,gold:xS,gray:TS,green:ES,greenyellow:wS,grey:SS,honeydew:AS,hotpink:PS,indianred:RS,indigo:CS,ivory:IS,khaki:OS,lavenderblush:MS,lavender:DS,lawngreen:FS,lemonchiffon:LS,lightblue:BS,lightcoral:NS,lightcyan:US,lightgoldenrodyellow:GS,lightgray:kS,lightgreen:HS,lightgrey:XS,lightpink:WS,lightsalmon:zS,lightseagreen:VS,lightskyblue:YS,lightslategray:jS,lightslategrey:qS,lightsteelblue:KS,lightyellow:ZS,lime:JS,limegreen:QS,linen:$S,magenta:t2,maroon:e2,mediumaquamarine:r2,mediumblue:n2,mediumorchid:i2,mediumpurple:o2,mediumseagreen:s2,mediumslateblue:a2,mediumspringgreen:u2,mediumturquoise:h2,mediumvioletred:l2,midnightblue:f2,mintcream:c2,mistyrose:d2,moccasin:p2,navajowhite:v2,navy:_2,oldlace:g2,olive:m2,olivedrab:y2,orange:b2,orangered:x2,orchid:T2,palegoldenrod:E2,palegreen:w2,paleturquoise:S2,palevioletred:A2,papayawhip:P2,peachpuff:R2,peru:C2,pink:I2,plum:O2,powderblue:M2,purple:D2,rebeccapurple:F2,red:L2,rosybrown:B2,royalblue:N2,saddlebrown:U2,salmon:G2,sandybrown:k2,seagreen:H2,seashell:X2,sienna:W2,silver:z2,skyblue:V2,slateblue:Y2,slategray:j2,slategrey:q2,snow:K2,springgreen:Z2,steelblue:J2,tan:Q2,teal:$2,thistle:tA,tomato:eA,turquoise:rA,violet:nA,wheat:iA,white:oA,whitesmoke:sA,yellow:aA,yellowgreen:uA};function In(r,e){return e===void 0&&(e=[]),e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255,e}function Bl(r){var e=r.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function Sa(r){return typeof r=="string"&&(r=hA[r.toLowerCase()]||r,r[0]==="#"&&(r=r.slice(1))),parseInt(r,16)}function kv(r){return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)}function lA(){for(var r=[],e=[],t=0;t<32;t++)r[t]=t,e[t]=t;r[dt.NORMAL_NPM]=dt.NORMAL,r[dt.ADD_NPM]=dt.ADD,r[dt.SCREEN_NPM]=dt.SCREEN,e[dt.NORMAL]=dt.NORMAL_NPM,e[dt.ADD]=dt.ADD_NPM,e[dt.SCREEN]=dt.SCREEN_NPM;var n=[];return n.push(e),n.push(r),n}var Nl=lA();function Ul(r,e){return Nl[e?1:0][r]}function Hv(r,e,t,n){return t=t||new Float32Array(4),n||n===void 0?(t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e):(t[0]=r[0],t[1]=r[1],t[2]=r[2]),t[3]=e,t}function Aa(r,e){if(e===1)return(e*255<<24)+r;if(e===0)return 0;var t=r>>16&255,n=r>>8&255,i=r&255;return t=t*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(t<<16)+(n<<8)+i}function Gl(r,e,t,n){return t=t||new Float32Array(4),t[0]=(r>>16&255)/255,t[1]=(r>>8&255)/255,t[2]=(r&255)/255,(n||n===void 0)&&(t[0]*=e,t[1]*=e,t[2]*=e),t[3]=e,t}function Xv(r,e){e===void 0&&(e=null);var t=r*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+t);for(var n=0,i=0;n<t;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Pa(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}var fA={Float32Array,Uint32Array,Int32Array,Uint8Array};function cA(r,e){for(var t=0,n=0,i={},o=0;o<r.length;o++)n+=e[o],t+=r[o].length;for(var a=new ArrayBuffer(t*4),h=null,l=0,o=0;o<r.length;o++){var f=e[o],d=r[o],v=Pa(d);i[v]||(i[v]=new fA[v](a)),h=i[v];for(var p=0;p<d.length;p++){var g=(p/f|0)*n+l,m=p%f;h[g+m]=d[p]}l+=f}return new Float32Array(a)}function Fo(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function Yh(r){return!(r&r-1)&&!!r}function jh(r){var e=(r>65535?1:0)<<4;r>>>=e;var t=(r>255?1:0)<<3;return r>>>=t,e|=t,t=(r>15?1:0)<<2,r>>>=t,e|=t,t=(r>3?1:0)<<1,r>>>=t,e|=t,e|r>>1}function ri(r,e,t){var n=r.length,i;if(!(e>=n||t===0)){t=e+t>n?n-e:t;var o=n-t;for(i=e;i<o;++i)r[i]=r[i+t];r.length=o}}function ei(r){return r===0?0:r<0?-1:1}var dA=0;function On(){return++dA}var Sp={};function ke(r,e,t){if(t===void 0&&(t=3),!Sp[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+r):(n=n.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+r),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+r),console.warn(n))),Sp[e]=!0}}var qh={},Ye=Object.create(null),pr=Object.create(null);function pA(){var r;for(r in Ye)Ye[r].destroy();for(r in pr)pr[r].destroy()}function vA(){var r;for(r in Ye)delete Ye[r];for(r in pr)delete pr[r]}var Kh=function(){function r(e,t,n){this.canvas=tt.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||tt.RESOLUTION,this.resize(e,t)}return r.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},r.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),r}();function Wv(r){var e=r.width,t=r.height,n=r.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,t),o=i.data,a=o.length,h={top:null,left:null,right:null,bottom:null},l=null,f,d,v;for(f=0;f<a;f+=4)o[f+3]!==0&&(d=f/4%e,v=~~(f/4/e),h.top===null&&(h.top=v),(h.left===null||d<h.left)&&(h.left=d),(h.right===null||h.right<d)&&(h.right=d+1),(h.bottom===null||h.bottom<v)&&(h.bottom=v));return h.top!==null&&(e=h.right-h.left,t=h.bottom-h.top+1,l=n.getImageData(h.left,h.top,e,t)),{height:t,width:e,data:l}}var zv=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function _A(r){var e=zv.exec(r);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}var Hs;function Vv(r,e){if(e===void 0&&(e=globalThis.location),r.indexOf("data:")===0)return"";e=e||globalThis.location,Hs||(Hs=document.createElement("a")),Hs.href=r;var t=ti.parse(Hs.href),n=!t.port&&e.port===""||t.port===e.port;return t.hostname!==e.hostname||!n||t.protocol!==e.protocol?"anonymous":""}function Lo(r,e){var t=tt.RETINA_PREFIX.exec(r);return t?parseFloat(t[1]):e!==void 0?e:1}const gA=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:pr,CanvasRenderTarget:Kh,DATA_URI:zv,EventEmitter:zi,ProgramCache:qh,TextureCache:Ye,clearTextureCache:vA,correctBlendMode:Ul,createIndicesForQuads:Xv,decomposeDataUri:_A,deprecation:ke,destroyTextureCache:pA,determineCrossOrigin:Vv,get earcut(){return Ni},getBufferType:Pa,getResolutionOfUrl:Lo,hex2rgb:In,hex2string:Bl,interleaveTypedArrays:cA,isMobile:gr,isPow2:Yh,isWebGLSupported:Gv,log2:jh,nextPow2:Fo,path:Nv,premultiplyBlendMode:Nl,premultiplyRgba:Hv,premultiplyTint:Aa,premultiplyTintToRgba:Gl,removeItems:ri,rgb2hex:kv,sayHello:Uv,sign:ei,skipHello:Tw,string2hex:Sa,trimCanvas:Wv,uid:On,url:ti},Symbol.toStringTag,{value:"Module"}));/*!
 * @pixi/math - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bo=Math.PI*2,Yv=180/Math.PI,jv=Math.PI/180,Ae;(function(r){r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC"})(Ae||(Ae={}));var qt=function(){function r(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},r.prototype.copyTo=function(e){return e.set(this.x,this.y),e},r.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},r.prototype.set=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x=e,this.y=t,this},r.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},r}(),Xs=[new qt,new qt,new qt,new qt],Dt=function(){function r(e,t,n,i){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(i),this.type=Ae.RECT}return Object.defineProperty(r.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r,"EMPTY",{get:function(){return new r(0,0,0,0)},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},r.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},r.prototype.contains=function(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},r.prototype.intersects=function(e,t){if(!t){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var o=this.y<e.y?e.y:this.y,a=this.bottom>e.bottom?e.bottom:this.bottom;return a>o}var h=this.left,l=this.right,f=this.top,d=this.bottom;if(l<=h||d<=f)return!1;var v=Xs[0].set(e.left,e.top),p=Xs[1].set(e.left,e.bottom),g=Xs[2].set(e.right,e.top),m=Xs[3].set(e.right,e.bottom);if(g.x<=v.x||p.y<=v.y)return!1;var x=Math.sign(t.a*t.d-t.b*t.c);if(x===0||(t.apply(v,v),t.apply(p,p),t.apply(g,g),t.apply(m,m),Math.max(v.x,p.x,g.x,m.x)<=h||Math.min(v.x,p.x,g.x,m.x)>=l||Math.max(v.y,p.y,g.y,m.y)<=f||Math.min(v.y,p.y,g.y,m.y)>=d))return!1;var y=x*(p.y-v.y),E=x*(v.x-p.x),C=y*h+E*f,S=y*l+E*f,O=y*h+E*d,P=y*l+E*d;if(Math.max(C,S,O,P)<=y*v.x+E*v.y||Math.min(C,S,O,P)>=y*m.x+E*m.y)return!1;var D=x*(v.y-g.y),A=x*(g.x-v.x),I=D*h+A*f,F=D*l+A*f,B=D*h+A*d,J=D*l+A*d;return!(Math.max(I,F,B,J)<=D*v.x+A*v.y||Math.min(I,F,B,J)>=D*m.x+A*m.y)},r.prototype.pad=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this},r.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=i,this.height=Math.max(o-i,0),this},r.prototype.ceil=function(e,t){e===void 0&&(e=1),t===void 0&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=i-this.y,this},r.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=i,this.height=o-i,this},r.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},r}(),qv=function(){function r(e,t,n){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),this.x=e,this.y=t,this.radius=n,this.type=Ae.CIRC}return r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,o=this.y-t;return i*=i,o*=o,i+o<=n},r.prototype.getBounds=function(){return new Dt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},r.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},r}(),Kv=function(){function r(e,t,n,i){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=t,this.width=n,this.height=i,this.type=Ae.ELIP}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(t-this.y)/this.height;return n*=n,i*=i,n+i<=1},r.prototype.getBounds=function(){return new Dt(this.x-this.width,this.y-this.height,this.width,this.height)},r.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},r}(),To=function(){function r(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){for(var o=[],a=0,h=i.length;a<h;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=Ae.POLY,this.closeStroke=!0}return r.prototype.clone=function(){var e=this.points.slice(),t=new r(e);return t.closeStroke=this.closeStroke,t},r.prototype.contains=function(e,t){for(var n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var h=this.points[o*2],l=this.points[o*2+1],f=this.points[a*2],d=this.points[a*2+1],v=l>t!=d>t&&e<(f-h)*((t-l)/(d-l))+h;v&&(n=!n)}return n},r.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,t){return e+", "+t},"")+"]")},r}(),Zv=function(){function r(e,t,n,i,o){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=e,this.y=t,this.width=n,this.height=i,this.radius=o,this.type=Ae.RREC}return r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.radius)},r.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),o=t-(this.y+n),a=n*n;if(i*i+o*o<=a||(i=e-(this.x+this.width-n),i*i+o*o<=a)||(o=t-(this.y+this.height-n),i*i+o*o<=a)||(i=e-(this.x+n),i*i+o*o<=a))return!0}return!1},r.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},r}(),fn=function(){function r(e,t,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=t}return r.prototype.clone=function(e,t){return e===void 0&&(e=this.cb),t===void 0&&(t=this.scope),new r(e,t,this._x,this._y)},r.prototype.set=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this},r.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},r.prototype.copyTo=function(e){return e.set(this._x,this._y),e},r.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},r.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),r}(),Te=function(){function r(e,t,n,i,o,a){e===void 0&&(e=1),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=i,this.tx=o,this.ty=a}return r.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},r.prototype.set=function(e,t,n,i,o,a){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=o,this.ty=a,this},r.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},r.prototype.apply=function(e,t){t=t||new qt;var n=e.x,i=e.y;return t.x=this.a*n+this.c*i+this.tx,t.y=this.b*n+this.d*i+this.ty,t},r.prototype.applyInverse=function(e,t){t=t||new qt;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,o=e.y;return t.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,t},r.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},r.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},r.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),i=this.a,o=this.c,a=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=o*t-this.d*n,this.d=o*n+this.d*t,this.tx=a*t-this.ty*n,this.ty=a*n+this.ty*t,this},r.prototype.append=function(e){var t=this.a,n=this.b,i=this.c,o=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*n+e.b*o,this.c=e.c*t+e.d*i,this.d=e.c*n+e.d*o,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this},r.prototype.setTransform=function(e,t,n,i,o,a,h,l,f){return this.a=Math.cos(h+f)*o,this.b=Math.sin(h+f)*o,this.c=-Math.sin(h-l)*a,this.d=Math.cos(h-l)*a,this.tx=e-(n*this.a+i*this.c),this.ty=t-(n*this.b+i*this.d),this},r.prototype.prepend=function(e){var t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},r.prototype.decompose=function(e){var t=this.a,n=this.b,i=this.c,o=this.d,a=e.pivot,h=-Math.atan2(-i,o),l=Math.atan2(n,t),f=Math.abs(h+l);return f<1e-5||Math.abs(Bo-f)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=l),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx+(a.x*t+a.y*i),e.position.y=this.ty+(a.x*n+a.y*o),e},r.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,i=this.d,o=this.tx,a=e*i-t*n;return this.a=i/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(e*this.ty-t*o)/a,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.prototype.clone=function(){var e=new r;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},r.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},r.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},r.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(r,"IDENTITY",{get:function(){return new r},enumerable:!1,configurable:!0}),Object.defineProperty(r,"TEMP_MATRIX",{get:function(){return new r},enumerable:!1,configurable:!0}),r}(),Kn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Zn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Jn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Qn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Zh=[],Jv=[],Ws=Math.sign;function mA(){for(var r=0;r<16;r++){var e=[];Zh.push(e);for(var t=0;t<16;t++)for(var n=Ws(Kn[r]*Kn[t]+Jn[r]*Zn[t]),i=Ws(Zn[r]*Kn[t]+Qn[r]*Zn[t]),o=Ws(Kn[r]*Jn[t]+Jn[r]*Qn[t]),a=Ws(Zn[r]*Jn[t]+Qn[r]*Qn[t]),h=0;h<16;h++)if(Kn[h]===n&&Zn[h]===i&&Jn[h]===o&&Qn[h]===a){e.push(h);break}}for(var r=0;r<16;r++){var l=new Te;l.set(Kn[r],Zn[r],Jn[r],Qn[r],0,0),Jv.push(l)}}mA();var he={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(r){return Kn[r]},uY:function(r){return Zn[r]},vX:function(r){return Jn[r]},vY:function(r){return Qn[r]},inv:function(r){return r&8?r&15:-r&7},add:function(r,e){return Zh[r][e]},sub:function(r,e){return Zh[r][he.inv(e)]},rotate180:function(r){return r^4},isVertical:function(r){return(r&3)===2},byDirection:function(r,e){return Math.abs(r)*2<=Math.abs(e)?e>=0?he.S:he.N:Math.abs(e)*2<=Math.abs(r)?r>0?he.E:he.W:e>0?r>0?he.SE:he.SW:r>0?he.NE:he.NW},matrixAppendRotationInv:function(r,e,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var i=Jv[he.inv(e)];i.tx=t,i.ty=n,r.append(i)}},kl=function(){function r(){this.worldTransform=new Te,this.localTransform=new Te,this.position=new fn(this.onChange,this,0,0),this.scale=new fn(this.onChange,this,1,1),this.pivot=new fn(this.onChange,this,0,0),this.skew=new fn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return r.prototype.onChange=function(){this._localID++},r.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},r.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},r.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},r.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=t.a*n.a+t.b*n.c,i.b=t.a*n.b+t.b*n.d,i.c=t.c*n.a+t.d*n.c,i.d=t.c*n.b+t.d*n.d,i.tx=t.tx*n.a+t.ty*n.c+n.tx,i.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},r.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(r.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),r.IDENTITY=new r,r}();/*!
 * @pixi/display - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */tt.SORTABLE_CHILDREN=!1;var No=function(){function r(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return r.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},r.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},r.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Dt.EMPTY:(e=e||new Dt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},r.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},r.prototype.addPointMatrix=function(e,t){var n=e.a,i=e.b,o=e.c,a=e.d,h=e.tx,l=e.ty,f=n*t.x+o*t.y+h,d=i*t.x+a*t.y+l;this.minX=Math.min(this.minX,f),this.maxX=Math.max(this.maxX,f),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},r.prototype.addQuad=function(e){var t=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=e[0],h=e[1];t=a<t?a:t,n=h<n?h:n,i=a>i?a:i,o=h>o?h:o,a=e[2],h=e[3],t=a<t?a:t,n=h<n?h:n,i=a>i?a:i,o=h>o?h:o,a=e[4],h=e[5],t=a<t?a:t,n=h<n?h:n,i=a>i?a:i,o=h>o?h:o,a=e[6],h=e[7],t=a<t?a:t,n=h<n?h:n,i=a>i?a:i,o=h>o?h:o,this.minX=t,this.minY=n,this.maxX=i,this.maxY=o},r.prototype.addFrame=function(e,t,n,i,o){this.addFrameMatrix(e.worldTransform,t,n,i,o)},r.prototype.addFrameMatrix=function(e,t,n,i,o){var a=e.a,h=e.b,l=e.c,f=e.d,d=e.tx,v=e.ty,p=this.minX,g=this.minY,m=this.maxX,x=this.maxY,y=a*t+l*n+d,E=h*t+f*n+v;p=y<p?y:p,g=E<g?E:g,m=y>m?y:m,x=E>x?E:x,y=a*i+l*n+d,E=h*i+f*n+v,p=y<p?y:p,g=E<g?E:g,m=y>m?y:m,x=E>x?E:x,y=a*t+l*o+d,E=h*t+f*o+v,p=y<p?y:p,g=E<g?E:g,m=y>m?y:m,x=E>x?E:x,y=a*i+l*o+d,E=h*i+f*o+v,p=y<p?y:p,g=E<g?E:g,m=y>m?y:m,x=E>x?E:x,this.minX=p,this.minY=g,this.maxX=m,this.maxY=x},r.prototype.addVertexData=function(e,t,n){for(var i=this.minX,o=this.minY,a=this.maxX,h=this.maxY,l=t;l<n;l+=2){var f=e[l],d=e[l+1];i=f<i?f:i,o=d<o?d:o,a=f>a?f:a,h=d>h?d:h}this.minX=i,this.minY=o,this.maxX=a,this.maxY=h},r.prototype.addVertices=function(e,t,n,i){this.addVerticesMatrix(e.worldTransform,t,n,i)},r.prototype.addVerticesMatrix=function(e,t,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var h=e.a,l=e.b,f=e.c,d=e.d,v=e.tx,p=e.ty,g=this.minX,m=this.minY,x=this.maxX,y=this.maxY,E=n;E<i;E+=2){var C=t[E],S=t[E+1],O=h*C+f*S+v,P=d*S+l*C+p;g=Math.min(g,O-o),x=Math.max(x,O+o),m=Math.min(m,P-a),y=Math.max(y,P+a)}this.minX=g,this.minY=m,this.maxX=x,this.maxY=y},r.prototype.addBounds=function(e){var t=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>o?e.maxY:o},r.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,o=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=o&&i<=a){var h=this.minX,l=this.minY,f=this.maxX,d=this.maxY;this.minX=n<h?n:h,this.minY=i<l?i:l,this.maxX=o>f?o:f,this.maxY=a>d?a:d}},r.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},r.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=o&&i<=a){var h=this.minX,l=this.minY,f=this.maxX,d=this.maxY;this.minX=n<h?n:h,this.minY=i<l?i:l,this.maxX=o>f?o:f,this.maxY=a>d?a:d}},r.prototype.pad=function(e,t){e===void 0&&(e=0),t===void 0&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},r.prototype.addFramePad=function(e,t,n,i,o,a){e-=o,t-=a,n+=o,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jh=function(r,e){return Jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Jh(r,e)};function Hl(r,e){Jh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ge=function(r){Hl(e,r);function e(){var t=r.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new kl,t.alpha=1,t.visible=!0,t.renderable=!0,t.cullable=!1,t.cullArea=null,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new No,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return e.mixin=function(t){for(var n=Object.keys(t),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(e.prototype,o,Object.getOwnPropertyDescriptor(t,o))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,n){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Dt),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new Dt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new No);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var h=this.getBounds(!1,t);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-a,h},e.prototype.toGlobal=function(t,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,n)},e.prototype.toLocal=function(t,n,i,o){return n&&(t=n.toGlobal(t,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,n,i,o,a,h,l,f,d){return t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),h===void 0&&(h=0),l===void 0&&(l=0),f===void 0&&(f=0),d===void 0&&(d=0),this.position.x=t,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=h,this.skew.y=l,this.pivot.x=f,this.pivot.y=d,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Xl),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*Yv},set:function(t){this.transform.rotation=t*jv},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask!==t){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=t,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(zi),Xl=function(r){Hl(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.sortDirty=null,t}return e}(ge);ge.prototype.displayObjectUpdateTransform=ge.prototype.updateTransform;function yA(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}var Ze=function(r){Hl(e,r);function e(){var t=r.call(this)||this;return t.children=[],t.sortableChildren=tt.SORTABLE_CHILDREN,t.sortDirty=!1,t}return e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,n=[],i=0;i<arguments.length;i++)n[i]=t[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},e.prototype.addChildAt=function(t,n){if(n<0||n>this.children.length)throw new Error(t+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(n,0,t),this._boundsID++,this.onChildrenChange(n),t.emit("added",this),this.emit("childAdded",t,this,n),t},e.prototype.swapChildren=function(t,n){if(t!==n){var i=this.getChildIndex(t),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=t,this.onChildrenChange(i<o?i:o)}},e.prototype.getChildIndex=function(t){var n=this.children.indexOf(t);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(t,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);ri(this.children,i,1),this.children.splice(n,0,t),this.onChildrenChange(n)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,n=[],i=0;i<arguments.length;i++)n[i]=t[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var a=n[0],h=this.children.indexOf(a);if(h===-1)return null;a.parent=null,a.transform._parentID=-1,ri(this.children,h,1),this._boundsID++,this.onChildrenChange(h),a.emit("removed",this),this.emit("childRemoved",a,this,h)}return n[0]},e.prototype.removeChildAt=function(t){var n=this.getChildAt(t);return n.parent=null,n.transform._parentID=-1,ri(this.children,t,1),this._boundsID++,this.onChildrenChange(t),n.emit("removed",this),this.emit("childRemoved",n,this,t),n},e.prototype.removeChildren=function(t,n){t===void 0&&(t=0),n===void 0&&(n=this.children.length);var i=t,o=n,a=o-i,h;if(a>0&&a<=o){h=this.children.splice(i,a);for(var l=0;l<h.length;++l)h[l].parent=null,h[l].transform&&(h[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var l=0;l<h.length;++l)h[l].emit("removed",this),this.emit("childRemoved",h[l],this,l);return h}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!t&&o.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(yA),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,n=this.children.length;t<n;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var n=this.children[t];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(t,n){n===void 0&&(n=!1);var i=r.prototype.getLocalBounds.call(this,t);if(!n)for(var o=0,a=this.children.length;o<a;++o){var h=this.children[o];h.visible&&h.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(t){var n=t.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,o))this._render(t);else if(this.cullArea)return;for(var a=0,h=this.children.length;a<h;++a){var l=this.children[a],f=l.cullable;l.cullable=f||!this.cullArea,l.render(t),l.cullable=f}}},e.prototype.render=function(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(t)}},e.prototype.renderAdvanced=function(t){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o])}var a=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==be.NONE));if(a&&t.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(var o=0,h=this.children.length;o<h;++o)this.children[o].render(t)}a&&t.batch.flush(),i&&t.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(t){r.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof t=="boolean"?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(t)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var n=this.getLocalBounds().width;n!==0?this.scale.x=t/n:this.scale.x=1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var n=this.getLocalBounds().height;n!==0?this.scale.y=t/n:this.scale.y=1,this._height=t},enumerable:!1,configurable:!0}),e}(ge);Ze.prototype.containerUpdateTransform=Ze.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eo=function(){return Eo=Object.assign||function(e){for(var t=arguments,n,i=1,o=arguments.length;i<o;i++){n=t[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Eo.apply(this,arguments)},$t;(function(r){r.Application="application",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Loader="loader",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser"})($t||($t={}));var Ap=function(r){if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");var e=typeof r.extension!="object"?{type:r.extension}:r.extension;r=Eo(Eo({},e),{ref:r})}if(typeof r=="object")r=Eo({},r);else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},Kr={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var r=arguments,e=this,t=[],n=0;n<arguments.length;n++)t[n]=r[n];return t.map(Ap).forEach(function(i){i.type.forEach(function(o){var a,h;return(h=(a=e._removeHandlers)[o])===null||h===void 0?void 0:h.call(a,i)})}),this},add:function(){for(var r=arguments,e=this,t=[],n=0;n<arguments.length;n++)t[n]=r[n];return t.map(Ap).forEach(function(i){i.type.forEach(function(o){var a=e._addHandlers,h=e._queue;a[o]?a[o](i):(h[o]=h[o]||[],h[o].push(i))})}),this},handle:function(r,e,t){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[r]||i[r])throw new Error("Extension type "+r+" already has a handler");n[r]=e,i[r]=t;var o=this._queue;return o[r]&&(o[r].forEach(function(a){return e(a)}),delete o[r]),this},handleByMap:function(r,e){return this.handle(r,function(t){e[t.name]=t.ref},function(t){delete e[t.name]})},handleByList:function(r,e){return this.handle(r,function(t){var n,i;e.includes(t.ref)||(e.push(t.ref),r===$t.Loader&&((i=(n=t.ref).add)===null||i===void 0||i.call(n)))},function(t){var n=e.indexOf(t.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Re=function(){function r(e){this.items=[],this._name=e,this._aliasCount=0}return r.prototype.emit=function(e,t,n,i,o,a,h,l){if(arguments.length>8)throw new Error("max arguments reached");var f=this,d=f.name,v=f.items;this._aliasCount++;for(var p=0,g=v.length;p<g;p++)v[p][d](e,t,n,i,o,a,h,l);return v===this.items&&this._aliasCount--,this},r.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},r.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},r.prototype.remove=function(e){var t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},r.prototype.contains=function(e){return this.items.indexOf(e)!==-1},r.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},r.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(r.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),r}();Object.defineProperties(Re.prototype,{dispatch:{value:Re.prototype.emit},run:{value:Re.prototype.emit}});/*!
 * @pixi/ticker - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */tt.TARGET_FPMS=.06;var Dr;(function(r){r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY"})(Dr||(Dr={}));var hh=function(){function r(e,t,n,i){t===void 0&&(t=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=i}return r.prototype.match=function(e,t){return t===void 0&&(t=null),this.fn===e&&this.context===t},r.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},r.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},r.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},r}(),Se=function(){function r(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new hh(null,null,1/0),this.deltaMS=1/tt.TARGET_FPMS,this.elapsedMS=1/tt.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return r.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},r.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},r.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},r.prototype.add=function(e,t,n){return n===void 0&&(n=Dr.NORMAL),this._addListener(new hh(e,t,n))},r.prototype.addOnce=function(e,t,n){return n===void 0&&(n=Dr.NORMAL),this._addListener(new hh(e,t,n,!0))},r.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(!t)e.connect(n);else{for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}return this._startIfPossible(),this},r.prototype.remove=function(e,t){for(var n=this._head.next;n;)n.match(e,t)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(r.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),r.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},r.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},r.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},r.prototype.update=function(e){e===void 0&&(e=performance.now());var t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*tt.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(r.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,tt.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(r,"shared",{get:function(){if(!r._shared){var e=r._shared=new r;e.autoStart=!0,e._protected=!0}return r._shared},enumerable:!1,configurable:!0}),Object.defineProperty(r,"system",{get:function(){if(!r._system){var e=r._system=new r;e.autoStart=!0,e._protected=!0}return r._system},enumerable:!1,configurable:!0}),r}(),Qv=function(){function r(){}return r.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Dr.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Se.shared:new Se,e.autoStart&&this.start()},r.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},r.extension=$t.Application,r}();/*!
 * @pixi/core - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */tt.PREFER_ENV=gr.any?Wr.WEBGL:Wr.WEBGL2;tt.STRICT_TEXTURE_CACHE=!1;var Uo=[];function Ra(r,e){if(!r)return null;var t="";if(typeof r=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(t=n[1].toLowerCase())}for(var i=Uo.length-1;i>=0;--i){var o=Uo[i];if(o.test&&o.test(r,t))return new o(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qh=function(r,e){return Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Qh(r,e)};function se(r,e){Qh(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $h=function(){return $h=Object.assign||function(e){for(var t=arguments,n,i=1,o=arguments.length;i<o;i++){n=t[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$h.apply(this,arguments)};function bA(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}var oi=function(){function r(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Re("setRealSize"),this.onUpdate=new Re("update"),this.onError=new Re("onError")}return r.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},r.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},r.prototype.resize=function(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(r.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),r.prototype.update=function(){this.destroyed||this.onUpdate.emit()},r.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),r.prototype.style=function(e,t,n){return!1},r.prototype.dispose=function(){},r.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},r.test=function(e,t){return!1},r}(),li=function(r){se(e,r);function e(t,n){var i=this,o=n||{},a=o.width,h=o.height;if(!a||!h)throw new Error("BufferResource width or height invalid");return i=r.call(this,a,h)||this,i.data=t,i}return e.prototype.upload=function(t,n,i){var o=t.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===mr.UNPACK);var a=n.realWidth,h=n.realHeight;return i.width===a&&i.height===h?o.texSubImage2D(n.target,0,0,0,a,h,n.format,i.type,this.data):(i.width=a,i.height=h,o.texImage2D(n.target,0,i.internalFormat,a,h,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(oi),xA={scaleMode:De.NEAREST,format:Z.RGBA,alphaMode:mr.NPM},Mt=function(r){se(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=null);var i=r.call(this)||this;n=n||{};var o=n.alphaMode,a=n.mipmap,h=n.anisotropicLevel,l=n.scaleMode,f=n.width,d=n.height,v=n.wrapMode,p=n.format,g=n.type,m=n.target,x=n.resolution,y=n.resourceOptions;return t&&!(t instanceof oi)&&(t=Ra(t,y),t.internal=!0),i.resolution=x||tt.RESOLUTION,i.width=Math.round((f||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:tt.MIPMAP_TEXTURES,i.anisotropicLevel=h!==void 0?h:tt.ANISOTROPIC_LEVEL,i._wrapMode=v||tt.WRAP_MODE,i._scaleMode=l!==void 0?l:tt.SCALE_MODE,i.format=p||Z.RGBA,i.type=g||pt.UNSIGNED_BYTE,i.target=m||Rn.TEXTURE_2D,i.alphaMode=o!==void 0?o:mr.UNPACK,i.uid=On(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=f>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(t),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,n){var i;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,n,i){return i=i||this.resolution,this.setRealSize(t*i,n*i,i)},e.prototype.setRealSize=function(t,n,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Yh(this.realWidth)&&Yh(this.realHeight)},e.prototype.setResolution=function(t){var n=this.resolution;return n===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*n)/t,this.height=Math.round(this.height*n)/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete pr[this.cacheId],delete Ye[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,n,i){i===void 0&&(i=tt.STRICT_TEXTURE_CACHE);var o=typeof t=="string",a=null;if(o)a=t;else{if(!t._pixiId){var h=n&&n.pixiIdPrefix||"pixiid";t._pixiId=h+"_"+On()}a=t._pixiId}var l=pr[a];if(o&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return l||(l=new e(t,n),l.cacheId=a,e.addToCache(l,a)),l},e.fromBuffer=function(t,n,i,o){t=t||new Float32Array(n*i*4);var a=new li(t,{width:n,height:i}),h=t instanceof Float32Array?pt.FLOAT:pt.UNSIGNED_BYTE;return new e(a,Object.assign({},xA,o||{width:n,height:i,type:h}))},e.addToCache=function(t,n){n&&(t.textureCacheIds.indexOf(n)===-1&&t.textureCacheIds.push(n),pr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),pr[n]=t)},e.removeFromCache=function(t){if(typeof t=="string"){var n=pr[t];if(n){var i=n.textureCacheIds.indexOf(t);return i>-1&&n.textureCacheIds.splice(i,1),delete pr[t],n}}else if(t&&t.textureCacheIds){for(var o=0;o<t.textureCacheIds.length;++o)delete pr[t.textureCacheIds[o]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(zi),Ca=function(r){se(e,r);function e(t,n){var i=this,o=n||{},a=o.width,h=o.height;i=r.call(this,a,h)||this,i.items=[],i.itemDirtyIds=[];for(var l=0;l<t;l++){var f=new Mt;i.items.push(f),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(t,n){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof oi?this.addResourceAt(t[i],i):this.addResourceAt(Ra(t[i],n),i))},e.prototype.dispose=function(){for(var t=0,n=this.length;t<n;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[n].setResource(t),this},e.prototype.bind=function(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");r.prototype.bind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=t,this.items[n].on("update",t.update,t)},e.prototype.unbind=function(t){r.prototype.unbind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",t.update,t)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=t.items[0],a=o.realWidth,h=o.realHeight;return t.resize(a,h),Promise.resolve(t)}),this._load},e}(oi),Wl=function(r){se(e,r);function e(t,n){var i=this,o=n||{},a=o.width,h=o.height,l,f;return Array.isArray(t)?(l=t,f=t.length):f=t,i=r.call(this,f,{width:a,height:h})||this,l&&i.initFromArray(l,n),i}return e.prototype.addBaseTextureAt=function(t,n){if(t.resource)this.addResourceAt(t.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(t){r.prototype.bind.call(this,t),t.target=Rn.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,n,i){var o=this,a=o.length,h=o.itemDirtyIds,l=o.items,f=t.gl;i.dirtyId<0&&f.texImage3D(f.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,n.format,i.type,null);for(var d=0;d<a;d++){var v=l[d];h[d]<v.dirtyId&&(h[d]=v.dirtyId,v.valid&&f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,d,v.resource.width,v.resource.height,1,n.format,i.type,v.resource.source))}return!0},e}(Ca),zr=function(r){se(e,r);function e(t){var n=this,i=t,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=r.call(this,o,a)||this,n.source=t,n.noSubImage=!1,n}return e.crossOrigin=function(t,n,i){i===void 0&&n.indexOf("data:")!==0?t.crossOrigin=Vv(n):i!==!1&&(t.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(t,n,i,o){var a=t.gl,h=n.realWidth,l=n.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===mr.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===h&&i.height===l?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,i.type,o):(i.width=h,i.height=l,a.texImage2D(n.target,0,i.internalFormat,n.format,i.type,o)),!0},e.prototype.update=function(){if(!this.destroyed){var t=this.source,n=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(n,i),r.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(oi),zl=function(r){se(e,r);function e(t){return r.call(this,t)||this}return e.test=function(t){var n=globalThis.OffscreenCanvas;return n&&t instanceof n?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(zr),Vl=function(r){se(e,r);function e(t,n){var i=this,o=n||{},a=o.width,h=o.height,l=o.autoLoad,f=o.linkBaseTexture;if(t&&t.length!==e.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");i=r.call(this,6,{width:a,height:h})||this;for(var d=0;d<e.SIDES;d++)i.items[d].target=Rn.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=f!==!1,t&&i.initFromArray(t,n),l!==!1&&i.load(),i}return e.prototype.bind=function(t){r.prototype.bind.call(this,t),t.target=Rn.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Rn.TEXTURE_CUBE_MAP_POSITIVE_X+n,t.parentTextureArray=this.baseTexture,this.items[n]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[n]=t,this},e.prototype.upload=function(t,n,i){for(var o=this.itemDirtyIds,a=0;a<e.SIDES;a++){var h=this.items[a];(o[a]<h.dirtyId||i.dirtyId<n.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(t,h,i),o[a]=h.dirtyId):o[a]<-1&&(t.gl.texImage2D(h.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(Ca),Ia=function(r){se(e,r);function e(t,n){var i=this;if(n=n||{},!(t instanceof HTMLImageElement)){var o=new Image;zr.crossOrigin(o,t,n.crossorigin),o.src=t,t=o}return i=r.call(this,t)||this,!t.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=t.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:tt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(t){var n=this;return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise(function(i,o){var a=n.source;n.url=a.src;var h=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?h():(a.onload=h,a.onerror=function(l){o(l),n.onError.emit(l)})}),this._load)},e.prototype.process=function(){var t=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:o?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,n.width,n.height,{premultiplyAlpha:t.alphaMode===null||t.alphaMode===mr.UNPACK?"premultiply":"none"})}).then(function(a){return t.destroyed?Promise.reject():(t.bitmap=a,t.update(),t._process=null,Promise.resolve(t))}),this._process},e.prototype.upload=function(t,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return r.prototype.upload.call(this,t,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(r.prototype.upload.call(this,t,n,i,this.bitmap),!this.preserveBitmap){var o=!0,a=n._glTextures;for(var h in a){var l=a[h];if(l!==i&&l.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,r.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return typeof t=="string"||t instanceof HTMLImageElement},e}(zr),Yl=function(r){se(e,r);function e(t,n){var i=this;return n=n||{},i=r.call(this,tt.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=t,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(n){if(t._resolve=function(){t.resize(t.source.width,t.source.height),n(t)},e.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var t=this,n=new Image;zr.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){t._resolve&&(n.onerror=null,t.onError.emit(i))},n.onload=function(){if(t._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*t.scale,h=o*t.scale;(t._overrideWidth||t._overrideHeight)&&(a=t._overrideWidth||t._overrideHeight/o*i,h=t._overrideHeight||t._overrideWidth/i*o),a=Math.round(a),h=Math.round(h);var l=t.source;l.width=a,l.height=h,l._pixiId="canvas_"+On(),l.getContext("2d").drawImage(n,0,0,i,o,0,0,a,h),t._resolve(),t._resolve=null}}},e.getSize=function(t){var n=e.SVG_SIZE.exec(t),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){r.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,n){return n==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&e.SVG_XML.test(t)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(zr),jl=function(r){se(e,r);function e(t,n){var i=this;if(n=n||{},!(t instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);var a=t[0].src||t[0];zr.crossOrigin(o,a,n.crossorigin);for(var h=0;h<t.length;++h){var l=document.createElement("source"),f=t[h],d=f.src,v=f.mime;d=d||t[h];var p=d.split("?").shift().toLowerCase(),g=p.slice(p.lastIndexOf(".")+1);v=v||e.MIME_TYPES[g]||"video/"+g,l.src=d,l.type=v,o.appendChild(l)}t=o}return i=r.call(this,t)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(t){if(!this.destroyed){var n=Se.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(r.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){t.valid?i(t):(t._resolve=i,n.load())}),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var t=this.source;return t.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Se.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(t.videoWidth,t.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),r.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Se.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,n){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(zr),ql=function(r){se(e,r);function e(t){return r.call(this,t)||this}return e.test=function(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&t instanceof ImageBitmap},e}(zr);Uo.push(Ia,ql,zl,jl,Yl,li,Vl,Wl);var $v={__proto__:null,Resource:oi,BaseImageResource:zr,INSTALLED:Uo,autoDetectResource:Ra,AbstractMultiResource:Ca,ArrayResource:Wl,BufferResource:li,CanvasResource:zl,CubeResource:Vl,ImageResource:Ia,SVGResource:Yl,VideoResource:jl,ImageBitmapResource:ql},TA=function(r){se(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.upload=function(t,n,i){var o=t.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===mr.UNPACK);var a=n.realWidth,h=n.realHeight;return i.width===a&&i.height===h?o.texSubImage2D(n.target,0,0,0,a,h,n.format,i.type,this.data):(i.width=a,i.height=h,o.texImage2D(n.target,0,i.internalFormat,a,h,0,n.format,i.type,this.data)),!0},e}(li),va=function(){function r(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Re("disposeFramebuffer"),this.multisample=ee.NONE}return Object.defineProperty(r.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),r.prototype.addColorTexture=function(e,t){return e===void 0&&(e=0),this.colorTextures[e]=t||new Mt(null,{scaleMode:De.NEAREST,resolution:1,mipmap:or.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},r.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Mt(new TA(null,{width:this.width,height:this.height}),{scaleMode:De.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:or.OFF,format:Z.DEPTH_COMPONENT,type:pt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},r.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},r.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},r.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(e/o,t/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(e/o,t/o)}}},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},r}(),Kl=function(r){se(e,r);function e(t){t===void 0&&(t={});var n=this;if(typeof t=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],h=arguments[3];t={width:i,height:o,scaleMode:a,resolution:h}}return t.width=t.width||100,t.height=t.height||100,t.multisample=t.multisample!==void 0?t.multisample:ee.NONE,n=r.call(this,null,t)||this,n.mipmap=or.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new va(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=t.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(t,n){this.framebuffer.resize(t*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),r.prototype.dispose.call(this)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Mt),Zl=function(){function r(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return r.prototype.set=function(e,t,n){var i=t.width,o=t.height;if(n){var a=e.width/2/i,h=e.height/2/o,l=e.x/i+a,f=e.y/o+h;n=he.add(n,he.NW),this.x0=l+a*he.uX(n),this.y0=f+h*he.uY(n),n=he.add(n,2),this.x1=l+a*he.uX(n),this.y1=f+h*he.uY(n),n=he.add(n,2),this.x2=l+a*he.uX(n),this.y2=f+h*he.uY(n),n=he.add(n,2),this.x3=l+a*he.uX(n),this.y3=f+h*he.uY(n)}else this.x0=e.x/i,this.y0=e.y/o,this.x1=(e.x+e.width)/i,this.y1=e.y/o,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/o,this.x3=e.x/i,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},r.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},r}(),Pp=new Zl;function zs(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}var vt=function(r){se(e,r);function e(t,n,i,o,a,h){var l=r.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new Dt(0,0,1,1)),t instanceof e&&(t=t.baseTexture),l.baseTexture=t,l._frame=n,l.trim=o,l.valid=!1,l._uvs=Pp,l.uvMatrix=null,l.orig=i||n,l._rotate=Number(a||0),a===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=h?new qt(h.x,h.y):new qt(0,0),l._updateID=0,l.textureCacheIds=[],t.valid?l.noFrame?t.valid&&l.onBaseTextureUpdated(t):l.frame=n:t.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&t.on("update",l.onBaseTextureUpdated,l),l}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var n=this.baseTexture.resource;n&&n.url&&Ye[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),n=this._frame===this.orig?t:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&t,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=t),i},e.prototype.updateUvs=function(){this._uvs===Pp&&(this._uvs=new Zl),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,n,i){n===void 0&&(n={}),i===void 0&&(i=tt.STRICT_TEXTURE_CACHE);var o=typeof t=="string",a=null;if(o)a=t;else if(t instanceof Mt){if(!t.cacheId){var h=n&&n.pixiIdPrefix||"pixiid";t.cacheId=h+"-"+On(),Mt.addToCache(t,t.cacheId)}a=t.cacheId}else{if(!t._pixiId){var h=n&&n.pixiIdPrefix||"pixiid";t._pixiId=h+"_"+On()}a=t._pixiId}var l=Ye[a];if(o&&i&&!l)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!l&&!(t instanceof Mt)?(n.resolution||(n.resolution=Lo(t)),l=new e(new Mt(t,n)),l.baseTexture.cacheId=a,Mt.addToCache(l.baseTexture,a),e.addToCache(l,a)):!l&&t instanceof Mt&&(l=new e(t),e.addToCache(l,a)),l},e.fromURL=function(t,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),o=e.from(t,Object.assign({resourceOptions:i},n),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},e.fromBuffer=function(t,n,i,o){return new e(Mt.fromBuffer(t,n,i,o))},e.fromLoader=function(t,n,i,o){var a=new Mt(t,Object.assign({scaleMode:tt.SCALE_MODE,resolution:Lo(n)},o)),h=a.resource;h instanceof Ia&&(h.url=n);var l=new e(a);return i||(i=n),Mt.addToCache(l.baseTexture,i),e.addToCache(l,i),i!==n&&(Mt.addToCache(l.baseTexture,n),e.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(f){l.baseTexture.once("loaded",function(){return f(l)})})},e.addToCache=function(t,n){n&&(t.textureCacheIds.indexOf(n)===-1&&t.textureCacheIds.push(n),Ye[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Ye[n]=t)},e.removeFromCache=function(t){if(typeof t=="string"){var n=Ye[t];if(n){var i=n.textureCacheIds.indexOf(t);return i>-1&&n.textureCacheIds.splice(i,1),delete Ye[t],n}}else if(t&&t.textureCacheIds){for(var o=0;o<t.textureCacheIds.length;++o)Ye[t.textureCacheIds[o]]===t&&delete Ye[t.textureCacheIds[o]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var n=t.x,i=t.y,o=t.width,a=t.height,h=n+o>this.baseTexture.width,l=i+a>this.baseTexture.height;if(h||l){var f=h&&l?"and":"or",d="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,v="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+f+" "+v))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Mt),zs(e._EMPTY),zs(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var t=tt.ADAPTER.createCanvas(16,16),n=t.getContext("2d");t.width=16,t.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(Mt.from(t)),zs(e._WHITE),zs(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(zi),Mn=function(r){se(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,n,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,a=Math.round(t*o)/o,h=Math.round(n*o)/o;this.valid=a>0&&h>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=h,i&&this.baseTexture.resize(a,h),this.updateUvs()},e.prototype.setResolution=function(t){var n=this.baseTexture;n.resolution!==t&&(n.setResolution(t),this.resize(n.width,n.height,!1))},e.create=function(t){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return typeof t=="number"&&(ke("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new Kl(t))},e}(vt),t_=function(){function r(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return r.prototype.createTexture=function(e,t,n){n===void 0&&(n=ee.NONE);var i=new Kl(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new Mn(i)},r.prototype.getOptimalTexture=function(e,t,n,i){n===void 0&&(n=1),i===void 0&&(i=ee.NONE);var o;e=Math.ceil(e*n-1e-6),t=Math.ceil(t*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=Fo(e),t=Fo(t),o=((e&65535)<<16|t&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var a=this.texturePool[o].pop();return a||(a=this.createTexture(e,t,i)),a.filterPoolKey=o,a.setResolution(n),a},r.prototype.getFilterTexture=function(e,t,n){var i=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||ee.NONE);return i.filterFrame=e.filterFrame,i},r.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},r.prototype.returnFilterTexture=function(e){this.returnTexture(e)},r.prototype.clear=function(e){if(e=e!==!1,e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},r.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var t in this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},r.SCREEN_KEY=-1,r}(),tl=function(){function r(e,t,n,i,o,a,h){t===void 0&&(t=0),n===void 0&&(n=!1),i===void 0&&(i=pt.FLOAT),this.buffer=e,this.size=t,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=h}return r.prototype.destroy=function(){this.buffer=null},r.from=function(e,t,n,i,o){return new r(e,t,n,i,o)},r}(),EA=0,xe=function(){function r(e,t,n){t===void 0&&(t=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=EA++,this.disposeRunner=new Re("disposeBuffer")}return r.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(r.prototype,"index",{get:function(){return this.type===Or.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Or.ELEMENT_ARRAY_BUFFER:Or.ARRAY_BUFFER},enumerable:!1,configurable:!0}),r.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new r(e)},r}(),wA={Float32Array,Uint32Array,Int32Array,Uint8Array};function SA(r,e){for(var t=0,n=0,i={},o=0;o<r.length;o++)n+=e[o],t+=r[o].length;for(var a=new ArrayBuffer(t*4),h=null,l=0,o=0;o<r.length;o++){var f=e[o],d=r[o],v=Pa(d);i[v]||(i[v]=new wA[v](a)),h=i[v];for(var p=0;p<d.length;p++){var g=(p/f|0)*n+l,m=p%f;h[g+m]=d[p]}l+=f}return new Float32Array(a)}var Rp={5126:4,5123:2,5121:1},AA=0,PA={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Vi=function(){function r(e,t){e===void 0&&(e=[]),t===void 0&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=AA++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Re("disposeGeometry"),this.refCount=0}return r.prototype.addAttribute=function(e,t,n,i,o,a,h,l){if(n===void 0&&(n=0),i===void 0&&(i=!1),l===void 0&&(l=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof xe||(t instanceof Array&&(t=new Float32Array(t)),t=new xe(t));var f=e.split("|");if(f.length>1){for(var d=0;d<f.length;d++)this.addAttribute(f[d],t,n,i,o);return this}var v=this.buffers.indexOf(t);return v===-1&&(this.buffers.push(t),v=this.buffers.length-1),this.attributes[e]=new tl(v,n,i,o,a,h,l),this.instanced=this.instanced||l,this},r.prototype.getAttribute=function(e){return this.attributes[e]},r.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},r.prototype.addIndex=function(e){return e instanceof xe||(e instanceof Array&&(e=new Uint16Array(e)),e=new xe(e)),e.type=Or.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},r.prototype.getIndex=function(){return this.indexBuffer},r.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],t=[],n=new xe,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];e.push(a.data),t.push(o.size*Rp[o.type]/4),o.buffer=0}for(n.data=SA(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},r.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e],n=this.buffers[t.buffer];return n.data.length/(t.stride/4||t.size)}return 0},r.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},r.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},r.prototype.clone=function(){for(var e=new r,t=0;t<this.buffers.length;t++)e.buffers[t]=new xe(this.buffers[t].data.slice(0));for(var t in this.attributes){var n=this.attributes[t];e.attributes[t]=new tl(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Or.ELEMENT_ARRAY_BUFFER),e},r.merge=function(e){for(var t=new r,n=[],i=[],o=[],a,h=0;h<e.length;h++){a=e[h];for(var l=0;l<a.buffers.length;l++)i[l]=i[l]||0,i[l]+=a.buffers[l].data.length,o[l]=0}for(var h=0;h<a.buffers.length;h++)n[h]=new PA[Pa(a.buffers[h].data)](i[h]),t.buffers[h]=new xe(n[h]);for(var h=0;h<e.length;h++){a=e[h];for(var l=0;l<a.buffers.length;l++)n[l].set(a.buffers[l].data,o[l]),o[l]+=a.buffers[l].data.length}if(t.attributes=a.attributes,a.indexBuffer){t.indexBuffer=t.buffers[a.buffers.indexOf(a.indexBuffer)],t.indexBuffer.type=Or.ELEMENT_ARRAY_BUFFER;for(var f=0,d=0,v=0,p=0,h=0;h<a.buffers.length;h++)if(a.buffers[h]!==a.indexBuffer){p=h;break}for(var h in a.attributes){var g=a.attributes[h];(g.buffer|0)===p&&(d+=g.size*Rp[g.type]/4)}for(var h=0;h<e.length;h++){for(var m=e[h].indexBuffer.data,l=0;l<m.length;l++)t.indexBuffer.data[l+v]+=f;f+=e[h].buffers[p].data.length/d,v+=m.length}}return t},r}(),e_=function(r){se(e,r);function e(){var t=r.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return e}(Vi),Jl=function(r){se(e,r);function e(){var t=r.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new xe(t.vertices),t.uvBuffer=new xe(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return e.prototype.map=function(t,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/t.width,this.uvs[3]=o,this.uvs[4]=i+n.width/t.width,this.uvs[5]=o+n.height/t.height,this.uvs[6]=i,this.uvs[7]=o+n.height/t.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Vi),RA=0,Cn=function(){function r(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=RA++,this.static=!!t,this.ubo=!!n,e instanceof xe?(this.buffer=e,this.buffer.type=Or.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new xe(new Float32Array(1)),this.buffer.type=Or.UNIFORM_BUFFER,this.autoManage=!0))}return r.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},r.prototype.add=function(e,t,n){if(!this.ubo)this.uniforms[e]=new r(t,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},r.from=function(e,t,n){return new r(e,t,n)},r.uboFrom=function(e,t){return new r(e,t??!0,!0)},r}(),r_=function(){function r(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ee.NONE,this.sourceFrame=new Dt,this.destinationFrame=new Dt,this.bindingSourceFrame=new Dt,this.bindingDestinationFrame=new Dt,this.filters=[],this.transform=null}return r.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},r}(),Vs=[new qt,new qt,new qt,new qt],lh=new Te,Ql=function(){function r(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new t_,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new e_,this.quadUv=new Jl,this.tempRect=new Dt,this.activeState={},this.globalUniforms=new Cn({outputFrame:new Dt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return r.prototype.push=function(e,t){for(var n,i,o=this.renderer,a=this.defaultFilterStack,h=this.statePool.pop()||new r_,l=this.renderer.renderTexture,f=t[0].resolution,d=t[0].multisample,v=t[0].padding,p=t[0].autoFit,g=(n=t[0].legacy)!==null&&n!==void 0?n:!0,m=1;m<t.length;m++){var x=t[m];f=Math.min(f,x.resolution),d=Math.min(d,x.multisample),v=this.useMaxPadding?Math.max(v,x.padding):v+x.padding,p=p&&x.autoFit,g=g||((i=x.legacy)!==null&&i!==void 0?i:!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=l.current),a.push(h),h.resolution=f,h.multisample=d,h.legacy=g,h.target=e,h.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),h.sourceFrame.pad(v);var y=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(lh.copyFrom(o.projection.transform).invert(),y),p?(h.sourceFrame.fit(y),(h.sourceFrame.width<=0||h.sourceFrame.height<=0)&&(h.sourceFrame.width=0,h.sourceFrame.height=0)):h.sourceFrame.intersects(y)||(h.sourceFrame.width=0,h.sourceFrame.height=0),this.roundFrame(h.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),h.renderTexture=this.getOptimalFilterTexture(h.sourceFrame.width,h.sourceFrame.height,f,d),h.filters=t,h.destinationFrame.width=h.renderTexture.width,h.destinationFrame.height=h.renderTexture.height;var E=this.tempRect;E.x=0,E.y=0,E.width=h.sourceFrame.width,E.height=h.sourceFrame.height,h.renderTexture.filterFrame=h.sourceFrame,h.bindingSourceFrame.copyFrom(l.sourceFrame),h.bindingDestinationFrame.copyFrom(l.destinationFrame),h.transform=o.projection.transform,o.projection.transform=null,l.bind(h.renderTexture,h.sourceFrame,E),o.framebuffer.clear(0,0,0,0)},r.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;var o=i.inputSize,a=i.inputPixel,h=i.inputClamp;if(o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*t.resolution),a[1]=Math.round(o[1]*t.resolution),a[2]=1/a[0],a[3]=1/a[1],h[0]=.5*a[2],h[1]=.5*a[3],h[2]=t.sourceFrame.width*o[2]-.5*a[2],h[3]=t.sourceFrame.height*o[3]-.5*a[3],t.legacy){var l=i.filterArea;l[0]=t.destinationFrame.width,l[1]=t.destinationFrame.height,l[2]=t.sourceFrame.x,l[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var f=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,t.renderTexture,f.renderTexture,vr.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var d=t.renderTexture,v=this.getOptimalFilterTexture(d.width,d.height,t.resolution);v.filterFrame=d.filterFrame;var p=0;for(p=0;p<n.length-1;++p){p===1&&t.multisample>1&&(v=this.getOptimalFilterTexture(d.width,d.height,t.resolution),v.filterFrame=d.filterFrame),n[p].apply(this,d,v,vr.CLEAR,t);var g=d;d=v,v=g}n[p].apply(this,d,f.renderTexture,vr.BLEND,t),p>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(v)}t.clear(),this.statePool.push(t)},r.prototype.bindAndClear=function(e,t){t===void 0&&(t=vr.CLEAR);var n=this.renderer,i=n.renderTexture,o=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,i.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var h=o.stateId&1||this.forceClear;(t===vr.CLEAR||t===vr.BLIT&&h)&&this.renderer.framebuffer.clear(0,0,0,0)},r.prototype.applyFilter=function(e,t,n,i){var o=this.renderer;o.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(_r.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(_r.TRIANGLE_STRIP))},r.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,i=n.sourceFrame,o=n.destinationFrame,a=t._texture.orig,h=e.set(o.width,0,0,o.height,i.x,i.y),l=t.worldTransform.copyTo(Te.TEMP_MATRIX);return l.invert(),h.prepend(l),h.scale(1/a.width,1/a.height),h.translate(t.anchor.x,t.anchor.y),h},r.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},r.prototype.getOptimalFilterTexture=function(e,t,n,i){return n===void 0&&(n=1),i===void 0&&(i=ee.NONE),this.texturePool.getOptimalTexture(e,t,n,i)},r.prototype.getFilterTexture=function(e,t,n){if(typeof e=="number"){var i=e;e=t,t=i}e=e||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||ee.NONE);return o.filterFrame=e.filterFrame,o},r.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},r.prototype.emptyPool=function(){this.texturePool.clear(!0)},r.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},r.prototype.transformAABB=function(e,t){var n=Vs[0],i=Vs[1],o=Vs[2],a=Vs[3];n.set(t.left,t.top),i.set(t.left,t.bottom),o.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(n,n),e.apply(i,i),e.apply(o,o),e.apply(a,a);var h=Math.min(n.x,i.x,o.x,a.x),l=Math.min(n.y,i.y,o.y,a.y),f=Math.max(n.x,i.x,o.x,a.x),d=Math.max(n.y,i.y,o.y,a.y);t.x=h,t.y=l,t.width=f-h,t.height=d-l},r.prototype.roundFrame=function(e,t,n,i,o){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(o){var a=o.a,h=o.b,l=o.c,f=o.d;if((Math.abs(h)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(f)>1e-4))return}o=o?lh.copyFrom(o):lh.identity(),o.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,e),e.ceil(t),this.transformAABB(o.invert(),e)}},r}(),Yo=function(){function r(e){this.renderer=e}return r.prototype.flush=function(){},r.prototype.destroy=function(){this.renderer=null},r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.render=function(e){},r}(),$l=function(){function r(e){this.renderer=e,this.emptyRenderer=new Yo(e),this.currentRenderer=this.emptyRenderer}return r.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},r.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,i=t-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},r.prototype.boundArray=function(e,t,n,i){for(var o=e.elements,a=e.ids,h=e.count,l=0,f=0;f<h;f++){var d=o[f],v=d._batchLocation;if(v>=0&&v<i&&t[v]===d){a[f]=v;continue}for(;l<i;){var p=t[l];if(p&&p._batchEnabled===n&&p._batchLocation===l){l++;continue}a[f]=l,d._batchLocation=l,t[l]=d;break}}},r.prototype.destroy=function(){this.renderer=null},r}(),Cp=0,tf=function(){function r(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(r.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),r.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Cp++},r.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Cp++,this.renderer.runners.contextChange.emit(e)},r.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},r.prototype.createContext=function(e,t){var n;if(tt.PREFER_ENV>=Wr.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},r.prototype.getExtensions=function(){var e=this.gl,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},r.prototype.handleContextLost=function(e){var t=this;e.preventDefault(),setTimeout(function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()},0)},r.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},r.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},r.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},r.prototype.validateContext=function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},r}(),n_=function(){function r(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ee.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return r}(),CA=new Dt,ef=function(){function r(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new va(10,10),this.msaaSamples=null}return r.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Dt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;tt.PREFER_ENV===Wr.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(i){return t.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},r.prototype.bind=function(e,t,n){n===void 0&&(n=0);var i=this.gl;if(e){var o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=n),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var a=0;a<e.colorTextures.length;a++){var h=e.colorTextures[a];this.renderer.texture.unbind(h.parentTextureArray||h)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var l=t.width>>n,f=t.height>>n,d=l/t.width;this.setViewport(t.x*d,t.y*d,l,f)}else{var l=e.width>>n,f=e.height>>n;this.setViewport(0,0,l,f)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},r.prototype.setViewport=function(e,t,n,i){var o=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==e||o.y!==t)&&(o.x=e,o.y=t,o.width=n,o.height=i,this.gl.viewport(e,t,n,i))},Object.defineProperty(r.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),r.prototype.clear=function(e,t,n,i,o){o===void 0&&(o=Po.COLOR|Po.DEPTH);var a=this.gl;a.clearColor(e,t,n,i),a.clear(o)},r.prototype.initFramebuffer=function(e){var t=this.gl,n=new n_(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},r.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height)),n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,o=i.length;t.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var h=i[a],l=h.parentTextureArray||h;this.renderer.texture.bind(l,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},r.prototype.updateFramebuffer=function(e,t){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var h=[],l=0;l<a;l++){var f=o[l],d=f.parentTextureArray||f;this.renderer.texture.bind(d,0),!(l===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,f.target,d._glTextures[this.CONTEXT_UID].texture,t),h.push(n.COLOR_ATTACHMENT0+l))}if(h.length>1&&n.drawBuffers(h),e.depthTexture){var v=this.writeDepthTexture;if(v){var p=e.depthTexture;this.renderer.texture.bind(p,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,t)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},r.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},r.prototype.detectSamples=function(e){var t=this.msaaSamples,n=ee.NONE;if(e<=1||t===null)return n;for(var i=0;i<t.length;i++)if(t[i]<=e){n=t[i];break}return n===1&&(n=ee.NONE),n},r.prototype.blit=function(e,t,n){var i=this,o=i.current,a=i.renderer,h=i.gl,l=i.CONTEXT_UID;if(a.context.webGLVersion===2&&o){var f=o.glFramebuffers[l];if(f){if(!e){if(!f.msaaBuffer)return;var d=o.colorTextures[0];if(!d)return;f.blitFramebuffer||(f.blitFramebuffer=new va(o.width,o.height),f.blitFramebuffer.addColorTexture(0,d)),e=f.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==o.width||e.height!==o.height)&&(e.width=o.width,e.height=o.height,e.dirtyId++,e.dirtySize++)}t||(t=CA,t.width=o.width,t.height=o.height),n||(n=t);var v=t.width===n.width&&t.height===n.height;this.bind(e),h.bindFramebuffer(h.READ_FRAMEBUFFER,f.framebuffer),h.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,h.COLOR_BUFFER_BIT,v?h.NEAREST:h.LINEAR)}}},r.prototype.disposeFramebuffer=function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},r.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},r.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(!(!t||t.stencil)){e.stencil=!0;var n=e.width,i=e.height,o=this.gl,a=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),t.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,t.multisample,o.DEPTH24_STENCIL8,n,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,i),t.stencil=a,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,a)}}},r.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Dt},r.prototype.destroy=function(){this.renderer=null},r}(),fh={5126:4,5123:2,5121:1},rf=function(){function r(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return r.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;tt.PREFER_ENV===Wr.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},e.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(t.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(o,a){return i.vertexAttribDivisorANGLE(o,a)},e.drawElementsInstanced=function(o,a,h,l,f){return i.drawElementsInstancedANGLE(o,a,h,l,f)},e.drawArraysInstanced=function(o,a,h,l){return i.drawArraysInstancedANGLE(o,a,h,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex},r.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var a=i[t.program.id]||this.initGeometryVao(e,t,o);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()},r.prototype.reset=function(){this.unbind()},r.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];t.update(i)}},r.prototype.checkCompatibility=function(e,t){var n=e.attributes,i=t.attributeData;for(var o in i)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},r.prototype.getSignature=function(e,t){var n=e.attributes,i=t.attributeData,o=["g",e.id];for(var a in n)i[a]&&o.push(a,i[a].location);return o.join("-")},r.prototype.initGeometryVao=function(e,t,n){n===void 0&&(n=!0);var i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,h=t.program;h.glPrograms[o]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,h);var l=this.getSignature(e,h),f=e.glVertexArrayObjects[this.CONTEXT_UID],d=f[l];if(d)return f[h.id]=d,d;var v=e.buffers,p=e.attributes,g={},m={};for(var x in v)g[x]=0,m[x]=0;for(var x in p)!p[x].size&&h.attributeData[x]?p[x].size=h.attributeData[x].size:p[x].size||console.warn("PIXI Geometry attribute '"+x+"' size cannot be determined (likely the bound shader does not have the attribute)"),g[p[x].buffer]+=p[x].size*fh[p[x].type];for(var x in p){var y=p[x],E=y.size;y.stride===void 0&&(g[y.buffer]===E*fh[y.type]?y.stride=0:y.stride=g[y.buffer]),y.start===void 0&&(y.start=m[y.buffer],m[y.buffer]+=E*fh[y.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var C=0;C<v.length;C++){var S=v[C];a.bind(S),n&&S._glBuffers[o].refCount++}return this.activateVao(e,h),this._activeVao=d,f[h.id]=d,f[l]=d,d},r.prototype.disposeGeometry=function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=e.buffers,h=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(h)for(var l=0;l<a.length;l++){var f=a[l]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!t&&h.dispose(a[l],t))}if(!t){for(var d in i)if(d[0]==="g"){var v=i[d];this._activeVao===v&&this.unbind(),o.deleteVertexArray(v)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},r.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)},r.prototype.activateVao=function(e,t){var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=e.buffers,h=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);var l=null;for(var f in h){var d=h[f],v=a[d.buffer],p=v._glBuffers[i];if(t.attributeData[f]){l!==p&&(o.bind(v),l=p);var g=t.attributeData[f].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},r.prototype.draw=function(e,t,n,i){var o=this.gl,a=this._activeGeometry;if(a.indexBuffer){var h=a.indexBuffer.data.BYTES_PER_ELEMENT,l=h===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;h===2||h===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(e,t||a.indexBuffer.data.length,l,(n||0)*h,i||1):o.drawElements(e,t||a.indexBuffer.data.length,l,(n||0)*h):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(e,n,t||a.getSize(),i||1):o.drawArrays(e,n,t||a.getSize());return this},r.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},r.prototype.destroy=function(){this.renderer=null},r}(),i_=function(){function r(e){e===void 0&&(e=null),this.type=be.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=tt.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(r.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),r.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=be.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},r.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},r}();function Ip(r,e,t){var n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}function Op(r,e){var t=r.getShaderSource(e).split(`
`).map(function(f,d){return d+": "+f}),n=r.getShaderInfoLog(e),i=n.split(`
`),o={},a=i.map(function(f){return parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(f){return f&&!o[f]?(o[f]=!0,!0):!1}),h=[""];a.forEach(function(f){t[f-1]="%c"+t[f-1]+"%c",h.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=t.join(`
`);h[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,h),console.groupEnd()}function IA(r,e,t,n){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(t,r.COMPILE_STATUS)||Op(r,t),r.getShaderParameter(n,r.COMPILE_STATUS)||Op(r,n),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}function ch(r){for(var e=new Array(r),t=0;t<e.length;t++)e[t]=!1;return e}function o_(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ch(2*e);case"bvec3":return ch(3*e);case"bvec4":return ch(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var s_={},co=s_;function a_(){if(co===s_||co&&co.isContextLost()){var r=tt.ADAPTER.createCanvas(),e=void 0;tt.PREFER_ENV>=Wr.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),co=e}return co}var Ys;function OA(){if(!Ys){Ys=qe.MEDIUM;var r=a_();if(r&&r.getShaderPrecisionFormat){var e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);Ys=e.precision?qe.HIGH:qe.MEDIUM}}return Ys}function Mp(r,e,t){if(r.substring(0,9)!=="precision"){var n=e;return e===qe.HIGH&&t!==qe.HIGH&&(n=qe.MEDIUM),"precision "+n+` float;
`+r}else if(t!==qe.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}var MA={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function u_(r){return MA[r]}var js=null,Dp={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function h_(r,e){if(!js){var t=Object.keys(Dp);js={};for(var n=0;n<t.length;++n){var i=t[n];js[r[i]]=Dp[i]}}return js[e]}var ni=[{test:function(r){return r.type==="float"&&r.size===1&&!r.isArray},code:function(r){return`
            if(uv["`+r+'"] !== ud["'+r+`"].value)
            {
                ud["`+r+'"].value = uv["'+r+`"]
                gl.uniform1f(ud["`+r+'"].location, uv["'+r+`"])
            }
            `}},{test:function(r,e){return(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(r){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+r+`"], t);

            if(ud["`+r+`"].value !== t)
            {
                ud["`+r+`"].value = t;
                gl.uniform1i(ud["`+r+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(r,e){return r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0},code:function(r){return`
            gl.uniformMatrix3fv(ud["`+r+'"].location, false, uv["'+r+`"].toArray(true));
            `},codeUbo:function(r){return`
                var `+r+"_matrix = uv."+r+`.toArray(true);

                data[offset] = `+r+`_matrix[0];
                data[offset+1] = `+r+`_matrix[1];
                data[offset+2] = `+r+`_matrix[2];
        
                data[offset + 4] = `+r+`_matrix[3];
                data[offset + 5] = `+r+`_matrix[4];
                data[offset + 6] = `+r+`_matrix[5];
        
                data[offset + 8] = `+r+`_matrix[6];
                data[offset + 9] = `+r+`_matrix[7];
                data[offset + 10] = `+r+`_matrix[8];
            `}},{test:function(r,e){return r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+r+`"].location, v.x, v.y);
                }`},codeUbo:function(r){return`
                v = uv.`+r+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(r){return r.type==="vec2"&&r.size===1&&!r.isArray},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+r+`"].location, v[0], v[1]);
                }
            `}},{test:function(r,e){return r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+r+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(r){return`
                    v = uv.`+r+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(r){return r.type==="vec4"&&r.size===1&&!r.isArray},code:function(r){return`
                cv = ud["`+r+`"].value;
                v = uv["`+r+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+r+`"].location, v[0], v[1], v[2], v[3])
                }`}}],DA={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},FA={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function LA(r,e){var t,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in r.uniforms){var o=e[i];if(!o){!((t=r.uniforms[i])===null||t===void 0)&&t.group&&(r.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=r.uniforms[i],h=!1,l=0;l<ni.length;l++)if(ni[l].test(o,a)){n.push(ni[l].code(i,a)),h=!0;break}if(!h){var f=o.size===1&&!o.isArray?DA:FA,d=f[o.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var BA=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function NA(r){for(var e="",t=0;t<r;++t)t>0&&(e+=`
else `),t<r-1&&(e+="if(test == "+t+".0){}");return e}function l_(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var t=e.createShader(e.FRAGMENT_SHADER);;){var n=BA.replace(/%forloop%/gi,NA(r));if(e.shaderSource(t,n),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))r=r/2|0;else break}return r}var po;function UA(){if(typeof po=="boolean")return po;try{var r=new Function("param1","param2","param3","return param1[param2] === param3;");po=r({a:"b"},"a","b")===!0}catch{po=!1}return po}var GA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,kA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,HA=0,qs={},Yi=function(){function r(e,t,n){n===void 0&&(n="pixi-shader"),this.id=HA++,this.vertexSrc=e||r.defaultVertexSrc,this.fragmentSrc=t||r.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),qs[n]?(qs[n]++,n+="-"+qs[n]):qs[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Mp(this.vertexSrc,tt.PRECISION_VERTEX,qe.HIGH),this.fragmentSrc=Mp(this.fragmentSrc,tt.PRECISION_FRAGMENT,OA())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(r,"defaultVertexSrc",{get:function(){return kA},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return GA},enumerable:!1,configurable:!0}),r.from=function(e,t,n){var i=e+t,o=qh[i];return o||(qh[i]=o=new r(e,t,n)),o},r}(),dn=function(){function r(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Cn?this.uniformGroup=t:this.uniformGroup=new Cn(t):this.uniformGroup=new Cn({}),this.disposeRunner=new Re("disposeShader")}return r.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var i=t.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},r.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(r.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),r.from=function(e,t,n){var i=Yi.from(e,t);return new r(i,n)},r}(),dh=0,ph=1,vh=2,_h=3,gh=4,mh=5,Fn=function(){function r(){this.data=0,this.blendMode=dt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(r.prototype,"blend",{get:function(){return!!(this.data&1<<dh)},set:function(e){!!(this.data&1<<dh)!==e&&(this.data^=1<<dh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsets",{get:function(){return!!(this.data&1<<ph)},set:function(e){!!(this.data&1<<ph)!==e&&(this.data^=1<<ph)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"culling",{get:function(){return!!(this.data&1<<vh)},set:function(e){!!(this.data&1<<vh)!==e&&(this.data^=1<<vh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depthTest",{get:function(){return!!(this.data&1<<_h)},set:function(e){!!(this.data&1<<_h)!==e&&(this.data^=1<<_h)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"depthMask",{get:function(){return!!(this.data&1<<mh)},set:function(e){!!(this.data&1<<mh)!==e&&(this.data^=1<<mh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<gh)},set:function(e){!!(this.data&1<<gh)!==e&&(this.data^=1<<gh)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==dt.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},r.for2d=function(){var e=new r;return e.depthTest=!1,e.blend=!0,e},r}(),XA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,WA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Zr=function(r){se(e,r);function e(t,n,i){var o=this,a=Yi.from(t||e.defaultVertexSrc,n||e.defaultFragmentSrc);return o=r.call(this,a,i)||this,o.padding=0,o.resolution=tt.FILTER_RESOLUTION,o.multisample=tt.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new Fn,o}return e.prototype.apply=function(t,n,i,o,a){t.applyFilter(this,n,i,o)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return WA},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return XA},enumerable:!1,configurable:!0}),e}(dn),zA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,VA=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Fp=new Te,Oa=function(){function r(e,t){this._texture=e,this.mapCoord=new Te,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}return Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),r.prototype.multiplyUvs=function(e,t){t===void 0&&(t=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var o=e[i],a=e[i+1];t[i]=o*n.a+a*n.c+n.tx,t[i+1]=o*n.b+a*n.d+n.ty}return t},r.prototype.update=function(e){var t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=t.orig,o=t.trim;o&&(Fp.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Fp));var a=t.baseTexture,h=this.uClampFrame,l=this.clampMargin/a.resolution,f=this.clampOffset;return h[0]=(t._frame.x+l+f)/a.width,h[1]=(t._frame.y+l+f)/a.height,h[2]=(t._frame.x+t._frame.width-l+f)/a.width,h[3]=(t._frame.y+t._frame.height-l+f)/a.height,this.uClampOffset[0]=f/a.realWidth,this.uClampOffset[1]=f/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&t.rotate===0,!0},r}(),f_=function(r){se(e,r);function e(t,n,i){var o=this,a=null;return typeof t!="string"&&n===void 0&&i===void 0&&(a=t,t=void 0,n=void 0,i=void 0),o=r.call(this,t||zA,n||VA,i)||this,o.maskSprite=a,o.maskMatrix=new Te,o}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,n,i,o){var a=this._maskSprite,h=a._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new Oa(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,a).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,t.applyFilter(this,n,i,o))},e}(Zr),nf=function(){function r(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return r.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},r.prototype.push=function(e,t){var n=t;if(!n.isMaskData){var i=this.maskDataPool.pop()||new i_;i.pooled=!0,i.maskObject=t,n=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n._colorMask=o?o._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==be.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case be.SCISSOR:this.renderer.scissor.push(n);break;case be.STENCIL:this.renderer.stencil.push(n);break;case be.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case be.COLOR:this.pushColorMask(n);break}n.type===be.SPRITE&&this.maskStack.push(n)},r.prototype.pop=function(e){var t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case be.SCISSOR:this.renderer.scissor.pop(t);break;case be.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case be.SPRITE:this.popSpriteMask(t);break;case be.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===be.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},r.prototype.detect=function(e){var t=e.maskObject;t?t.isSprite?e.type=be.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=be.SCISSOR:e.type=be.STENCIL:e.type=be.COLOR},r.prototype.pushSpriteMask=function(e){var t,n,i=e.maskObject,o=e._target,a=e._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new f_]));var h=this.renderer,l=h.renderTexture,f,d;if(l.current){var v=l.current;f=e.resolution||v.resolution,d=(t=e.multisample)!==null&&t!==void 0?t:v.multisample}else f=e.resolution||h.resolution,d=(n=e.multisample)!==null&&n!==void 0?n:h.multisample;a[0].resolution=f,a[0].multisample=d,a[0].maskSprite=i;var p=o.filterArea;o.filterArea=i.getBounds(!0),h.filter.push(o,a),o.filterArea=p,e._filters||this.alphaMaskIndex++},r.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},r.prototype.pushColorMask=function(e){var t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},r.prototype.popColorMask=function(e){var t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},r.prototype.destroy=function(){this.renderer=null},r}(),c_=function(){function r(e){this.renderer=e,this.maskStack=[],this.glConst=0}return r.prototype.getStackLength=function(){return this.maskStack.length},r.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},r.prototype._useCurrent=function(){},r.prototype.destroy=function(){this.renderer=null,this.maskStack=null},r}(),Lp=new Te,Bp=[],of=function(r){se(e,r);function e(t){var n=r.call(this,t)||this;return n.glConst=tt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.calcScissorRect=function(t){var n;if(!t._scissorRectLocal){var i=t._scissorRect,o=t.maskObject,a=this.renderer,h=a.renderTexture,l=o.getBounds(!0,(n=Bp.pop())!==null&&n!==void 0?n:new Dt);this.roundFrameToPixels(l,h.current?h.current.resolution:a.resolution,h.sourceFrame,h.destinationFrame,a.projection.transform),i&&l.fit(i),t._scissorRectLocal=l}},e.isMatrixRotated=function(t){if(!t)return!1;var n=t.a,i=t.b,o=t.c,a=t.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(a)>1e-4)},e.prototype.testScissor=function(t){var n=t.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);var i=t._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(t,n,i,o,a){e.isMatrixRotated(a)||(a=a?Lp.copyFrom(a):Lp.identity(),a.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,t),t.fit(o),t.x=Math.round(t.x*n),t.y=Math.round(t.y*n),t.width=Math.round(t.width*n),t.height=Math.round(t.height*n))},e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var n=this.renderer.gl;t._scissorRect||n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(t){var n=this.renderer.gl;t&&Bp.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=t.y:n=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,n,t.width,t.height)},e}(c_),sf=function(r){se(e,r);function e(t){var n=r.call(this,t)||this;return n.glConst=tt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var n=t.maskObject,i=this.renderer.gl,o=t._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),t._stencilCounter++;var a=t._colorMask;a!==0&&(t._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,a!==0&&(t._colorMask=a,i.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()},e.prototype.pop=function(t){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,o=i?i._colorMask:15;o!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,o!==0&&(i._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e}(c_),af=function(){function r(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Te,this.transform=null}return r.prototype.update=function(e,t,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},r.prototype.calculateProjection=function(e,t,n,i){var o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/t.width*2,o.d=a*(1/t.height*2),o.tx=-1-t.x*o.a,o.ty=-a-t.y*o.d},r.prototype.setTransform=function(e){},r.prototype.destroy=function(){this.renderer=null},r}(),Vn=new Dt,vo=new Dt,uf=function(){function r(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Dt,this.destinationFrame=new Dt,this.viewportFrame=new Dt}return r.prototype.bind=function(e,t,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var o,a,h;e?(o=e.baseTexture,h=o.resolution,t||(Vn.width=e.frame.width,Vn.height=e.frame.height,t=Vn),n||(vo.x=e.frame.x,vo.y=e.frame.y,vo.width=t.width,vo.height=t.height,n=vo),a=o.framebuffer):(h=i.resolution,t||(Vn.width=i.screen.width,Vn.height=i.screen.height,t=Vn),n||(n=Vn,n.width=t.width,n.height=t.height));var l=this.viewportFrame;l.x=n.x*h,l.y=n.y*h,l.width=n.width*h,l.height=n.height*h,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(a,l),this.renderer.projection.update(n,t,h,!a),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},r.prototype.clear=function(e,t){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==i.width||n.height!==i.height;if(o){var a=this.viewportFrame,h=a.x,l=a.y,f=a.width,d=a.height;h=Math.round(h),l=Math.round(l),f=Math.round(f),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,l,f,d)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),o&&this.renderer.scissor.pop()},r.prototype.resize=function(){this.bind(null)},r.prototype.reset=function(){this.bind(null)},r.prototype.destroy=function(){this.renderer=null},r}();function YA(r,e,t,n,i){t.buffer.update(i)}var jA={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},d_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function p_(r){for(var e=r.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),t=0,n=0,i=0,o=0;o<e.length;o++){var a=e[o];if(t=d_[a.data.type],a.data.size>1&&(t=Math.max(t,16)*a.data.size),a.dataLen=t,n%t!==0&&n<16){var h=n%t%16;n+=h,i+=h}n+t>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=t,n=t):(a.offset=i,n+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function v_(r,e){var t=[];for(var n in r)e[n]&&t.push(e[n]);return t.sort(function(i,o){return i.index-o.index}),t}function __(r,e){if(!r.autoManage)return{size:0,syncFunc:YA};for(var t=v_(r.uniforms,e),n=p_(t),i=n.uboElements,o=n.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],h=0;h<i.length;h++){for(var l=i[h],f=r.uniforms[l.data.name],d=l.data.name,v=!1,p=0;p<ni.length;p++){var g=ni[p];if(g.codeUbo&&g.test(l.data,f)){a.push("offset = "+l.offset/4+";",ni[p].codeUbo(l.data.name,f)),v=!0;break}}if(!v)if(l.data.size>1){var m=u_(l.data.type),x=Math.max(d_[l.data.type]/16,1),y=m/x,E=(4-y%4)%4;a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;

                t = 0;

                for(var i=0; i < `+l.data.size*x+`; i++)
                {
                    for(var j = 0; j < `+y+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+E+`;
                }

                `)}else{var C=jA[l.data.type];a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+l.offset/4+`;
                `+C+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var qA=function(){function r(){}return r}(),g_=function(){function r(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return r.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},r}();function KA(r,e){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=e.getActiveAttrib(r,i);if(o.name.indexOf("gl_")!==0){var a=h_(e,o.type),h={type:a,name:o.name,size:u_(a),location:e.getAttribLocation(r,o.name)};t[o.name]=h}}return t}function ZA(r,e){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=e.getActiveUniform(r,i),a=o.name.replace(/\[.*?\]$/,""),h=!!o.name.match(/\[.*?\]$/),l=h_(e,o.type);t[a]={name:a,index:i,type:l,size:o.size,isArray:h,value:o_(l,o.size)}}return t}function m_(r,e){var t=Ip(r,r.VERTEX_SHADER,e.vertexSrc),n=Ip(r,r.FRAGMENT_SHADER,e.fragmentSrc),i=r.createProgram();if(r.attachShader(i,t),r.attachShader(i,n),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)||IA(r,i,t,n),e.attributeData=KA(i,r),e.uniformData=ZA(i,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var o=Object.keys(e.attributeData);o.sort(function(d,v){return d>v?1:-1});for(var a=0;a<o.length;a++)e.attributeData[o[a]].location=a,r.bindAttribLocation(i,a,o[a]);r.linkProgram(i)}r.deleteShader(t),r.deleteShader(n);var h={};for(var a in e.uniformData){var l=e.uniformData[a];h[a]={location:r.getUniformLocation(i,a),value:o_(l.type,l.size)}}var f=new g_(i,h);return f}var JA=0,Ks={textureCount:0,uboCount:0},hf=function(){function r(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=JA++}return r.prototype.systemCheck=function(){if(!UA())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},r.prototype.contextChange=function(e){this.gl=e,this.reset()},r.prototype.bind=function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),t||(Ks.textureCount=0,Ks.uboCount=0,this.syncUniformGroup(e.uniformGroup,Ks)),i},r.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},r.prototype.syncUniformGroup=function(e,t){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},r.prototype.syncUniforms=function(e,t,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(t.uniformData,e.uniforms,this.renderer,n)},r.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=LA(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},r.prototype.syncUniformBufferGroup=function(e,t){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Ks,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])},r.prototype.createSyncBufferGroup=function(e,t,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var o=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(e,this.shader.program.uniformData,"ubo"),h=this._uboCache[a];if(h||(h=this._uboCache[a]=__(e,this.shader.program.uniformData)),e.autoManage){var l=new Float32Array(h.size/4);e.buffer.update(l)}return t.uniformGroups[e.id]=h.syncFunc,t.uniformGroups[e.id]},r.prototype.getSignature=function(e,t,n){var i=e.uniforms,o=[n+"-"];for(var a in i)o.push(a),t[a]&&o.push(t[a].type);return o.join("-")},r.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},r.prototype.generateProgram=function(e){var t=this.gl,n=e.program,i=m_(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},r.prototype.reset=function(){this.program=null,this.shader=null},r.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},r.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},r}();function QA(r,e){return e===void 0&&(e=[]),e[dt.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.ADD]=[r.ONE,r.ONE],e[dt.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.NONE]=[0,0],e[dt.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[dt.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[dt.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[dt.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[dt.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[dt.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[dt.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[dt.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[dt.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[dt.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[dt.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}var $A=0,tP=1,eP=2,rP=3,nP=4,iP=5,lf=function(){function r(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=dt.NONE,this._blendEq=!1,this.map=[],this.map[$A]=this.setBlend,this.map[tP]=this.setOffset,this.map[eP]=this.setCullFace,this.map[rP]=this.setDepthTest,this.map[nP]=this.setFrontFace,this.map[iP]=this.setDepthMask,this.checks=[],this.defaultState=new Fn,this.defaultState.blend=!0}return r.prototype.contextChange=function(e){this.gl=e,this.blendModes=QA(e),this.set(this.defaultState),this.reset()},r.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)t&1&&this.map[n].call(this,!!(e.data&1<<n)),t=t>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},r.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},r.prototype.setBlend=function(e){this.updateCheck(r.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(e){this.updateCheck(r.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setDepthMask=function(e){this.gl.depthMask(e)},r.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},r.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;t.length===2?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},r.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&n===-1?this.checks.push(e):!t&&n!==-1&&this.checks.splice(n,1)},r.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},r.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},r.prototype.destroy=function(){this.gl=null},r}(),ff=function(){function r(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=tt.GC_MAX_IDLE,this.checkCountMax=tt.GC_MAX_CHECK_COUNT,this.mode=tt.GC_MODE}return r.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Co.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},r.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,i=0;i<t.length;i++){var o=t[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),t[i]=null,n=!0)}if(n){for(var a=0,i=0;i<t.length;i++)t[i]!==null&&(t[a++]=t[i]);t.length=a}},r.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},r.prototype.destroy=function(){this.renderer=null},r}();function oP(r){var e,t,n,i,o,a,h,l,f,d,v,p,g,m,x,y,E,C,S,O,P,D,A;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?A=(e={},e[pt.UNSIGNED_BYTE]=(t={},t[Z.RGBA]=r.RGBA8,t[Z.RGB]=r.RGB8,t[Z.RG]=r.RG8,t[Z.RED]=r.R8,t[Z.RGBA_INTEGER]=r.RGBA8UI,t[Z.RGB_INTEGER]=r.RGB8UI,t[Z.RG_INTEGER]=r.RG8UI,t[Z.RED_INTEGER]=r.R8UI,t[Z.ALPHA]=r.ALPHA,t[Z.LUMINANCE]=r.LUMINANCE,t[Z.LUMINANCE_ALPHA]=r.LUMINANCE_ALPHA,t),e[pt.BYTE]=(n={},n[Z.RGBA]=r.RGBA8_SNORM,n[Z.RGB]=r.RGB8_SNORM,n[Z.RG]=r.RG8_SNORM,n[Z.RED]=r.R8_SNORM,n[Z.RGBA_INTEGER]=r.RGBA8I,n[Z.RGB_INTEGER]=r.RGB8I,n[Z.RG_INTEGER]=r.RG8I,n[Z.RED_INTEGER]=r.R8I,n),e[pt.UNSIGNED_SHORT]=(i={},i[Z.RGBA_INTEGER]=r.RGBA16UI,i[Z.RGB_INTEGER]=r.RGB16UI,i[Z.RG_INTEGER]=r.RG16UI,i[Z.RED_INTEGER]=r.R16UI,i[Z.DEPTH_COMPONENT]=r.DEPTH_COMPONENT16,i),e[pt.SHORT]=(o={},o[Z.RGBA_INTEGER]=r.RGBA16I,o[Z.RGB_INTEGER]=r.RGB16I,o[Z.RG_INTEGER]=r.RG16I,o[Z.RED_INTEGER]=r.R16I,o),e[pt.UNSIGNED_INT]=(a={},a[Z.RGBA_INTEGER]=r.RGBA32UI,a[Z.RGB_INTEGER]=r.RGB32UI,a[Z.RG_INTEGER]=r.RG32UI,a[Z.RED_INTEGER]=r.R32UI,a[Z.DEPTH_COMPONENT]=r.DEPTH_COMPONENT24,a),e[pt.INT]=(h={},h[Z.RGBA_INTEGER]=r.RGBA32I,h[Z.RGB_INTEGER]=r.RGB32I,h[Z.RG_INTEGER]=r.RG32I,h[Z.RED_INTEGER]=r.R32I,h),e[pt.FLOAT]=(l={},l[Z.RGBA]=r.RGBA32F,l[Z.RGB]=r.RGB32F,l[Z.RG]=r.RG32F,l[Z.RED]=r.R32F,l[Z.DEPTH_COMPONENT]=r.DEPTH_COMPONENT32F,l),e[pt.HALF_FLOAT]=(f={},f[Z.RGBA]=r.RGBA16F,f[Z.RGB]=r.RGB16F,f[Z.RG]=r.RG16F,f[Z.RED]=r.R16F,f),e[pt.UNSIGNED_SHORT_5_6_5]=(d={},d[Z.RGB]=r.RGB565,d),e[pt.UNSIGNED_SHORT_4_4_4_4]=(v={},v[Z.RGBA]=r.RGBA4,v),e[pt.UNSIGNED_SHORT_5_5_5_1]=(p={},p[Z.RGBA]=r.RGB5_A1,p),e[pt.UNSIGNED_INT_2_10_10_10_REV]=(g={},g[Z.RGBA]=r.RGB10_A2,g[Z.RGBA_INTEGER]=r.RGB10_A2UI,g),e[pt.UNSIGNED_INT_10F_11F_11F_REV]=(m={},m[Z.RGB]=r.R11F_G11F_B10F,m),e[pt.UNSIGNED_INT_5_9_9_9_REV]=(x={},x[Z.RGB]=r.RGB9_E5,x),e[pt.UNSIGNED_INT_24_8]=(y={},y[Z.DEPTH_STENCIL]=r.DEPTH24_STENCIL8,y),e[pt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(E={},E[Z.DEPTH_STENCIL]=r.DEPTH32F_STENCIL8,E),e):A=(C={},C[pt.UNSIGNED_BYTE]=(S={},S[Z.RGBA]=r.RGBA,S[Z.RGB]=r.RGB,S[Z.ALPHA]=r.ALPHA,S[Z.LUMINANCE]=r.LUMINANCE,S[Z.LUMINANCE_ALPHA]=r.LUMINANCE_ALPHA,S),C[pt.UNSIGNED_SHORT_5_6_5]=(O={},O[Z.RGB]=r.RGB,O),C[pt.UNSIGNED_SHORT_4_4_4_4]=(P={},P[Z.RGBA]=r.RGBA,P),C[pt.UNSIGNED_SHORT_5_5_5_1]=(D={},D[Z.RGBA]=r.RGBA,D),C),A}var la=function(){function r(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=pt.UNSIGNED_BYTE,this.internalFormat=Z.RGBA,this.samplerType=0}return r}(),cf=function(){function r(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Mt,this.hasIntegerTextures=!1}return r.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=oP(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new la(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new la(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},r.prototype.bind=function(e,t){t===void 0&&(t=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null},r.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},r.prototype.unbind=function(e){var t=this,n=t.gl,i=t.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===e&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[o]=null)},r.prototype.ensureSamplerType=function(e){var t=this,n=t.boundTextures,i=t.hasIntegerTextures,o=t.CONTEXT_UID;if(i)for(var a=e-1;a>=0;--a){var h=n[a];if(h){var l=h._glTextures[o];l.samplerType!==Ro.FLOAT&&this.renderer.texture.unbind(h)}}},r.prototype.initTexture=function(e){var t=new la(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},r.prototype.initTextureType=function(e,t){var n,i;t.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===pt.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},r.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var n=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(n,e,t))t.samplerType!==Ro.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,o=e.realHeight,a=n.gl;(t.width!==i||t.height!==o||t.dirtyId<0)&&(t.width=i,t.height=o,a.texImage2D(e.target,0,t.internalFormat,i,o,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},r.prototype.destroyTexture=function(e,t){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var i=this.managedTextures.indexOf(e);i!==-1&&ri(this.managedTextures,i,1)}},r.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===or.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=Ir.CLAMP:t.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},r.prototype.setStyle=function(e,t){var n=this.gl;if(t.mipmap&&e.mipmap!==or.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===De.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===De.LINEAR){var o=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===De.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===De.LINEAR?n.LINEAR:n.NEAREST)},r.prototype.destroy=function(){this.renderer=null},r}(),y_={__proto__:null,FilterSystem:Ql,BatchSystem:$l,ContextSystem:tf,FramebufferSystem:ef,GeometrySystem:rf,MaskSystem:nf,ScissorSystem:of,StencilSystem:sf,ProjectionSystem:af,RenderTextureSystem:uf,ShaderSystem:hf,StateSystem:lf,TextureGCSystem:ff,TextureSystem:cf},yh=new Te,b_=function(r){se(e,r);function e(t,n){t===void 0&&(t=Bi.UNKNOWN);var i=r.call(this)||this;return n=Object.assign({},tt.RENDER_OPTIONS,n),i.options=n,i.type=t,i.screen=new Dt(0,0,n.width,n.height),i.view=n.view||tt.ADAPTER.createCanvas(),i.resolution=n.resolution||tt.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(ke("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(t){for(var n in t)this.plugins[n]=new t[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,n){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},e.prototype.generateTexture=function(t,n,i,o){n===void 0&&(n={}),typeof n=="number"&&(ke("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:o});var a=n.region,h=bA(n,["region"]);o=a||t.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var l=Mn.create($h({width:o.width,height:o.height},h));return yh.tx=-o.x,yh.ty=-o.y,this.render(t,{renderTexture:l,clear:!1,transform:yh,skipUpdateTransform:!!t.parent}),l},e.prototype.destroy=function(t){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Bi.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Bl(t),In(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(zi),sP=function(){function r(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return r}(),aP=function(){function r(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return r.prototype.destroy=function(){this.renderer=null},r.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},r.prototype.bind=function(e){var t=this,n=t.gl,i=t.CONTEXT_UID,o=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,o.buffer)},r.prototype.bindBufferBase=function(e,t){var n=this,i=n.gl,o=n.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var a=e._glBuffers[o]||this.createGLBuffer(e);this.boundBufferBases[t]=e,i.bindBufferBase(i.UNIFORM_BUFFER,t,a.buffer)}},r.prototype.bindBufferRange=function(e,t,n){var i=this,o=i.gl,a=i.CONTEXT_UID;n=n||0;var h=e._glBuffers[a]||this.createGLBuffer(e);o.bindBufferRange(o.UNIFORM_BUFFER,t||0,h.buffer,n*256,256)},r.prototype.update=function(e){var t=this,n=t.gl,i=t.CONTEXT_UID,o=e._glBuffers[i];if(e._updateID!==o.updateID)if(o.updateID=e._updateID,n.bindBuffer(e.type,o.buffer),o.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var a=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,a)}},r.prototype.dispose=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(t||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},r.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)},r.prototype.createGLBuffer=function(e){var t=this,n=t.CONTEXT_UID,i=t.gl;return e._glBuffers[n]=new sP(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},r}(),df=function(r){se(e,r);function e(t){var n=r.call(this,Bi.WEBGL,t)||this;return t=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Re("destroy"),contextChange:new Re("contextChange"),reset:new Re("reset"),update:new Re("update"),postrender:new Re("postrender"),prerender:new Re("prerender"),resize:new Re("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Cn({projectionMatrix:new Te},!0),n.addSystem(nf,"mask").addSystem(tf,"context").addSystem(lf,"state").addSystem(hf,"shader").addSystem(cf,"texture").addSystem(aP,"buffer").addSystem(rf,"geometry").addSystem(ef,"framebuffer").addSystem(of,"scissor").addSystem(sf,"stencil").addSystem(af,"projection").addSystem(ff,"textureGC").addSystem(Ql,"filter").addSystem(uf,"renderTexture").addSystem($l,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,t.context?n.context.initFromContext(t.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:t.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Uv(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(t){if(Gv())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var t=this.gl,n;if(this.context.webGLVersion===1){var i=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),n=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,i)}else{var i=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),n=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i)}n>=ee.HIGH?this.multisample=ee.HIGH:n>=ee.MEDIUM?this.multisample=ee.MEDIUM:n>=ee.LOW?this.multisample=ee.LOW:this.multisample=ee.NONE},e.prototype.addSystem=function(t,n){var i=new t(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},e.prototype.render=function(t,n){var i,o,a,h;if(n&&(n instanceof Mn?(ke("6.0.0","Renderer#render arguments changed, use options instead."),i=n,o=arguments[2],a=arguments[3],h=arguments[4]):(i=n.renderTexture,o=n.clear,a=n.transform,h=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=t),!h){var l=t.enableTempParent();t.updateTransform(),t.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(t,n,i,o){n===void 0&&(n={});var a=r.prototype.generateTexture.call(this,t,n,i,o);return this.framebuffer.blit(),a},e.prototype.resize=function(t,n){r.prototype.resize.call(this,t,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(t){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();r.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return ke("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,n){ke("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Kr.add({name:t,type:$t.RendererPlugin,ref:n})},e.__plugins={},e}(b_);Kr.handleByMap($t.RendererPlugin,df.__plugins);function pf(r){return df.create(r)}var uP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,hP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,x_=uP,vf=hP,lP=function(){function r(e){ke("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}return r.prototype.destroy=function(){this.renderer=null},r}(),_a=function(){function r(){this.texArray=null,this.blend=0,this.type=_r.TRIANGLES,this.start=0,this.size=0,this.data=null}return r}(),ga=function(){function r(){this.elements=[],this.ids=[],this.count=0}return r.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},r}(),ma=function(){function r(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(r.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),r.prototype.view=function(e){return this[e+"View"]},r.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},r.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},r}(),T_=function(r){se(e,r);function e(t){var n=r.call(this,t)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Fn.for2d(),n.size=tt.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),t.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var t=this.renderer.gl;tt.PREFER_ENV===Wr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),tt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=l_(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new _a);for(;n.length<o;)n.push(new ga);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this,n=t._bufferedTextures,i=t.MAX_TEXTURES,o=e._textureArrayPool,a=this.renderer.batch,h=this._tempBoundTextures,l=this.renderer.textureGC.count,f=++Mt._globalBatch,d=0,v=o[0],p=0;a.copyBoundTextures(h,i);for(var g=0;g<this._bufferSize;++g){var m=n[g];n[g]=null,m._batchEnabled!==f&&(v.count>=i&&(a.boundArray(v,h,f,i),this.buildDrawCalls(v,p,g),p=g,v=o[++d],++f),m._batchEnabled=f,m.touched=l,v.elements[v.count++]=m)}v.count>0&&(a.boundArray(v,h,f,i),this.buildDrawCalls(v,p,this._bufferSize),++d,++f);for(var g=0;g<h.length;g++)h[g]=null;Mt._globalBatch=f},e.prototype.buildDrawCalls=function(t,n,i){var o=this,a=o._bufferedElements,h=o._attributeBuffer,l=o._indexBuffer,f=o.vertexSize,d=e._drawCallPool,v=this._dcIndex,p=this._aIndex,g=this._iIndex,m=d[v];m.start=this._iIndex,m.texArray=t;for(var x=n;x<i;++x){var y=a[x],E=y._texture.baseTexture,C=Nl[E.alphaMode?1:0][y.blendMode];a[x]=null,n<x&&m.blend!==C&&(m.size=g-m.start,n=x,m=d[++v],m.texArray=t,m.start=g),this.packInterleavedGeometry(y,h,l,p,g),p+=y.vertexData.length/2*f,g+=y.indices.length,m.blend=C}n<i&&(m.size=g-m.start,++v),this._dcIndex=v,this._aIndex=p,this._iIndex=g},e.prototype.bindAndClearTexArray=function(t){for(var n=this.renderer.texture,i=0;i<t.count;i++)n.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,n=t._packedGeometries,i=t._attributeBuffer,o=t._indexBuffer;tt.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,a=e._drawCallPool,h=null,l=0;l<t;l++){var f=a[l],d=f.texArray,v=f.type,p=f.size,g=f.start,m=f.blend;h!==d&&(h=d,this.bindAndClearTexArray(d)),this.state.blendMode=m,o.set(this.state),i.drawElements(v,p,i.UNSIGNED_SHORT,g*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),tt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),r.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var n=Fo(Math.ceil(t/8)),i=jh(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new ma(o*this.vertexSize*4)),a},e.prototype.getIndexBuffer=function(t){var n=Fo(Math.ceil(t/12)),i=jh(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},e.prototype.packInterleavedGeometry=function(t,n,i,o,a){for(var h=n.uint32View,l=n.float32View,f=o/this.vertexSize,d=t.uvs,v=t.indices,p=t.vertexData,g=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),x=m<1&&t._texture.baseTexture.alphaMode?Aa(t._tintRGB,m):t._tintRGB+(m*255<<24),y=0;y<p.length;y+=2)l[o++]=p[y],l[o++]=p[y+1],l[o++]=d[y],l[o++]=d[y+1],h[o++]=x,l[o++]=g;for(var y=0;y<v.length;y++)i[a++]=f+v[y]},e._drawCallPool=[],e._textureArrayPool=[],e}(Yo),E_=function(){function r(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return r.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=Cn.from({uSamplers:t},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Yi(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Te,default:this.defaultGroupCache[e]};return new dn(this.programCache[e],o)},r.prototype.generateSampleSrc=function(e){var t="";t+=`
`,t+=`
`;for(var n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+="if(vTextureId < "+n+".5)"),t+=`
{`,t+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",t+=`
}`;return t+=`
`,t+=`
`,t},r}(),_f=function(r){se(e,r);function e(t){t===void 0&&(t=!1);var n=r.call(this)||this;return n._buffer=new xe(null,t,!1),n._indexBuffer=new xe(null,t,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,pt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,pt.FLOAT).addAttribute("aColor",n._buffer,4,!0,pt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,pt.FLOAT).addIndex(n._indexBuffer),n}return e}(Vi),Np=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Up=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,w_=function(){function r(){}return r.create=function(e){var t=Object.assign({vertex:Np,fragment:Up,geometryClass:_f,vertexSize:6},e),n=t.vertex,i=t.fragment,o=t.vertexSize,a=t.geometryClass;return function(h){se(l,h);function l(f){var d=h.call(this,f)||this;return d.shaderGenerator=new E_(n,i),d.geometryClass=a,d.vertexSize=o,d}return l}(T_)},Object.defineProperty(r,"defaultVertexSrc",{get:function(){return Np},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentTemplate",{get:function(){return Up},enumerable:!1,configurable:!0}),r}(),gf=w_.create();Object.assign(gf,{extension:{name:"batch",type:$t.RendererPlugin}});var S_={},fP=function(r){Object.defineProperty(S_,r,{get:function(){return ke("6.0.0","PIXI.systems."+r+" has moved to PIXI."+r),$v[r]}})};for(var mf in $v)fP(mf);var A_={},cP=function(r){Object.defineProperty(A_,r,{get:function(){return ke("6.0.0","PIXI.resources."+r+" has moved to PIXI."+r),y_[r]}})};for(var mf in y_)cP(mf);var dP="6.5.9";/*!
 * @pixi/accessibility - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var P_={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ge.mixin(P_);var pP=9,Zs=100,vP=0,_P=0,Gp=2,kp=1,gP=-1e3,mP=-1e3,yP=2,R_=function(){function r(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(gr.tablet||gr.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=Zs+"px",t.style.height=Zs+"px",t.style.position="absolute",t.style.top=vP+"px",t.style.left=_P+"px",t.style.zIndex=Gp.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(r.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),r.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=kp+"px",t.style.height=kp+"px",t.style.position="absolute",t.style.top=gP+"px",t.style.left=mP+"px",t.style.zIndex=yP.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},r.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},r.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},r.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},r.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},r.prototype.update=function(){var e=performance.now();if(!(gr.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.left,i=t.top,o=t.width,a=t.height,h=this.renderer,l=h.width,f=h.height,d=h.resolution,v=o/l*d,p=a/f*d,g=this.div;g.style.left=n+"px",g.style.top=i+"px",g.style.width=l+"px",g.style.height=f+"px";for(var m=0;m<this.children.length;m++){var x=this.children[m];if(x.renderId!==this.renderId)x._accessibleActive=!1,ri(this.children,m,1),this.div.removeChild(x._accessibleDiv),this.pool.push(x._accessibleDiv),x._accessibleDiv=null,m--;else{g=x._accessibleDiv;var y=x.hitArea,E=x.worldTransform;x.hitArea?(g.style.left=(E.tx+y.x*E.a)*v+"px",g.style.top=(E.ty+y.y*E.d)*p+"px",g.style.width=y.width*E.a*v+"px",g.style.height=y.height*E.d*p+"px"):(y=x.getBounds(),this.capHitArea(y),g.style.left=y.x*v+"px",g.style.top=y.y*p+"px",g.style.width=y.width*v+"px",g.style.height=y.height*p+"px",g.title!==x.accessibleTitle&&x.accessibleTitle!==null&&(g.title=x.accessibleTitle),g.getAttribute("aria-label")!==x.accessibleHint&&x.accessibleHint!==null&&g.setAttribute("aria-label",x.accessibleHint)),(x.accessibleTitle!==g.title||x.tabIndex!==g.tabIndex)&&(g.title=x.accessibleTitle,g.tabIndex=x.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}},r.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},r.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,i=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},r.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=Zs+"px",t.style.height=Zs+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=Gp.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},r.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,n=e.target.displayObject,i=t.eventData;t.dispatchEvent(n,"click",i),t.dispatchEvent(n,"pointertap",i),t.dispatchEvent(n,"tap",i)},r.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction,n=e.target.displayObject,i=t.eventData;t.dispatchEvent(n,"mouseover",i)},r.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction,n=e.target.displayObject,i=t.eventData;t.dispatchEvent(n,"mouseout",i)},r.prototype._onKeyDown=function(e){e.keyCode===pP&&this.activate()},r.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},r.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},r.extension={name:"accessibility",type:[$t.RendererPlugin,$t.CanvasRendererPlugin]},r}();/*!
 * @pixi/interaction - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var el=function(){function r(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new qt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(r.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),r.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},r.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},r.prototype.reset=function(){this.isPrimary=!1},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rl=function(r,e){return rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},rl(r,e)};function bP(r,e){rl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var C_=function(){function r(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return r.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},r.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},r}(),fa=function(){function r(e){this._pointerId=e,this._flags=r.FLAGS.NONE}return r.prototype._doSet=function(e,t){t?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(r.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"none",{get:function(){return this._flags===r.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"over",{get:function(){return(this._flags&r.FLAGS.OVER)!==0},set:function(e){this._doSet(r.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightDown",{get:function(){return(this._flags&r.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(r.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftDown",{get:function(){return(this._flags&r.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(r.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),r.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),r}(),xP=function(){function r(){this._tempPoint=new qt}return r.prototype.recursiveFindHit=function(e,t,n,i,o){var a;if(!t||!t.visible)return!1;var h=e.data.global;o=t.interactive||o;var l=!1,f=o,d=!0;if(t.hitArea)i&&(t.worldTransform.applyInverse(h,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?l=!0:(i=!1,d=!1)),f=!1;else if(t._mask&&i){var v=t._mask.isMaskData?t._mask.maskObject:t._mask;v&&!(!((a=v.containsPoint)===null||a===void 0)&&a.call(v,h))&&(i=!1)}if(d&&t.interactiveChildren&&t.children)for(var p=t.children,g=p.length-1;g>=0;g--){var m=p[g],x=this.recursiveFindHit(e,m,n,i,f);if(x){if(!m.parent)continue;f=!1,x&&(e.target&&(i=!1),l=!0)}}return o&&(i&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(h)&&(l=!0),t.interactive&&(l&&!e.target&&(e.target=t),n&&n(e,t,!!l))),l},r.prototype.findHit=function(e,t,n,i){this.recursiveFindHit(e,t,n,i,!1)},r}(),I_={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(r){r?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};ge.mixin(I_);var Js=1,Qs={target:null,data:{global:null}},O_=function(r){bP(e,r);function e(t,n){var i=r.call(this)||this;return n=n||{},i.renderer=t,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new el,i.mouse.identifier=Js,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Js]=i.mouse,i.interactionDataPool=[],i.eventData=new C_,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new xP,i._tempDisplayObject=new Xl,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,n){return Qs.target=null,Qs.data.global=t,n||(n=this.lastObjectRendered),this.processInteractive(Qs,n,null,!0),Qs.target},e.prototype.setTargetElement=function(t,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Se.system.add(this.tickerUpdate,this,Dr.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(Se.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var t in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var n=this.activeInteractionData[t];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var i=this.cursorStyles[t];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(t);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,n,i){(!i.stopPropagationHint||t===i.stopsPropagatingAt)&&(i.currentTarget=t,i.type=n,t.emit(n,i),t[n]&&t[n](i))},e.prototype.delayDispatchEvent=function(t,n,i){this.delayedEvents.push({displayObject:t,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(t,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;t.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*a,t.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},e.prototype.processInteractive=function(t,n,i,o){var a=this.search.findHit(t,n,i,o),h=this.delayedEvents;if(!h.length)return a;t.stopPropagationHint=!1;var l=h.length;this.delayedEvents=[];for(var f=0;f<l;f++){var d=h[f],v=d.displayObject,p=d.eventString,g=d.eventData;g.stopsPropagatingAt===v&&(g.stopPropagationHint=!0),this.dispatchEvent(v,p,g)}return a},e.prototype.onPointerDown=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var n=this.normalizeToPointerData(t);if(this.autoPreventDefault&&n[0].isNormalized){var i=t.cancelable||!("cancelable"in t);i&&t.preventDefault()}for(var o=n.length,a=0;a<o;a++){var h=n[a],l=this.getInteractionDataForPointerId(h),f=this.configureInteractionEventForDOMEvent(this.eventData,h,l);if(f.data.originalEvent=t,this.processInteractive(f,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",f),h.pointerType==="touch")this.emit("touchstart",f);else if(h.pointerType==="mouse"||h.pointerType==="pen"){var d=h.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,n,i){var o=t.data,a=t.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new fa(a)),this.dispatchEvent(n,"pointerdown",t),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",t);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var h=o.button===2;h?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,h?"rightdown":"mousedown",t)}}},e.prototype.onPointerComplete=function(t,n,i){var o=this.normalizeToPointerData(t),a=o.length,h=t.target;t.composedPath&&t.composedPath().length>0&&(h=t.composedPath()[0]);for(var l=h!==this.interactionDOMElement?"outside":"",f=0;f<a;f++){var d=o[f],v=this.getInteractionDataForPointerId(d),p=this.configureInteractionEventForDOMEvent(this.eventData,d,v);if(p.data.originalEvent=t,this.processInteractive(p,this.lastObjectRendered,i,n||!l),this.emit(n?"pointercancel":"pointerup"+l,p),d.pointerType==="mouse"||d.pointerType==="pen"){var g=d.button===2;this.emit(g?"rightup"+l:"mouseup"+l,p)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+l,p),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&t.pointerType==="touch"||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,n){var i=t.data,o=t.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",t),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&t.pointerType==="touch"||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,n,i){var o=t.data,a=t.data.identifier,h=n.trackedPointers[a],l=o.pointerType==="touch",f=o.pointerType==="mouse"||o.pointerType==="pen",d=!1;if(f){var v=o.button===2,p=fa.FLAGS,g=v?p.RIGHT_DOWN:p.LEFT_DOWN,m=h!==void 0&&h.flags&g;i?(this.dispatchEvent(n,v?"rightup":"mouseup",t),m&&(this.dispatchEvent(n,v?"rightclick":"click",t),d=!0)):m&&this.dispatchEvent(n,v?"rightupoutside":"mouseupoutside",t),h&&(v?h.rightDown=!1:h.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",t),l&&this.dispatchEvent(n,"touchend",t),h&&((!f||d)&&this.dispatchEvent(n,"pointertap",t),l&&(this.dispatchEvent(n,"tap",t),h.over=!1))):h&&(this.dispatchEvent(n,"pointerupoutside",t),l&&this.dispatchEvent(n,"touchendoutside",t)),h&&h.none&&delete n.trackedPointers[a]},e.prototype.onPointerMove=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var n=this.normalizeToPointerData(t);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var a=n[o],h=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,h);l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),a.pointerType==="touch"&&this.emit("touchmove",l),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",l)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,n,i){var o=t.data,a=o.pointerType==="touch",h=o.pointerType==="mouse"||o.pointerType==="pen";h&&this.processPointerOverOut(t,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",t),a&&this.dispatchEvent(n,"touchmove",t),h&&this.dispatchEvent(n,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var n=this.normalizeToPointerData(t),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},e.prototype.processPointerOverOut=function(t,n,i){var o=t.data,a=t.data.identifier,h=o.pointerType==="mouse"||o.pointerType==="pen",l=n.trackedPointers[a];i&&!l&&(l=n.trackedPointers[a]=new fa(a)),l!==void 0&&(i&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(n,"pointerover",t),h&&this.delayDispatchEvent(n,"mouseover",t)),h&&this.cursor===null&&(this.cursor=n.cursor)):l.over&&(l.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),h&&this.dispatchEvent(n,"mouseout",t),l.none&&delete n.trackedPointers[a]))},e.prototype.onPointerOver=function(t){if(!(this.supportsTouchEvents&&t.pointerType==="touch")){var n=this.normalizeToPointerData(t),i=n[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)}},e.prototype.getInteractionDataForPointerId=function(t){var n=t.pointerId,i;return n===Js||t.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new el,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(t),i},e.prototype.releaseInteractionDataForPointerId=function(t){var n=this.activeInteractionData[t];n&&(delete this.activeInteractionData[t],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(t,n,i){return t.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var n=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,o=t.changedTouches.length;i<o;i++){var a=t.changedTouches[i];typeof a.button>"u"&&(a.button=t.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=t.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){var h=t;typeof h.isPrimary>"u"&&(h.isPrimary=!0),typeof h.width>"u"&&(h.width=1),typeof h.height>"u"&&(h.height=1),typeof h.tiltX>"u"&&(h.tiltX=0),typeof h.tiltY>"u"&&(h.tiltY=0),typeof h.pointerType>"u"&&(h.pointerType="mouse"),typeof h.pointerId>"u"&&(h.pointerId=Js),typeof h.pressure>"u"&&(h.pressure=.5),typeof h.twist>"u"&&(h.twist=0),typeof h.tangentialPressure>"u"&&(h.tangentialPressure=0),h.isNormalized=!0,n.push(h)}else n.push(t);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[$t.RendererPlugin,$t.CanvasRendererPlugin]},e}(zi);/*!
 * @pixi/extract - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TP=new Dt,EP=4,yf=function(){function r(e){this.renderer=e}return r.prototype.image=function(e,t,n){var i=new Image;return i.src=this.base64(e,t,n),i},r.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},r.prototype.canvas=function(e,t){var n=this._rawPixels(e,t),i=n.pixels,o=n.width,a=n.height,h=n.flipY,l=new Kh(o,a,1),f=l.context.getImageData(0,0,o,a);if(r.arrayPostDivide(i,f.data),l.context.putImageData(f,0,0),h){var d=new Kh(l.width,l.height,1);d.context.scale(1,-1),d.context.drawImage(l.canvas,0,-a),l.destroy(),l=d}return l.canvas},r.prototype.pixels=function(e,t){var n=this._rawPixels(e,t).pixels;return r.arrayPostDivide(n,n),n},r.prototype._rawPixels=function(e,t){var n=this.renderer,i,o=!1,a,h=!1;if(e)if(e instanceof Mn)a=e;else{var l=n.context.webGLVersion>=2?n.multisample:ee.NONE;if(a=this.renderer.generateTexture(e,{multisample:l}),l!==ee.NONE){var f=Mn.create({width:a.width,height:a.height});n.framebuffer.bind(a.framebuffer),n.framebuffer.blit(f.framebuffer),n.framebuffer.bind(null),a.destroy(!0),a=f}h=!0}a?(i=a.baseTexture.resolution,t=t??a.frame,o=!1,n.renderTexture.bind(a)):(i=n.resolution,t||(t=TP,t.width=n.width,t.height=n.height),o=!0,n.renderTexture.bind(null));var d=Math.round(t.width*i),v=Math.round(t.height*i),p=new Uint8Array(EP*d*v),g=n.gl;return g.readPixels(Math.round(t.x*i),Math.round(t.y*i),d,v,g.RGBA,g.UNSIGNED_BYTE,p),h&&a.destroy(!0),{pixels:p,width:d,height:v,flipY:o}},r.prototype.destroy=function(){this.renderer=null},r.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var i=t[n+3]=e[n+3];i!==0?(t[n]=Math.round(Math.min(e[n]*255/i,255)),t[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),t[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}},r.extension={name:"extract",type:$t.RendererPlugin},r}();/*!
 * @pixi/loaders - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $s=function(){function r(e,t,n){t===void 0&&(t=!1),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}return r.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},r}();function Hp(r,e){return r._head?(r._tail._next=e,e._prev=r._tail,r._tail=e):(r._head=e,r._tail=e),e._owner=r,e}var ln=function(){function r(){this._head=this._tail=void 0}return r.prototype.handlers=function(e){e===void 0&&(e=!1);var t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n},r.prototype.has=function(e){if(!(e instanceof $s))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},r.prototype.dispatch=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,t),i=i._next;return!0},r.prototype.add=function(e,t){if(t===void 0&&(t=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Hp(this,new $s(e,!1,t))},r.prototype.once=function(e,t){if(t===void 0&&(t=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Hp(this,new $s(e,!0,t))},r.prototype.detach=function(e){if(!(e instanceof $s))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},r.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},r}();function M_(r,e){e=e||{};for(var t={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[e.strictMode?"strict":"loose"].exec(r),i={},o=14;o--;)i[t.key[o]]=n[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(a,h,l){h&&(i[t.q.name][h]=l)}),i}var bh,ta=null,wP=0,Xp=200,SP=204,AP=1223,PP=2;function Wp(){}function zp(r,e,t){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(r[e]=t)}function xh(r){return r.toString().replace("object ","")}var pe=function(){function r(e,t,n){if(this._dequeue=Wp,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof t!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(r.STATUS_FLAGS.DATA_URL,t.indexOf("data:")===0),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=r.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Wp,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ln,this.onProgress=new ln,this.onComplete=new ln,this.onAfterMiddleware=new ln}return r.setExtensionLoadType=function(e,t){zp(r._loadTypeMap,e,t)},r.setExtensionXhrType=function(e,t){zp(r._xhrTypeMap,e,t)},Object.defineProperty(r.prototype,"isDataUrl",{get:function(){return this._hasFlag(r.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isComplete",{get:function(){return this._hasFlag(r.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isLoading",{get:function(){return this._hasFlag(r.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),r.prototype.complete=function(){this._clearEvents(),this._finish()},r.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=r.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},r.prototype.load=function(e){var t=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(t)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(r.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this.type=r.TYPE.IMAGE,this._loadElement("image");break;case r.LOAD_TYPE.AUDIO:this.type=r.TYPE.AUDIO,this._loadSourceElement("audio");break;case r.LOAD_TYPE.VIDEO:this.type=r.TYPE.VIDEO,this._loadSourceElement("video");break;case r.LOAD_TYPE.XHR:default:typeof bh>"u"&&(bh=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),bh&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},r.prototype._hasFlag=function(e){return(this._flags&e)!==0},r.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},r.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},r.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(r.STATUS_FLAGS.COMPLETE,!0),this._setFlag(r.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},r.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var t=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=r.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},r.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},r.prototype._createSource=function(e,t,n){n||(n=e+"/"+this._getExtension(t));var i=document.createElement("source");return i.src=t,i.type=n,i},r.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},r.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},r.prototype._onTimeout=function(){this.abort("Load timed out.")},r.prototype._xhrOnError=function(){var e=this.xhr;this.abort(xh(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},r.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(xh(e)+" Request timed out.")},r.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(xh(e)+" Request was aborted by the user.")},r.prototype._xhrOnLoad=function(){var e=this.xhr,t="",n=typeof e.status>"u"?Xp:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(t=e.responseText),n===wP&&(t.length>0||e.responseType===r.XHR_RESPONSE_TYPE.BUFFER)?n=Xp:n===AP&&(n=SP);var i=n/100|0;if(i===PP)if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=t,this.type=r.TYPE.TEXT;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t),this.type=r.TYPE.JSON}catch(h){this.abort("Error trying to parse loaded json: "+h);return}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(t,"text/xml")}else{var a=document.createElement("div");a.innerHTML=t,this.data=a}this.type=r.TYPE.XML}catch(h){this.abort("Error trying to parse loaded xml: "+h);return}else this.data=e.response||t;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},r.prototype._determineCrossOrigin=function(e,t){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";t=t||globalThis.location,ta||(ta=document.createElement("a")),ta.href=e;var n=M_(ta.href,{strictMode:!0}),i=!n.port&&t.port===""||n.port===t.port,o=n.protocol?n.protocol+":":"";return n.host!==t.hostname||!i||o!==t.protocol?"anonymous":""},r.prototype._determineXhrType=function(){return r._xhrTypeMap[this.extension]||r.XHR_RESPONSE_TYPE.TEXT},r.prototype._determineLoadType=function(){return r._loadTypeMap[this.extension]||r.LOAD_TYPE.XHR},r.prototype._getExtension=function(e){e===void 0&&(e=this.url);var t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),o=e.indexOf("#"),a=Math.min(i>-1?i:e.length,o>-1?o:e.length);e=e.substring(0,a),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},r.prototype._getMimeFromXhrType=function(e){switch(e){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r}();(function(r){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(r.STATUS_FLAGS||(r.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(r.TYPE||(r.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(r.LOAD_TYPE||(r.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(r.XHR_RESPONSE_TYPE||(r.XHR_RESPONSE_TYPE={})),r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,avif:r.LOAD_TYPE.IMAGE,svg:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE,mp3:r.LOAD_TYPE.AUDIO,ogg:r.LOAD_TYPE.AUDIO,wav:r.LOAD_TYPE.AUDIO,mp4:r.LOAD_TYPE.VIDEO,webm:r.LOAD_TYPE.VIDEO},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,avif:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT,ttf:r.XHR_RESPONSE_TYPE.BUFFER,otf:r.XHR_RESPONSE_TYPE.BUFFER},r.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(pe||(pe={}));function Yn(){}function RP(r){return function(){for(var t=arguments,n=[],i=0;i<arguments.length;i++)n[i]=t[i];if(r===null)throw new Error("Callback was already called.");var o=r;r=null,o.apply(this,n)}}var CP=function(){function r(e,t){this.data=e,this.callback=t}return r}(),Th=function(){function r(e,t){var n=this;if(t===void 0&&(t=1),this.workers=0,this.saturated=Yn,this.unsaturated=Yn,this.empty=Yn,this.drain=Yn,this.error=Yn,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var h=new CP(i,typeof a=="function"?a:Yn);o?n._tasks.unshift(h):n._tasks.push(h),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,RP(n._next(i)))}},this._worker=e,t===0)throw new Error("Concurrency must not be zero");this.concurrency=t,this.buffer=t/4}return r.prototype._next=function(e){var t=this;return function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++)i[o]=n[o];t.workers-=1,e.callback.apply(e,i),i[0]!=null&&t.error(i[0],e.data),t.workers<=t.concurrency-t.buffer&&t.unsaturated(),t.idle()&&t.drain(),t.process()}},r.prototype.push=function(e,t){this._insert(e,!1,t)},r.prototype.kill=function(){this.workers=0,this.drain=Yn,this.started=!1,this._tasks=[]},r.prototype.unshift=function(e,t){this._insert(e,!0,t)},r.prototype.length=function(){return this._tasks.length},r.prototype.running=function(){return this.workers},r.prototype.idle=function(){return this._tasks.length+this.workers===0},r.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},r.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},r.eachSeries=function(e,t,n,i){var o=0,a=e.length;function h(l){if(l||o===a){n&&n(l);return}i?setTimeout(function(){t(e[o++],h)},1):t(e[o++],h)}h()},r.queue=function(e,t){return new r(e,t)},r}(),Eh=100,IP=/(#[\w-]+)?$/,Ui=function(){function r(e,t){var n=this;e===void 0&&(e=""),t===void 0&&(t=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,f){return n._loadResource(l,f)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,f){return n._loadResource(l,f)},this._queue=Th.queue(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new ln,this.onError=new ln,this.onLoad=new ln,this.onStart=new ln,this.onComplete=new ln;for(var i=0;i<r._plugins.length;++i){var o=r._plugins[i],a=o.pre,h=o.use;a&&this.pre(a),h&&this.use(h)}this._protected=!1}return r.prototype._add=function(e,t,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new pe(e,t,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,a=[],h=0;h<o.children.length;++h)o.children[h].isComplete||a.push(o.children[h]);var l=o.progressChunk*(a.length+1),f=l/(a.length+2);o.children.push(this.resources[e]),o.progressChunk=f;for(var h=0;h<a.length;++h)a[h].progressChunk=f;this.resources[e].progressChunk=f}return this._queue.push(this.resources[e]),this},r.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},r.prototype.use=function(e){return this._afterMiddleware.push(e),this},r.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},r.prototype.load=function(e){if(ke("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,n=Eh/t,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(r.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),r.prototype._prepareUrl=function(e){var t=M_(e,{strictMode:!0}),n;if(t.protocol||!t.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=IP.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},r.prototype._loadResource=function(e,t){var n=this;e._dequeue=t,Th.eachSeries(this._beforeMiddleware,function(i,o){i.call(n,e,function(){o(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},r.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r.prototype._onComplete=function(){this.progress=Eh,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Th.eachSeries(this._afterMiddleware,function(n,i){n.call(t,e,i)},function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(Eh,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&t._resourcesParsing.length===0&&t._onComplete()},!0)},r.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(r,"shared",{get:function(){var e=r._shared;return e||(e=new r,e._protected=!0,r._shared=e),e},enumerable:!1,configurable:!0}),r.registerPlugin=function(e){return ke("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),Kr.add({type:$t.Loader,ref:e}),r},r._plugins=[],r}();Kr.handleByList($t.Loader,Ui._plugins);Ui.prototype.add=function(e,t,n,i){if(Array.isArray(e)){for(var o=0;o<e.length;++o)this.add(e[o]);return this}if(typeof e=="object"&&(n=e,i=t||n.callback||n.onComplete,t=n.url,e=n.name||n.key||n.url),typeof t!="string"&&(i=n,n=t,t=e),typeof t!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,t,n,i)};var D_=function(){function r(){}return r.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Ui.shared:new Ui},r.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},r.extension=$t.Application,r}(),F_=function(){function r(){}return r.add=function(){pe.setExtensionLoadType("svg",pe.LOAD_TYPE.XHR),pe.setExtensionXhrType("svg",pe.XHR_RESPONSE_TYPE.TEXT)},r.use=function(e,t){if(e.data&&(e.type===pe.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,o=e.name,a=e.metadata;vt.fromLoader(n,i,o,a).then(function(h){e.texture=h,t()}).catch(t)}else t()},r.extension=$t.Loader,r}(),OP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function MP(r){for(var e="",t=0;t<r.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)t<r.length?n[o]=r.charCodeAt(t++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=t-(r.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)e+=OP.charAt(i[o])}return e}function DP(r,e){if(!r.data){e();return}if(r.xhr&&r.xhrType===pe.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof r.data=="string"){var t=r.xhr.getResponseHeader("content-type");if(t&&t.indexOf("image")===0){r.data=new Image,r.data.src="data:"+t+";base64,"+MP(r.xhr.responseText),r.type=pe.TYPE.IMAGE,r.data.onload=function(){r.data.onload=null,e()};return}}else if(r.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(r.data);r.blob=r.data,r.data=new Image,r.data.src=i,r.type=pe.TYPE.IMAGE,r.data.onload=function(){n.revokeObjectURL(i),r.data.onload=null,e()};return}}e()}var FP=function(){function r(){}return r.extension=$t.Loader,r.use=DP,r}();Kr.add(F_,FP);/*!
 * @pixi/compressed-textures - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Qt,At;(function(r){r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(At||(At={}));var Go=(Qt={},Qt[At.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Qt[At.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Qt[At.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Qt[At.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Qt[At.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Qt[At.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Qt[At.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Qt[At.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Qt[At.COMPRESSED_R11_EAC]=.5,Qt[At.COMPRESSED_SIGNED_R11_EAC]=.5,Qt[At.COMPRESSED_RG11_EAC]=1,Qt[At.COMPRESSED_SIGNED_RG11_EAC]=1,Qt[At.COMPRESSED_RGB8_ETC2]=.5,Qt[At.COMPRESSED_RGBA8_ETC2_EAC]=1,Qt[At.COMPRESSED_SRGB8_ETC2]=.5,Qt[At.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Qt[At.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Qt[At.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Qt[At.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Qt[At.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Qt[At.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Qt[At.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Qt[At.COMPRESSED_RGB_ETC1_WEBGL]=.5,Qt[At.COMPRESSED_RGB_ATC_WEBGL]=.5,Qt[At.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Qt[At.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Qt[At.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,Qt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nl=function(r,e){return nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},nl(r,e)};function L_(r,e){nl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function LP(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function h(d){try{f(n.next(d))}catch(v){a(v)}}function l(d){try{f(n.throw(d))}catch(v){a(v)}}function f(d){d.done?o(d.value):i(d.value).then(h,l)}f((n=n.apply(r,e||[])).next())})}function BP(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function h(f){return function(d){return l([f,d])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(d){f=[6,d],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var B_=function(r){L_(e,r);function e(t,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,o,a;return typeof t=="string"?(o=t,a=new Uint8Array):(o=null,a=t),i=r.call(this,a,n)||this,i.origin=o,i.buffer=a?new ma(a):null,i.origin&&n.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return LP(this,void 0,Promise,function(){var t,n,i;return BP(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return t=o.sent(),[4,t.blob()];case 2:return n=o.sent(),[4,n.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new ma(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(li),ya=function(r){L_(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(t instanceof Uint8Array?t:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(t,n,i){var o=t.gl,a=t.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var h=0,l=this.levels;h<l;h++){var f=this._levelBuffers[h],d=f.levelID,v=f.levelWidth,p=f.levelHeight,g=f.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,d,this.format,v,p,0,g)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,n,i,o,a,h,l){for(var f=new Array(i),d=t.byteOffset,v=h,p=l,g=v+o-1&~(o-1),m=p+a-1&~(a-1),x=g*m*Go[n],y=0;y<i;y++)f[y]={levelID:y,levelWidth:i>1?v:g,levelHeight:i>1?p:m,levelBuffer:new Uint8Array(t.buffer,d,x)},d+=x,v=v>>1||1,p=p>>1||1,g=v+o-1&~(o-1),m=p+a-1&~(a-1),x=g*m*Go[n];return f},e}(B_),N_=function(){function r(){}return r.use=function(e,t){var n=e.data,i=this;if(e.type===pe.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var o=n.textures,a=void 0,h=void 0,l=0,f=o.length;l<f;l++){var d=o[l],v=d.src,p=d.format;if(p||(h=v),r.textureFormats[p]){a=v;break}}if(a=a||h,!a){t(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(a===e.url){t(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var g={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},m=ti.resolve(e.url.replace(i.baseUrl,""),a),x=n.cacheID;i.add(x,m,g,function(y){if(y.error){t(y.error);return}var E=y.texture,C=E===void 0?null:E,S=y.textures,O=S===void 0?{}:S;Object.assign(e,{texture:C,textures:O}),t()})}else t()},Object.defineProperty(r,"textureExtensions",{get:function(){if(!r._textureExtensions){var e=tt.ADAPTER.createCanvas(),t=e.getContext("webgl");if(!t)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};r._textureExtensions=n}return r._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(r,"textureFormats",{get:function(){if(!r._textureFormats){var e=r.textureExtensions;r._textureFormats={};for(var t in e){var n=e[t];n&&Object.assign(r._textureFormats,Object.getPrototypeOf(n))}}return r._textureFormats},enumerable:!1,configurable:!0}),r.extension=$t.Loader,r}();function U_(r,e,t){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(o){return new vt(new Mt(o,Object.assign({mipmap:or.OFF,alphaMode:mr.NO_PREMULTIPLIED_ALPHA},t)))});return i.forEach(function(o,a){var h=o.baseTexture,l=r+"-"+(a+1);Mt.addToCache(h,l),vt.addToCache(o,l),a===0&&(Mt.addToCache(h,r),vt.addToCache(o,r),n.texture=o),n.textures[l]=o}),n}var _o,Pr,wh=4,ea=124,NP=32,Vp=20,UP=542327876,ra={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},GP={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},na={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Cr;(function(r){r[r.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",r[r.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",r[r.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",r[r.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",r[r.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",r[r.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",r[r.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",r[r.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",r[r.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",r[r.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",r[r.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",r[r.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",r[r.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",r[r.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",r[r.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",r[r.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",r[r.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",r[r.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",r[r.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",r[r.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",r[r.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",r[r.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",r[r.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",r[r.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",r[r.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",r[r.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",r[r.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",r[r.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",r[r.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",r[r.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",r[r.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",r[r.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",r[r.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",r[r.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",r[r.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",r[r.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",r[r.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",r[r.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",r[r.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",r[r.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",r[r.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",r[r.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",r[r.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",r[r.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",r[r.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",r[r.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",r[r.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",r[r.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",r[r.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",r[r.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",r[r.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",r[r.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",r[r.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",r[r.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",r[r.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",r[r.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",r[r.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",r[r.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",r[r.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",r[r.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",r[r.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",r[r.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",r[r.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",r[r.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",r[r.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",r[r.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",r[r.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",r[r.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",r[r.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",r[r.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",r[r.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",r[r.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",r[r.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",r[r.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",r[r.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",r[r.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",r[r.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",r[r.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",r[r.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",r[r.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",r[r.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",r[r.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",r[r.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",r[r.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",r[r.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",r[r.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",r[r.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",r[r.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",r[r.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",r[r.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",r[r.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",r[r.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",r[r.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",r[r.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",r[r.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",r[r.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",r[r.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",r[r.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",r[r.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",r[r.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",r[r.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",r[r.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",r[r.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",r[r.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",r[r.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",r[r.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",r[r.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",r[r.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",r[r.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",r[r.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",r[r.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",r[r.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",r[r.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",r[r.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",r[r.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",r[r.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",r[r.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",r[r.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",r[r.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",r[r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",r[r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",r[r.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Cr||(Cr={}));var il;(function(r){r[r.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",r[r.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",r[r.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(il||(il={}));var kP=1,HP=2,XP=4,WP=64,zP=512,VP=131072,YP=827611204,jP=861165636,qP=894720068,KP=808540228,ZP=4,JP=(_o={},_o[YP]=At.COMPRESSED_RGBA_S3TC_DXT1_EXT,_o[jP]=At.COMPRESSED_RGBA_S3TC_DXT3_EXT,_o[qP]=At.COMPRESSED_RGBA_S3TC_DXT5_EXT,_o),QP=(Pr={},Pr[Cr.DXGI_FORMAT_BC1_TYPELESS]=At.COMPRESSED_RGBA_S3TC_DXT1_EXT,Pr[Cr.DXGI_FORMAT_BC1_UNORM]=At.COMPRESSED_RGBA_S3TC_DXT1_EXT,Pr[Cr.DXGI_FORMAT_BC2_TYPELESS]=At.COMPRESSED_RGBA_S3TC_DXT3_EXT,Pr[Cr.DXGI_FORMAT_BC2_UNORM]=At.COMPRESSED_RGBA_S3TC_DXT3_EXT,Pr[Cr.DXGI_FORMAT_BC3_TYPELESS]=At.COMPRESSED_RGBA_S3TC_DXT5_EXT,Pr[Cr.DXGI_FORMAT_BC3_UNORM]=At.COMPRESSED_RGBA_S3TC_DXT5_EXT,Pr[Cr.DXGI_FORMAT_BC1_UNORM_SRGB]=At.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Pr[Cr.DXGI_FORMAT_BC2_UNORM_SRGB]=At.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Pr[Cr.DXGI_FORMAT_BC3_UNORM_SRGB]=At.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Pr);function G_(r){var e=new Uint32Array(r),t=e[0];if(t!==UP)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(r,0,ea/Uint32Array.BYTES_PER_ELEMENT),i=n[ra.HEIGHT],o=n[ra.WIDTH],a=n[ra.MIPMAP_COUNT],h=new Uint32Array(r,ra.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,NP/Uint32Array.BYTES_PER_ELEMENT),l=h[kP];if(l&XP){var f=h[GP.FOURCC];if(f!==KP){var d=JP[f],v=wh+ea,p=new Uint8Array(r,v),g=new ya(p,{format:d,width:o,height:i,levels:a});return[g]}var m=wh+ea,x=new Uint32Array(e.buffer,m,Vp/Uint32Array.BYTES_PER_ELEMENT),y=x[na.DXGI_FORMAT],E=x[na.RESOURCE_DIMENSION],C=x[na.MISC_FLAG],S=x[na.ARRAY_SIZE],O=QP[y];if(O===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+y);if(C===ZP)throw new Error("DDSParser does not support cubemap textures");if(E===il.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var P=new Array,D=wh+ea+Vp;if(S===1)P.push(new Uint8Array(r,D));else{for(var A=Go[O],I=0,F=o,B=i,J=0;J<a;J++){var nt=Math.max(1,F+3&-4),_t=Math.max(1,B+3&-4),Rt=nt*_t*A;I+=Rt,F=F>>>1,B=B>>>1}for(var $=D,J=0;J<S;J++)P.push(new Uint8Array(r,$,I)),$+=I}return P.map(function(Q){return new ya(Q,{format:O,width:o,height:i,levels:a})})}throw l&WP?new Error("DDSParser does not support uncompressed texture data."):l&zP?new Error("DDSParser does not supported YUV uncompressed texture data."):l&VP?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&HP?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var An,un,go,Yp=[171,75,84,88,32,49,49,187,13,10,26,10],$P=67305985,Rr={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},ol=64,sl=(An={},An[pt.UNSIGNED_BYTE]=1,An[pt.UNSIGNED_SHORT]=2,An[pt.INT]=4,An[pt.UNSIGNED_INT]=4,An[pt.FLOAT]=4,An[pt.HALF_FLOAT]=8,An),k_=(un={},un[Z.RGBA]=4,un[Z.RGB]=3,un[Z.RG]=2,un[Z.RED]=1,un[Z.LUMINANCE]=1,un[Z.LUMINANCE_ALPHA]=2,un[Z.ALPHA]=1,un),H_=(go={},go[pt.UNSIGNED_SHORT_4_4_4_4]=2,go[pt.UNSIGNED_SHORT_5_5_5_1]=2,go[pt.UNSIGNED_SHORT_5_6_5]=2,go);function X_(r,e,t){t===void 0&&(t=!1);var n=new DataView(e);if(!tR(r,n))return null;var i=n.getUint32(Rr.ENDIANNESS,!0)===$P,o=n.getUint32(Rr.GL_TYPE,i),a=n.getUint32(Rr.GL_FORMAT,i),h=n.getUint32(Rr.GL_INTERNAL_FORMAT,i),l=n.getUint32(Rr.PIXEL_WIDTH,i),f=n.getUint32(Rr.PIXEL_HEIGHT,i)||1,d=n.getUint32(Rr.PIXEL_DEPTH,i)||1,v=n.getUint32(Rr.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(Rr.NUMBER_OF_FACES,i),g=n.getUint32(Rr.NUMBER_OF_MIPMAP_LEVELS,i),m=n.getUint32(Rr.BYTES_OF_KEY_VALUE_DATA,i);if(f===0||d!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(v!==1)throw new Error("WebGL does not support array textures");var x=4,y=4,E=l+3&-4,C=f+3&-4,S=new Array(v),O=l*f;o===0&&(O=E*C);var P;if(o!==0?sl[o]?P=sl[o]*k_[a]:P=H_[o]:P=Go[h],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var D=t?rR(n,m,i):null,A=O*P,I=A,F=l,B=f,J=E,nt=C,_t=ol+m,Rt=0;Rt<g;Rt++){for(var $=n.getUint32(_t,i),Q=_t+4,V=0;V<v;V++){var ft=S[V];ft||(ft=S[V]=new Array(g)),ft[Rt]={levelID:Rt,levelWidth:g>1||o!==0?F:J,levelHeight:g>1||o!==0?B:nt,levelBuffer:new Uint8Array(e,Q,I)},Q+=I}_t+=$+4,_t=_t%4!==0?_t+4-_t%4:_t,F=F>>1||1,B=B>>1||1,J=F+x-1&~(x-1),nt=B+y-1&~(y-1),I=J*nt*P}return o!==0?{uncompressed:S.map(function(ht){var q=ht[0].levelBuffer,X=!1;return o===pt.FLOAT?q=new Float32Array(ht[0].levelBuffer.buffer,ht[0].levelBuffer.byteOffset,ht[0].levelBuffer.byteLength/4):o===pt.UNSIGNED_INT?(X=!0,q=new Uint32Array(ht[0].levelBuffer.buffer,ht[0].levelBuffer.byteOffset,ht[0].levelBuffer.byteLength/4)):o===pt.INT&&(X=!0,q=new Int32Array(ht[0].levelBuffer.buffer,ht[0].levelBuffer.byteOffset,ht[0].levelBuffer.byteLength/4)),{resource:new li(q,{width:ht[0].levelWidth,height:ht[0].levelHeight}),type:o,format:X?eR(a):a}}),kvData:D}:{compressed:S.map(function(ht){return new ya(null,{format:h,width:l,height:f,levels:g,levelBuffers:ht})}),kvData:D}}function tR(r,e){for(var t=0;t<Yp.length;t++)if(e.getUint8(t)!==Yp[t])return console.error(r+" is not a valid *.ktx file!"),!1;return!0}function eR(r){switch(r){case Z.RGBA:return Z.RGBA_INTEGER;case Z.RGB:return Z.RGB_INTEGER;case Z.RG:return Z.RG_INTEGER;case Z.RED:return Z.RED_INTEGER;default:return r}}function rR(r,e,t){for(var n=new Map,i=0;i<e;){var o=r.getUint32(ol+i,t),a=ol+i+4,h=3-(o+3)%4;if(o===0||o>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<o&&r.getUint8(a+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var f=new TextDecoder().decode(new Uint8Array(r.buffer,a,l)),d=new DataView(r.buffer,a+l+1,o-l-1);n.set(f,d),i+=4+o+h}return n}pe.setExtensionXhrType("dds",pe.XHR_RESPONSE_TYPE.BUFFER);var W_=function(){function r(){}return r.use=function(e,t){if(e.extension==="dds"&&e.data)try{Object.assign(e,U_(e.name||e.url,G_(e.data),e.metadata))}catch(n){t(n);return}t()},r.extension=$t.Loader,r}();pe.setExtensionXhrType("ktx",pe.XHR_RESPONSE_TYPE.BUFFER);var z_=function(){function r(){}return r.use=function(e,t){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=X_(n,e.data,this.loadKeyValueData),o=i.compressed,a=i.uncompressed,h=i.kvData;if(o){var l=U_(n,o,e.metadata);if(h&&l.textures)for(var f in l.textures)l.textures[f].baseTexture.ktxKeyValueData=h;Object.assign(e,l)}else if(a){var d={};a.forEach(function(v,p){var g=new vt(new Mt(v.resource,{mipmap:or.OFF,alphaMode:mr.NO_PREMULTIPLIED_ALPHA,type:v.type,format:v.format})),m=n+"-"+(p+1);h&&(g.baseTexture.ktxKeyValueData=h),Mt.addToCache(g.baseTexture,m),vt.addToCache(g,m),p===0&&(d[n]=g,Mt.addToCache(g.baseTexture,n),vt.addToCache(g,n)),d[m]=g}),Object.assign(e,{textures:d})}}catch(v){t(v);return}t()},r.extension=$t.Loader,r.loadKeyValueData=!1,r}();/*!
 * @pixi/particle-container - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var al=function(r,e){return al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},al(r,e)};function V_(r,e){al(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nR=function(r){V_(e,r);function e(t,n,i,o){t===void 0&&(t=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=r.call(this)||this,h=16384;return i>h&&(i=h),a._properties=[!1,!0,!1,!1,!1],a._maxSize=t,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=dt.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,In(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var n=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Ze),jp=function(){function r(e,t,n){this.geometry=new Vi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var o=e[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||pt.FLOAT,offset:o.offset},t[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return r.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new xe(Xv(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=t,t+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new xe(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new xe(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===pt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===pt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},r.prototype.uploadDynamic=function(e,t,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(e,t,n,o.type===pt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},r.prototype.uploadStatic=function(e,t,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(e,t,n,o.type===pt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},r.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},r}(),iR=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,oR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Y_=function(r){V_(e,r);function e(t){var n=r.call(this,t)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Te,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:pt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=dn.from(oR,iR,{}),n.state=Fn.for2d(),n}return e.prototype.render=function(t){var n=t.children,i=t._maxSize,o=t._batchSize,a=this.renderer,h=n.length;if(h!==0){h>i&&!t.autoResize&&(h=i);var l=t._buffers;l||(l=t._buffers=this.generateBuffers(t));var f=n[0]._texture.baseTexture,d=f.alphaMode>0;this.state.blendMode=Ul(t.blendMode,d),a.state.set(this.state);var v=a.gl,p=t.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Hv(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=f,this.renderer.shader.bind(this.shader);for(var g=!1,m=0,x=0;m<h;m+=o,x+=1){var y=h-m;y>o&&(y=o),x>=l.length&&l.push(this._generateOneMoreBuffer(t));var E=l[x];E.uploadDynamic(n,m,y);var C=t._bufferUpdateIDs[x]||0;g=g||E._updateID<C,g&&(E._updateID=t._updateID,E.uploadStatic(n,m,y)),a.geometry.bind(E.geometry),v.drawElements(v.TRIANGLES,y*6,v.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var n=[],i=t._maxSize,o=t._batchSize,a=t._properties,h=0;h<i;h+=o)n.push(new jp(this.properties,a,o));return n},e.prototype._generateOneMoreBuffer=function(t){var n=t._batchSize,i=t._properties;return new jp(this.properties,i,n)},e.prototype.uploadVertices=function(t,n,i,o,a,h){for(var l=0,f=0,d=0,v=0,p=0;p<i;++p){var g=t[n+p],m=g._texture,x=g.scale.x,y=g.scale.y,E=m.trim,C=m.orig;E?(f=E.x-g.anchor.x*C.width,l=f+E.width,v=E.y-g.anchor.y*C.height,d=v+E.height):(l=C.width*(1-g.anchor.x),f=C.width*-g.anchor.x,d=C.height*(1-g.anchor.y),v=C.height*-g.anchor.y),o[h]=f*x,o[h+1]=v*y,o[h+a]=l*x,o[h+a+1]=v*y,o[h+a*2]=l*x,o[h+a*2+1]=d*y,o[h+a*3]=f*x,o[h+a*3+1]=d*y,h+=a*4}},e.prototype.uploadPosition=function(t,n,i,o,a,h){for(var l=0;l<i;l++){var f=t[n+l].position;o[h]=f.x,o[h+1]=f.y,o[h+a]=f.x,o[h+a+1]=f.y,o[h+a*2]=f.x,o[h+a*2+1]=f.y,o[h+a*3]=f.x,o[h+a*3+1]=f.y,h+=a*4}},e.prototype.uploadRotation=function(t,n,i,o,a,h){for(var l=0;l<i;l++){var f=t[n+l].rotation;o[h]=f,o[h+a]=f,o[h+a*2]=f,o[h+a*3]=f,h+=a*4}},e.prototype.uploadUvs=function(t,n,i,o,a,h){for(var l=0;l<i;++l){var f=t[n+l]._texture._uvs;f?(o[h]=f.x0,o[h+1]=f.y0,o[h+a]=f.x1,o[h+a+1]=f.y1,o[h+a*2]=f.x2,o[h+a*2+1]=f.y2,o[h+a*3]=f.x3,o[h+a*3+1]=f.y3,h+=a*4):(o[h]=0,o[h+1]=0,o[h+a]=0,o[h+a+1]=0,o[h+a*2]=0,o[h+a*2+1]=0,o[h+a*3]=0,o[h+a*3+1]=0,h+=a*4)}},e.prototype.uploadTint=function(t,n,i,o,a,h){for(var l=0;l<i;++l){var f=t[n+l],d=f._texture.baseTexture.alphaMode>0,v=f.alpha,p=v<1&&d?Aa(f._tintRGB,v):f._tintRGB+(v*255<<24);o[h]=p,o[h+a]=p,o[h+a*2]=p,o[h+a*3]=p,h+=a*4}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:$t.RendererPlugin},e}(Yo);/*!
 * @pixi/graphics - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kr;(function(r){r.MITER="miter",r.BEVEL="bevel",r.ROUND="round"})(kr||(kr={}));var cn;(function(r){r.BUTT="butt",r.ROUND="round",r.SQUARE="square"})(cn||(cn={}));var Gi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(r,e){if(e===void 0&&(e=20),!this.adaptive||!r||isNaN(r))return e;var t=Math.ceil(r/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},bf=function(){function r(){this.color=16777215,this.alpha=1,this.texture=vt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return r.prototype.clone=function(){var e=new r;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},r.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=vt.WHITE,this.matrix=null,this.visible=!1},r.prototype.destroy=function(){this.texture=null,this.matrix=null},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ul=function(r,e){return ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},ul(r,e)};function xf(r,e){ul(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function qp(r,e){var t,n;e===void 0&&(e=!1);var i=r.length;if(!(i<6)){for(var o=0,a=0,h=r[i-2],l=r[i-1];a<i;a+=2){var f=r[a],d=r[a+1];o+=(f-h)*(d+l),h=f,l=d}if(!e&&o>0||e&&o<=0)for(var v=i/2,a=v+v%2;a<i;a+=2){var p=i-a-2,g=i-a-1,m=a,x=a+1;t=[r[m],r[p]],r[p]=t[0],r[m]=t[1],n=[r[x],r[g]],r[g]=n[0],r[x]=n[1]}}}var Tf={build:function(r){r.points=r.shape.points.slice()},triangulate:function(r,e){var t=r.points,n=r.holes,i=e.points,o=e.indices;if(t.length>=6){qp(t,!1);for(var a=[],h=0;h<n.length;h++){var l=n[h];qp(l.points,!0),a.push(t.length/2),t=t.concat(l.points)}var f=Ni(t,a,2);if(!f)return;for(var d=i.length/2,h=0;h<f.length;h+=3)o.push(f[h]+d),o.push(f[h+1]+d),o.push(f[h+2]+d);for(var h=0;h<t.length;h++)i.push(t[h])}}},ko={build:function(r){var e=r.points,t,n,i,o,a,h;if(r.type===Ae.CIRC){var l=r.shape;t=l.x,n=l.y,a=h=l.radius,i=o=0}else if(r.type===Ae.ELIP){var f=r.shape;t=f.x,n=f.y,a=f.width,h=f.height,i=o=0}else{var d=r.shape,v=d.width/2,p=d.height/2;t=d.x+v,n=d.y+p,a=h=Math.max(0,Math.min(d.radius,Math.min(v,p))),i=v-a,o=p-h}if(!(a>=0&&h>=0&&i>=0&&o>=0)){e.length=0;return}var g=Math.ceil(2.3*Math.sqrt(a+h)),m=g*8+(i?4:0)+(o?4:0);if(e.length=m,m!==0){if(g===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=n+o,e[2]=e[4]=t-i,e[5]=e[7]=n-o;return}var x=0,y=g*4+(i?2:0)+2,E=y,C=m;{var S=i+a,O=o,P=t+S,D=t-S,A=n+O;if(e[x++]=P,e[x++]=A,e[--y]=A,e[--y]=D,o){var I=n-O;e[E++]=D,e[E++]=I,e[--C]=I,e[--C]=P}}for(var F=1;F<g;F++){var B=Math.PI/2*(F/g),S=i+Math.cos(B)*a,O=o+Math.sin(B)*h,P=t+S,D=t-S,A=n+O,I=n-O;e[x++]=P,e[x++]=A,e[--y]=A,e[--y]=D,e[E++]=D,e[E++]=I,e[--C]=I,e[--C]=P}{var S=i,O=o+h,P=t+S,D=t-S,A=n+O,I=n-O;e[x++]=P,e[x++]=A,e[--C]=I,e[--C]=P,i&&(e[x++]=D,e[x++]=A,e[--C]=I,e[--C]=D)}}},triangulate:function(r,e){var t=r.points,n=e.points,i=e.indices;if(t.length!==0){var o=n.length/2,a=o,h,l;if(r.type!==Ae.RREC){var f=r.shape;h=f.x,l=f.y}else{var d=r.shape;h=d.x+d.width/2,l=d.y+d.height/2}var v=r.matrix;n.push(r.matrix?v.a*h+v.c*l+v.tx:h,r.matrix?v.b*h+v.d*l+v.ty:l),o++,n.push(t[0],t[1]);for(var p=2;p<t.length;p+=2)n.push(t[p],t[p+1]),i.push(o++,a,o);i.push(a+1,a,o)}}},j_={build:function(r){var e=r.shape,t=e.x,n=e.y,i=e.width,o=e.height,a=r.points;a.length=0,a.push(t,n,t+i,n,t+i,n+o,t,n+o)},triangulate:function(r,e){var t=r.points,n=e.points,i=n.length/2;n.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Ci(r,e,t){var n=e-r;return r+n*t}function ia(r,e,t,n,i,o,a){a===void 0&&(a=[]);for(var h=20,l=a,f=0,d=0,v=0,p=0,g=0,m=0,x=0,y=0;x<=h;++x)y=x/h,f=Ci(r,t,y),d=Ci(e,n,y),v=Ci(t,i,y),p=Ci(n,o,y),g=Ci(f,v,y),m=Ci(d,p,y),!(x===0&&l[l.length-2]===g&&l[l.length-1]===m)&&l.push(g,m);return l}var q_={build:function(r){if(Ho.nextRoundedRectBehavior){ko.build(r);return}var e=r.shape,t=r.points,n=e.x,i=e.y,o=e.width,a=e.height,h=Math.max(0,Math.min(e.radius,Math.min(o,a)/2));t.length=0,h?(ia(n,i+h,n,i,n+h,i,t),ia(n+o-h,i,n+o,i,n+o,i+h,t),ia(n+o,i+a-h,n+o,i+a,n+o-h,i+a,t),ia(n+h,i+a,n,i+a,n,i+a-h,t)):t.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(r,e){if(Ho.nextRoundedRectBehavior){ko.triangulate(r,e);return}for(var t=r.points,n=e.points,i=e.indices,o=n.length/2,a=Ni(t,null,2),h=0,l=a.length;h<l;h+=3)i.push(a[h]+o),i.push(a[h+1]+o),i.push(a[h+2]+o);for(var h=0,l=t.length;h<l;h++)n.push(t[h],t[++h])}};function Kp(r,e,t,n,i,o,a,h){var l=r-t*i,f=e-n*i,d=r+t*o,v=e+n*o,p,g;a?(p=n,g=-t):(p=-n,g=t);var m=l+p,x=f+g,y=d+p,E=v+g;return h.push(m,x),h.push(y,E),2}function jn(r,e,t,n,i,o,a,h){var l=t-r,f=n-e,d=Math.atan2(l,f),v=Math.atan2(i-r,o-e);h&&d<v?d+=Math.PI*2:!h&&d>v&&(v+=Math.PI*2);var p=d,g=v-d,m=Math.abs(g),x=Math.sqrt(l*l+f*f),y=(15*m*Math.sqrt(x)/Math.PI>>0)+1,E=g/y;if(p+=E,h){a.push(r,e),a.push(t,n);for(var C=1,S=p;C<y;C++,S+=E)a.push(r,e),a.push(r+Math.sin(S)*x,e+Math.cos(S)*x);a.push(r,e),a.push(i,o)}else{a.push(t,n),a.push(r,e);for(var C=1,S=p;C<y;C++,S+=E)a.push(r+Math.sin(S)*x,e+Math.cos(S)*x),a.push(r,e);a.push(i,o),a.push(r,e)}return y*2}function sR(r,e){var t=r.shape,n=r.points||t.points.slice(),i=e.closePointEps;if(n.length!==0){var o=r.lineStyle,a=new qt(n[0],n[1]),h=new qt(n[n.length-2],n[n.length-1]),l=t.type!==Ae.POLY||t.closeStroke,f=Math.abs(a.x-h.x)<i&&Math.abs(a.y-h.y)<i;if(l){n=n.slice(),f&&(n.pop(),n.pop(),h.set(n[n.length-2],n[n.length-1]));var d=(a.x+h.x)*.5,v=(h.y+a.y)*.5;n.unshift(d,v),n.push(d,v)}var p=e.points,g=n.length/2,m=n.length,x=p.length/2,y=o.width/2,E=y*y,C=o.miterLimit*o.miterLimit,S=n[0],O=n[1],P=n[2],D=n[3],A=0,I=0,F=-(O-D),B=S-P,J=0,nt=0,_t=Math.sqrt(F*F+B*B);F/=_t,B/=_t,F*=y,B*=y;var Rt=o.alignment,$=(1-Rt)*2,Q=Rt*2;l||(o.cap===cn.ROUND?m+=jn(S-F*($-Q)*.5,O-B*($-Q)*.5,S-F*$,O-B*$,S+F*Q,O+B*Q,p,!0)+2:o.cap===cn.SQUARE&&(m+=Kp(S,O,F,B,$,Q,!0,p))),p.push(S-F*$,O-B*$),p.push(S+F*Q,O+B*Q);for(var V=1;V<g-1;++V){S=n[(V-1)*2],O=n[(V-1)*2+1],P=n[V*2],D=n[V*2+1],A=n[(V+1)*2],I=n[(V+1)*2+1],F=-(O-D),B=S-P,_t=Math.sqrt(F*F+B*B),F/=_t,B/=_t,F*=y,B*=y,J=-(D-I),nt=P-A,_t=Math.sqrt(J*J+nt*nt),J/=_t,nt/=_t,J*=y,nt*=y;var ft=P-S,ht=O-D,q=P-A,X=I-D,ct=ft*q+ht*X,yt=ht*q-X*ft,Et=yt<0;if(Math.abs(yt)<.001*Math.abs(ct)){p.push(P-F*$,D-B*$),p.push(P+F*Q,D+B*Q),ct>=0&&(o.join===kr.ROUND?m+=jn(P,D,P-F*$,D-B*$,P-J*$,D-nt*$,p,!1)+4:m+=2,p.push(P-J*Q,D-nt*Q),p.push(P+J*$,D+nt*$));continue}var Nt=(-F+S)*(-B+D)-(-F+P)*(-B+O),Lt=(-J+A)*(-nt+D)-(-J+P)*(-nt+I),Ht=(ft*Lt-q*Nt)/yt,ot=(X*Nt-ht*Lt)/yt,G=(Ht-P)*(Ht-P)+(ot-D)*(ot-D),Y=P+(Ht-P)*$,Ut=D+(ot-D)*$,Xt=P-(Ht-P)*Q,lt=D-(ot-D)*Q,k=Math.min(ft*ft+ht*ht,q*q+X*X),Zt=Et?$:Q,fe=k+Zt*Zt*E,K=G<=fe;K?o.join===kr.BEVEL||G/E>C?(Et?(p.push(Y,Ut),p.push(P+F*Q,D+B*Q),p.push(Y,Ut),p.push(P+J*Q,D+nt*Q)):(p.push(P-F*$,D-B*$),p.push(Xt,lt),p.push(P-J*$,D-nt*$),p.push(Xt,lt)),m+=2):o.join===kr.ROUND?Et?(p.push(Y,Ut),p.push(P+F*Q,D+B*Q),m+=jn(P,D,P+F*Q,D+B*Q,P+J*Q,D+nt*Q,p,!0)+4,p.push(Y,Ut),p.push(P+J*Q,D+nt*Q)):(p.push(P-F*$,D-B*$),p.push(Xt,lt),m+=jn(P,D,P-F*$,D-B*$,P-J*$,D-nt*$,p,!1)+4,p.push(P-J*$,D-nt*$),p.push(Xt,lt)):(p.push(Y,Ut),p.push(Xt,lt)):(p.push(P-F*$,D-B*$),p.push(P+F*Q,D+B*Q),o.join===kr.ROUND?Et?m+=jn(P,D,P+F*Q,D+B*Q,P+J*Q,D+nt*Q,p,!0)+2:m+=jn(P,D,P-F*$,D-B*$,P-J*$,D-nt*$,p,!1)+2:o.join===kr.MITER&&G/E<=C&&(Et?(p.push(Xt,lt),p.push(Xt,lt)):(p.push(Y,Ut),p.push(Y,Ut)),m+=2),p.push(P-J*$,D-nt*$),p.push(P+J*Q,D+nt*Q),m+=2)}S=n[(g-2)*2],O=n[(g-2)*2+1],P=n[(g-1)*2],D=n[(g-1)*2+1],F=-(O-D),B=S-P,_t=Math.sqrt(F*F+B*B),F/=_t,B/=_t,F*=y,B*=y,p.push(P-F*$,D-B*$),p.push(P+F*Q,D+B*Q),l||(o.cap===cn.ROUND?m+=jn(P-F*($-Q)*.5,D-B*($-Q)*.5,P-F*$,D-B*$,P+F*Q,D+B*Q,p,!1)+2:o.cap===cn.SQUARE&&(m+=Kp(P,D,F,B,$,Q,!1,p)));for(var Le=e.indices,vn=Gi.epsilon*Gi.epsilon,V=x;V<m+x-2;++V)S=p[V*2],O=p[V*2+1],P=p[(V+1)*2],D=p[(V+1)*2+1],A=p[(V+2)*2],I=p[(V+2)*2+1],!(Math.abs(S*(D-I)+P*(I-O)+A*(O-D))<vn)&&Le.push(V,V+1,V+2)}}function aR(r,e){var t=0,n=r.shape,i=r.points||n.points,o=n.type!==Ae.POLY||n.closeStroke;if(i.length!==0){var a=e.points,h=e.indices,l=i.length/2,f=a.length/2,d=f;for(a.push(i[0],i[1]),t=1;t<l;t++)a.push(i[t*2],i[t*2+1]),h.push(d,d+1),d++;o&&h.push(d,f)}}function hl(r,e){r.lineStyle.native?aR(r,e):sR(r,e)}var ll=function(){function r(){}return r.curveTo=function(e,t,n,i,o,a){var h=a[a.length-2],l=a[a.length-1],f=l-t,d=h-e,v=i-t,p=n-e,g=Math.abs(f*p-d*v);if(g<1e-8||o===0)return(a[a.length-2]!==e||a[a.length-1]!==t)&&a.push(e,t),null;var m=f*f+d*d,x=v*v+p*p,y=f*v+d*p,E=o*Math.sqrt(m)/g,C=o*Math.sqrt(x)/g,S=E*y/m,O=C*y/x,P=E*p+C*d,D=E*v+C*f,A=d*(C+S),I=f*(C+S),F=p*(E+O),B=v*(E+O),J=Math.atan2(I-D,A-P),nt=Math.atan2(B-D,F-P);return{cx:P+e,cy:D+t,radius:o,startAngle:J,endAngle:nt,anticlockwise:d*v>p*f}},r.arc=function(e,t,n,i,o,a,h,l,f){for(var d=h-a,v=Gi._segmentsCount(Math.abs(d)*o,Math.ceil(Math.abs(d)/Bo)*40),p=d/(v*2),g=p*2,m=Math.cos(p),x=Math.sin(p),y=v-1,E=y%1/y,C=0;C<=y;++C){var S=C+E*C,O=p+a+g*S,P=Math.cos(O),D=-Math.sin(O);f.push((m*P+x*D)*o+n,(m*-D+x*P)*o+i)}},r}(),K_=function(){function r(){}return r.curveLength=function(e,t,n,i,o,a,h,l){for(var f=10,d=0,v=0,p=0,g=0,m=0,x=0,y=0,E=0,C=0,S=0,O=0,P=e,D=t,A=1;A<=f;++A)v=A/f,p=v*v,g=p*v,m=1-v,x=m*m,y=x*m,E=y*e+3*x*v*n+3*m*p*o+g*h,C=y*t+3*x*v*i+3*m*p*a+g*l,S=P-E,O=D-C,P=E,D=C,d+=Math.sqrt(S*S+O*O);return d},r.curveTo=function(e,t,n,i,o,a,h){var l=h[h.length-2],f=h[h.length-1];h.length-=2;var d=Gi._segmentsCount(r.curveLength(l,f,e,t,n,i,o,a)),v=0,p=0,g=0,m=0,x=0;h.push(l,f);for(var y=1,E=0;y<=d;++y)E=y/d,v=1-E,p=v*v,g=p*v,m=E*E,x=m*E,h.push(g*l+3*p*E*e+3*v*m*n+x*o,g*f+3*p*E*t+3*v*m*i+x*a)},r}(),Z_=function(){function r(){}return r.curveLength=function(e,t,n,i,o,a){var h=e-2*n+o,l=t-2*i+a,f=2*n-2*e,d=2*i-2*t,v=4*(h*h+l*l),p=4*(h*f+l*d),g=f*f+d*d,m=2*Math.sqrt(v+p+g),x=Math.sqrt(v),y=2*v*x,E=2*Math.sqrt(g),C=p/x;return(y*m+x*p*(m-E)+(4*g*v-p*p)*Math.log((2*x+C+m)/(C+E)))/(4*y)},r.curveTo=function(e,t,n,i,o){for(var a=o[o.length-2],h=o[o.length-1],l=Gi._segmentsCount(r.curveLength(a,h,e,t,n,i)),f=0,d=0,v=1;v<=l;++v){var p=v/l;f=a+(e-a)*p,d=h+(t-h)*p,o.push(f+(e+(n-e)*p-f)*p,d+(t+(i-t)*p-d)*p)}},r}(),J_=function(){function r(){this.reset()}return r.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},r.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},r.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},r}(),qn,ca=(qn={},qn[Ae.POLY]=Tf,qn[Ae.CIRC]=ko,qn[Ae.ELIP]=ko,qn[Ae.RECT]=j_,qn[Ae.RREC]=q_,qn),fl=[],bo=[],cl=function(){function r(e,t,n,i){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=i,this.type=e.type}return r.prototype.clone=function(){return new r(this.shape,this.fillStyle,this.lineStyle,this.matrix)},r.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},r}(),Ii=new qt,Q_=function(r){xf(e,r);function e(){var t=r.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new No,t.boundsDirty=-1,t}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),bo.push(this.drawCalls[t]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var n=this.batches[t];n.reset(),fl.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new cl(t,n,i,o);return this.graphicsData.push(a),this.dirty++,this},e.prototype.drawHole=function(t,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new cl(t,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){r.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(t,Ii):Ii.copyFrom(t),o.shape.contains(Ii.x,Ii.y))){var a=!1;if(o.holes)for(var h=0;h<o.holes.length;h++){var l=o.holes[h];if(l.shape.contains(Ii.x,Ii.y)){a=!0;break}}if(!a)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,n=this.graphicsData,i=null,o=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],o=i.style);for(var a=this.shapeIndex;a<n.length;a++){this.shapeIndex++;var h=n[a],l=h.fillStyle,f=h.lineStyle,d=ca[h.type];d.build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(l.visible||f.visible)&&this.processHoles(h.holes);for(var v=0;v<2;v++){var p=v===0?l:f;if(p.visible){var g=p.texture.baseTexture,m=this.indices.length,x=this.points.length/2;g.wrapMode=Ir.REPEAT,v===0?this.processFill(h):this.processLine(h);var y=this.points.length/2-x;y!==0&&(i&&!this._compareStyles(o,p)&&(i.end(m,x),i=null),i||(i=fl.pop()||new J_,i.begin(p,m,x),this.batches.push(i),o=p),this.addUvs(this.points,t,p.texture,x,y,p.matrix))}}}var E=this.indices.length,C=this.points.length/2;if(i&&i.end(E,C),this.batches.length===0){this.batchable=!0;return}var S=C>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&S===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=S?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(t,n){return!(!t||!n||t.texture.baseTexture!==n.texture.baseTexture||t.color+t.alpha!==n.color+n.alpha||!!t.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,n=this.graphicsData.length;t<n;t++){var i=this.graphicsData[t],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,n=0,i=t.length;n<i;n++)for(var o=t[n],a=0;a<o.size;a++){var h=o.start+a;this.indicesUint16[h]=this.indicesUint16[h]-o.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var t=this.batches,n=0;n<t.length;n++)if(t[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var t=++Mt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),bo.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=bo.pop();a||(a=new _a,a.texArray=new ga),a.texArray.count=0,a.start=0,a.size=0,a.type=_r.TRIANGLES;var h=0,l=null,f=0,d=!1,v=_r.TRIANGLES,p=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var g=this.batches[n],m=8,x=g.style,y=x.texture.baseTexture;d!==!!x.native&&(d=!!x.native,v=d?_r.LINES:_r.TRIANGLES,l=null,h=m,t++),l!==y&&(l=y,y._batchEnabled!==t&&(h===m&&(t++,h=0,a.size>0&&(a=bo.pop(),a||(a=new _a,a.texArray=new ga),this.drawCalls.push(a)),a.start=p,a.size=0,a.texArray.count=0,a.type=v),y.touched=1,y._batchEnabled=t,y._batchLocation=h,y.wrapMode=Ir.REPEAT,a.texArray.elements[a.texArray.count++]=y,h++)),a.size+=g.size,p+=g.size,f=y._batchLocation,this.addColors(i,x.color,x.alpha,g.attribSize,g.attribStart),this.addTextureIds(o,f,g.attribSize,g.attribStart)}Mt._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,n=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(t.length*3*4),h=new Float32Array(a),l=new Uint32Array(a),f=0,d=0;d<t.length/2;d++)h[f++]=t[d*2],h[f++]=t[d*2+1],h[f++]=n[d*2],h[f++]=n[d*2+1],l[f++]=i[d],h[f++]=o[d];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){if(t.holes.length)Tf.triangulate(t,this);else{var n=ca[t.type];n.triangulate(t,this)}},e.prototype.processLine=function(t){hl(t,this);for(var n=0;n<t.holes.length;n++)hl(t.holes[n],this)},e.prototype.processHoles=function(t){for(var n=0;n<t.length;n++){var i=t[n],o=ca[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,n){for(var i=0;i<t.length/2;i++){var o=t[i*2],a=t[i*2+1];t[i*2]=n.a*o+n.c*a+n.tx,t[i*2+1]=n.b*o+n.d*a+n.ty}},e.prototype.addColors=function(t,n,i,o,a){a===void 0&&(a=0);var h=(n>>16)+(n&65280)+((n&255)<<16),l=Aa(h,i);t.length=Math.max(t.length,a+o);for(var f=0;f<o;f++)t[a+f]=l},e.prototype.addTextureIds=function(t,n,i,o){o===void 0&&(o=0),t.length=Math.max(t.length,o+i);for(var a=0;a<i;a++)t[o+a]=n},e.prototype.addUvs=function(t,n,i,o,a,h){h===void 0&&(h=null);for(var l=0,f=n.length,d=i.frame;l<a;){var v=t[(o+l)*2],p=t[(o+l)*2+1];if(h){var g=h.a*v+h.c*p+h.tx;p=h.b*v+h.d*p+h.ty,v=g}l++,n.push(v/d.width,p/d.height)}var m=i.baseTexture;(d.width<m.width||d.height<m.height)&&this.adjustUvs(n,i,f,a)},e.prototype.adjustUvs=function(t,n,i,o){for(var a=n.baseTexture,h=1e-6,l=i+o*2,f=n.frame,d=f.width/a.width,v=f.height/a.height,p=f.x/f.width,g=f.y/f.height,m=Math.floor(t[i]+h),x=Math.floor(t[i+1]+h),y=i+2;y<l;y+=2)m=Math.min(m,Math.floor(t[y]+h)),x=Math.min(x,Math.floor(t[y+1]+h));p-=m,g-=x;for(var y=i;y<l;y+=2)t[y]=(t[y]+p)*d,t[y+1]=(t[y+1]+g)*v},e.BATCHABLE_SIZE=100,e}(_f),$_=function(r){xf(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=cn.BUTT,t.join=kr.MITER,t.miterLimit=10,t}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){r.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(bf),uR=new Float32Array(3),Sh={},Ho=function(r){xf(e,r);function e(t){t===void 0&&(t=null);var n=r.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new bf,n._lineStyle=new $_,n._matrix=null,n._holeMode=!1,n.state=Fn.for2d(),n._geometry=t||new Q_,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=dt.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,n,i,o,a){return t===void 0&&(t=null),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=.5),a===void 0&&(a=!1),typeof t=="number"&&(t={width:t,color:n,alpha:i,alignment:o,native:a}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:vt.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:cn.BUTT,join:kr.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new To,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[n-2],t[n-1]))}else this.currentPath=new To,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,n){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(t,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==t||a!==n)&&i.push(t,n),this},e.prototype._initCurve=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,n]):this.moveTo(t,n)},e.prototype.quadraticCurveTo=function(t,n,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),Z_.curveTo(t,n,i,o,a),this},e.prototype.bezierCurveTo=function(t,n,i,o,a,h){return this._initCurve(),K_.curveTo(t,n,i,o,a,h,this.currentPath.points),this},e.prototype.arcTo=function(t,n,i,o,a){this._initCurve(t,n);var h=this.currentPath.points,l=ll.curveTo(t,n,i,o,a,h);if(l){var f=l.cx,d=l.cy,v=l.radius,p=l.startAngle,g=l.endAngle,m=l.anticlockwise;this.arc(f,d,v,p,g,m)}return this},e.prototype.arc=function(t,n,i,o,a,h){if(h===void 0&&(h=!1),o===a)return this;!h&&a<=o?a+=Bo:h&&o<=a&&(o+=Bo);var l=a-o;if(l===0)return this;var f=t+Math.cos(o)*i,d=n+Math.sin(o)*i,v=this._geometry.closePointEps,p=this.currentPath?this.currentPath.points:null;if(p){var g=Math.abs(p[p.length-2]-f),m=Math.abs(p[p.length-1]-d);g<v&&m<v||p.push(f,d)}else this.moveTo(f,d),p=this.currentPath.points;return ll.arc(f,d,t,n,i,o,a,h,p),this},e.prototype.beginFill=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=1),this.beginTextureFill({texture:vt.WHITE,color:t,alpha:n})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:vt.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,n,i,o){return this.drawShape(new Dt(t,n,i,o))},e.prototype.drawRoundedRect=function(t,n,i,o,a){return this.drawShape(new Zv(t,n,i,o,a))},e.prototype.drawCircle=function(t,n,i){return this.drawShape(new qv(t,n,i))},e.prototype.drawEllipse=function(t,n,i,o){return this.drawShape(new Kv(t,n,i,o))},e.prototype.drawPolygon=function(){for(var t=arguments,n=[],i=0;i<arguments.length;i++)n[i]=t[i];var o,a=!0,h=n[0];h.points?(a=h.closeStroke,o=h.points):Array.isArray(n[0])?o=n[0]:o=n;var l=new To(o);return l.closeStroke=a,this.drawShape(l),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ae.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,n=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var o=0;o<i;o++){var a=t.batches[o],h=a.style.color,l=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),f=new Float32Array(t.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),d=new Uint16Array(t.indicesUint16.buffer,a.start*2,a.size),v={vertexData:l,blendMode:n,indices:d,uvs:f,_batchRGB:In(h),_tintRGB:h,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=v}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,t.plugins[this.pluginName].render(o)}}},e.prototype._renderDirect=function(t){var n=this._resolveDirectShader(t),i=this._geometry,o=this.tint,a=this.worldAlpha,h=n.uniforms,l=i.drawCalls;h.translationMatrix=this.transform.worldTransform,h.tint[0]=(o>>16&255)/255*a,h.tint[1]=(o>>8&255)/255*a,h.tint[2]=(o&255)/255*a,h.tint[3]=a,t.shader.bind(n),t.geometry.bind(i,n),t.state.set(this.state);for(var f=0,d=l.length;f<d;f++)this._renderDrawCallDirect(t,i.drawCalls[f])},e.prototype._renderDrawCallDirect=function(t,n){for(var i=n.texArray,o=n.type,a=n.size,h=n.start,l=i.count,f=0;f<l;f++)t.texture.bind(i.elements[f],f);t.geometry.draw(o,a,h)},e.prototype._resolveDirectShader=function(t){var n=this.shader,i=this.pluginName;if(!n){if(!Sh[i]){for(var o=t.plugins[i].MAX_TEXTURES,a=new Int32Array(o),h=0;h<o;h++)a[h]=h;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new Te,default:Cn.from({uSamplers:a},!0)},f=t.plugins[i]._shader.program;Sh[i]=new dn(f,l)}n=Sh[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var n=t.bounds,i=n.minX,o=n.minY,a=n.maxX,h=n.maxY;this._bounds.addFrame(this.transform,i,o,a,h)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=In(this.tint,uR),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,a=t[0]*o[0]*255,h=t[1]*o[1]*255,l=t[2]*o[2]*255,f=(a<<16)+(h<<8)+(l|0);i._tintRGB=(f>>16)+(f&65280)+((f&255)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,h=n.d,l=n.tx,f=n.ty,d=this._geometry.points,v=this.vertexData,p=0,g=0;g<d.length;g+=2){var m=d[g],x=d[g+1];v[p++]=i*m+a*x+l,v[p++]=h*x+o*m+f}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,r.prototype.destroy.call(this,t)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new qt,e}(Ze),hR={buildPoly:Tf,buildCircle:ko,buildRectangle:j_,buildRoundedRectangle:q_,buildLine:hl,ArcUtils:ll,BezierUtils:K_,QuadraticUtils:Z_,BatchPart:J_,FILL_COMMANDS:ca,BATCH_POOL:fl,DRAW_CALL_POOL:bo};/*!
 * @pixi/sprite - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dl=function(r,e){return dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},dl(r,e)};function lR(r,e){dl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var mo=new qt,fR=new Uint16Array([0,1,2,0,2,3]),Ke=function(r){lR(e,r);function e(t){var n=r.call(this)||this;return n._anchor=new fn(n._onAnchorUpdate,n,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=dt.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=t||vt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=fR,n.pluginName="batch",n.isSprite=!0,n._roundPixels=tt.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ei(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ei(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===t._updateID)){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,h=n.d,l=n.tx,f=n.ty,d=this.vertexData,v=t.trim,p=t.orig,g=this._anchor,m=0,x=0,y=0,E=0;if(v?(x=v.x-g._x*p.width,m=x+v.width,E=v.y-g._y*p.height,y=E+v.height):(x=-g._x*p.width,m=x+p.width,E=-g._y*p.height,y=E+p.height),d[0]=i*x+a*E+l,d[1]=h*E+o*x+f,d[2]=i*m+a*E+l,d[3]=h*E+o*m+f,d[4]=i*m+a*y+l,d[5]=h*y+o*m+f,d[6]=i*x+a*y+l,d[7]=h*y+o*x+f,this._roundPixels)for(var C=tt.RESOLUTION,S=0;S<d.length;++S)d[S]=Math.round((d[S]*C|0)/C)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,n=this.vertexTrimmedData,i=t.orig,o=this._anchor,a=this.transform.worldTransform,h=a.a,l=a.b,f=a.c,d=a.d,v=a.tx,p=a.ty,g=-o._x*i.width,m=g+i.width,x=-o._y*i.height,y=x+i.height;n[0]=h*g+f*x+v,n[1]=d*x+l*g+p,n[2]=h*m+f*x+v,n[3]=d*x+l*m+p,n[4]=h*m+f*y+v,n[5]=d*y+l*m+p,n[6]=h*g+f*y+v,n[7]=d*y+l*g+p},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,n=this._texture.orig;!t||t.width===n.width&&t.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(t){return this.children.length===0?(this._localBounds||(this._localBounds=new No),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Dt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):r.prototype.getLocalBounds.call(this,t)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,mo);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,a=0;return mo.x>=o&&mo.x<o+n&&(a=-i*this.anchor.y,mo.y>=a&&mo.y<a+i)},e.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof t=="boolean"?t:t&&t.texture;if(n){var i=typeof t=="boolean"?t:t&&t.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(t,n){var i=t instanceof vt?t:vt.from(t,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var n=ei(this.scale.x)||1;this.scale.x=n*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var n=ei(this.scale.y)||1;this.scale.y=n*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||vt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Ze);/*!
 * @pixi/text - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pl=function(r,e){return pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},pl(r,e)};function cR(r,e){pl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ki;(function(r){r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(ki||(ki={}));var Ah={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ki.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},dR=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],si=function(){function r(e){this.styleID=0,this.reset(),Rh(this,e,e)}return r.prototype.clone=function(){var e={};return Rh(e,this,Ah),new r(e)},r.prototype.reset=function(){Rh(this,Ah,Ah)},Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=Ph(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=Ph(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){pR(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=Ph(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),r.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var i=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&dR.indexOf(i)<0&&(i='"'+i+'"'),t[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},r}();function Zp(r){return typeof r=="number"?Bl(r):(typeof r=="string"&&r.indexOf("0x")===0&&(r=r.replace("0x","#")),r)}function Ph(r){if(Array.isArray(r)){for(var e=0;e<r.length;++e)r[e]=Zp(r[e]);return r}else return Zp(r)}function pR(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(var t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}function Rh(r,e,t){for(var n in t)Array.isArray(e[n])?r[n]=e[n].slice():r[n]=e[n]}var oa={willReadFrequently:!0},Fr=function(){function r(e,t,n,i,o,a,h,l,f){this.text=e,this.style=t,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=h,this.maxLineWidth=l,this.fontProperties=f}return r.measureText=function(e,t,n,i){i===void 0&&(i=r._canvas),n=n??t.wordWrap;var o=t.toFontString(),a=r.measureFont(o);a.fontSize===0&&(a.fontSize=t.fontSize,a.ascent=t.fontSize);var h=i.getContext("2d",oa);h.font=o;for(var l=n?r.wordWrap(e,t,i):e,f=l.split(/(?:\r\n|\r|\n)/),d=new Array(f.length),v=0,p=0;p<f.length;p++){var g=h.measureText(f[p]).width+(f[p].length-1)*t.letterSpacing;d[p]=g,v=Math.max(v,g)}var m=v+t.strokeThickness;t.dropShadow&&(m+=t.dropShadowDistance);var x=t.lineHeight||a.fontSize+t.strokeThickness,y=Math.max(x,a.fontSize+t.strokeThickness)+(f.length-1)*(x+t.leading);return t.dropShadow&&(y+=t.dropShadowDistance),new r(e,t,m,y,f,d,x+t.leading,v,a)},r.wordWrap=function(e,t,n){n===void 0&&(n=r._canvas);for(var i=n.getContext("2d",oa),o=0,a="",h="",l=Object.create(null),f=t.letterSpacing,d=t.whiteSpace,v=r.collapseSpaces(d),p=r.collapseNewlines(d),g=!v,m=t.wordWrapWidth+f,x=r.tokenize(e),y=0;y<x.length;y++){var E=x[y];if(r.isNewline(E)){if(!p){h+=r.addLine(a),g=!v,a="",o=0;continue}E=" "}if(v){var C=r.isBreakingSpace(E),S=r.isBreakingSpace(a[a.length-1]);if(C&&S)continue}var O=r.getFromCache(E,f,l,i);if(O>m)if(a!==""&&(h+=r.addLine(a),a="",o=0),r.canBreakWords(E,t.breakWords))for(var P=r.wordWrapSplit(E),D=0;D<P.length;D++){for(var A=P[D],I=1;P[D+I];){var F=P[D+I],B=A[A.length-1];if(!r.canBreakChars(B,F,E,D,t.breakWords))A+=F;else break;I++}D+=A.length-1;var J=r.getFromCache(A,f,l,i);J+o>m&&(h+=r.addLine(a),g=!1,a="",o=0),a+=A,o+=J}else{a.length>0&&(h+=r.addLine(a),a="",o=0);var nt=y===x.length-1;h+=r.addLine(E,!nt),g=!1,a="",o=0}else O+o>m&&(g=!1,h+=r.addLine(a),a="",o=0),(a.length>0||!r.isBreakingSpace(E)||g)&&(a+=E,o+=O)}return h+=r.addLine(a,!1),h},r.addLine=function(e,t){return t===void 0&&(t=!0),e=r.trimRight(e),e=t?e+`
`:e,e},r.getFromCache=function(e,t,n,i){var o=n[e];if(typeof o!="number"){var a=e.length*t;o=i.measureText(e).width+a,n[e]=o}return o},r.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},r.collapseNewlines=function(e){return e==="normal"},r.trimRight=function(e){if(typeof e!="string")return"";for(var t=e.length-1;t>=0;t--){var n=e[t];if(!r.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},r.isNewline=function(e){return typeof e!="string"?!1:r._newlines.indexOf(e.charCodeAt(0))>=0},r.isBreakingSpace=function(e,t){return typeof e!="string"?!1:r._breakingSpaces.indexOf(e.charCodeAt(0))>=0},r.tokenize=function(e){var t=[],n="";if(typeof e!="string")return t;for(var i=0;i<e.length;i++){var o=e[i],a=e[i+1];if(r.isBreakingSpace(o,a)||r.isNewline(o)){n!==""&&(t.push(n),n=""),t.push(o);continue}n+=o}return n!==""&&t.push(n),t},r.canBreakWords=function(e,t){return t},r.canBreakChars=function(e,t,n,i,o){return!0},r.wordWrapSplit=function(e){return e.split("")},r.measureFont=function(e){if(r._fonts[e])return r._fonts[e];var t={ascent:0,descent:0,fontSize:0},n=r._canvas,i=r._context;i.font=e;var o=r.METRICS_STRING+r.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),h=Math.ceil(i.measureText(r.BASELINE_SYMBOL).width),l=Math.ceil(r.HEIGHT_MULTIPLIER*h);h=h*r.BASELINE_MULTIPLIER|0,n.width=a,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,h);var f=i.getImageData(0,0,a,l).data,d=f.length,v=a*4,p=0,g=0,m=!1;for(p=0;p<h;++p){for(var x=0;x<v;x+=4)if(f[g+x]!==255){m=!0;break}if(!m)g+=v;else break}for(t.ascent=h-p,g=d-v,m=!1,p=l;p>h;--p){for(var x=0;x<v;x+=4)if(f[g+x]!==255){m=!0;break}if(!m)g-=v;else break}return t.descent=p-h,t.fontSize=t.ascent+t.descent,r._fonts[e]=t,t},r.clearMetrics=function(e){e===void 0&&(e=""),e?delete r._fonts[e]:r._fonts={}},Object.defineProperty(r,"_canvas",{get:function(){if(!r.__canvas){var e=void 0;try{var t=new OffscreenCanvas(0,0),n=t.getContext("2d",oa);if(n&&n.measureText)return r.__canvas=t,t;e=tt.ADAPTER.createCanvas()}catch{e=tt.ADAPTER.createCanvas()}e.width=e.height=10,r.__canvas=e}return r.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(r,"_context",{get:function(){return r.__context||(r.__context=r._canvas.getContext("2d",oa)),r.__context},enumerable:!1,configurable:!0}),r}();Fr._fonts={};Fr.METRICS_STRING="|ÉqÅ";Fr.BASELINE_SYMBOL="M";Fr.BASELINE_MULTIPLIER=1.4;Fr.HEIGHT_MULTIPLIER=2;Fr._newlines=[10,13];Fr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var vR={texture:!0,children:!1,baseTexture:!0},Ma=function(r){cR(e,r);function e(t,n,i){var o=this,a=!1;i||(i=tt.ADAPTER.createCanvas(),a=!0),i.width=3,i.height=3;var h=vt.from(i);return h.orig=new Dt,h.trim=new Dt,o=r.call(this,h)||this,o._ownCanvas=a,o.canvas=i,o.context=i.getContext("2d",{willReadFrequently:!0}),o._resolution=tt.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=t,o.style=n,o.localStyleID=-1,o}return e.prototype.updateText=function(t){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&t)){this._font=this._style.toFontString();var i=this.context,o=Fr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,h=o.height,l=o.lines,f=o.lineHeight,d=o.lineWidths,v=o.maxLineWidth,p=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var g,m,x=n.dropShadow?2:1,y=0;y<x;++y){var E=n.dropShadow&&y===0,C=E?Math.ceil(Math.max(1,h)+n.padding*2):0,S=C*this._resolution;if(E){i.fillStyle="black",i.strokeStyle="black";var O=n.dropShadowColor,P=In(typeof O=="number"?O:Sa(O)),D=n.dropShadowBlur*this._resolution,A=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+P[0]*255+","+P[1]*255+","+P[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=D,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*A,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*A+S}else i.fillStyle=this._generateFillStyle(n,l,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var I=(f-p.fontSize)/2;(!e.nextLineHeightBehavior||f-p.fontSize<0)&&(I=0);for(var F=0;F<l.length;F++)g=n.strokeThickness/2,m=n.strokeThickness/2+F*f+p.ascent+I,n.align==="right"?g+=v-d[F]:n.align==="center"&&(g+=(v-d[F])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(l[F],g+n.padding,m+n.padding-C,!0),n.fill&&this.drawLetterSpacing(l[F],g+n.padding,m+n.padding-C)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,n,i,o){o===void 0&&(o=!1);var a=this._style,h=a.letterSpacing,l=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(h===0||l){l&&(this.context.letterSpacing=h,this.context.textLetterSpacing=h),o?this.context.strokeText(t,n,i):this.context.fillText(t,n,i);return}for(var f=n,d=Array.from?Array.from(t):t.split(""),v=this.context.measureText(t).width,p=0,g=0;g<d.length;++g){var m=d[g];o?this.context.strokeText(m,f,i):this.context.fillText(m,f,i);for(var x="",y=g+1;y<d.length;++y)x+=d[y];p=this.context.measureText(x).width,f+=v-p+h,v=p}},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var n=Wv(t);n.data&&(t.width=n.width,t.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,h=i.baseTexture;i.trim.width=i._frame.width=t.width/this._resolution,i.trim.height=i._frame.height=t.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),h.setRealSize(t.width,t.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),r.prototype._render.call(this,t)},e.prototype.updateTransform=function(){this.updateText(!0),r.prototype.updateTransform.call(this)},e.prototype.getBounds=function(t,n){return this.updateText(!0),this._textureID===-1&&(t=!1),r.prototype.getBounds.call(this,t,n)},e.prototype.getLocalBounds=function(t){return this.updateText(!0),r.prototype.getLocalBounds.call(this,t)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,n,i){var o=t.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,h=t.dropShadow?t.dropShadowDistance:0,l=t.padding||0,f=this.canvas.width/this._resolution-h-l*2,d=this.canvas.height/this._resolution-h-l*2,v=o.slice(),p=t.fillGradientStops.slice();if(!p.length)for(var g=v.length+1,m=1;m<g;++m)p.push(m/g);if(v.unshift(o[0]),p.unshift(0),v.push(o[o.length-1]),p.push(1),t.fillGradientType===ki.LINEAR_VERTICAL){a=this.context.createLinearGradient(f/2,l,f/2,d+l);for(var x=i.fontProperties.fontSize+t.strokeThickness,m=0;m<n.length;m++){var y=i.lineHeight*(m-1)+x,E=i.lineHeight*m,C=E;m>0&&y>E&&(C=(E+y)/2);var S=E+x,O=i.lineHeight*(m+1),P=S;m+1<n.length&&O<S&&(P=(S+O)/2);for(var D=(P-C)/d,A=0;A<v.length;A++){var I=0;typeof p[A]=="number"?I=p[A]:I=A/v.length;var F=Math.min(1,Math.max(0,C/d+I*D));F=Number(F.toFixed(5)),a.addColorStop(F,v[A])}}}else{a=this.context.createLinearGradient(l,d/2,f+l,d/2);for(var B=v.length+1,J=1,m=0;m<v.length;m++){var nt=void 0;typeof p[m]=="number"?nt=p[m]:nt=J/B,a.addColorStop(nt,v[m]),J++}}return a},e.prototype.destroy=function(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},vR,t),r.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var n=ei(this.scale.x)||1;this.scale.x=n*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var n=ei(this.scale.y)||1;this.scale.y=n*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},t instanceof si?this._style=t:this._style=new si(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(Ke);/*!
 * @pixi/prepare - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */tt.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vl=function(r,e){return vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},vl(r,e)};function _R(r,e){vl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var tg=function(){function r(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return r.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},r.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},r}();function gR(r,e){var t=!1;if(r&&r._textures&&r._textures.length){for(var n=0;n<r._textures.length;n++)if(r._textures[n]instanceof vt){var i=r._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),t=!0)}}return t}function mR(r,e){if(r.baseTexture instanceof Mt){var t=r.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function yR(r,e){if(r._texture&&r._texture instanceof vt){var t=r._texture.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function bR(r,e){return e instanceof Ma?(e.updateText(!0),!0):!1}function xR(r,e){if(e instanceof si){var t=e.toFontString();return Fr.measureFont(t),!0}return!1}function TR(r,e){if(r instanceof Ma){e.indexOf(r.style)===-1&&e.push(r.style),e.indexOf(r)===-1&&e.push(r);var t=r._texture.baseTexture;return e.indexOf(t)===-1&&e.push(t),!0}return!1}function ER(r,e){return r instanceof si?(e.indexOf(r)===-1&&e.push(r),!0):!1}var eg=function(){function r(e){var t=this;this.limiter=new tg(tt.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(TR),this.registerFindHook(ER),this.registerFindHook(gR),this.registerFindHook(mR),this.registerFindHook(yR),this.registerUploadHook(bR),this.registerUploadHook(xR)}return r.prototype.upload=function(e,t){var n=this;return typeof e=="function"&&(t=e,e=null),t&&ke("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var o=function(){t==null||t(),i()};n.queue.length?(n.completes.push(o),n.ticking||(n.ticking=!0,Se.system.addOnce(n.tick,n,Dr.UTILITY))):o()})},r.prototype.tick=function(){setTimeout(this.delayedTick,0)},r.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Se.system.addOnce(this.tick,this,Dr.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},r.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},r.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},r.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Ze)for(var t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},r.prototype.destroy=function(){this.ticking&&Se.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},r}();function rg(r,e){return e instanceof Mt?(e._glTextures[r.CONTEXT_UID]||r.texture.bind(e),!0):!1}function wR(r,e){if(!(e instanceof Ho))return!1;var t=e.geometry;e.finishPoly(),t.updateBatches();for(var n=t.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&rg(r,o.baseTexture)}return t.batchable||r.geometry.bind(t,e._resolveDirectShader(r)),!0}function SR(r,e){return r instanceof Ho?(e.push(r),!0):!1}var ng=function(r){_R(e,r);function e(t){var n=r.call(this,t)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(SR),n.registerUploadHook(rg),n.registerUploadHook(wR),n}return e.extension={name:"prepare",type:$t.RendererPlugin},e}(eg),AR=function(){function r(e){this.maxMilliseconds=e,this.frameStart=0}return r.prototype.beginFrame=function(){this.frameStart=Date.now()},r.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},r}();/*!
 * @pixi/spritesheet - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ig=function(){function r(e,t,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof vt?e:null,this.baseTexture=e instanceof Mt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r.prototype._updateResolution=function(e){e===void 0&&(e=null);var t=this.data.meta.scale,n=Lo(e,null);return n===null&&(n=t!==void 0?parseFloat(t):1),n!==1&&this.baseTexture.setResolution(n),n},r.prototype.parse=function(e){var t=this;return e&&ke("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){t._callback=function(i){e==null||e(i),n(i)},t._batchIndex=0,t._frameKeys.length<=r.BATCH_SIZE?(t._processFrames(0),t._processAnimations(),t._parseComplete()):t._nextBatch()})},r.prototype._processFrames=function(e){for(var t=e,n=r.BATCH_SIZE;t-e<n&&t<this._frameKeys.length;){var i=this._frameKeys[t],o=this._frames[i],a=o.frame;if(a){var h=null,l=null,f=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,d=new Dt(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);o.rotated?h=new Dt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):h=new Dt(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(l=new Dt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new vt(this.baseTexture,h,d,l,o.rotated?2:0,o.anchor),vt.addToCache(this.textures[i],i)}t++}},r.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var i=e[t][n];this.animations[t].push(this.textures[i])}}},r.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},r.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*r.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*r.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},r.prototype.destroy=function(e){var t;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)===null||t===void 0||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},r.BATCH_SIZE=1e3,r}(),og=function(){function r(){}return r.use=function(e,t){var n,i,o=this,a=e.name+"_image";if(!e.data||e.type!==pe.TYPE.JSON||!e.data.frames||o.resources[a]){t();return}var h=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(h))for(var l=function(m){if(typeof m!="string")return"continue";var x=m.replace(".json",""),y=ti.resolve(e.url.replace(o.baseUrl,""),m);if(o.resources[x]||Object.values(o.resources).some(function(C){return ti.format(ti.parse(C.url))===y}))return"continue";var E={crossOrigin:e.crossOrigin,loadType:pe.LOAD_TYPE.XHR,xhrType:pe.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};o.add(x,y,E)},f=0,d=h;f<d.length;f++){var v=d[f];l(v)}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},g=r.getResourcePath(e,o.baseUrl);o.add(a,g,p,function(x){if(x.error){t(x.error);return}var y=new ig(x.texture,e.data,e.url);y.parse().then(function(){e.spritesheet=y,e.textures=y.textures,t()})})},r.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:ti.resolve(e.url.replace(t,""),e.data.meta.image)},r.extension=$t.Loader,r}();/*!
 * @pixi/sprite-tiling - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _l=function(r,e){return _l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},_l(r,e)};function sg(r,e){_l(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var yo=new qt,PR=function(r){sg(e,r);function e(t,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=r.call(this,t)||this;return o.tileTransform=new kl,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new Oa(t),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,n,i,o)},e.prototype.getLocalBounds=function(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Dt),t=this._localBoundsRect),this._bounds.getRectangle(t)):r.prototype.getLocalBounds.call(this,t)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,yo);var n=this._width,i=this._height,o=-n*this.anchor._x;if(yo.x>=o&&yo.x<o+n){var a=-i*this.anchor._y;if(yo.y>=a&&yo.y<a+i)return!0}return!1},e.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,n){var i=t instanceof vt?t:vt.from(t,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(Ke),RR=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Jp=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,CR=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,IR=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,OR=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,sa=new Te,ag=function(r){sg(e,r);function e(t){var n=r.call(this,t)||this;return t.runners.contextChange.add(n),n.quad=new Jl,n.state=Fn.for2d(),n}return e.prototype.contextChange=function(){var t=this.renderer,n={globals:t.globalUniforms};this.simpleShader=dn.from(Jp,RR,n),this.shader=t.context.webGLVersion>1?dn.from(IR,OR,n):dn.from(Jp,CR,n)},e.prototype.render=function(t){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=t._width*-t.anchor.x,o[1]=o[3]=t._height*-t.anchor.y,o[2]=o[4]=t._width*(1-t.anchor.x),o[5]=o[7]=t._height*(1-t.anchor.y);var a=t.uvRespectAnchor?t.anchor.x:0,h=t.uvRespectAnchor?t.anchor.y:0;o=i.uvs,o[0]=o[6]=-a,o[1]=o[3]=-h,o[2]=o[4]=1-a,o[5]=o[7]=1-h,i.invalidate();var l=t._texture,f=l.baseTexture,d=f.alphaMode>0,v=t.tileTransform.localTransform,p=t.uvMatrix,g=f.isPowerOfTwo&&l.frame.width===f.width&&l.frame.height===f.height;g&&(f._glTextures[n.CONTEXT_UID]?g=f.wrapMode!==Ir.CLAMP:f.wrapMode===Ir.CLAMP&&(f.wrapMode=Ir.REPEAT));var m=g?this.simpleShader:this.shader,x=l.width,y=l.height,E=t._width,C=t._height;sa.set(v.a*x/E,v.b*x/C,v.c*y/E,v.d*y/C,v.tx/E,v.ty/C),sa.invert(),g?sa.prepend(p.mapCoord):(m.uniforms.uMapCoord=p.mapCoord.toArray(!0),m.uniforms.uClampFrame=p.uClampFrame,m.uniforms.uClampOffset=p.uClampOffset),m.uniforms.uTransform=sa.toArray(!0),m.uniforms.uColor=Gl(t.tint,t.worldAlpha,m.uniforms.uColor,d),m.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),m.uniforms.uSampler=l,n.shader.bind(m),n.geometry.bind(i),this.state.blendMode=Ul(t.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:$t.RendererPlugin},e}(Yo);/*!
 * @pixi/mesh - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gl=function(r,e){return gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},gl(r,e)};function Ef(r,e){gl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ug=function(){function r(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return r.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},r}(),Ch=new qt,Qp=new To,Hi=function(r){Ef(e,r);function e(t,n,i,o){o===void 0&&(o=_r.TRIANGLES);var a=r.call(this)||this;return a.geometry=t,a.shader=n,a.state=i||Fn.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=tt.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===_r.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),t.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(n),t.state.set(this.state),t.geometry.bind(this.geometry,n),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[o]),t.plugins[o].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,n=t.buffers[0],i=n.data,o=n._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,h=a.a,l=a.b,f=a.c,d=a.d,v=a.tx,p=a.ty,g=this.vertexData,m=0;m<g.length/2;m++){var x=i[m*2],y=i[m*2+1];g[m*2]=h*x+f*y+v,g[m*2+1]=l*x+d*y+p}if(this._roundPixels)for(var E=tt.RESOLUTION,m=0;m<g.length;++m)g[m]=Math.round((g[m]*E|0)/E);this.vertexDirty=o}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new ug(t,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Ch);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=Qp.points,o=this.geometry.getIndex().data,a=o.length,h=this.drawMode===4?3:1,l=0;l+2<a;l+=h){var f=o[l]*2,d=o[l+1]*2,v=o[l+2]*2;if(i[0]=n[f],i[1]=n[f+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[v],i[5]=n[v+1],Qp.contains(Ch.x,Ch.y))return!0}return!1},e.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Ze),MR=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,DR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Xi=function(r){Ef(e,r);function e(t,n){var i=this,o={uSampler:t,alpha:1,uTextureMatrix:Te.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=r.call(this,n.program||Yi.from(DR,MR),o)||this,i._colorDirty=!1,i.uvMatrix=new Oa(t),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Gl(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(dn),jo=function(r){Ef(e,r);function e(t,n,i){var o=r.call(this)||this,a=new xe(t),h=new xe(n,!0),l=new xe(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,pt.FLOAT).addAttribute("aTextureCoord",h,2,!1,pt.FLOAT).addIndex(l),o._updateId=-1,o}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Vi);/*!
 * @pixi/text-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ml=function(r,e){return ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},ml(r,e)};function FR(r,e){ml(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Xo=function(){function r(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return r}(),hg=function(){function r(){}return r.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},r.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in t){var o=t[i].match(/^[a-z]+/gm)[0],a=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(var l in a){var f=a[l].split("="),d=f[0],v=f[1].replace(/"/gm,""),p=parseFloat(v),g=isNaN(p)?v:p;h[d]=g}n[o].push(h)}var m=new Xo;return n.info.forEach(function(x){return m.info.push({face:x.face,size:parseInt(x.size,10)})}),n.common.forEach(function(x){return m.common.push({lineHeight:parseInt(x.lineHeight,10)})}),n.page.forEach(function(x){return m.page.push({id:parseInt(x.id,10),file:x.file})}),n.char.forEach(function(x){return m.char.push({id:parseInt(x.id,10),page:parseInt(x.page,10),x:parseInt(x.x,10),y:parseInt(x.y,10),width:parseInt(x.width,10),height:parseInt(x.height,10),xoffset:parseInt(x.xoffset,10),yoffset:parseInt(x.yoffset,10),xadvance:parseInt(x.xadvance,10)})}),n.kerning.forEach(function(x){return m.kerning.push({first:parseInt(x.first,10),second:parseInt(x.second,10),amount:parseInt(x.amount,10)})}),n.distanceField.forEach(function(x){return m.distanceField.push({distanceRange:parseInt(x.distanceRange,10),fieldType:x.fieldType})}),m},r}(),ba=function(){function r(){}return r.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},r.parse=function(e){for(var t=new Xo,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),h=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField"),f=0;f<n.length;f++)t.info.push({face:n[f].getAttribute("face"),size:parseInt(n[f].getAttribute("size"),10)});for(var f=0;f<i.length;f++)t.common.push({lineHeight:parseInt(i[f].getAttribute("lineHeight"),10)});for(var f=0;f<o.length;f++)t.page.push({id:parseInt(o[f].getAttribute("id"),10)||0,file:o[f].getAttribute("file")});for(var f=0;f<a.length;f++){var d=a[f];t.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var f=0;f<h.length;f++)t.kerning.push({first:parseInt(h[f].getAttribute("first"),10),second:parseInt(h[f].getAttribute("second"),10),amount:parseInt(h[f].getAttribute("amount"),10)});for(var f=0;f<l.length;f++)t.distanceField.push({fieldType:l[f].getAttribute("fieldType"),distanceRange:parseInt(l[f].getAttribute("distanceRange"),10)});return t},r}(),lg=function(){function r(){}return r.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var t=new globalThis.DOMParser().parseFromString(e,"text/xml");return ba.test(t)}return!1},r.parse=function(e){var t=new globalThis.DOMParser().parseFromString(e,"text/xml");return ba.parse(t)},r}(),Ih=[hg,ba,lg];function wf(r){for(var e=0;e<Ih.length;e++)if(Ih[e].test(r))return Ih[e];return null}function LR(r,e,t,n,i,o){var a=t.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var h,l=t.dropShadow?t.dropShadowDistance:0,f=t.padding||0,d=r.width/n-l-f*2,v=r.height/n-l-f*2,p=a.slice(),g=t.fillGradientStops.slice();if(!g.length)for(var m=p.length+1,x=1;x<m;++x)g.push(x/m);if(p.unshift(a[0]),g.unshift(0),p.push(a[a.length-1]),g.push(1),t.fillGradientType===ki.LINEAR_VERTICAL){h=e.createLinearGradient(d/2,f,d/2,v+f);for(var y=0,E=o.fontProperties.fontSize+t.strokeThickness,C=E/v,x=0;x<i.length;x++)for(var S=o.lineHeight*x,O=0;O<p.length;O++){var P=0;typeof g[O]=="number"?P=g[O]:P=O/p.length;var D=S/v+P*C,A=Math.max(y,D);A=Math.min(A,1),h.addColorStop(A,p[O]),y=A}}else{h=e.createLinearGradient(f,v/2,d+f,v/2);for(var I=p.length+1,F=1,x=0;x<p.length;x++){var B=void 0;typeof g[x]=="number"?B=g[x]:B=F/I,h.addColorStop(B,p[x]),F++}}return h}function BR(r,e,t,n,i,o,a){var h=t.text,l=t.fontProperties;e.translate(n,i),e.scale(o,o);var f=a.strokeThickness/2,d=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=LR(r,e,a,o,[h],t),e.strokeStyle=a.stroke,a.dropShadow){var v=a.dropShadowColor,p=In(typeof v=="number"?v:Sa(v)),g=a.dropShadowBlur*o,m=a.dropShadowDistance*o;e.shadowColor="rgba("+p[0]*255+","+p[1]*255+","+p[2]*255+","+a.dropShadowAlpha+")",e.shadowBlur=g,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(h,f,d+t.lineHeight-l.descent),a.fill&&e.fillText(h,f,d+t.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function fg(r){return Array.from?Array.from(r):r.split("")}function NR(r){typeof r=="string"&&(r=[r]);for(var e=[],t=0,n=r.length;t<n;t++){var i=r[t];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var h=o,l=a;h<=l;h++)e.push(String.fromCharCode(h))}else e.push.apply(e,fg(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function da(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}var hn=function(){function r(e,t,n){var i,o,a=e.info[0],h=e.common[0],l=e.page[0],f=e.distanceField[0],d=Lo(l.file),v={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=h.lineHeight/d,this.chars={},this.pageTextures=v;for(var p=0;p<e.page.length;p++){var g=e.page[p],m=g.id,x=g.file;v[m]=t instanceof Array?t[p]:t[x],f!=null&&f.fieldType&&f.fieldType!=="none"&&(v[m].baseTexture.alphaMode=mr.NO_PREMULTIPLIED_ALPHA,v[m].baseTexture.mipmap=or.OFF)}for(var p=0;p<e.char.length;p++){var y=e.char[p],m=y.id,E=y.page,C=e.char[p],S=C.x,O=C.y,P=C.width,D=C.height,A=C.xoffset,I=C.yoffset,F=C.xadvance;S/=d,O/=d,P/=d,D/=d,A/=d,I/=d,F/=d;var B=new Dt(S+v[E].frame.x/d,O+v[E].frame.y/d,P,D);this.chars[m]={xOffset:A,yOffset:I,xAdvance:F,kerning:{},texture:new vt(v[E].baseTexture,B),page:E}}for(var p=0;p<e.kerning.length;p++){var J=e.kerning[p],nt=J.first,_t=J.second,Rt=J.amount;nt/=d,_t/=d,Rt/=d,this.chars[_t]&&(this.chars[_t].kerning[nt]=Rt)}this.distanceFieldRange=f==null?void 0:f.distanceRange,this.distanceFieldType=(o=(i=f==null?void 0:f.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return r.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},r.install=function(e,t,n){var i;if(e instanceof Xo)i=e;else{var o=wf(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}t instanceof vt&&(t=[t]);var a=new r(i,t,n);return r.available[a.font]=a,a},r.uninstall=function(e){var t=r.available[e];if(!t)throw new Error("No font found named '"+e+"'");t.destroy(),delete r.available[e]},r.from=function(e,t,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},r.defaultOptions,n),o=i.chars,a=i.padding,h=i.resolution,l=i.textureWidth,f=i.textureHeight,d=NR(o),v=t instanceof si?t:new si(t),p=l,g=new Xo;g.info[0]={face:v.fontFamily,size:v.fontSize},g.common[0]={lineHeight:v.fontSize};for(var m=0,x=0,y,E,C,S=0,O=[],P=0;P<d.length;P++){y||(y=tt.ADAPTER.createCanvas(),y.width=l,y.height=f,E=y.getContext("2d"),C=new Mt(y,{resolution:h}),O.push(new vt(C)),g.page.push({id:O.length-1,file:""}));var D=d[P],A=Fr.measureText(D,v,!1,y),I=A.width,F=Math.ceil(A.height),B=Math.ceil((v.fontStyle==="italic"?2:1)*I);if(x>=f-F*h){if(x===0)throw new Error("[BitmapFont] textureHeight "+f+"px is too small "+("(fontFamily: '"+v.fontFamily+"', fontSize: "+v.fontSize+"px, char: '"+D+"')"));--P,y=null,E=null,C=null,x=0,m=0,S=0;continue}if(S=Math.max(F+A.fontProperties.descent,S),B*h+m>=p){if(m===0)throw new Error("[BitmapFont] textureWidth "+l+"px is too small "+("(fontFamily: '"+v.fontFamily+"', fontSize: "+v.fontSize+"px, char: '"+D+"')"));--P,x+=S*h,x=Math.ceil(x),m=0,S=0;continue}BR(y,E,A,m,x,h,v);var J=da(A.text);g.char.push({id:J,page:O.length-1,x:m/h,y:x/h,width:B,height:F,xoffset:0,yoffset:0,xadvance:Math.ceil(I-(v.dropShadow?v.dropShadowDistance:0)-(v.stroke?v.strokeThickness:0))}),m+=(B+2*a)*h,m=Math.ceil(m)}for(var P=0,nt=d.length;P<nt;P++)for(var _t=d[P],Rt=0;Rt<nt;Rt++){var $=d[Rt],Q=E.measureText(_t).width,V=E.measureText($).width,ft=E.measureText(_t+$).width,ht=ft-(Q+V);ht&&g.kerning.push({first:da(_t),second:da($),amount:ht})}var q=new r(g,O,!0);return r.available[e]!==void 0&&r.uninstall(e),r.available[e]=q,q},r.ALPHA=[["a","z"],["A","Z"]," "],r.NUMERIC=[["0","9"]],r.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],r.ASCII=[[" ","~"]],r.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:r.ALPHANUMERIC},r.available={},r}(),UR=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,GR=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,$p=[],tv=[],ev=[],kR=function(r){FR(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this)||this;i._tint=16777215;var o=Object.assign({},e.styleDefaults,n),a=o.align,h=o.tint,l=o.maxWidth,f=o.letterSpacing,d=o.fontName,v=o.fontSize;if(!hn.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=h,i._font=void 0,i._fontName=d,i._fontSize=v,i.text=t,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=f,i._anchor=new fn(function(){i.dirty=!0},i,0,0),i._roundPixels=tt.ROUND_PIXELS,i.dirty=!0,i._resolution=tt.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var t,n=hn.available[this._fontName],i=this.fontSize,o=i/n.size,a=new qt,h=[],l=[],f=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",v=fg(d),p=this._maxWidth*n.size/i,g=n.distanceFieldType==="none"?$p:tv,m=null,x=0,y=0,E=0,C=-1,S=0,O=0,P=0,D=0,A=0;A<v.length;A++){var I=v[A],F=da(I);if(/(?:\s)/.test(I)&&(C=A,S=x,D++),I==="\r"||I===`
`){l.push(x),f.push(-1),y=Math.max(y,x),++E,++O,a.x=0,a.y+=n.lineHeight,m=null,D=0;continue}var B=n.chars[F];if(B){m&&B.kerning[m]&&(a.x+=B.kerning[m]);var J=ev.pop()||{texture:vt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new qt};J.texture=B.texture,J.line=E,J.charCode=F,J.position.x=a.x+B.xOffset+this._letterSpacing/2,J.position.y=a.y+B.yOffset,J.prevSpaces=D,h.push(J),x=J.position.x+Math.max(B.xAdvance-B.xOffset,B.texture.orig.width),a.x+=B.xAdvance+this._letterSpacing,P=Math.max(P,B.yOffset+B.texture.height),m=F,C!==-1&&p>0&&a.x>p&&(++O,ri(h,1+C-O,1+A-C),A=C,C=-1,l.push(S),f.push(h.length>0?h[h.length-1].prevSpaces:0),y=Math.max(y,S),E++,a.x=0,a.y+=n.lineHeight,m=null,D=0)}}var nt=v[v.length-1];nt!=="\r"&&nt!==`
`&&(/(?:\s)/.test(nt)&&(x=S),l.push(x),y=Math.max(y,x),f.push(-1));for(var _t=[],A=0;A<=E;A++){var Rt=0;this._align==="right"?Rt=y-l[A]:this._align==="center"?Rt=(y-l[A])/2:this._align==="justify"&&(Rt=f[A]<0?0:(y-l[A])/f[A]),_t.push(Rt)}var $=h.length,Q={},V=[],ft=this._activePagesMeshData;g.push.apply(g,ft);for(var A=0;A<$;A++){var ht=h[A].texture,q=ht.baseTexture.uid;if(!Q[q]){var X=g.pop();if(!X){var ct=new jo,yt=void 0,Et=void 0;n.distanceFieldType==="none"?(yt=new Xi(vt.EMPTY),Et=dt.NORMAL):(yt=new Xi(vt.EMPTY,{program:Yi.from(GR,UR),uniforms:{uFWidth:0}}),Et=dt.NORMAL_NPM);var Nt=new Hi(ct,yt);Nt.blendMode=Et,X={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Nt,vertices:null,uvs:null,indices:null}}X.index=0,X.indexCount=0,X.vertexCount=0,X.uvsCount=0,X.total=0;var Lt=this._textureCache;Lt[q]=Lt[q]||new vt(ht.baseTexture),X.mesh.texture=Lt[q],X.mesh.tint=this._tint,V.push(X),Q[q]=X}Q[q].total++}for(var A=0;A<ft.length;A++)V.indexOf(ft[A])===-1&&this.removeChild(ft[A].mesh);for(var A=0;A<V.length;A++)V[A].mesh.parent!==this&&this.addChild(V[A].mesh);this._activePagesMeshData=V;for(var A in Q){var X=Q[A],Ht=X.total;if(!(((t=X.indices)===null||t===void 0?void 0:t.length)>6*Ht)||X.vertices.length<Hi.BATCHABLE_SIZE*2)X.vertices=new Float32Array(4*2*Ht),X.uvs=new Float32Array(4*2*Ht),X.indices=new Uint16Array(6*Ht);else for(var ot=X.total,G=X.vertices,Y=ot*4*2;Y<G.length;Y++)G[Y]=0;X.mesh.size=6*Ht}for(var A=0;A<$;A++){var I=h[A],Ut=I.position.x+_t[I.line]*(this._align==="justify"?I.prevSpaces:1);this._roundPixels&&(Ut=Math.round(Ut));var Xt=Ut*o,lt=I.position.y*o,ht=I.texture,k=Q[ht.baseTexture.uid],Zt=ht.frame,fe=ht._uvs,K=k.index++;k.indices[K*6+0]=0+K*4,k.indices[K*6+1]=1+K*4,k.indices[K*6+2]=2+K*4,k.indices[K*6+3]=0+K*4,k.indices[K*6+4]=2+K*4,k.indices[K*6+5]=3+K*4,k.vertices[K*8+0]=Xt,k.vertices[K*8+1]=lt,k.vertices[K*8+2]=Xt+Zt.width*o,k.vertices[K*8+3]=lt,k.vertices[K*8+4]=Xt+Zt.width*o,k.vertices[K*8+5]=lt+Zt.height*o,k.vertices[K*8+6]=Xt,k.vertices[K*8+7]=lt+Zt.height*o,k.uvs[K*8+0]=fe.x0,k.uvs[K*8+1]=fe.y0,k.uvs[K*8+2]=fe.x1,k.uvs[K*8+3]=fe.y1,k.uvs[K*8+4]=fe.x2,k.uvs[K*8+5]=fe.y2,k.uvs[K*8+6]=fe.x3,k.uvs[K*8+7]=fe.y3}this._textWidth=y*o,this._textHeight=(a.y+n.lineHeight)*o;for(var A in Q){var X=Q[A];if(this.anchor.x!==0||this.anchor.y!==0)for(var Le=0,vn=this._textWidth*this.anchor.x,Lr=this._textHeight*this.anchor.y,He=0;He<X.total;He++)X.vertices[Le++]-=vn,X.vertices[Le++]-=Lr,X.vertices[Le++]-=vn,X.vertices[Le++]-=Lr,X.vertices[Le++]-=vn,X.vertices[Le++]-=Lr,X.vertices[Le++]-=vn,X.vertices[Le++]-=Lr;this._maxLineHeight=P*o;var _n=X.mesh.geometry.getBuffer("aVertexPosition"),Ln=X.mesh.geometry.getBuffer("aTextureCoord"),qo=X.mesh.geometry.getIndex();_n.data=X.vertices,Ln.data=X.uvs,qo.data=X.indices,_n.update(),Ln.update(),qo.update()}for(var A=0;A<h.length;A++)ev.push(h[A]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);var n=hn.available[this._fontName],i=n.distanceFieldRange,o=n.distanceFieldType,a=n.size;if(o!=="none")for(var h=this.worldTransform,l=h.a,f=h.b,d=h.c,v=h.d,p=Math.sqrt(l*l+f*f),g=Math.sqrt(d*d+v*v),m=(Math.abs(p)+Math.abs(g))/2,x=this.fontSize/a,y=0,E=this._activePagesMeshData;y<E.length;y++){var C=E[y];C.mesh.shader.uniforms.uFWidth=m*i*x*this._resolution}r.prototype._render.call(this,t)},e.prototype.getLocalBounds=function(){return this.validate(),r.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var t=hn.available[this._fontName];if(!t)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!hn.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var t;return(t=this._fontSize)!==null&&t!==void 0?t:hn.available[this._fontName].size},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t){var n=this._textureCache,i=hn.available[this._fontName],o=i.distanceFieldType==="none"?$p:tv;o.push.apply(o,this._activePagesMeshData);for(var a=0,h=this._activePagesMeshData;a<h.length;a++){var l=h[a];this.removeChild(l.mesh)}this._activePagesMeshData=[],o.filter(function(v){return n[v.mesh.texture.baseTexture.uid]}).forEach(function(v){v.mesh.texture=vt.EMPTY});for(var f in n){var d=n[f];d.destroy(),delete n[f]}this._font=null,this._textureCache=null,r.prototype.destroy.call(this,t)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Ze),cg=function(){function r(){}return r.add=function(){pe.setExtensionXhrType("fnt",pe.XHR_RESPONSE_TYPE.TEXT)},r.use=function(e,t){var n=wf(e.data);if(!n){t();return}for(var i=r.getBaseUrl(this,e),o=n.parse(e.data),a={},h=function(x){a[x.metadata.pageFile]=x.texture,Object.keys(a).length===o.page.length&&(e.bitmapFont=hn.install(o,a,!0),t())},l=0;l<o.page.length;++l){var f=o.page[l].file,d=i+f,v=!1;for(var p in this.resources){var g=this.resources[p];if(g.url===d){g.metadata.pageFile=f,g.texture?h(g):g.onAfterMiddleware.add(h),v=!0;break}}if(!v){var m={crossOrigin:e.crossOrigin,loadType:pe.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},e.metadata.imageMetadata),parentResource:e};this.add(d,m,h)}}},r.getBaseUrl=function(e,t){var n=t.isDataUrl?"":r.dirname(t.url);return t.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},r.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":t===""?"/":t},r.extension=$t.Loader,r}();/*!
 * @pixi/filter-alpha - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yl=function(r,e){return yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},yl(r,e)};function HR(r,e){yl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var XR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,WR=function(r){HR(e,r);function e(t){t===void 0&&(t=1);var n=r.call(this,x_,XR,{uAlpha:1})||this;return n.alpha=t,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Zr);/*!
 * @pixi/filter-blur - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bl=function(r,e){return bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},bl(r,e)};function dg(r,e){bl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var zR=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function VR(r,e){var t=Math.ceil(r/2),n=zR,i="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<r;a++){var h=o.replace("%index%",a.toString());h=h.replace("%sampleIndex%",a-(t-1)+".0"),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}var YR={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},jR=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function qR(r){for(var e=YR[r],t=e.length,n=jR,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,h=0;h<r;h++){var l=o.replace("%index%",h.toString());a=h,h>=t&&(a=r-h-1),l=l.replace("%value%",e[a].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",r.toString()),n}var xl=function(r){dg(e,r);function e(t,n,i,o,a){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=tt.FILTER_RESOLUTION),a===void 0&&(a=5);var h=this,l=VR(a,t),f=qR(a);return h=r.call(this,l,f)||this,h.horizontal=t,h.resolution=o,h._quality=0,h.quality=i,h.blur=n,h}return e.prototype.apply=function(t,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/n.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,n,i,o);else{var a=t.getFilterTexture(),h=t.renderer,l=n,f=a;this.state.blend=!1,t.applyFilter(this,l,f,vr.CLEAR);for(var d=1;d<this.passes-1;d++){t.bindAndClear(l,vr.BLIT),this.uniforms.uSampler=f;var v=f;f=l,l=v,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,f,i,o),t.returnFilterTexture(a)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+Math.abs(t)*2,this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(Zr),KR=function(r){dg(e,r);function e(t,n,i,o){t===void 0&&(t=8),n===void 0&&(n=4),i===void 0&&(i=tt.FILTER_RESOLUTION),o===void 0&&(o=5);var a=r.call(this)||this;return a.blurXFilter=new xl(!0,t,n,i,o),a.blurYFilter=new xl(!1,t,n,i,o),a.resolution=i,a.quality=n,a.blur=t,a.repeatEdgePixels=!1,a}return e.prototype.apply=function(t,n,i,o){var a=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(a&&h){var l=t.getFilterTexture();this.blurXFilter.apply(t,n,l,vr.CLEAR),this.blurYFilter.apply(t,l,i,o),t.returnFilterTexture(l)}else h?this.blurYFilter.apply(t,n,i,o):this.blurXFilter.apply(t,n,i,o)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(Zr);/*!
 * @pixi/filter-color-matrix - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tl=function(r,e){return Tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Tl(r,e)};function ZR(r,e){Tl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var JR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,El=function(r){ZR(e,r);function e(){var t=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return t=r.call(this,vf,JR,n)||this,t.alpha=1,t}return e.prototype._loadMatrix=function(t,n){n===void 0&&(n=!1);var i=t;n&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,n,i){return t[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],t[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],t[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],t[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],t[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],t[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],t[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],t[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],t[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],t[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],t[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],t[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],t[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],t[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],t[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],t[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],t[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],t[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],t[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],t[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],t},e.prototype._colorMatrix=function(t){var n=new Float32Array(t);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(t,n){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(t,n){var i=t>>16&255,o=t>>8&255,a=t&255,h=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(h,n)},e.prototype.greyscale=function(t,n){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(t){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.hue=function(t,n){t=(t||0)/180*Math.PI;var i=Math.cos(t),o=Math.sin(t),a=Math.sqrt,h=1/3,l=a(h),f=i+(1-i)*h,d=h*(1-i)-l*o,v=h*(1-i)+l*o,p=h*(1-i)+l*o,g=i+h*(1-i),m=h*(1-i)-l*o,x=h*(1-i)-l*o,y=h*(1-i)+l*o,E=i+h*(1-i),C=[f,d,v,0,0,p,g,m,0,0,x,y,E,0,0,0,0,0,1,0];this._loadMatrix(C,n)},e.prototype.contrast=function(t,n){var i=(t||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.saturate=function(t,n){t===void 0&&(t=0);var i=t*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.sepia=function(t){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.technicolor=function(t){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.polaroid=function(t){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.toBGR=function(t){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.kodachrome=function(t){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.browni=function(t){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.vintage=function(t){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.colorTone=function(t,n,i,o,a){t=t||.2,n=n||.15,i=i||16770432,o=o||3375104;var h=(i>>16&255)/255,l=(i>>8&255)/255,f=(i&255)/255,d=(o>>16&255)/255,v=(o>>8&255)/255,p=(o&255)/255,g=[.3,.59,.11,0,0,h,l,f,t,0,d,v,p,n,0,h-d,l-v,f-p,0,0];this._loadMatrix(g,a)},e.prototype.night=function(t,n){t=t||.1;var i=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(t,n){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(t){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(Zr);El.prototype.grayscale=El.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wl=function(r,e){return wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},wl(r,e)};function QR(r,e){wl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $R=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,tC=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,eC=function(r){QR(e,r);function e(t,n){var i=this,o=new Te;return t.renderable=!1,i=r.call(this,tC,$R,{mapSampler:t._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=t,i.maskMatrix=o,n==null&&(n=20),i.scale=new qt(n,n),i}return e.prototype.apply=function(t,n,i,o){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,h=Math.sqrt(a.a*a.a+a.b*a.b),l=Math.sqrt(a.c*a.c+a.d*a.d);h!==0&&l!==0&&(this.uniforms.rotation[0]=a.a/h,this.uniforms.rotation[1]=a.b/h,this.uniforms.rotation[2]=a.c/l,this.uniforms.rotation[3]=a.d/l),t.applyFilter(this,n,i,o)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(Zr);/*!
 * @pixi/filter-fxaa - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sl=function(r,e){return Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Sl(r,e)};function rC(r,e){Sl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nC=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,iC=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,oC=function(r){rC(e,r);function e(){return r.call(this,nC,iC)||this}return e}(Zr);/*!
 * @pixi/filter-noise - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Al=function(r,e){return Al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Al(r,e)};function sC(r,e){Al(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var aC=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,uC=function(r){sC(e,r);function e(t,n){t===void 0&&(t=.5),n===void 0&&(n=Math.random());var i=r.call(this,vf,aC,{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(Zr);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pg=new Te;ge.prototype._cacheAsBitmap=!1;ge.prototype._cacheData=null;ge.prototype._cacheAsBitmapResolution=null;ge.prototype._cacheAsBitmapMultisample=ee.NONE;var hC=function(){function r(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return r}();Object.defineProperties(ge.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(r){if(this._cacheAsBitmap!==r){this._cacheAsBitmap=r;var e;r?(this._cacheData||(this._cacheData=new hC),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});ge.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};ge.prototype._initCachedDisplayObject=function(e){var t;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(tt.RESOLUTION);var a=e.renderTexture.current,h=e.renderTexture.sourceFrame.clone(),l=e.renderTexture.destinationFrame.clone(),f=e.projection.transform,d=Mn.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(t=this.cacheAsBitmapMultisample)!==null&&t!==void 0?t:e.multisample}),v="cacheAsBitmap_"+On();this._cacheData.textureCacheId=v,Mt.addToCache(d.baseTexture,v),vt.addToCache(d,v);var p=this.transform.localTransform.copyTo(pg).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:p,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=f,e.renderTexture.bind(a,h,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var g=new Ke(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(i.x/i.width),g.anchor.y=-(i.y/i.height),g.alpha=n,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}};ge.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};ge.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,o=e._projTransform;t.ceil(tt.RESOLUTION);var a=Mn.create({width:t.width,height:t.height}),h="cacheAsBitmap_"+On();this._cacheData.textureCacheId=h,Mt.addToCache(a.baseTexture,h),vt.addToCache(a,h);var l=pg;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=t.x,l.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:a,clear:!0,transform:l,skipUpdateTransform:!1}),e.context=i,e._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var f=new Ke(a);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(t.x/t.width),f.anchor.y=-(t.y/t.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}};ge.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ge.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ge.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Mt.removeFromCache(this._cacheData.textureCacheId),vt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ge.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ge.prototype.name=null;Ze.prototype.getChildByName=function(e,t){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(t)for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n];if(o.getChildByName){var a=o.getChildByName(e,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ge.prototype.getGlobalPosition=function(e,t){return e===void 0&&(e=new qt),t===void 0&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vg=function(){function r(){}return r.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame(function(){return t.resize()}))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){t.cancelResize();var n,i;if(t._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=t._resizeTo,a=o.clientWidth,h=o.clientHeight;n=a,i=h}t.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},r.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},r.extension=$t.Application,r}(),Sf=function(){function r(e){var t=this;this.stage=new Ze,e=Object.assign({forceCanvas:!1},e),this.renderer=pf(e),r._plugins.forEach(function(n){n.init.call(t,e)})}return r.registerPlugin=function(e){ke("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),Kr.add({type:$t.Application,ref:e})},r.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(r.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),r.prototype.destroy=function(e,t){var n=this,i=r._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null},r._plugins=[],r}();Kr.handleByList($t.Application,Sf._plugins);Kr.add(vg);/*!
 * @pixi/mesh-extras - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pl=function(r,e){return Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Pl(r,e)};function ji(r,e){Pl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _g=function(r){ji(e,r);function e(t,n,i,o){t===void 0&&(t=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=r.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=t,a.height=n,a.build(),a}return e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,n=[],i=[],o=[],a=this.segWidth-1,h=this.segHeight-1,l=this.width/a,f=this.height/h,d=0;d<t;d++){var v=d%this.segWidth,p=d/this.segWidth|0;n.push(v*l,p*f),i.push(v/a,p/h)}for(var g=a*h,d=0;d<g;d++){var m=d%a,x=d/a|0,y=x*this.segWidth+m,E=x*this.segWidth+m+1,C=(x+1)*this.segWidth+m,S=(x+1)*this.segWidth+m+1;o.push(y,E,C,E,S,C)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(jo),gg=function(r){ji(e,r);function e(t,n,i){t===void 0&&(t=200),i===void 0&&(i=0);var o=r.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=t,o.textureScale=i,o.build(),o}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(t.length<1)){n.data.length/4!==t.length&&(n.data=new Float32Array(t.length*4),i.data=new Float32Array(t.length*4),o.data=new Uint16Array((t.length-1)*6));var a=i.data,h=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var l=0,f=t[0],d=this._width*this.textureScale,v=t.length,p=0;p<v;p++){var g=p*4;if(this.textureScale>0){var m=f.x-t[p].x,x=f.y-t[p].y,y=Math.sqrt(m*m+x*x);f=t[p],l+=y/d}else l=p/(v-1);a[g]=l,a[g+1]=0,a[g+2]=l,a[g+3]=1}for(var E=0,p=0;p<v-1;p++){var g=p*2;h[E++]=g,h[E++]=g+1,h[E++]=g+2,h[E++]=g+2,h[E++]=g+1,h[E++]=g+3}i.update(),o.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var n=t[0],i,o=0,a=0,h=this.buffers[0].data,l=t.length,f=0;f<l;f++){var d=t[f],v=f*4;f<t.length-1?i=t[f+1]:i=d,a=-(i.x-n.x),o=i.y-n.y;var p=Math.sqrt(o*o+a*a),g=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=p,a/=p,o*=g,a*=g,h[v]=d.x+o,h[v+1]=d.y+a,h[v+2]=d.x-o,h[v+3]=d.y-a,n=d}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(jo),lC=function(r){ji(e,r);function e(t,n,i){i===void 0&&(i=0);var o=this,a=new gg(t.height,n,i),h=new Xi(t);return i>0&&(t.baseTexture.wrapMode=Ir.REPEAT),o=r.call(this,a,h)||this,o.autoUpdate=!0,o}return e.prototype._render=function(t){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),r.prototype._render.call(this,t)},e}(Hi),mg=function(r){ji(e,r);function e(t,n,i){var o=this,a=new _g(t.width,t.height,n,i),h=new Xi(vt.WHITE);return o=r.call(this,a,h)||this,o.texture=t,o.autoResize=!0,o}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,n=this.shader.texture,i=n.width,o=n.height;this.autoResize&&(t.width!==i||t.height!==o)&&(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),r.prototype._render.call(this,t)},e.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),r.prototype.destroy.call(this,t)},e}(Hi),fC=function(r){ji(e,r);function e(t,n,i,o,a){t===void 0&&(t=vt.EMPTY);var h=this,l=new jo(n,i,o);l.getBuffer("aVertexPosition").static=!1;var f=new Xi(t);return h=r.call(this,l,f,null,a)||this,h.autoUpdate=!0,h}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),r.prototype._render.call(this,t)},e}(Hi),aa=10,cC=function(r){ji(e,r);function e(t,n,i,o,a){n===void 0&&(n=aa),i===void 0&&(i=aa),o===void 0&&(o=aa),a===void 0&&(a=aa);var h=r.call(this,vt.WHITE,4,4)||this;return h._origWidth=t.orig.width,h._origHeight=t.orig.height,h._width=h._origWidth,h._height=h._origHeight,h._leftWidth=n,h._rightWidth=o,h._topHeight=i,h._bottomHeight=a,h.texture=t,h}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,n=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,n=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,n=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(n,o);return a},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,n=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(mg);/*!
 * @pixi/sprite-animated - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rl=function(r,e){return Rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},Rl(r,e)};function dC(r,e){Rl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var pC=function(r){dC(e,r);function e(t,n){n===void 0&&(n=!0);var i=r.call(this,t[0]instanceof vt?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}return e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Se.shared.add(this.update,this,Dr.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var n=this.currentFrame;this._currentTime=t,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var n=this.currentFrame;this._currentTime=t,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var n=this.animationSpeed*t,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(t){this.stop(),r.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var n=[],i=0;i<t.length;++i)n.push(vt.from(t[i]));return new e(n)},e.fromImages=function(t){for(var n=[],i=0;i<t.length;++i)n.push(vt.from(t[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof vt)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<t.length;n++)this._textures.push(t[n].texture),this._durations.push(t[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Se.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Se.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(Ke);/*!
 * pixi.js - v6.5.9
 * Compiled Wed, 25 Jan 2023 05:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Kr.add(R_,yf,O_,Y_,ng,gf,ag,cg,N_,W_,z_,og,Qv,D_);var vC={AlphaFilter:WR,BlurFilter:KR,BlurFilterPass:xl,ColorMatrixFilter:El,DisplacementFilter:eC,FXAAFilter:oC,NoiseFilter:uC};const _C=Object.freeze(Object.defineProperty({__proto__:null,get ALPHA_MODES(){return mr},AbstractBatchRenderer:T_,AbstractMultiResource:Ca,AbstractRenderer:b_,AccessibilityManager:R_,AnimatedSprite:pC,AppLoaderPlugin:D_,Application:Sf,ArrayResource:Wl,Attribute:tl,get BLEND_MODES(){return dt},get BUFFER_BITS(){return Po},get BUFFER_TYPE(){return Or},BaseImageResource:zr,BasePrepare:eg,BaseRenderTexture:Kl,BaseTexture:Mt,BatchDrawCall:_a,BatchGeometry:_f,BatchPluginFactory:w_,BatchRenderer:gf,BatchShaderGenerator:E_,BatchSystem:$l,BatchTextureArray:ga,BitmapFont:hn,BitmapFontData:Xo,BitmapFontLoader:cg,BitmapText:kR,BlobResource:B_,Bounds:No,BrowserAdapter:Dv,Buffer:xe,BufferResource:li,get CLEAR_MODES(){return vr},get COLOR_MASK_BITS(){return Nh},CanvasResource:zl,Circle:qv,CompressedTextureLoader:N_,CompressedTextureResource:ya,Container:Ze,ContextSystem:tf,CountLimiter:tg,CubeResource:Vl,DDSLoader:W_,DEG_TO_RAD:jv,get DRAW_MODES(){return _r},DisplayObject:ge,get ENV(){return Wr},Ellipse:Kv,get ExtensionType(){return $t},Extract:yf,get FORMATS(){return Z},FORMATS_TO_COMPONENTS:k_,FillStyle:bf,Filter:Zr,FilterState:r_,FilterSystem:Ql,Framebuffer:va,FramebufferSystem:ef,get GC_MODES(){return Co},GLFramebuffer:n_,GLProgram:g_,GLTexture:la,GRAPHICS_CURVES:Gi,Geometry:Vi,GeometrySystem:rf,Graphics:Ho,GraphicsData:cl,GraphicsGeometry:Q_,IGLUniformData:qA,INSTALLED:Uo,get INTERNAL_FORMATS(){return At},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Go,ImageBitmapResource:ql,ImageResource:Ia,InteractionData:el,InteractionEvent:C_,InteractionManager:O_,InteractionTrackingData:fa,KTXLoader:z_,get LINE_CAP(){return cn},get LINE_JOIN(){return kr},LineStyle:$_,Loader:Ui,get LoaderResource(){return pe},get MASK_TYPES(){return be},get MIPMAP_MODES(){return or},get MSAA_QUALITY(){return ee},MaskData:i_,MaskSystem:nf,Matrix:Te,Mesh:Hi,MeshBatchUvs:ug,MeshGeometry:jo,MeshMaterial:Xi,NineSlicePlane:cC,ObjectRenderer:Yo,ObservablePoint:fn,PI_2:Bo,get PRECISION(){return qe},ParticleContainer:nR,ParticleRenderer:Y_,PlaneGeometry:_g,Point:qt,Polygon:To,Prepare:ng,Program:Yi,ProjectionSystem:af,Quad:e_,QuadUv:Jl,RAD_TO_DEG:Yv,get RENDERER_TYPE(){return Bi},Rectangle:Dt,RenderTexture:Mn,RenderTexturePool:t_,RenderTextureSystem:uf,Renderer:df,ResizePlugin:vg,Resource:oi,RopeGeometry:gg,RoundedRectangle:Zv,Runner:Re,get SAMPLER_TYPES(){return Ro},get SCALE_MODES(){return De},get SHAPES(){return Ae},SVGResource:Yl,ScissorSystem:of,Shader:dn,ShaderSystem:hf,SimpleMesh:fC,SimplePlane:mg,SimpleRope:lC,Sprite:Ke,SpriteMaskFilter:f_,Spritesheet:ig,SpritesheetLoader:og,State:Fn,StateSystem:lf,StencilSystem:sf,System:lP,get TARGETS(){return Rn},get TEXT_GRADIENT(){return ki},get TYPES(){return pt},TYPES_TO_BYTES_PER_COMPONENT:sl,TYPES_TO_BYTES_PER_PIXEL:H_,TemporaryDisplayObject:Xl,Text:Ma,TextFormat:hg,TextMetrics:Fr,TextStyle:si,Texture:vt,TextureGCSystem:ff,TextureLoader:F_,TextureMatrix:Oa,TextureSystem:cf,TextureUvs:Zl,Ticker:Se,TickerPlugin:Qv,TilingSprite:PR,TilingSpriteRenderer:ag,TimeLimiter:AR,Transform:kl,get UPDATE_PRIORITY(){return Dr},UniformGroup:Cn,VERSION:dP,VideoResource:jl,ViewableBuffer:ma,get WRAP_MODES(){return Ir},XMLFormat:ba,XMLStringFormat:lg,accessibleTarget:P_,autoDetectFormat:wf,autoDetectRenderer:pf,autoDetectResource:Ra,checkMaxIfStatementsInShader:l_,createUBOElements:p_,defaultFilterVertex:vf,defaultVertex:x_,extensions:Kr,filters:vC,generateProgram:m_,generateUniformBufferSync:__,getTestContext:a_,getUBOData:v_,graphicsUtils:hR,groupD8:he,interactiveTarget:I_,isMobile:gr,parseDDS:G_,parseKTX:X_,resources:S_,settings:tt,systems:A_,uniformParsers:ni,utils:gA},Symbol.toStringTag,{value:"Module"}));function yg(r){return Object.keys(r).reduce((e,t)=>typeof r[t]>"u"?e:{...e,[t]:r[t]},{})}const gC=r=>({}),rv=r=>({});function mC(r){let e,t,n;return{c(){e=Pt("div")},m(i,o){Yt(i,e,o),t||(n=Tv(r[0].call(null,e)),t=!0)},p:Ge,i:Ge,o:Ge,d(i){i&&Wt(e),t=!1,n()}}}function yC(r){let e,t,n,i;const o=r[16].view,a=Vr(o,r,r[15],rv);return{c(){e=Pt("div"),a&&a.c()},m(h,l){Yt(h,e,l),a&&a.m(e,null),t=!0,n||(i=Tv(r[0].call(null,e)),n=!0)},p(h,l){a&&a.p&&(!t||l&32768)&&jr(a,o,h,h[15],t?Yr(o,h[15],l,gC):qr(h[15]),rv)},i(h){t||(rt(a,h),t=!0)},o(h){at(a,h),t=!1},d(h){h&&Wt(e),a&&a.d(h),n=!1,i()}}}function bC(r){let e,t,n,i;const o=[yC,mC],a=[];function h(d,v){return d[1].view?0:1}e=h(r),t=a[e]=o[e](r);const l=r[16].default,f=Vr(l,r,r[15],null);return{c(){t.c(),n=Vt(),f&&f.c()},m(d,v){a[e].m(d,v),Yt(d,n,v),f&&f.m(d,v),i=!0},p(d,[v]){let p=e;e=h(d),e===p?a[e].p(d,v):(nr(),at(a[p],1,1,()=>{a[p]=null}),ir(),t=a[e],t?t.p(d,v):(t=a[e]=o[e](d),t.c()),rt(t,1),t.m(n.parentNode,n)),f&&f.p&&(!i||v&32768)&&jr(f,l,d,d[15],i?Yr(l,d[15],v,null):qr(d[15]),null)},i(d){i||(rt(t),rt(f,d),i=!0)},o(d){at(t),at(f,d),i=!1},d(d){a[e].d(d),d&&Wt(n),f&&f.d(d)}}}function Da(){return Dl("pixi/renderer")}function xC(r,e,t){let{$$slots:n={},$$scope:i}=e;const o=xv(n),a=Vo();let{width:h=800}=e,{height:l=600}=e,{useContextAlpha:f=void 0}=e,{autoDensity:d=!0}=e,{antialias:v=!1}=e,{preserveDrawingBuffer:p=!1}=e,{resolution:g=tt.RESOLUTION}=e,{forceCanvas:m=!1}=e,{backgroundColor:x=0}=e,{backgroundAlpha:y=1}=e,{clearBeforeRender:E=void 0}=e,{powerPreference:C=void 0}=e,{instance:S=pf(yg({width:h,height:l,useContextAlpha:f,autoDensity:d,antialias:v,preserveDrawingBuffer:p,resolution:g,forceCanvas:m,backgroundColor:x,backgroundAlpha:y,clearBeforeRender:E,powerPreference:C}))}=e;Li("pixi/renderer",{renderer:S,invalidate:()=>{a("invalidate")}});function O(P){P.childNodes.length?P.childNodes[0].appendChild(S.view):P.appendChild(S.view)}return xa(()=>{S.on("prerender",P=>a("prerender",P)),S.on("postrender",P=>a("postrender",P))}),r.$$set=P=>{"width"in P&&t(2,h=P.width),"height"in P&&t(3,l=P.height),"useContextAlpha"in P&&t(4,f=P.useContextAlpha),"autoDensity"in P&&t(5,d=P.autoDensity),"antialias"in P&&t(6,v=P.antialias),"preserveDrawingBuffer"in P&&t(7,p=P.preserveDrawingBuffer),"resolution"in P&&t(8,g=P.resolution),"forceCanvas"in P&&t(9,m=P.forceCanvas),"backgroundColor"in P&&t(10,x=P.backgroundColor),"backgroundAlpha"in P&&t(11,y=P.backgroundAlpha),"clearBeforeRender"in P&&t(12,E=P.clearBeforeRender),"powerPreference"in P&&t(13,C=P.powerPreference),"instance"in P&&t(14,S=P.instance),"$$scope"in P&&t(15,i=P.$$scope)},[O,o,h,l,f,d,v,p,g,m,x,y,E,C,S,i,n]}class TC extends xr{constructor(e){super(),br(this,e,xC,bC,yr,{width:2,height:3,useContextAlpha:4,autoDensity:5,antialias:6,preserveDrawingBuffer:7,resolution:8,forceCanvas:9,backgroundColor:10,backgroundAlpha:11,clearBeforeRender:12,powerPreference:13,instance:14})}}function EC(r){let e;const t=r[7].default,n=Vr(t,r,r[6],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,[o]){n&&n.p&&(!e||o&64)&&jr(n,t,i,i[6],e?Yr(t,i[6],o,null):qr(i[6]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function wC(r,e,t){let{$$slots:n={},$$scope:i}=e;const o=Vo();let{autoStart:a=!0}=e,{maxFPS:h=0}=e,{minFPS:l=10}=e,{speed:f=1}=e,{instance:d=new Se}=e,{priority:v=Dr.LOW}=e;Li("pixi/ticker",{ticker:d});const{applyProp:p}=Fa(d);return xa(()=>(d.add(g=>{o("tick",g)},v),()=>{d.destroy()})),r.$$set=g=>{"autoStart"in g&&t(0,a=g.autoStart),"maxFPS"in g&&t(1,h=g.maxFPS),"minFPS"in g&&t(2,l=g.minFPS),"speed"in g&&t(3,f=g.speed),"instance"in g&&t(4,d=g.instance),"priority"in g&&t(5,v=g.priority),"$$scope"in g&&t(6,i=g.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&p("autoStart",a),r.$$.dirty&2&&p("maxFPS",h),r.$$.dirty&4&&p("minFPS",l),r.$$.dirty&8&&p("speed",f)},[a,h,l,f,d,v,i,n]}class bg extends xr{constructor(e){super(),br(this,e,wC,EC,yr,{autoStart:0,maxFPS:1,minFPS:2,speed:3,instance:4,priority:5})}}function SC(r){return Array.isArray(r)?new qt(r[0],r[1]):typeof r=="number"?new qt(r,r):r instanceof qt||r instanceof fn?r:new qt(r.x,r.y)}function Fa(r,e){const t=e;return{applyProps:n=>AC(r,n,{...t,...e}),applyProp:(n,i)=>xg(r,n,i,n!==null?t==null?void 0:t[n]:void 0)}}function AC(r,e,t){if(r)for(const[n,i]of Object.entries(e))xg(r,n,i,t==null?void 0:t[n])}function xg(r,e,t,n){r&&(e===null?n==null||n(t,r):r[e]!==t&&typeof t<"u"&&(n?n(t,r):r[e]instanceof qt||r[e]instanceof fn?r[e]=SC(t):r[e]=t))}function PC(r){let e;const t=r[40].default,n=Vr(t,r,r[39],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&256)&&jr(n,t,i,i[39],e?Yr(t,i[39],o,null):qr(i[39]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function RC(){return Dl("pixi/container")}function CC(r,e,t){let{$$slots:n={},$$scope:i}=e;const o=xv(n);let{accessible:a=!1}=e,{accessibleChildren:h=!0}=e,{accessibleHint:l=void 0}=e,{accessiblePointerEvents:f="auto"}=e,{accessibleTitle:d=void 0}=e,{accessibleType:v="button"}=e,{alpha:p=void 0}=e,{angle:g=void 0}=e,{buttonMode:m=void 0}=e,{cacheAsBitmap:x=void 0}=e,{cacheAsBitmapMultisample:y=ee.NONE}=e,{cacheAsBitmapResolution:E=void 0}=e,{cullable:C=void 0}=e,{cullArea:S=void 0}=e,{cursor:O=void 0}=e,{filterArea:P=void 0}=e,{filters:D=void 0}=e,{height:A=void 0}=e,{hitArea:I=void 0}=e,{interactive:F=!1}=e,{interactiveChildren:B=!0}=e,{isMask:J=void 0}=e,{isSprite:nt=void 0}=e,{mask:_t=void 0}=e,{name:Rt=void 0}=e,{pivot:$=void 0}=e,{position:Q=void 0}=e,{renderable:V=void 0}=e,{rotation:ft=void 0}=e,{scale:ht=void 0}=e,{skew:q=void 0}=e,{sortableChildren:X=void 0}=e,{width:ct=void 0}=e,{transform:yt=void 0}=e,{visible:Et=void 0}=e,{x:Nt=void 0}=e,{y:Lt=void 0}=e,{zIndex:Ht=void 0}=e,{instance:ot=new Ze}=e;const{applyProp:G,applyProps:Y}=Fa(ot),{invalidate:Ut}=Da(),{container:Xt}=RC()??{},lt=Vo();return xa(()=>{let k=-1,Zt=ot,fe=Xt;try{k=fe.getChildIndex(Zt)}catch{}if(fe&&k===-1&&fe.addChild(Zt),lt("create",{instance:Zt}),o.default){const{instance:K,...Le}=e;Y(Le)}return ot.on("click",K=>lt("click",K)),ot.on("mousedown",K=>lt("mousedown",K)),ot.on("mousemove",K=>lt("mousemove",K)),ot.on("mouseout",K=>lt("mouseout",K)),ot.on("mouseover",K=>lt("mouseover",K)),ot.on("mouseup",K=>lt("mouseup",K)),ot.on("mouseupoutside",K=>lt("mouseupoutside",K)),ot.on("mouseupoutside",K=>lt("mouseupoutside",K)),ot.on("pointercancel",K=>lt("pointercancel",K)),ot.on("pointerdown",K=>lt("pointerdown",K)),ot.on("pointermove",K=>lt("pointermove",K)),ot.on("pointerout",K=>lt("pointerout",K)),ot.on("pointerover",K=>lt("pointerover",K)),ot.on("pointertap",K=>lt("pointertap",K)),ot.on("pointerup",K=>lt("pointerup",K)),ot.on("pointerupoutside",K=>lt("pointerupoutside",K)),ot.on("removedFrom",K=>lt("removedFrom",K)),ot.on("rightclick",K=>lt("rightclick",K)),ot.on("rightdown",K=>lt("rightdown",K)),ot.on("rightup",K=>lt("rightup",K)),ot.on("rightupoutside",K=>lt("rightupoutside",K)),ot.on("tap",K=>lt("tap",K)),ot.on("touchcancel",K=>lt("touchcancel",K)),ot.on("touchend",K=>lt("touchend",K)),ot.on("touchendoutside",K=>lt("touchendoutside",K)),ot.on("touchmove",K=>lt("touchmove",K)),ot.on("touchstart",K=>lt("touchstart",K)),ot.on("added",K=>lt("added",K)),ot.on("removed",K=>lt("removed",K)),()=>{Zt==null||Zt.destroy(),fe==null||fe.removeChild(Zt),Ut()}}),Ml(()=>{Ut()}),Xt||Li("pixi/stage",{stage:ot}),Li("pixi/container",{container:ot}),r.$$set=k=>{t(46,e=Fe(Fe({},e),wo(k))),"accessible"in k&&t(0,a=k.accessible),"accessibleChildren"in k&&t(1,h=k.accessibleChildren),"accessibleHint"in k&&t(2,l=k.accessibleHint),"accessiblePointerEvents"in k&&t(3,f=k.accessiblePointerEvents),"accessibleTitle"in k&&t(4,d=k.accessibleTitle),"accessibleType"in k&&t(5,v=k.accessibleType),"alpha"in k&&t(6,p=k.alpha),"angle"in k&&t(7,g=k.angle),"buttonMode"in k&&t(8,m=k.buttonMode),"cacheAsBitmap"in k&&t(9,x=k.cacheAsBitmap),"cacheAsBitmapMultisample"in k&&t(10,y=k.cacheAsBitmapMultisample),"cacheAsBitmapResolution"in k&&t(11,E=k.cacheAsBitmapResolution),"cullable"in k&&t(12,C=k.cullable),"cullArea"in k&&t(13,S=k.cullArea),"cursor"in k&&t(14,O=k.cursor),"filterArea"in k&&t(15,P=k.filterArea),"filters"in k&&t(16,D=k.filters),"height"in k&&t(17,A=k.height),"hitArea"in k&&t(18,I=k.hitArea),"interactive"in k&&t(19,F=k.interactive),"interactiveChildren"in k&&t(20,B=k.interactiveChildren),"isMask"in k&&t(21,J=k.isMask),"isSprite"in k&&t(22,nt=k.isSprite),"mask"in k&&t(23,_t=k.mask),"name"in k&&t(24,Rt=k.name),"pivot"in k&&t(25,$=k.pivot),"position"in k&&t(26,Q=k.position),"renderable"in k&&t(27,V=k.renderable),"rotation"in k&&t(28,ft=k.rotation),"scale"in k&&t(29,ht=k.scale),"skew"in k&&t(30,q=k.skew),"sortableChildren"in k&&t(31,X=k.sortableChildren),"width"in k&&t(32,ct=k.width),"transform"in k&&t(33,yt=k.transform),"visible"in k&&t(34,Et=k.visible),"x"in k&&t(35,Nt=k.x),"y"in k&&t(36,Lt=k.y),"zIndex"in k&&t(37,Ht=k.zIndex),"instance"in k&&t(38,ot=k.instance),"$$scope"in k&&t(39,i=k.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&1&&G("accessible",a),r.$$.dirty[0]&2&&G("accessibleChildren",h),r.$$.dirty[0]&4&&G("accessibleHint",l),r.$$.dirty[0]&8&&G("accessiblePointerEvents",f),r.$$.dirty[0]&16&&G("accessibleTitle",d),r.$$.dirty[0]&32&&G("accessibleType",v),r.$$.dirty[0]&64&&G("alpha",p),r.$$.dirty[0]&128&&G("angle",g),r.$$.dirty[0]&256&&G("buttonMode",m),r.$$.dirty[0]&512&&G("cacheAsBitmap",x),r.$$.dirty[0]&2048&&G("cacheAsBitmapResolution",E),r.$$.dirty[0]&1024&&G("cacheAsBitmapMultisample",y),r.$$.dirty[0]&16384&&G("cursor",O),r.$$.dirty[0]&4096&&G("cullable",C),r.$$.dirty[0]&8192&&G("cullArea",S),r.$$.dirty[0]&32768&&G("filterArea",P),r.$$.dirty[0]&262144&&G("hitArea",I),r.$$.dirty[0]&65536&&G("filters",D),r.$$.dirty[0]&131072&&G("height",A),r.$$.dirty[0]&2097152&&G("isMask",J),r.$$.dirty[0]&4194304&&G("isSprite",nt),r.$$.dirty[0]&524288&&G("interactive",F),r.$$.dirty[0]&1048576&&G("interactiveChildren",B),r.$$.dirty[0]&8388608&&G("mask",_t),r.$$.dirty[0]&16777216&&G("name",Rt),r.$$.dirty[0]&33554432&&G("pivot",$),r.$$.dirty[0]&67108864&&G("position",Q),r.$$.dirty[0]&134217728&&G("renderable",V),r.$$.dirty[0]&268435456&&G("rotation",ft),r.$$.dirty[0]&536870912&&G("scale",ht),r.$$.dirty[0]&1073741824&&G("skew",q),r.$$.dirty[1]&1&&G("sortableChildren",X),r.$$.dirty[1]&4&&G("transform",yt),r.$$.dirty[1]&8&&G("visible",Et),r.$$.dirty[1]&16&&G("x",Nt),r.$$.dirty[1]&32&&G("y",Lt),r.$$.dirty[1]&2&&G("width",ct),r.$$.dirty[1]&64&&G("zIndex",Ht)},e=wo(e),[a,h,l,f,d,v,p,g,m,x,y,E,C,S,O,P,D,A,I,F,B,J,nt,_t,Rt,$,Q,V,ft,ht,q,X,ct,yt,Et,Nt,Lt,Ht,ot,i,n]}class fi extends xr{constructor(e){super(),br(this,e,CC,PC,yr,{accessible:0,accessibleChildren:1,accessibleHint:2,accessiblePointerEvents:3,accessibleTitle:4,accessibleType:5,alpha:6,angle:7,buttonMode:8,cacheAsBitmap:9,cacheAsBitmapMultisample:10,cacheAsBitmapResolution:11,cullable:12,cullArea:13,cursor:14,filterArea:15,filters:16,height:17,hitArea:18,interactive:19,interactiveChildren:20,isMask:21,isSprite:22,mask:23,name:24,pivot:25,position:26,renderable:27,rotation:28,scale:29,skew:30,sortableChildren:31,width:32,transform:33,visible:34,x:35,y:36,zIndex:37,instance:38},null,[-1,-1])}}const IC=r=>({}),nv=r=>({slot:"view"});function iv(r){let e,t;return e=new bg({}),e.$on("tick",r[18]),{c(){oe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p:Ge,i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function OC(r){let e;const t=r[17].default,n=Vr(t,r,r[22],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&4194304)&&jr(n,t,i,i[22],e?Yr(t,i[22],o,null):qr(i[22]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function MC(r){let e,t;return e=new fi({props:{instance:r[1].stage,$$slots:{default:[OC]},$$scope:{ctx:r}}}),{c(){oe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const o={};i&2&&(o.instance=n[1].stage),i&4194304&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function DC(r){let e,t,n,i=r[0]&&iv(r);return t=new bg({props:{instance:r[1].ticker,$$slots:{default:[MC]},$$scope:{ctx:r}}}),{c(){i&&i.c(),e=Vt(),oe(t.$$.fragment)},m(o,a){i&&i.m(o,a),Yt(o,e,a),re(t,o,a),n=!0},p(o,a){o[0]?i?(i.p(o,a),a&1&&rt(i,1)):(i=iv(o),i.c(),rt(i,1),i.m(e.parentNode,e)):i&&(nr(),at(i,1,1,()=>{i=null}),ir());const h={};a&2&&(h.instance=o[1].ticker),a&4194306&&(h.$$scope={dirty:a,ctx:o}),t.$set(h)},i(o){n||(rt(i),rt(t.$$.fragment,o),n=!0)},o(o){at(i),at(t.$$.fragment,o),n=!1},d(o){i&&i.d(o),o&&Wt(e),ne(t,o)}}}function FC(r){let e;return{c(){e=Pt("div")},m(t,n){Yt(t,e,n)},p:Ge,d(t){t&&Wt(e)}}}function LC(r){let e;const t=r[17].view,n=Vr(t,r,r[22],nv),i=n||FC();return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){n&&n.p&&(!e||a&4194304)&&jr(n,t,o,o[22],e?Yr(t,o[22],a,IC):qr(o[22]),nv)},i(o){e||(rt(i,o),e=!0)},o(o){at(i,o),e=!1},d(o){i&&i.d(o)}}}function BC(r){let e,t;return e=new TC({props:{instance:r[1].renderer,$$slots:{view:[LC],default:[DC]},$$scope:{ctx:r}}}),e.$on("invalidate",r[19]),e.$on("prerender",r[20]),e.$on("postrender",r[21]),{c(){oe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,[i]){const o={};i&2&&(o.instance=n[1].renderer),i&4194311&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Tg(){return Dl("pixi/app")??{}}function NC(r,e,t){let{$$slots:n={},$$scope:i}=e,{autoStart:o=!0}=e,{width:a=800}=e,{height:h=600}=e,{useContextAlpha:l=void 0}=e,{autoDensity:f=!0}=e,{antialias:d=!1}=e,{preserveDrawingBuffer:v=!1}=e,{resolution:p=tt.RESOLUTION}=e,{forceCanvas:g=!1}=e,{backgroundColor:m=0}=e,{backgroundAlpha:x=1}=e,{clearBeforeRender:y=void 0}=e,{powerPreference:E=void 0}=e,{resizeTo:C=void 0}=e,{render:S="auto"}=e,{instance:O=new Sf(yg({autoStart:o,width:a,height:h,useContextAlpha:l,autoDensity:f,antialias:d,preserveDrawingBuffer:v,resolution:p,forceCanvas:g,backgroundColor:m,backgroundAlpha:x,clearBeforeRender:y,powerPreference:E,resizeTo:C}))}=e,P=!0;Li("pixi/app",{app:O}),S&&O.ticker.remove(O.render,O);const D=()=>{S==="demand"?P&&(t(2,P=!1),O.renderer.render(O.stage)):S==="auto"&&O.renderer.render(O.stage)},A=()=>{t(2,P=!0)};function I(B){st.call(this,r,B)}function F(B){st.call(this,r,B)}return r.$$set=B=>{"autoStart"in B&&t(3,o=B.autoStart),"width"in B&&t(4,a=B.width),"height"in B&&t(5,h=B.height),"useContextAlpha"in B&&t(6,l=B.useContextAlpha),"autoDensity"in B&&t(7,f=B.autoDensity),"antialias"in B&&t(8,d=B.antialias),"preserveDrawingBuffer"in B&&t(9,v=B.preserveDrawingBuffer),"resolution"in B&&t(10,p=B.resolution),"forceCanvas"in B&&t(11,g=B.forceCanvas),"backgroundColor"in B&&t(12,m=B.backgroundColor),"backgroundAlpha"in B&&t(13,x=B.backgroundAlpha),"clearBeforeRender"in B&&t(14,y=B.clearBeforeRender),"powerPreference"in B&&t(15,E=B.powerPreference),"resizeTo"in B&&t(16,C=B.resizeTo),"render"in B&&t(0,S=B.render),"instance"in B&&t(1,O=B.instance),"$$scope"in B&&t(22,i=B.$$scope)},[S,O,P,o,a,h,l,f,d,v,p,g,m,x,y,E,C,n,D,A,I,F,i]}class UC extends xr{constructor(e){super(),br(this,e,NC,BC,yr,{autoStart:3,width:4,height:5,useContextAlpha:6,autoDensity:7,antialias:8,preserveDrawingBuffer:9,resolution:10,forceCanvas:11,backgroundColor:12,backgroundAlpha:13,clearBeforeRender:14,powerPreference:15,resizeTo:16,render:0,instance:1})}}const GC=r=>({progress:r&1}),ov=r=>({progress:r[0]});function kC(r){let e;const t=r[7].default,n=Vr(t,r,r[6],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&64)&&jr(n,t,i,i[6],e?Yr(t,i[6],o,null):qr(i[6]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function HC(r){let e;const t=r[7].loading,n=Vr(t,r,r[6],ov);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&65)&&jr(n,t,i,i[6],e?Yr(t,i[6],o,GC):qr(i[6]),ov)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function XC(r){let e,t,n,i;const o=[HC,kC],a=[];function h(l,f){return l[1]?0:1}return e=h(r),t=a[e]=o[e](r),{c(){t.c(),n=ai()},m(l,f){a[e].m(l,f),Yt(l,n,f),i=!0},p(l,[f]){let d=e;e=h(l),e===d?a[e].p(l,f):(nr(),at(a[d],1,1,()=>{a[d]=null}),ir(),t=a[e],t?t.p(l,f):(t=a[e]=o[e](l),t.c()),rt(t,1),t.m(n.parentNode,n))},i(l){i||(rt(t),i=!0)},o(l){at(t),i=!1},d(l){a[e].d(l),l&&Wt(n)}}}function WC(r,e,t){let{$$slots:n={},$$scope:i}=e;const o=Vo();let{resources:a=[]}=e,{baseUrl:h=""}=e,{concurrency:l=10}=e,{instance:f=new Ui}=e;Li("pixi/loader",{loader:f});const{invalidate:d}=Da();let v=0,p=a.length>0;return xa(()=>{h&&t(2,f.baseUrl=h,f),l&&t(2,f.concurrency=l,f),a.forEach(A=>{Array.isArray(A)?f.add(...A):f.add(A)}),f.load();function g(A){o("complete",A),d(),t(1,p=!1)}function m(A){o("progress",A),d(),t(0,v=A.progress)}function x(A){o("error",A),d()}function y(A){o("start",A),d()}function E(A){o("load",A),d()}const C=f.onComplete.add(g),S=f.onProgress.add(m),O=f.onError.add(x),P=f.onStart.add(y),D=f.onLoad.add(E);return()=>{f.onComplete.detach(C),f.onProgress.detach(S),f.onError.detach(O),f.onStart.detach(P),f.onLoad.detach(D)}}),r.$$set=g=>{"resources"in g&&t(3,a=g.resources),"baseUrl"in g&&t(4,h=g.baseUrl),"concurrency"in g&&t(5,l=g.concurrency),"instance"in g&&t(2,f=g.instance),"$$scope"in g&&t(6,i=g.$$scope)},[v,p,f,a,h,l,i,n]}class zC extends xr{constructor(e){super(),br(this,e,WC,XC,yr,{resources:3,baseUrl:4,concurrency:5,instance:2})}}function VC(r){let e;const t=r[7].default,n=Vr(t,r,r[38],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&128)&&jr(n,t,i,i[38],e?Yr(t,i[38],o,null):qr(i[38]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function YC(r){let e,t;const n=[r[1],{instance:r[0]}];let i={$$slots:{default:[VC]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)i=Fe(i,n[o]);return e=new fi({props:i}),e.$on("create",r[8]),e.$on("click",r[9]),e.$on("mousedown",r[10]),e.$on("mousemove",r[11]),e.$on("mouseout",r[12]),e.$on("mouseover",r[13]),e.$on("mouseup",r[14]),e.$on("mouseupoutside",r[15]),e.$on("mouseupoutside",r[16]),e.$on("pointercancel",r[17]),e.$on("pointerdown",r[18]),e.$on("pointermove",r[19]),e.$on("pointerout",r[20]),e.$on("pointerover",r[21]),e.$on("pointertap",r[22]),e.$on("pointerup",r[23]),e.$on("pointerupoutside",r[24]),e.$on("removedFrom",r[25]),e.$on("rightclick",r[26]),e.$on("rightdown",r[27]),e.$on("rightup",r[28]),e.$on("rightupoutside",r[29]),e.$on("tap",r[30]),e.$on("touchcancel",r[31]),e.$on("touchend",r[32]),e.$on("touchendoutside",r[33]),e.$on("touchmove",r[34]),e.$on("touchstart",r[35]),e.$on("added",r[36]),e.$on("removed",r[37]),{c(){oe(e.$$.fragment)},m(o,a){re(e,o,a),t=!0},p(o,a){const h=a[0]&3?ui(n,[a[0]&2&&hi(o[1]),a[0]&1&&{instance:o[0]}]):{};a[1]&128&&(h.$$scope={dirty:a,ctx:o}),e.$set(h)},i(o){t||(rt(e.$$.fragment,o),t=!0)},o(o){at(e.$$.fragment,o),t=!1},d(o){ne(e,o)}}}function jC(r,e,t){const n=["anchor","blendMode","pluginName","roundPixels","texture","instance"];let i=Fi(e,n),{$$slots:o={},$$scope:a}=e,{anchor:h=void 0}=e,{blendMode:l=dt.NORMAL}=e,{pluginName:f=void 0}=e,{roundPixels:d=void 0}=e,{texture:v}=e,{instance:p=new Ke(v)}=e;const{applyProp:g}=Fa(p),{invalidate:m}=Da();Ml(()=>{m()});function x(G){st.call(this,r,G)}function y(G){st.call(this,r,G)}function E(G){st.call(this,r,G)}function C(G){st.call(this,r,G)}function S(G){st.call(this,r,G)}function O(G){st.call(this,r,G)}function P(G){st.call(this,r,G)}function D(G){st.call(this,r,G)}function A(G){st.call(this,r,G)}function I(G){st.call(this,r,G)}function F(G){st.call(this,r,G)}function B(G){st.call(this,r,G)}function J(G){st.call(this,r,G)}function nt(G){st.call(this,r,G)}function _t(G){st.call(this,r,G)}function Rt(G){st.call(this,r,G)}function $(G){st.call(this,r,G)}function Q(G){st.call(this,r,G)}function V(G){st.call(this,r,G)}function ft(G){st.call(this,r,G)}function ht(G){st.call(this,r,G)}function q(G){st.call(this,r,G)}function X(G){st.call(this,r,G)}function ct(G){st.call(this,r,G)}function yt(G){st.call(this,r,G)}function Et(G){st.call(this,r,G)}function Nt(G){st.call(this,r,G)}function Lt(G){st.call(this,r,G)}function Ht(G){st.call(this,r,G)}function ot(G){st.call(this,r,G)}return r.$$set=G=>{e=Fe(Fe({},e),wo(G)),t(1,i=Fi(e,n)),"anchor"in G&&t(2,h=G.anchor),"blendMode"in G&&t(3,l=G.blendMode),"pluginName"in G&&t(4,f=G.pluginName),"roundPixels"in G&&t(5,d=G.roundPixels),"texture"in G&&t(6,v=G.texture),"instance"in G&&t(0,p=G.instance),"$$scope"in G&&t(38,a=G.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&4&&g("anchor",h),r.$$.dirty[0]&8&&g("blendMode",l),r.$$.dirty[0]&16&&g("pluginName",f),r.$$.dirty[0]&32&&g("roundPixels",d),r.$$.dirty[0]&64&&g("texture",v),r.$$.dirty[0]&64&&v.on("update",()=>m())},[p,i,h,l,f,d,v,o,x,y,E,C,S,O,P,D,A,I,F,B,J,nt,_t,Rt,$,Q,V,ft,ht,q,X,ct,yt,Et,Nt,Lt,Ht,ot,a]}class pn extends xr{constructor(e){super(),br(this,e,jC,YC,yr,{anchor:2,blendMode:3,pluginName:4,roundPixels:5,texture:6,instance:0},null,[-1,-1])}}function qC(r){let e;const t=r[8].default,n=Vr(t,r,r[39],null);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&256)&&jr(n,t,i,i[39],e?Yr(t,i[39],o,null):qr(i[39]),null)},i(i){e||(rt(n,i),e=!0)},o(i){at(n,i),e=!1},d(i){n&&n.d(i)}}}function KC(r){let e,t;const n=[r[1],{instance:r[0]}];let i={$$slots:{default:[qC]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)i=Fe(i,n[o]);return e=new fi({props:i}),e.$on("create",r[9]),e.$on("click",r[10]),e.$on("mousedown",r[11]),e.$on("mousemove",r[12]),e.$on("mouseout",r[13]),e.$on("mouseover",r[14]),e.$on("mouseup",r[15]),e.$on("mouseupoutside",r[16]),e.$on("mouseupoutside",r[17]),e.$on("pointercancel",r[18]),e.$on("pointerdown",r[19]),e.$on("pointermove",r[20]),e.$on("pointerout",r[21]),e.$on("pointerover",r[22]),e.$on("pointertap",r[23]),e.$on("pointerup",r[24]),e.$on("pointerupoutside",r[25]),e.$on("removedFrom",r[26]),e.$on("rightclick",r[27]),e.$on("rightdown",r[28]),e.$on("rightup",r[29]),e.$on("rightupoutside",r[30]),e.$on("tap",r[31]),e.$on("touchcancel",r[32]),e.$on("touchend",r[33]),e.$on("touchendoutside",r[34]),e.$on("touchmove",r[35]),e.$on("touchstart",r[36]),e.$on("added",r[37]),e.$on("removed",r[38]),{c(){oe(e.$$.fragment)},m(o,a){re(e,o,a),t=!0},p(o,a){const h=a[0]&3?ui(n,[a[0]&2&&hi(o[1]),a[0]&1&&{instance:o[0]}]):{};a[1]&256&&(h.$$scope={dirty:a,ctx:o}),e.$set(h)},i(o){t||(rt(e.$$.fragment,o),t=!0)},o(o){at(e.$$.fragment,o),t=!1},d(o){ne(e,o)}}}function ZC(r,e,t){const n=["text","style","anchor","blendMode","pluginName","roundPixels","instance"];let i=Fi(e,n),{$$slots:o={},$$scope:a}=e,{text:h}=e,{style:l=void 0}=e,{anchor:f=void 0}=e,{blendMode:d=dt.NORMAL}=e,{pluginName:v=void 0}=e,{roundPixels:p=void 0}=e,{instance:g=new Ma(h,l)}=e;const{invalidate:m}=Da(),{applyProp:x}=Fa(g);Ml(()=>{m()});function y(Y){st.call(this,r,Y)}function E(Y){st.call(this,r,Y)}function C(Y){st.call(this,r,Y)}function S(Y){st.call(this,r,Y)}function O(Y){st.call(this,r,Y)}function P(Y){st.call(this,r,Y)}function D(Y){st.call(this,r,Y)}function A(Y){st.call(this,r,Y)}function I(Y){st.call(this,r,Y)}function F(Y){st.call(this,r,Y)}function B(Y){st.call(this,r,Y)}function J(Y){st.call(this,r,Y)}function nt(Y){st.call(this,r,Y)}function _t(Y){st.call(this,r,Y)}function Rt(Y){st.call(this,r,Y)}function $(Y){st.call(this,r,Y)}function Q(Y){st.call(this,r,Y)}function V(Y){st.call(this,r,Y)}function ft(Y){st.call(this,r,Y)}function ht(Y){st.call(this,r,Y)}function q(Y){st.call(this,r,Y)}function X(Y){st.call(this,r,Y)}function ct(Y){st.call(this,r,Y)}function yt(Y){st.call(this,r,Y)}function Et(Y){st.call(this,r,Y)}function Nt(Y){st.call(this,r,Y)}function Lt(Y){st.call(this,r,Y)}function Ht(Y){st.call(this,r,Y)}function ot(Y){st.call(this,r,Y)}function G(Y){st.call(this,r,Y)}return r.$$set=Y=>{e=Fe(Fe({},e),wo(Y)),t(1,i=Fi(e,n)),"text"in Y&&t(2,h=Y.text),"style"in Y&&t(3,l=Y.style),"anchor"in Y&&t(4,f=Y.anchor),"blendMode"in Y&&t(5,d=Y.blendMode),"pluginName"in Y&&t(6,v=Y.pluginName),"roundPixels"in Y&&t(7,p=Y.roundPixels),"instance"in Y&&t(0,g=Y.instance),"$$scope"in Y&&t(39,a=Y.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&4&&x("text",h),r.$$.dirty[0]&8&&x("style",l),r.$$.dirty[0]&16&&x("anchor",f),r.$$.dirty[0]&32&&x("blendMode",d),r.$$.dirty[0]&64&&x("pluginName",v),r.$$.dirty[0]&128&&x("roundPixels",p)},[g,i,h,l,f,d,v,p,o,y,E,C,S,O,P,D,A,I,F,B,J,nt,_t,Rt,$,Q,V,ft,ht,q,X,ct,yt,Et,Nt,Lt,Ht,ot,G,a]}class JC extends xr{constructor(e){super(),br(this,e,ZC,KC,yr,{text:2,style:3,anchor:4,blendMode:5,pluginName:6,roundPixels:7,instance:0},null,[-1,-1])}}var Wi={},QC={get exports(){return Wi},set exports(r){Wi=r}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,e){(function(){var t,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",h="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",v=1,p=2,g=4,m=1,x=2,y=1,E=2,C=4,S=8,O=16,P=32,D=64,A=128,I=256,F=512,B=30,J="...",nt=800,_t=16,Rt=1,$=2,Q=3,V=1/0,ft=9007199254740991,ht=17976931348623157e292,q=0/0,X=4294967295,ct=X-1,yt=X>>>1,Et=[["ary",A],["bind",y],["bindKey",E],["curry",S],["curryRight",O],["flip",F],["partial",P],["partialRight",D],["rearg",I]],Nt="[object Arguments]",Lt="[object Array]",Ht="[object AsyncFunction]",ot="[object Boolean]",G="[object Date]",Y="[object DOMException]",Ut="[object Error]",Xt="[object Function]",lt="[object GeneratorFunction]",k="[object Map]",Zt="[object Number]",fe="[object Null]",K="[object Object]",Le="[object Promise]",vn="[object Proxy]",Lr="[object RegExp]",He="[object Set]",_n="[object String]",Ln="[object Symbol]",qo="[object Undefined]",qi="[object WeakMap]",wg="[object WeakSet]",Ki="[object ArrayBuffer]",ci="[object DataView]",La="[object Float32Array]",Ba="[object Float64Array]",Na="[object Int8Array]",Ua="[object Int16Array]",Ga="[object Int32Array]",ka="[object Uint8Array]",Ha="[object Uint8ClampedArray]",Xa="[object Uint16Array]",Wa="[object Uint32Array]",Sg=/\b__p \+= '';/g,Ag=/\b(__p \+=) '' \+/g,Pg=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Af=/&(?:amp|lt|gt|quot|#39);/g,Pf=/[&<>"']/g,Rg=RegExp(Af.source),Cg=RegExp(Pf.source),Ig=/<%-([\s\S]+?)%>/g,Og=/<%([\s\S]+?)%>/g,Rf=/<%=([\s\S]+?)%>/g,Mg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dg=/^\w*$/,Fg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,za=/[\\^$.*+?()[\]{}|]/g,Lg=RegExp(za.source),Va=/^\s+/,Bg=/\s/,Ng=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ug=/\{\n\/\* \[wrapped with (.+)\] \*/,Gg=/,? & /,kg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hg=/[()=,{}\[\]\/\s]/,Xg=/\\(\\)?/g,Wg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cf=/\w*$/,zg=/^[-+]0x[0-9a-f]+$/i,Vg=/^0b[01]+$/i,Yg=/^\[object .+?Constructor\]$/,jg=/^0o[0-7]+$/i,qg=/^(?:0|[1-9]\d*)$/,Kg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ko=/($^)/,Zg=/['\n\r\u2028\u2029\\]/g,Zo="\\ud800-\\udfff",Jg="\\u0300-\\u036f",Qg="\\ufe20-\\ufe2f",$g="\\u20d0-\\u20ff",If=Jg+Qg+$g,Of="\\u2700-\\u27bf",Mf="a-z\\xdf-\\xf6\\xf8-\\xff",t0="\\xac\\xb1\\xd7\\xf7",e0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",r0="\\u2000-\\u206f",n0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Df="A-Z\\xc0-\\xd6\\xd8-\\xde",Ff="\\ufe0e\\ufe0f",Lf=t0+e0+r0+n0,Ya="['’]",i0="["+Zo+"]",Bf="["+Lf+"]",Jo="["+If+"]",Nf="\\d+",o0="["+Of+"]",Uf="["+Mf+"]",Gf="[^"+Zo+Lf+Nf+Of+Mf+Df+"]",ja="\\ud83c[\\udffb-\\udfff]",s0="(?:"+Jo+"|"+ja+")",kf="[^"+Zo+"]",qa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ka="[\\ud800-\\udbff][\\udc00-\\udfff]",di="["+Df+"]",Hf="\\u200d",Xf="(?:"+Uf+"|"+Gf+")",a0="(?:"+di+"|"+Gf+")",Wf="(?:"+Ya+"(?:d|ll|m|re|s|t|ve))?",zf="(?:"+Ya+"(?:D|LL|M|RE|S|T|VE))?",Vf=s0+"?",Yf="["+Ff+"]?",u0="(?:"+Hf+"(?:"+[kf,qa,Ka].join("|")+")"+Yf+Vf+")*",h0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",l0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jf=Yf+Vf+u0,f0="(?:"+[o0,qa,Ka].join("|")+")"+jf,c0="(?:"+[kf+Jo+"?",Jo,qa,Ka,i0].join("|")+")",d0=RegExp(Ya,"g"),p0=RegExp(Jo,"g"),Za=RegExp(ja+"(?="+ja+")|"+c0+jf,"g"),v0=RegExp([di+"?"+Uf+"+"+Wf+"(?="+[Bf,di,"$"].join("|")+")",a0+"+"+zf+"(?="+[Bf,di+Xf,"$"].join("|")+")",di+"?"+Xf+"+"+Wf,di+"+"+zf,l0,h0,Nf,f0].join("|"),"g"),_0=RegExp("["+Hf+Zo+If+Ff+"]"),g0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,m0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],y0=-1,ae={};ae[La]=ae[Ba]=ae[Na]=ae[Ua]=ae[Ga]=ae[ka]=ae[Ha]=ae[Xa]=ae[Wa]=!0,ae[Nt]=ae[Lt]=ae[Ki]=ae[ot]=ae[ci]=ae[G]=ae[Ut]=ae[Xt]=ae[k]=ae[Zt]=ae[K]=ae[Lr]=ae[He]=ae[_n]=ae[qi]=!1;var ie={};ie[Nt]=ie[Lt]=ie[Ki]=ie[ci]=ie[ot]=ie[G]=ie[La]=ie[Ba]=ie[Na]=ie[Ua]=ie[Ga]=ie[k]=ie[Zt]=ie[K]=ie[Lr]=ie[He]=ie[_n]=ie[Ln]=ie[ka]=ie[Ha]=ie[Xa]=ie[Wa]=!0,ie[Ut]=ie[Xt]=ie[qi]=!1;var b0={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},x0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},T0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},E0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},w0=parseFloat,S0=parseInt,qf=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,A0=typeof self=="object"&&self&&self.Object===Object&&self,Ce=qf||A0||Function("return this")(),Ja=e&&!e.nodeType&&e,Bn=Ja&&!0&&r&&!r.nodeType&&r,Kf=Bn&&Bn.exports===Ja,Qa=Kf&&qf.process,sr=function(){try{var L=Bn&&Bn.require&&Bn.require("util").types;return L||Qa&&Qa.binding&&Qa.binding("util")}catch{}}(),Zf=sr&&sr.isArrayBuffer,Jf=sr&&sr.isDate,Qf=sr&&sr.isMap,$f=sr&&sr.isRegExp,tc=sr&&sr.isSet,ec=sr&&sr.isTypedArray;function Je(L,H,U){switch(U.length){case 0:return L.call(H);case 1:return L.call(H,U[0]);case 2:return L.call(H,U[0],U[1]);case 3:return L.call(H,U[0],U[1],U[2])}return L.apply(H,U)}function P0(L,H,U,it){for(var wt=-1,jt=L==null?0:L.length;++wt<jt;){var Ee=L[wt];H(it,Ee,U(Ee),L)}return it}function ar(L,H){for(var U=-1,it=L==null?0:L.length;++U<it&&H(L[U],U,L)!==!1;);return L}function R0(L,H){for(var U=L==null?0:L.length;U--&&H(L[U],U,L)!==!1;);return L}function rc(L,H){for(var U=-1,it=L==null?0:L.length;++U<it;)if(!H(L[U],U,L))return!1;return!0}function gn(L,H){for(var U=-1,it=L==null?0:L.length,wt=0,jt=[];++U<it;){var Ee=L[U];H(Ee,U,L)&&(jt[wt++]=Ee)}return jt}function Qo(L,H){var U=L==null?0:L.length;return!!U&&pi(L,H,0)>-1}function $a(L,H,U){for(var it=-1,wt=L==null?0:L.length;++it<wt;)if(U(H,L[it]))return!0;return!1}function ue(L,H){for(var U=-1,it=L==null?0:L.length,wt=Array(it);++U<it;)wt[U]=H(L[U],U,L);return wt}function mn(L,H){for(var U=-1,it=H.length,wt=L.length;++U<it;)L[wt+U]=H[U];return L}function tu(L,H,U,it){var wt=-1,jt=L==null?0:L.length;for(it&&jt&&(U=L[++wt]);++wt<jt;)U=H(U,L[wt],wt,L);return U}function C0(L,H,U,it){var wt=L==null?0:L.length;for(it&&wt&&(U=L[--wt]);wt--;)U=H(U,L[wt],wt,L);return U}function eu(L,H){for(var U=-1,it=L==null?0:L.length;++U<it;)if(H(L[U],U,L))return!0;return!1}var I0=ru("length");function O0(L){return L.split("")}function M0(L){return L.match(kg)||[]}function nc(L,H,U){var it;return U(L,function(wt,jt,Ee){if(H(wt,jt,Ee))return it=jt,!1}),it}function $o(L,H,U,it){for(var wt=L.length,jt=U+(it?1:-1);it?jt--:++jt<wt;)if(H(L[jt],jt,L))return jt;return-1}function pi(L,H,U){return H===H?z0(L,H,U):$o(L,ic,U)}function D0(L,H,U,it){for(var wt=U-1,jt=L.length;++wt<jt;)if(it(L[wt],H))return wt;return-1}function ic(L){return L!==L}function oc(L,H){var U=L==null?0:L.length;return U?iu(L,H)/U:q}function ru(L){return function(H){return H==null?t:H[L]}}function nu(L){return function(H){return L==null?t:L[H]}}function sc(L,H,U,it,wt){return wt(L,function(jt,Ee,te){U=it?(it=!1,jt):H(U,jt,Ee,te)}),U}function F0(L,H){var U=L.length;for(L.sort(H);U--;)L[U]=L[U].value;return L}function iu(L,H){for(var U,it=-1,wt=L.length;++it<wt;){var jt=H(L[it]);jt!==t&&(U=U===t?jt:U+jt)}return U}function ou(L,H){for(var U=-1,it=Array(L);++U<L;)it[U]=H(U);return it}function L0(L,H){return ue(H,function(U){return[U,L[U]]})}function ac(L){return L&&L.slice(0,fc(L)+1).replace(Va,"")}function Qe(L){return function(H){return L(H)}}function su(L,H){return ue(H,function(U){return L[U]})}function Zi(L,H){return L.has(H)}function uc(L,H){for(var U=-1,it=L.length;++U<it&&pi(H,L[U],0)>-1;);return U}function hc(L,H){for(var U=L.length;U--&&pi(H,L[U],0)>-1;);return U}function B0(L,H){for(var U=L.length,it=0;U--;)L[U]===H&&++it;return it}var N0=nu(b0),U0=nu(x0);function G0(L){return"\\"+E0[L]}function k0(L,H){return L==null?t:L[H]}function vi(L){return _0.test(L)}function H0(L){return g0.test(L)}function X0(L){for(var H,U=[];!(H=L.next()).done;)U.push(H.value);return U}function au(L){var H=-1,U=Array(L.size);return L.forEach(function(it,wt){U[++H]=[wt,it]}),U}function lc(L,H){return function(U){return L(H(U))}}function yn(L,H){for(var U=-1,it=L.length,wt=0,jt=[];++U<it;){var Ee=L[U];(Ee===H||Ee===d)&&(L[U]=d,jt[wt++]=U)}return jt}function ts(L){var H=-1,U=Array(L.size);return L.forEach(function(it){U[++H]=it}),U}function W0(L){var H=-1,U=Array(L.size);return L.forEach(function(it){U[++H]=[it,it]}),U}function z0(L,H,U){for(var it=U-1,wt=L.length;++it<wt;)if(L[it]===H)return it;return-1}function V0(L,H,U){for(var it=U+1;it--;)if(L[it]===H)return it;return it}function _i(L){return vi(L)?j0(L):I0(L)}function Tr(L){return vi(L)?q0(L):O0(L)}function fc(L){for(var H=L.length;H--&&Bg.test(L.charAt(H)););return H}var Y0=nu(T0);function j0(L){for(var H=Za.lastIndex=0;Za.test(L);)++H;return H}function q0(L){return L.match(Za)||[]}function K0(L){return L.match(v0)||[]}var Z0=function L(H){H=H==null?Ce:gi.defaults(Ce.Object(),H,gi.pick(Ce,m0));var U=H.Array,it=H.Date,wt=H.Error,jt=H.Function,Ee=H.Math,te=H.Object,uu=H.RegExp,J0=H.String,ur=H.TypeError,es=U.prototype,Q0=jt.prototype,mi=te.prototype,rs=H["__core-js_shared__"],ns=Q0.toString,Jt=mi.hasOwnProperty,$0=0,cc=function(){var s=/[^.]+$/.exec(rs&&rs.keys&&rs.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),is=mi.toString,tm=ns.call(te),em=Ce._,rm=uu("^"+ns.call(Jt).replace(za,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=Kf?H.Buffer:t,bn=H.Symbol,ss=H.Uint8Array,dc=os?os.allocUnsafe:t,as=lc(te.getPrototypeOf,te),pc=te.create,vc=mi.propertyIsEnumerable,us=es.splice,_c=bn?bn.isConcatSpreadable:t,Ji=bn?bn.iterator:t,Nn=bn?bn.toStringTag:t,hs=function(){try{var s=Xn(te,"defineProperty");return s({},"",{}),s}catch{}}(),nm=H.clearTimeout!==Ce.clearTimeout&&H.clearTimeout,im=it&&it.now!==Ce.Date.now&&it.now,om=H.setTimeout!==Ce.setTimeout&&H.setTimeout,ls=Ee.ceil,fs=Ee.floor,hu=te.getOwnPropertySymbols,sm=os?os.isBuffer:t,gc=H.isFinite,am=es.join,um=lc(te.keys,te),we=Ee.max,Oe=Ee.min,hm=it.now,lm=H.parseInt,mc=Ee.random,fm=es.reverse,lu=Xn(H,"DataView"),Qi=Xn(H,"Map"),fu=Xn(H,"Promise"),yi=Xn(H,"Set"),$i=Xn(H,"WeakMap"),to=Xn(te,"create"),cs=$i&&new $i,bi={},cm=Wn(lu),dm=Wn(Qi),pm=Wn(fu),vm=Wn(yi),_m=Wn($i),ds=bn?bn.prototype:t,eo=ds?ds.valueOf:t,yc=ds?ds.toString:t;function T(s){if(_e(s)&&!St(s)&&!(s instanceof Gt)){if(s instanceof hr)return s;if(Jt.call(s,"__wrapped__"))return bd(s)}return new hr(s)}var xi=function(){function s(){}return function(u){if(!ce(u))return{};if(pc)return pc(u);s.prototype=u;var c=new s;return s.prototype=t,c}}();function ps(){}function hr(s,u){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}T.templateSettings={escape:Ig,evaluate:Og,interpolate:Rf,variable:"",imports:{_:T}},T.prototype=ps.prototype,T.prototype.constructor=T,hr.prototype=xi(ps.prototype),hr.prototype.constructor=hr;function Gt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function gm(){var s=new Gt(this.__wrapped__);return s.__actions__=Xe(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Xe(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Xe(this.__views__),s}function mm(){if(this.__filtered__){var s=new Gt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function ym(){var s=this.__wrapped__.value(),u=this.__dir__,c=St(s),_=u<0,b=c?s.length:0,w=Oy(0,b,this.__views__),R=w.start,M=w.end,N=M-R,W=_?M:R-1,z=this.__iteratees__,j=z.length,et=0,ut=Oe(N,this.__takeCount__);if(!c||!_&&b==N&&ut==N)return Wc(s,this.__actions__);var bt=[];t:for(;N--&&et<ut;){W+=u;for(var It=-1,xt=s[W];++It<j;){var Bt=z[It],kt=Bt.iteratee,er=Bt.type,Ue=kt(xt);if(er==$)xt=Ue;else if(!Ue){if(er==Rt)continue t;break t}}bt[et++]=xt}return bt}Gt.prototype=xi(ps.prototype),Gt.prototype.constructor=Gt;function Un(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var _=s[u];this.set(_[0],_[1])}}function bm(){this.__data__=to?to(null):{},this.size=0}function xm(s){var u=this.has(s)&&delete this.__data__[s];return this.size-=u?1:0,u}function Tm(s){var u=this.__data__;if(to){var c=u[s];return c===l?t:c}return Jt.call(u,s)?u[s]:t}function Em(s){var u=this.__data__;return to?u[s]!==t:Jt.call(u,s)}function wm(s,u){var c=this.__data__;return this.size+=this.has(s)?0:1,c[s]=to&&u===t?l:u,this}Un.prototype.clear=bm,Un.prototype.delete=xm,Un.prototype.get=Tm,Un.prototype.has=Em,Un.prototype.set=wm;function Jr(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var _=s[u];this.set(_[0],_[1])}}function Sm(){this.__data__=[],this.size=0}function Am(s){var u=this.__data__,c=vs(u,s);if(c<0)return!1;var _=u.length-1;return c==_?u.pop():us.call(u,c,1),--this.size,!0}function Pm(s){var u=this.__data__,c=vs(u,s);return c<0?t:u[c][1]}function Rm(s){return vs(this.__data__,s)>-1}function Cm(s,u){var c=this.__data__,_=vs(c,s);return _<0?(++this.size,c.push([s,u])):c[_][1]=u,this}Jr.prototype.clear=Sm,Jr.prototype.delete=Am,Jr.prototype.get=Pm,Jr.prototype.has=Rm,Jr.prototype.set=Cm;function Qr(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var _=s[u];this.set(_[0],_[1])}}function Im(){this.size=0,this.__data__={hash:new Un,map:new(Qi||Jr),string:new Un}}function Om(s){var u=Ps(this,s).delete(s);return this.size-=u?1:0,u}function Mm(s){return Ps(this,s).get(s)}function Dm(s){return Ps(this,s).has(s)}function Fm(s,u){var c=Ps(this,s),_=c.size;return c.set(s,u),this.size+=c.size==_?0:1,this}Qr.prototype.clear=Im,Qr.prototype.delete=Om,Qr.prototype.get=Mm,Qr.prototype.has=Dm,Qr.prototype.set=Fm;function Gn(s){var u=-1,c=s==null?0:s.length;for(this.__data__=new Qr;++u<c;)this.add(s[u])}function Lm(s){return this.__data__.set(s,l),this}function Bm(s){return this.__data__.has(s)}Gn.prototype.add=Gn.prototype.push=Lm,Gn.prototype.has=Bm;function Er(s){var u=this.__data__=new Jr(s);this.size=u.size}function Nm(){this.__data__=new Jr,this.size=0}function Um(s){var u=this.__data__,c=u.delete(s);return this.size=u.size,c}function Gm(s){return this.__data__.get(s)}function km(s){return this.__data__.has(s)}function Hm(s,u){var c=this.__data__;if(c instanceof Jr){var _=c.__data__;if(!Qi||_.length<i-1)return _.push([s,u]),this.size=++c.size,this;c=this.__data__=new Qr(_)}return c.set(s,u),this.size=c.size,this}Er.prototype.clear=Nm,Er.prototype.delete=Um,Er.prototype.get=Gm,Er.prototype.has=km,Er.prototype.set=Hm;function bc(s,u){var c=St(s),_=!c&&zn(s),b=!c&&!_&&Sn(s),w=!c&&!_&&!b&&Si(s),R=c||_||b||w,M=R?ou(s.length,J0):[],N=M.length;for(var W in s)(u||Jt.call(s,W))&&!(R&&(W=="length"||b&&(W=="offset"||W=="parent")||w&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||rn(W,N)))&&M.push(W);return M}function xc(s){var u=s.length;return u?s[Tu(0,u-1)]:t}function Xm(s,u){return Rs(Xe(s),kn(u,0,s.length))}function Wm(s){return Rs(Xe(s))}function cu(s,u,c){(c!==t&&!wr(s[u],c)||c===t&&!(u in s))&&$r(s,u,c)}function ro(s,u,c){var _=s[u];(!(Jt.call(s,u)&&wr(_,c))||c===t&&!(u in s))&&$r(s,u,c)}function vs(s,u){for(var c=s.length;c--;)if(wr(s[c][0],u))return c;return-1}function zm(s,u,c,_){return xn(s,function(b,w,R){u(_,b,c(b),R)}),_}function Tc(s,u){return s&&Nr(u,Pe(u),s)}function Vm(s,u){return s&&Nr(u,ze(u),s)}function $r(s,u,c){u=="__proto__"&&hs?hs(s,u,{configurable:!0,enumerable:!0,value:c,writable:!0}):s[u]=c}function du(s,u){for(var c=-1,_=u.length,b=U(_),w=s==null;++c<_;)b[c]=w?t:ju(s,u[c]);return b}function kn(s,u,c){return s===s&&(c!==t&&(s=s<=c?s:c),u!==t&&(s=s>=u?s:u)),s}function lr(s,u,c,_,b,w){var R,M=u&v,N=u&p,W=u&g;if(c&&(R=b?c(s,_,b,w):c(s)),R!==t)return R;if(!ce(s))return s;var z=St(s);if(z){if(R=Dy(s),!M)return Xe(s,R)}else{var j=Me(s),et=j==Xt||j==lt;if(Sn(s))return Yc(s,M);if(j==K||j==Nt||et&&!b){if(R=N||et?{}:fd(s),!M)return N?Ty(s,Vm(R,s)):xy(s,Tc(R,s))}else{if(!ie[j])return b?s:{};R=Fy(s,j,M)}}w||(w=new Er);var ut=w.get(s);if(ut)return ut;w.set(s,R),kd(s)?s.forEach(function(xt){R.add(lr(xt,u,c,xt,s,w))}):Ud(s)&&s.forEach(function(xt,Bt){R.set(Bt,lr(xt,u,c,Bt,s,w))});var bt=W?N?Du:Mu:N?ze:Pe,It=z?t:bt(s);return ar(It||s,function(xt,Bt){It&&(Bt=xt,xt=s[Bt]),ro(R,Bt,lr(xt,u,c,Bt,s,w))}),R}function Ym(s){var u=Pe(s);return function(c){return Ec(c,s,u)}}function Ec(s,u,c){var _=c.length;if(s==null)return!_;for(s=te(s);_--;){var b=c[_],w=u[b],R=s[b];if(R===t&&!(b in s)||!w(R))return!1}return!0}function wc(s,u,c){if(typeof s!="function")throw new ur(a);return ho(function(){s.apply(t,c)},u)}function no(s,u,c,_){var b=-1,w=Qo,R=!0,M=s.length,N=[],W=u.length;if(!M)return N;c&&(u=ue(u,Qe(c))),_?(w=$a,R=!1):u.length>=i&&(w=Zi,R=!1,u=new Gn(u));t:for(;++b<M;){var z=s[b],j=c==null?z:c(z);if(z=_||z!==0?z:0,R&&j===j){for(var et=W;et--;)if(u[et]===j)continue t;N.push(z)}else w(u,j,_)||N.push(z)}return N}var xn=Jc(Br),Sc=Jc(vu,!0);function jm(s,u){var c=!0;return xn(s,function(_,b,w){return c=!!u(_,b,w),c}),c}function _s(s,u,c){for(var _=-1,b=s.length;++_<b;){var w=s[_],R=u(w);if(R!=null&&(M===t?R===R&&!tr(R):c(R,M)))var M=R,N=w}return N}function qm(s,u,c,_){var b=s.length;for(c=Ct(c),c<0&&(c=-c>b?0:b+c),_=_===t||_>b?b:Ct(_),_<0&&(_+=b),_=c>_?0:Xd(_);c<_;)s[c++]=u;return s}function Ac(s,u){var c=[];return xn(s,function(_,b,w){u(_,b,w)&&c.push(_)}),c}function Ie(s,u,c,_,b){var w=-1,R=s.length;for(c||(c=By),b||(b=[]);++w<R;){var M=s[w];u>0&&c(M)?u>1?Ie(M,u-1,c,_,b):mn(b,M):_||(b[b.length]=M)}return b}var pu=Qc(),Pc=Qc(!0);function Br(s,u){return s&&pu(s,u,Pe)}function vu(s,u){return s&&Pc(s,u,Pe)}function gs(s,u){return gn(u,function(c){return nn(s[c])})}function Hn(s,u){u=En(u,s);for(var c=0,_=u.length;s!=null&&c<_;)s=s[Ur(u[c++])];return c&&c==_?s:t}function Rc(s,u,c){var _=u(s);return St(s)?_:mn(_,c(s))}function Be(s){return s==null?s===t?qo:fe:Nn&&Nn in te(s)?Iy(s):Wy(s)}function _u(s,u){return s>u}function Km(s,u){return s!=null&&Jt.call(s,u)}function Zm(s,u){return s!=null&&u in te(s)}function Jm(s,u,c){return s>=Oe(u,c)&&s<we(u,c)}function gu(s,u,c){for(var _=c?$a:Qo,b=s[0].length,w=s.length,R=w,M=U(w),N=1/0,W=[];R--;){var z=s[R];R&&u&&(z=ue(z,Qe(u))),N=Oe(z.length,N),M[R]=!c&&(u||b>=120&&z.length>=120)?new Gn(R&&z):t}z=s[0];var j=-1,et=M[0];t:for(;++j<b&&W.length<N;){var ut=z[j],bt=u?u(ut):ut;if(ut=c||ut!==0?ut:0,!(et?Zi(et,bt):_(W,bt,c))){for(R=w;--R;){var It=M[R];if(!(It?Zi(It,bt):_(s[R],bt,c)))continue t}et&&et.push(bt),W.push(ut)}}return W}function Qm(s,u,c,_){return Br(s,function(b,w,R){u(_,c(b),w,R)}),_}function io(s,u,c){u=En(u,s),s=vd(s,u);var _=s==null?s:s[Ur(cr(u))];return _==null?t:Je(_,s,c)}function Cc(s){return _e(s)&&Be(s)==Nt}function $m(s){return _e(s)&&Be(s)==Ki}function ty(s){return _e(s)&&Be(s)==G}function oo(s,u,c,_,b){return s===u?!0:s==null||u==null||!_e(s)&&!_e(u)?s!==s&&u!==u:ey(s,u,c,_,oo,b)}function ey(s,u,c,_,b,w){var R=St(s),M=St(u),N=R?Lt:Me(s),W=M?Lt:Me(u);N=N==Nt?K:N,W=W==Nt?K:W;var z=N==K,j=W==K,et=N==W;if(et&&Sn(s)){if(!Sn(u))return!1;R=!0,z=!1}if(et&&!z)return w||(w=new Er),R||Si(s)?ud(s,u,c,_,b,w):Ry(s,u,N,c,_,b,w);if(!(c&m)){var ut=z&&Jt.call(s,"__wrapped__"),bt=j&&Jt.call(u,"__wrapped__");if(ut||bt){var It=ut?s.value():s,xt=bt?u.value():u;return w||(w=new Er),b(It,xt,c,_,w)}}return et?(w||(w=new Er),Cy(s,u,c,_,b,w)):!1}function ry(s){return _e(s)&&Me(s)==k}function mu(s,u,c,_){var b=c.length,w=b,R=!_;if(s==null)return!w;for(s=te(s);b--;){var M=c[b];if(R&&M[2]?M[1]!==s[M[0]]:!(M[0]in s))return!1}for(;++b<w;){M=c[b];var N=M[0],W=s[N],z=M[1];if(R&&M[2]){if(W===t&&!(N in s))return!1}else{var j=new Er;if(_)var et=_(W,z,N,s,u,j);if(!(et===t?oo(z,W,m|x,_,j):et))return!1}}return!0}function Ic(s){if(!ce(s)||Uy(s))return!1;var u=nn(s)?rm:Yg;return u.test(Wn(s))}function ny(s){return _e(s)&&Be(s)==Lr}function iy(s){return _e(s)&&Me(s)==He}function oy(s){return _e(s)&&Fs(s.length)&&!!ae[Be(s)]}function Oc(s){return typeof s=="function"?s:s==null?Ve:typeof s=="object"?St(s)?Fc(s[0],s[1]):Dc(s):$d(s)}function yu(s){if(!uo(s))return um(s);var u=[];for(var c in te(s))Jt.call(s,c)&&c!="constructor"&&u.push(c);return u}function sy(s){if(!ce(s))return Xy(s);var u=uo(s),c=[];for(var _ in s)_=="constructor"&&(u||!Jt.call(s,_))||c.push(_);return c}function bu(s,u){return s<u}function Mc(s,u){var c=-1,_=We(s)?U(s.length):[];return xn(s,function(b,w,R){_[++c]=u(b,w,R)}),_}function Dc(s){var u=Lu(s);return u.length==1&&u[0][2]?dd(u[0][0],u[0][1]):function(c){return c===s||mu(c,s,u)}}function Fc(s,u){return Nu(s)&&cd(u)?dd(Ur(s),u):function(c){var _=ju(c,s);return _===t&&_===u?qu(c,s):oo(u,_,m|x)}}function ms(s,u,c,_,b){s!==u&&pu(u,function(w,R){if(b||(b=new Er),ce(w))ay(s,u,R,c,ms,_,b);else{var M=_?_(Gu(s,R),w,R+"",s,u,b):t;M===t&&(M=w),cu(s,R,M)}},ze)}function ay(s,u,c,_,b,w,R){var M=Gu(s,c),N=Gu(u,c),W=R.get(N);if(W){cu(s,c,W);return}var z=w?w(M,N,c+"",s,u,R):t,j=z===t;if(j){var et=St(N),ut=!et&&Sn(N),bt=!et&&!ut&&Si(N);z=N,et||ut||bt?St(M)?z=M:me(M)?z=Xe(M):ut?(j=!1,z=Yc(N,!0)):bt?(j=!1,z=jc(N,!0)):z=[]:lo(N)||zn(N)?(z=M,zn(M)?z=Wd(M):(!ce(M)||nn(M))&&(z=fd(N))):j=!1}j&&(R.set(N,z),b(z,N,_,w,R),R.delete(N)),cu(s,c,z)}function Lc(s,u){var c=s.length;if(c)return u+=u<0?c:0,rn(u,c)?s[u]:t}function Bc(s,u,c){u.length?u=ue(u,function(w){return St(w)?function(R){return Hn(R,w.length===1?w[0]:w)}:w}):u=[Ve];var _=-1;u=ue(u,Qe(mt()));var b=Mc(s,function(w,R,M){var N=ue(u,function(W){return W(w)});return{criteria:N,index:++_,value:w}});return F0(b,function(w,R){return by(w,R,c)})}function uy(s,u){return Nc(s,u,function(c,_){return qu(s,_)})}function Nc(s,u,c){for(var _=-1,b=u.length,w={};++_<b;){var R=u[_],M=Hn(s,R);c(M,R)&&so(w,En(R,s),M)}return w}function hy(s){return function(u){return Hn(u,s)}}function xu(s,u,c,_){var b=_?D0:pi,w=-1,R=u.length,M=s;for(s===u&&(u=Xe(u)),c&&(M=ue(s,Qe(c)));++w<R;)for(var N=0,W=u[w],z=c?c(W):W;(N=b(M,z,N,_))>-1;)M!==s&&us.call(M,N,1),us.call(s,N,1);return s}function Uc(s,u){for(var c=s?u.length:0,_=c-1;c--;){var b=u[c];if(c==_||b!==w){var w=b;rn(b)?us.call(s,b,1):Su(s,b)}}return s}function Tu(s,u){return s+fs(mc()*(u-s+1))}function ly(s,u,c,_){for(var b=-1,w=we(ls((u-s)/(c||1)),0),R=U(w);w--;)R[_?w:++b]=s,s+=c;return R}function Eu(s,u){var c="";if(!s||u<1||u>ft)return c;do u%2&&(c+=s),u=fs(u/2),u&&(s+=s);while(u);return c}function Ot(s,u){return ku(pd(s,u,Ve),s+"")}function fy(s){return xc(Ai(s))}function cy(s,u){var c=Ai(s);return Rs(c,kn(u,0,c.length))}function so(s,u,c,_){if(!ce(s))return s;u=En(u,s);for(var b=-1,w=u.length,R=w-1,M=s;M!=null&&++b<w;){var N=Ur(u[b]),W=c;if(N==="__proto__"||N==="constructor"||N==="prototype")return s;if(b!=R){var z=M[N];W=_?_(z,N,M):t,W===t&&(W=ce(z)?z:rn(u[b+1])?[]:{})}ro(M,N,W),M=M[N]}return s}var Gc=cs?function(s,u){return cs.set(s,u),s}:Ve,dy=hs?function(s,u){return hs(s,"toString",{configurable:!0,enumerable:!1,value:Zu(u),writable:!0})}:Ve;function py(s){return Rs(Ai(s))}function fr(s,u,c){var _=-1,b=s.length;u<0&&(u=-u>b?0:b+u),c=c>b?b:c,c<0&&(c+=b),b=u>c?0:c-u>>>0,u>>>=0;for(var w=U(b);++_<b;)w[_]=s[_+u];return w}function vy(s,u){var c;return xn(s,function(_,b,w){return c=u(_,b,w),!c}),!!c}function ys(s,u,c){var _=0,b=s==null?_:s.length;if(typeof u=="number"&&u===u&&b<=yt){for(;_<b;){var w=_+b>>>1,R=s[w];R!==null&&!tr(R)&&(c?R<=u:R<u)?_=w+1:b=w}return b}return wu(s,u,Ve,c)}function wu(s,u,c,_){var b=0,w=s==null?0:s.length;if(w===0)return 0;u=c(u);for(var R=u!==u,M=u===null,N=tr(u),W=u===t;b<w;){var z=fs((b+w)/2),j=c(s[z]),et=j!==t,ut=j===null,bt=j===j,It=tr(j);if(R)var xt=_||bt;else W?xt=bt&&(_||et):M?xt=bt&&et&&(_||!ut):N?xt=bt&&et&&!ut&&(_||!It):ut||It?xt=!1:xt=_?j<=u:j<u;xt?b=z+1:w=z}return Oe(w,ct)}function kc(s,u){for(var c=-1,_=s.length,b=0,w=[];++c<_;){var R=s[c],M=u?u(R):R;if(!c||!wr(M,N)){var N=M;w[b++]=R===0?0:R}}return w}function Hc(s){return typeof s=="number"?s:tr(s)?q:+s}function $e(s){if(typeof s=="string")return s;if(St(s))return ue(s,$e)+"";if(tr(s))return yc?yc.call(s):"";var u=s+"";return u=="0"&&1/s==-V?"-0":u}function Tn(s,u,c){var _=-1,b=Qo,w=s.length,R=!0,M=[],N=M;if(c)R=!1,b=$a;else if(w>=i){var W=u?null:Ay(s);if(W)return ts(W);R=!1,b=Zi,N=new Gn}else N=u?[]:M;t:for(;++_<w;){var z=s[_],j=u?u(z):z;if(z=c||z!==0?z:0,R&&j===j){for(var et=N.length;et--;)if(N[et]===j)continue t;u&&N.push(j),M.push(z)}else b(N,j,c)||(N!==M&&N.push(j),M.push(z))}return M}function Su(s,u){return u=En(u,s),s=vd(s,u),s==null||delete s[Ur(cr(u))]}function Xc(s,u,c,_){return so(s,u,c(Hn(s,u)),_)}function bs(s,u,c,_){for(var b=s.length,w=_?b:-1;(_?w--:++w<b)&&u(s[w],w,s););return c?fr(s,_?0:w,_?w+1:b):fr(s,_?w+1:0,_?b:w)}function Wc(s,u){var c=s;return c instanceof Gt&&(c=c.value()),tu(u,function(_,b){return b.func.apply(b.thisArg,mn([_],b.args))},c)}function Au(s,u,c){var _=s.length;if(_<2)return _?Tn(s[0]):[];for(var b=-1,w=U(_);++b<_;)for(var R=s[b],M=-1;++M<_;)M!=b&&(w[b]=no(w[b]||R,s[M],u,c));return Tn(Ie(w,1),u,c)}function zc(s,u,c){for(var _=-1,b=s.length,w=u.length,R={};++_<b;){var M=_<w?u[_]:t;c(R,s[_],M)}return R}function Pu(s){return me(s)?s:[]}function Ru(s){return typeof s=="function"?s:Ve}function En(s,u){return St(s)?s:Nu(s,u)?[s]:yd(Kt(s))}var _y=Ot;function wn(s,u,c){var _=s.length;return c=c===t?_:c,!u&&c>=_?s:fr(s,u,c)}var Vc=nm||function(s){return Ce.clearTimeout(s)};function Yc(s,u){if(u)return s.slice();var c=s.length,_=dc?dc(c):new s.constructor(c);return s.copy(_),_}function Cu(s){var u=new s.constructor(s.byteLength);return new ss(u).set(new ss(s)),u}function gy(s,u){var c=u?Cu(s.buffer):s.buffer;return new s.constructor(c,s.byteOffset,s.byteLength)}function my(s){var u=new s.constructor(s.source,Cf.exec(s));return u.lastIndex=s.lastIndex,u}function yy(s){return eo?te(eo.call(s)):{}}function jc(s,u){var c=u?Cu(s.buffer):s.buffer;return new s.constructor(c,s.byteOffset,s.length)}function qc(s,u){if(s!==u){var c=s!==t,_=s===null,b=s===s,w=tr(s),R=u!==t,M=u===null,N=u===u,W=tr(u);if(!M&&!W&&!w&&s>u||w&&R&&N&&!M&&!W||_&&R&&N||!c&&N||!b)return 1;if(!_&&!w&&!W&&s<u||W&&c&&b&&!_&&!w||M&&c&&b||!R&&b||!N)return-1}return 0}function by(s,u,c){for(var _=-1,b=s.criteria,w=u.criteria,R=b.length,M=c.length;++_<R;){var N=qc(b[_],w[_]);if(N){if(_>=M)return N;var W=c[_];return N*(W=="desc"?-1:1)}}return s.index-u.index}function Kc(s,u,c,_){for(var b=-1,w=s.length,R=c.length,M=-1,N=u.length,W=we(w-R,0),z=U(N+W),j=!_;++M<N;)z[M]=u[M];for(;++b<R;)(j||b<w)&&(z[c[b]]=s[b]);for(;W--;)z[M++]=s[b++];return z}function Zc(s,u,c,_){for(var b=-1,w=s.length,R=-1,M=c.length,N=-1,W=u.length,z=we(w-M,0),j=U(z+W),et=!_;++b<z;)j[b]=s[b];for(var ut=b;++N<W;)j[ut+N]=u[N];for(;++R<M;)(et||b<w)&&(j[ut+c[R]]=s[b++]);return j}function Xe(s,u){var c=-1,_=s.length;for(u||(u=U(_));++c<_;)u[c]=s[c];return u}function Nr(s,u,c,_){var b=!c;c||(c={});for(var w=-1,R=u.length;++w<R;){var M=u[w],N=_?_(c[M],s[M],M,c,s):t;N===t&&(N=s[M]),b?$r(c,M,N):ro(c,M,N)}return c}function xy(s,u){return Nr(s,Bu(s),u)}function Ty(s,u){return Nr(s,hd(s),u)}function xs(s,u){return function(c,_){var b=St(c)?P0:zm,w=u?u():{};return b(c,s,mt(_,2),w)}}function Ti(s){return Ot(function(u,c){var _=-1,b=c.length,w=b>1?c[b-1]:t,R=b>2?c[2]:t;for(w=s.length>3&&typeof w=="function"?(b--,w):t,R&&Ne(c[0],c[1],R)&&(w=b<3?t:w,b=1),u=te(u);++_<b;){var M=c[_];M&&s(u,M,_,w)}return u})}function Jc(s,u){return function(c,_){if(c==null)return c;if(!We(c))return s(c,_);for(var b=c.length,w=u?b:-1,R=te(c);(u?w--:++w<b)&&_(R[w],w,R)!==!1;);return c}}function Qc(s){return function(u,c,_){for(var b=-1,w=te(u),R=_(u),M=R.length;M--;){var N=R[s?M:++b];if(c(w[N],N,w)===!1)break}return u}}function Ey(s,u,c){var _=u&y,b=ao(s);function w(){var R=this&&this!==Ce&&this instanceof w?b:s;return R.apply(_?c:this,arguments)}return w}function $c(s){return function(u){u=Kt(u);var c=vi(u)?Tr(u):t,_=c?c[0]:u.charAt(0),b=c?wn(c,1).join(""):u.slice(1);return _[s]()+b}}function Ei(s){return function(u){return tu(Jd(Zd(u).replace(d0,"")),s,"")}}function ao(s){return function(){var u=arguments;switch(u.length){case 0:return new s;case 1:return new s(u[0]);case 2:return new s(u[0],u[1]);case 3:return new s(u[0],u[1],u[2]);case 4:return new s(u[0],u[1],u[2],u[3]);case 5:return new s(u[0],u[1],u[2],u[3],u[4]);case 6:return new s(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new s(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var c=xi(s.prototype),_=s.apply(c,u);return ce(_)?_:c}}function wy(s,u,c){var _=ao(s);function b(){for(var w=arguments.length,R=U(w),M=w,N=wi(b);M--;)R[M]=arguments[M];var W=w<3&&R[0]!==N&&R[w-1]!==N?[]:yn(R,N);if(w-=W.length,w<c)return id(s,u,Ts,b.placeholder,t,R,W,t,t,c-w);var z=this&&this!==Ce&&this instanceof b?_:s;return Je(z,this,R)}return b}function td(s){return function(u,c,_){var b=te(u);if(!We(u)){var w=mt(c,3);u=Pe(u),c=function(M){return w(b[M],M,b)}}var R=s(u,c,_);return R>-1?b[w?u[R]:R]:t}}function ed(s){return en(function(u){var c=u.length,_=c,b=hr.prototype.thru;for(s&&u.reverse();_--;){var w=u[_];if(typeof w!="function")throw new ur(a);if(b&&!R&&As(w)=="wrapper")var R=new hr([],!0)}for(_=R?_:c;++_<c;){w=u[_];var M=As(w),N=M=="wrapper"?Fu(w):t;N&&Uu(N[0])&&N[1]==(A|S|P|I)&&!N[4].length&&N[9]==1?R=R[As(N[0])].apply(R,N[3]):R=w.length==1&&Uu(w)?R[M]():R.thru(w)}return function(){var W=arguments,z=W[0];if(R&&W.length==1&&St(z))return R.plant(z).value();for(var j=0,et=c?u[j].apply(this,W):z;++j<c;)et=u[j].call(this,et);return et}})}function Ts(s,u,c,_,b,w,R,M,N,W){var z=u&A,j=u&y,et=u&E,ut=u&(S|O),bt=u&F,It=et?t:ao(s);function xt(){for(var Bt=arguments.length,kt=U(Bt),er=Bt;er--;)kt[er]=arguments[er];if(ut)var Ue=wi(xt),rr=B0(kt,Ue);if(_&&(kt=Kc(kt,_,b,ut)),w&&(kt=Zc(kt,w,R,ut)),Bt-=rr,ut&&Bt<W){var ye=yn(kt,Ue);return id(s,u,Ts,xt.placeholder,c,kt,ye,M,N,W-Bt)}var Sr=j?c:this,sn=et?Sr[s]:s;return Bt=kt.length,M?kt=zy(kt,M):bt&&Bt>1&&kt.reverse(),z&&N<Bt&&(kt.length=N),this&&this!==Ce&&this instanceof xt&&(sn=It||ao(sn)),sn.apply(Sr,kt)}return xt}function rd(s,u){return function(c,_){return Qm(c,s,u(_),{})}}function Es(s,u){return function(c,_){var b;if(c===t&&_===t)return u;if(c!==t&&(b=c),_!==t){if(b===t)return _;typeof c=="string"||typeof _=="string"?(c=$e(c),_=$e(_)):(c=Hc(c),_=Hc(_)),b=s(c,_)}return b}}function Iu(s){return en(function(u){return u=ue(u,Qe(mt())),Ot(function(c){var _=this;return s(u,function(b){return Je(b,_,c)})})})}function ws(s,u){u=u===t?" ":$e(u);var c=u.length;if(c<2)return c?Eu(u,s):u;var _=Eu(u,ls(s/_i(u)));return vi(u)?wn(Tr(_),0,s).join(""):_.slice(0,s)}function Sy(s,u,c,_){var b=u&y,w=ao(s);function R(){for(var M=-1,N=arguments.length,W=-1,z=_.length,j=U(z+N),et=this&&this!==Ce&&this instanceof R?w:s;++W<z;)j[W]=_[W];for(;N--;)j[W++]=arguments[++M];return Je(et,b?c:this,j)}return R}function nd(s){return function(u,c,_){return _&&typeof _!="number"&&Ne(u,c,_)&&(c=_=t),u=on(u),c===t?(c=u,u=0):c=on(c),_=_===t?u<c?1:-1:on(_),ly(u,c,_,s)}}function Ss(s){return function(u,c){return typeof u=="string"&&typeof c=="string"||(u=dr(u),c=dr(c)),s(u,c)}}function id(s,u,c,_,b,w,R,M,N,W){var z=u&S,j=z?R:t,et=z?t:R,ut=z?w:t,bt=z?t:w;u|=z?P:D,u&=~(z?D:P),u&C||(u&=~(y|E));var It=[s,u,b,ut,j,bt,et,M,N,W],xt=c.apply(t,It);return Uu(s)&&_d(xt,It),xt.placeholder=_,gd(xt,s,u)}function Ou(s){var u=Ee[s];return function(c,_){if(c=dr(c),_=_==null?0:Oe(Ct(_),292),_&&gc(c)){var b=(Kt(c)+"e").split("e"),w=u(b[0]+"e"+(+b[1]+_));return b=(Kt(w)+"e").split("e"),+(b[0]+"e"+(+b[1]-_))}return u(c)}}var Ay=yi&&1/ts(new yi([,-0]))[1]==V?function(s){return new yi(s)}:$u;function od(s){return function(u){var c=Me(u);return c==k?au(u):c==He?W0(u):L0(u,s(u))}}function tn(s,u,c,_,b,w,R,M){var N=u&E;if(!N&&typeof s!="function")throw new ur(a);var W=_?_.length:0;if(W||(u&=~(P|D),_=b=t),R=R===t?R:we(Ct(R),0),M=M===t?M:Ct(M),W-=b?b.length:0,u&D){var z=_,j=b;_=b=t}var et=N?t:Fu(s),ut=[s,u,c,_,b,z,j,w,R,M];if(et&&Hy(ut,et),s=ut[0],u=ut[1],c=ut[2],_=ut[3],b=ut[4],M=ut[9]=ut[9]===t?N?0:s.length:we(ut[9]-W,0),!M&&u&(S|O)&&(u&=~(S|O)),!u||u==y)var bt=Ey(s,u,c);else u==S||u==O?bt=wy(s,u,M):(u==P||u==(y|P))&&!b.length?bt=Sy(s,u,c,_):bt=Ts.apply(t,ut);var It=et?Gc:_d;return gd(It(bt,ut),s,u)}function sd(s,u,c,_){return s===t||wr(s,mi[c])&&!Jt.call(_,c)?u:s}function ad(s,u,c,_,b,w){return ce(s)&&ce(u)&&(w.set(u,s),ms(s,u,t,ad,w),w.delete(u)),s}function Py(s){return lo(s)?t:s}function ud(s,u,c,_,b,w){var R=c&m,M=s.length,N=u.length;if(M!=N&&!(R&&N>M))return!1;var W=w.get(s),z=w.get(u);if(W&&z)return W==u&&z==s;var j=-1,et=!0,ut=c&x?new Gn:t;for(w.set(s,u),w.set(u,s);++j<M;){var bt=s[j],It=u[j];if(_)var xt=R?_(It,bt,j,u,s,w):_(bt,It,j,s,u,w);if(xt!==t){if(xt)continue;et=!1;break}if(ut){if(!eu(u,function(Bt,kt){if(!Zi(ut,kt)&&(bt===Bt||b(bt,Bt,c,_,w)))return ut.push(kt)})){et=!1;break}}else if(!(bt===It||b(bt,It,c,_,w))){et=!1;break}}return w.delete(s),w.delete(u),et}function Ry(s,u,c,_,b,w,R){switch(c){case ci:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case Ki:return!(s.byteLength!=u.byteLength||!w(new ss(s),new ss(u)));case ot:case G:case Zt:return wr(+s,+u);case Ut:return s.name==u.name&&s.message==u.message;case Lr:case _n:return s==u+"";case k:var M=au;case He:var N=_&m;if(M||(M=ts),s.size!=u.size&&!N)return!1;var W=R.get(s);if(W)return W==u;_|=x,R.set(s,u);var z=ud(M(s),M(u),_,b,w,R);return R.delete(s),z;case Ln:if(eo)return eo.call(s)==eo.call(u)}return!1}function Cy(s,u,c,_,b,w){var R=c&m,M=Mu(s),N=M.length,W=Mu(u),z=W.length;if(N!=z&&!R)return!1;for(var j=N;j--;){var et=M[j];if(!(R?et in u:Jt.call(u,et)))return!1}var ut=w.get(s),bt=w.get(u);if(ut&&bt)return ut==u&&bt==s;var It=!0;w.set(s,u),w.set(u,s);for(var xt=R;++j<N;){et=M[j];var Bt=s[et],kt=u[et];if(_)var er=R?_(kt,Bt,et,u,s,w):_(Bt,kt,et,s,u,w);if(!(er===t?Bt===kt||b(Bt,kt,c,_,w):er)){It=!1;break}xt||(xt=et=="constructor")}if(It&&!xt){var Ue=s.constructor,rr=u.constructor;Ue!=rr&&"constructor"in s&&"constructor"in u&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof rr=="function"&&rr instanceof rr)&&(It=!1)}return w.delete(s),w.delete(u),It}function en(s){return ku(pd(s,t,Ed),s+"")}function Mu(s){return Rc(s,Pe,Bu)}function Du(s){return Rc(s,ze,hd)}var Fu=cs?function(s){return cs.get(s)}:$u;function As(s){for(var u=s.name+"",c=bi[u],_=Jt.call(bi,u)?c.length:0;_--;){var b=c[_],w=b.func;if(w==null||w==s)return b.name}return u}function wi(s){var u=Jt.call(T,"placeholder")?T:s;return u.placeholder}function mt(){var s=T.iteratee||Ju;return s=s===Ju?Oc:s,arguments.length?s(arguments[0],arguments[1]):s}function Ps(s,u){var c=s.__data__;return Ny(u)?c[typeof u=="string"?"string":"hash"]:c.map}function Lu(s){for(var u=Pe(s),c=u.length;c--;){var _=u[c],b=s[_];u[c]=[_,b,cd(b)]}return u}function Xn(s,u){var c=k0(s,u);return Ic(c)?c:t}function Iy(s){var u=Jt.call(s,Nn),c=s[Nn];try{s[Nn]=t;var _=!0}catch{}var b=is.call(s);return _&&(u?s[Nn]=c:delete s[Nn]),b}var Bu=hu?function(s){return s==null?[]:(s=te(s),gn(hu(s),function(u){return vc.call(s,u)}))}:th,hd=hu?function(s){for(var u=[];s;)mn(u,Bu(s)),s=as(s);return u}:th,Me=Be;(lu&&Me(new lu(new ArrayBuffer(1)))!=ci||Qi&&Me(new Qi)!=k||fu&&Me(fu.resolve())!=Le||yi&&Me(new yi)!=He||$i&&Me(new $i)!=qi)&&(Me=function(s){var u=Be(s),c=u==K?s.constructor:t,_=c?Wn(c):"";if(_)switch(_){case cm:return ci;case dm:return k;case pm:return Le;case vm:return He;case _m:return qi}return u});function Oy(s,u,c){for(var _=-1,b=c.length;++_<b;){var w=c[_],R=w.size;switch(w.type){case"drop":s+=R;break;case"dropRight":u-=R;break;case"take":u=Oe(u,s+R);break;case"takeRight":s=we(s,u-R);break}}return{start:s,end:u}}function My(s){var u=s.match(Ug);return u?u[1].split(Gg):[]}function ld(s,u,c){u=En(u,s);for(var _=-1,b=u.length,w=!1;++_<b;){var R=Ur(u[_]);if(!(w=s!=null&&c(s,R)))break;s=s[R]}return w||++_!=b?w:(b=s==null?0:s.length,!!b&&Fs(b)&&rn(R,b)&&(St(s)||zn(s)))}function Dy(s){var u=s.length,c=new s.constructor(u);return u&&typeof s[0]=="string"&&Jt.call(s,"index")&&(c.index=s.index,c.input=s.input),c}function fd(s){return typeof s.constructor=="function"&&!uo(s)?xi(as(s)):{}}function Fy(s,u,c){var _=s.constructor;switch(u){case Ki:return Cu(s);case ot:case G:return new _(+s);case ci:return gy(s,c);case La:case Ba:case Na:case Ua:case Ga:case ka:case Ha:case Xa:case Wa:return jc(s,c);case k:return new _;case Zt:case _n:return new _(s);case Lr:return my(s);case He:return new _;case Ln:return yy(s)}}function Ly(s,u){var c=u.length;if(!c)return s;var _=c-1;return u[_]=(c>1?"& ":"")+u[_],u=u.join(c>2?", ":" "),s.replace(Ng,`{
/* [wrapped with `+u+`] */
`)}function By(s){return St(s)||zn(s)||!!(_c&&s&&s[_c])}function rn(s,u){var c=typeof s;return u=u??ft,!!u&&(c=="number"||c!="symbol"&&qg.test(s))&&s>-1&&s%1==0&&s<u}function Ne(s,u,c){if(!ce(c))return!1;var _=typeof u;return(_=="number"?We(c)&&rn(u,c.length):_=="string"&&u in c)?wr(c[u],s):!1}function Nu(s,u){if(St(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||tr(s)?!0:Dg.test(s)||!Mg.test(s)||u!=null&&s in te(u)}function Ny(s){var u=typeof s;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?s!=="__proto__":s===null}function Uu(s){var u=As(s),c=T[u];if(typeof c!="function"||!(u in Gt.prototype))return!1;if(s===c)return!0;var _=Fu(c);return!!_&&s===_[0]}function Uy(s){return!!cc&&cc in s}var Gy=rs?nn:eh;function uo(s){var u=s&&s.constructor,c=typeof u=="function"&&u.prototype||mi;return s===c}function cd(s){return s===s&&!ce(s)}function dd(s,u){return function(c){return c==null?!1:c[s]===u&&(u!==t||s in te(c))}}function ky(s){var u=Ms(s,function(_){return c.size===f&&c.clear(),_}),c=u.cache;return u}function Hy(s,u){var c=s[1],_=u[1],b=c|_,w=b<(y|E|A),R=_==A&&c==S||_==A&&c==I&&s[7].length<=u[8]||_==(A|I)&&u[7].length<=u[8]&&c==S;if(!(w||R))return s;_&y&&(s[2]=u[2],b|=c&y?0:C);var M=u[3];if(M){var N=s[3];s[3]=N?Kc(N,M,u[4]):M,s[4]=N?yn(s[3],d):u[4]}return M=u[5],M&&(N=s[5],s[5]=N?Zc(N,M,u[6]):M,s[6]=N?yn(s[5],d):u[6]),M=u[7],M&&(s[7]=M),_&A&&(s[8]=s[8]==null?u[8]:Oe(s[8],u[8])),s[9]==null&&(s[9]=u[9]),s[0]=u[0],s[1]=b,s}function Xy(s){var u=[];if(s!=null)for(var c in te(s))u.push(c);return u}function Wy(s){return is.call(s)}function pd(s,u,c){return u=we(u===t?s.length-1:u,0),function(){for(var _=arguments,b=-1,w=we(_.length-u,0),R=U(w);++b<w;)R[b]=_[u+b];b=-1;for(var M=U(u+1);++b<u;)M[b]=_[b];return M[u]=c(R),Je(s,this,M)}}function vd(s,u){return u.length<2?s:Hn(s,fr(u,0,-1))}function zy(s,u){for(var c=s.length,_=Oe(u.length,c),b=Xe(s);_--;){var w=u[_];s[_]=rn(w,c)?b[w]:t}return s}function Gu(s,u){if(!(u==="constructor"&&typeof s[u]=="function")&&u!="__proto__")return s[u]}var _d=md(Gc),ho=om||function(s,u){return Ce.setTimeout(s,u)},ku=md(dy);function gd(s,u,c){var _=u+"";return ku(s,Ly(_,Vy(My(_),c)))}function md(s){var u=0,c=0;return function(){var _=hm(),b=_t-(_-c);if(c=_,b>0){if(++u>=nt)return arguments[0]}else u=0;return s.apply(t,arguments)}}function Rs(s,u){var c=-1,_=s.length,b=_-1;for(u=u===t?_:u;++c<u;){var w=Tu(c,b),R=s[w];s[w]=s[c],s[c]=R}return s.length=u,s}var yd=ky(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(Fg,function(c,_,b,w){u.push(b?w.replace(Xg,"$1"):_||c)}),u});function Ur(s){if(typeof s=="string"||tr(s))return s;var u=s+"";return u=="0"&&1/s==-V?"-0":u}function Wn(s){if(s!=null){try{return ns.call(s)}catch{}try{return s+""}catch{}}return""}function Vy(s,u){return ar(Et,function(c){var _="_."+c[0];u&c[1]&&!Qo(s,_)&&s.push(_)}),s.sort()}function bd(s){if(s instanceof Gt)return s.clone();var u=new hr(s.__wrapped__,s.__chain__);return u.__actions__=Xe(s.__actions__),u.__index__=s.__index__,u.__values__=s.__values__,u}function Yy(s,u,c){(c?Ne(s,u,c):u===t)?u=1:u=we(Ct(u),0);var _=s==null?0:s.length;if(!_||u<1)return[];for(var b=0,w=0,R=U(ls(_/u));b<_;)R[w++]=fr(s,b,b+=u);return R}function jy(s){for(var u=-1,c=s==null?0:s.length,_=0,b=[];++u<c;){var w=s[u];w&&(b[_++]=w)}return b}function qy(){var s=arguments.length;if(!s)return[];for(var u=U(s-1),c=arguments[0],_=s;_--;)u[_-1]=arguments[_];return mn(St(c)?Xe(c):[c],Ie(u,1))}var Ky=Ot(function(s,u){return me(s)?no(s,Ie(u,1,me,!0)):[]}),Zy=Ot(function(s,u){var c=cr(u);return me(c)&&(c=t),me(s)?no(s,Ie(u,1,me,!0),mt(c,2)):[]}),Jy=Ot(function(s,u){var c=cr(u);return me(c)&&(c=t),me(s)?no(s,Ie(u,1,me,!0),t,c):[]});function Qy(s,u,c){var _=s==null?0:s.length;return _?(u=c||u===t?1:Ct(u),fr(s,u<0?0:u,_)):[]}function $y(s,u,c){var _=s==null?0:s.length;return _?(u=c||u===t?1:Ct(u),u=_-u,fr(s,0,u<0?0:u)):[]}function t1(s,u){return s&&s.length?bs(s,mt(u,3),!0,!0):[]}function e1(s,u){return s&&s.length?bs(s,mt(u,3),!0):[]}function r1(s,u,c,_){var b=s==null?0:s.length;return b?(c&&typeof c!="number"&&Ne(s,u,c)&&(c=0,_=b),qm(s,u,c,_)):[]}function xd(s,u,c){var _=s==null?0:s.length;if(!_)return-1;var b=c==null?0:Ct(c);return b<0&&(b=we(_+b,0)),$o(s,mt(u,3),b)}function Td(s,u,c){var _=s==null?0:s.length;if(!_)return-1;var b=_-1;return c!==t&&(b=Ct(c),b=c<0?we(_+b,0):Oe(b,_-1)),$o(s,mt(u,3),b,!0)}function Ed(s){var u=s==null?0:s.length;return u?Ie(s,1):[]}function n1(s){var u=s==null?0:s.length;return u?Ie(s,V):[]}function i1(s,u){var c=s==null?0:s.length;return c?(u=u===t?1:Ct(u),Ie(s,u)):[]}function o1(s){for(var u=-1,c=s==null?0:s.length,_={};++u<c;){var b=s[u];_[b[0]]=b[1]}return _}function wd(s){return s&&s.length?s[0]:t}function s1(s,u,c){var _=s==null?0:s.length;if(!_)return-1;var b=c==null?0:Ct(c);return b<0&&(b=we(_+b,0)),pi(s,u,b)}function a1(s){var u=s==null?0:s.length;return u?fr(s,0,-1):[]}var u1=Ot(function(s){var u=ue(s,Pu);return u.length&&u[0]===s[0]?gu(u):[]}),h1=Ot(function(s){var u=cr(s),c=ue(s,Pu);return u===cr(c)?u=t:c.pop(),c.length&&c[0]===s[0]?gu(c,mt(u,2)):[]}),l1=Ot(function(s){var u=cr(s),c=ue(s,Pu);return u=typeof u=="function"?u:t,u&&c.pop(),c.length&&c[0]===s[0]?gu(c,t,u):[]});function f1(s,u){return s==null?"":am.call(s,u)}function cr(s){var u=s==null?0:s.length;return u?s[u-1]:t}function c1(s,u,c){var _=s==null?0:s.length;if(!_)return-1;var b=_;return c!==t&&(b=Ct(c),b=b<0?we(_+b,0):Oe(b,_-1)),u===u?V0(s,u,b):$o(s,ic,b,!0)}function d1(s,u){return s&&s.length?Lc(s,Ct(u)):t}var p1=Ot(Sd);function Sd(s,u){return s&&s.length&&u&&u.length?xu(s,u):s}function v1(s,u,c){return s&&s.length&&u&&u.length?xu(s,u,mt(c,2)):s}function _1(s,u,c){return s&&s.length&&u&&u.length?xu(s,u,t,c):s}var g1=en(function(s,u){var c=s==null?0:s.length,_=du(s,u);return Uc(s,ue(u,function(b){return rn(b,c)?+b:b}).sort(qc)),_});function m1(s,u){var c=[];if(!(s&&s.length))return c;var _=-1,b=[],w=s.length;for(u=mt(u,3);++_<w;){var R=s[_];u(R,_,s)&&(c.push(R),b.push(_))}return Uc(s,b),c}function Hu(s){return s==null?s:fm.call(s)}function y1(s,u,c){var _=s==null?0:s.length;return _?(c&&typeof c!="number"&&Ne(s,u,c)?(u=0,c=_):(u=u==null?0:Ct(u),c=c===t?_:Ct(c)),fr(s,u,c)):[]}function b1(s,u){return ys(s,u)}function x1(s,u,c){return wu(s,u,mt(c,2))}function T1(s,u){var c=s==null?0:s.length;if(c){var _=ys(s,u);if(_<c&&wr(s[_],u))return _}return-1}function E1(s,u){return ys(s,u,!0)}function w1(s,u,c){return wu(s,u,mt(c,2),!0)}function S1(s,u){var c=s==null?0:s.length;if(c){var _=ys(s,u,!0)-1;if(wr(s[_],u))return _}return-1}function A1(s){return s&&s.length?kc(s):[]}function P1(s,u){return s&&s.length?kc(s,mt(u,2)):[]}function R1(s){var u=s==null?0:s.length;return u?fr(s,1,u):[]}function C1(s,u,c){return s&&s.length?(u=c||u===t?1:Ct(u),fr(s,0,u<0?0:u)):[]}function I1(s,u,c){var _=s==null?0:s.length;return _?(u=c||u===t?1:Ct(u),u=_-u,fr(s,u<0?0:u,_)):[]}function O1(s,u){return s&&s.length?bs(s,mt(u,3),!1,!0):[]}function M1(s,u){return s&&s.length?bs(s,mt(u,3)):[]}var D1=Ot(function(s){return Tn(Ie(s,1,me,!0))}),F1=Ot(function(s){var u=cr(s);return me(u)&&(u=t),Tn(Ie(s,1,me,!0),mt(u,2))}),L1=Ot(function(s){var u=cr(s);return u=typeof u=="function"?u:t,Tn(Ie(s,1,me,!0),t,u)});function B1(s){return s&&s.length?Tn(s):[]}function N1(s,u){return s&&s.length?Tn(s,mt(u,2)):[]}function U1(s,u){return u=typeof u=="function"?u:t,s&&s.length?Tn(s,t,u):[]}function Xu(s){if(!(s&&s.length))return[];var u=0;return s=gn(s,function(c){if(me(c))return u=we(c.length,u),!0}),ou(u,function(c){return ue(s,ru(c))})}function Ad(s,u){if(!(s&&s.length))return[];var c=Xu(s);return u==null?c:ue(c,function(_){return Je(u,t,_)})}var G1=Ot(function(s,u){return me(s)?no(s,u):[]}),k1=Ot(function(s){return Au(gn(s,me))}),H1=Ot(function(s){var u=cr(s);return me(u)&&(u=t),Au(gn(s,me),mt(u,2))}),X1=Ot(function(s){var u=cr(s);return u=typeof u=="function"?u:t,Au(gn(s,me),t,u)}),W1=Ot(Xu);function z1(s,u){return zc(s||[],u||[],ro)}function V1(s,u){return zc(s||[],u||[],so)}var Y1=Ot(function(s){var u=s.length,c=u>1?s[u-1]:t;return c=typeof c=="function"?(s.pop(),c):t,Ad(s,c)});function Pd(s){var u=T(s);return u.__chain__=!0,u}function j1(s,u){return u(s),s}function Cs(s,u){return u(s)}var q1=en(function(s){var u=s.length,c=u?s[0]:0,_=this.__wrapped__,b=function(w){return du(w,s)};return u>1||this.__actions__.length||!(_ instanceof Gt)||!rn(c)?this.thru(b):(_=_.slice(c,+c+(u?1:0)),_.__actions__.push({func:Cs,args:[b],thisArg:t}),new hr(_,this.__chain__).thru(function(w){return u&&!w.length&&w.push(t),w}))});function K1(){return Pd(this)}function Z1(){return new hr(this.value(),this.__chain__)}function J1(){this.__values__===t&&(this.__values__=Hd(this.value()));var s=this.__index__>=this.__values__.length,u=s?t:this.__values__[this.__index__++];return{done:s,value:u}}function Q1(){return this}function $1(s){for(var u,c=this;c instanceof ps;){var _=bd(c);_.__index__=0,_.__values__=t,u?b.__wrapped__=_:u=_;var b=_;c=c.__wrapped__}return b.__wrapped__=s,u}function tb(){var s=this.__wrapped__;if(s instanceof Gt){var u=s;return this.__actions__.length&&(u=new Gt(this)),u=u.reverse(),u.__actions__.push({func:Cs,args:[Hu],thisArg:t}),new hr(u,this.__chain__)}return this.thru(Hu)}function eb(){return Wc(this.__wrapped__,this.__actions__)}var rb=xs(function(s,u,c){Jt.call(s,c)?++s[c]:$r(s,c,1)});function nb(s,u,c){var _=St(s)?rc:jm;return c&&Ne(s,u,c)&&(u=t),_(s,mt(u,3))}function ib(s,u){var c=St(s)?gn:Ac;return c(s,mt(u,3))}var ob=td(xd),sb=td(Td);function ab(s,u){return Ie(Is(s,u),1)}function ub(s,u){return Ie(Is(s,u),V)}function hb(s,u,c){return c=c===t?1:Ct(c),Ie(Is(s,u),c)}function Rd(s,u){var c=St(s)?ar:xn;return c(s,mt(u,3))}function Cd(s,u){var c=St(s)?R0:Sc;return c(s,mt(u,3))}var lb=xs(function(s,u,c){Jt.call(s,c)?s[c].push(u):$r(s,c,[u])});function fb(s,u,c,_){s=We(s)?s:Ai(s),c=c&&!_?Ct(c):0;var b=s.length;return c<0&&(c=we(b+c,0)),Ls(s)?c<=b&&s.indexOf(u,c)>-1:!!b&&pi(s,u,c)>-1}var cb=Ot(function(s,u,c){var _=-1,b=typeof u=="function",w=We(s)?U(s.length):[];return xn(s,function(R){w[++_]=b?Je(u,R,c):io(R,u,c)}),w}),db=xs(function(s,u,c){$r(s,c,u)});function Is(s,u){var c=St(s)?ue:Mc;return c(s,mt(u,3))}function pb(s,u,c,_){return s==null?[]:(St(u)||(u=u==null?[]:[u]),c=_?t:c,St(c)||(c=c==null?[]:[c]),Bc(s,u,c))}var vb=xs(function(s,u,c){s[c?0:1].push(u)},function(){return[[],[]]});function _b(s,u,c){var _=St(s)?tu:sc,b=arguments.length<3;return _(s,mt(u,4),c,b,xn)}function gb(s,u,c){var _=St(s)?C0:sc,b=arguments.length<3;return _(s,mt(u,4),c,b,Sc)}function mb(s,u){var c=St(s)?gn:Ac;return c(s,Ds(mt(u,3)))}function yb(s){var u=St(s)?xc:fy;return u(s)}function bb(s,u,c){(c?Ne(s,u,c):u===t)?u=1:u=Ct(u);var _=St(s)?Xm:cy;return _(s,u)}function xb(s){var u=St(s)?Wm:py;return u(s)}function Tb(s){if(s==null)return 0;if(We(s))return Ls(s)?_i(s):s.length;var u=Me(s);return u==k||u==He?s.size:yu(s).length}function Eb(s,u,c){var _=St(s)?eu:vy;return c&&Ne(s,u,c)&&(u=t),_(s,mt(u,3))}var wb=Ot(function(s,u){if(s==null)return[];var c=u.length;return c>1&&Ne(s,u[0],u[1])?u=[]:c>2&&Ne(u[0],u[1],u[2])&&(u=[u[0]]),Bc(s,Ie(u,1),[])}),Os=im||function(){return Ce.Date.now()};function Sb(s,u){if(typeof u!="function")throw new ur(a);return s=Ct(s),function(){if(--s<1)return u.apply(this,arguments)}}function Id(s,u,c){return u=c?t:u,u=s&&u==null?s.length:u,tn(s,A,t,t,t,t,u)}function Od(s,u){var c;if(typeof u!="function")throw new ur(a);return s=Ct(s),function(){return--s>0&&(c=u.apply(this,arguments)),s<=1&&(u=t),c}}var Wu=Ot(function(s,u,c){var _=y;if(c.length){var b=yn(c,wi(Wu));_|=P}return tn(s,_,u,c,b)}),Md=Ot(function(s,u,c){var _=y|E;if(c.length){var b=yn(c,wi(Md));_|=P}return tn(u,_,s,c,b)});function Dd(s,u,c){u=c?t:u;var _=tn(s,S,t,t,t,t,t,u);return _.placeholder=Dd.placeholder,_}function Fd(s,u,c){u=c?t:u;var _=tn(s,O,t,t,t,t,t,u);return _.placeholder=Fd.placeholder,_}function Ld(s,u,c){var _,b,w,R,M,N,W=0,z=!1,j=!1,et=!0;if(typeof s!="function")throw new ur(a);u=dr(u)||0,ce(c)&&(z=!!c.leading,j="maxWait"in c,w=j?we(dr(c.maxWait)||0,u):w,et="trailing"in c?!!c.trailing:et);function ut(ye){var Sr=_,sn=b;return _=b=t,W=ye,R=s.apply(sn,Sr),R}function bt(ye){return W=ye,M=ho(Bt,u),z?ut(ye):R}function It(ye){var Sr=ye-N,sn=ye-W,tp=u-Sr;return j?Oe(tp,w-sn):tp}function xt(ye){var Sr=ye-N,sn=ye-W;return N===t||Sr>=u||Sr<0||j&&sn>=w}function Bt(){var ye=Os();if(xt(ye))return kt(ye);M=ho(Bt,It(ye))}function kt(ye){return M=t,et&&_?ut(ye):(_=b=t,R)}function er(){M!==t&&Vc(M),W=0,_=N=b=M=t}function Ue(){return M===t?R:kt(Os())}function rr(){var ye=Os(),Sr=xt(ye);if(_=arguments,b=this,N=ye,Sr){if(M===t)return bt(N);if(j)return Vc(M),M=ho(Bt,u),ut(N)}return M===t&&(M=ho(Bt,u)),R}return rr.cancel=er,rr.flush=Ue,rr}var Ab=Ot(function(s,u){return wc(s,1,u)}),Pb=Ot(function(s,u,c){return wc(s,dr(u)||0,c)});function Rb(s){return tn(s,F)}function Ms(s,u){if(typeof s!="function"||u!=null&&typeof u!="function")throw new ur(a);var c=function(){var _=arguments,b=u?u.apply(this,_):_[0],w=c.cache;if(w.has(b))return w.get(b);var R=s.apply(this,_);return c.cache=w.set(b,R)||w,R};return c.cache=new(Ms.Cache||Qr),c}Ms.Cache=Qr;function Ds(s){if(typeof s!="function")throw new ur(a);return function(){var u=arguments;switch(u.length){case 0:return!s.call(this);case 1:return!s.call(this,u[0]);case 2:return!s.call(this,u[0],u[1]);case 3:return!s.call(this,u[0],u[1],u[2])}return!s.apply(this,u)}}function Cb(s){return Od(2,s)}var Ib=_y(function(s,u){u=u.length==1&&St(u[0])?ue(u[0],Qe(mt())):ue(Ie(u,1),Qe(mt()));var c=u.length;return Ot(function(_){for(var b=-1,w=Oe(_.length,c);++b<w;)_[b]=u[b].call(this,_[b]);return Je(s,this,_)})}),zu=Ot(function(s,u){var c=yn(u,wi(zu));return tn(s,P,t,u,c)}),Bd=Ot(function(s,u){var c=yn(u,wi(Bd));return tn(s,D,t,u,c)}),Ob=en(function(s,u){return tn(s,I,t,t,t,u)});function Mb(s,u){if(typeof s!="function")throw new ur(a);return u=u===t?u:Ct(u),Ot(s,u)}function Db(s,u){if(typeof s!="function")throw new ur(a);return u=u==null?0:we(Ct(u),0),Ot(function(c){var _=c[u],b=wn(c,0,u);return _&&mn(b,_),Je(s,this,b)})}function Fb(s,u,c){var _=!0,b=!0;if(typeof s!="function")throw new ur(a);return ce(c)&&(_="leading"in c?!!c.leading:_,b="trailing"in c?!!c.trailing:b),Ld(s,u,{leading:_,maxWait:u,trailing:b})}function Lb(s){return Id(s,1)}function Bb(s,u){return zu(Ru(u),s)}function Nb(){if(!arguments.length)return[];var s=arguments[0];return St(s)?s:[s]}function Ub(s){return lr(s,g)}function Gb(s,u){return u=typeof u=="function"?u:t,lr(s,g,u)}function kb(s){return lr(s,v|g)}function Hb(s,u){return u=typeof u=="function"?u:t,lr(s,v|g,u)}function Xb(s,u){return u==null||Ec(s,u,Pe(u))}function wr(s,u){return s===u||s!==s&&u!==u}var Wb=Ss(_u),zb=Ss(function(s,u){return s>=u}),zn=Cc(function(){return arguments}())?Cc:function(s){return _e(s)&&Jt.call(s,"callee")&&!vc.call(s,"callee")},St=U.isArray,Vb=Zf?Qe(Zf):$m;function We(s){return s!=null&&Fs(s.length)&&!nn(s)}function me(s){return _e(s)&&We(s)}function Yb(s){return s===!0||s===!1||_e(s)&&Be(s)==ot}var Sn=sm||eh,jb=Jf?Qe(Jf):ty;function qb(s){return _e(s)&&s.nodeType===1&&!lo(s)}function Kb(s){if(s==null)return!0;if(We(s)&&(St(s)||typeof s=="string"||typeof s.splice=="function"||Sn(s)||Si(s)||zn(s)))return!s.length;var u=Me(s);if(u==k||u==He)return!s.size;if(uo(s))return!yu(s).length;for(var c in s)if(Jt.call(s,c))return!1;return!0}function Zb(s,u){return oo(s,u)}function Jb(s,u,c){c=typeof c=="function"?c:t;var _=c?c(s,u):t;return _===t?oo(s,u,t,c):!!_}function Vu(s){if(!_e(s))return!1;var u=Be(s);return u==Ut||u==Y||typeof s.message=="string"&&typeof s.name=="string"&&!lo(s)}function Qb(s){return typeof s=="number"&&gc(s)}function nn(s){if(!ce(s))return!1;var u=Be(s);return u==Xt||u==lt||u==Ht||u==vn}function Nd(s){return typeof s=="number"&&s==Ct(s)}function Fs(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=ft}function ce(s){var u=typeof s;return s!=null&&(u=="object"||u=="function")}function _e(s){return s!=null&&typeof s=="object"}var Ud=Qf?Qe(Qf):ry;function $b(s,u){return s===u||mu(s,u,Lu(u))}function tx(s,u,c){return c=typeof c=="function"?c:t,mu(s,u,Lu(u),c)}function ex(s){return Gd(s)&&s!=+s}function rx(s){if(Gy(s))throw new wt(o);return Ic(s)}function nx(s){return s===null}function ix(s){return s==null}function Gd(s){return typeof s=="number"||_e(s)&&Be(s)==Zt}function lo(s){if(!_e(s)||Be(s)!=K)return!1;var u=as(s);if(u===null)return!0;var c=Jt.call(u,"constructor")&&u.constructor;return typeof c=="function"&&c instanceof c&&ns.call(c)==tm}var Yu=$f?Qe($f):ny;function ox(s){return Nd(s)&&s>=-ft&&s<=ft}var kd=tc?Qe(tc):iy;function Ls(s){return typeof s=="string"||!St(s)&&_e(s)&&Be(s)==_n}function tr(s){return typeof s=="symbol"||_e(s)&&Be(s)==Ln}var Si=ec?Qe(ec):oy;function sx(s){return s===t}function ax(s){return _e(s)&&Me(s)==qi}function ux(s){return _e(s)&&Be(s)==wg}var hx=Ss(bu),lx=Ss(function(s,u){return s<=u});function Hd(s){if(!s)return[];if(We(s))return Ls(s)?Tr(s):Xe(s);if(Ji&&s[Ji])return X0(s[Ji]());var u=Me(s),c=u==k?au:u==He?ts:Ai;return c(s)}function on(s){if(!s)return s===0?s:0;if(s=dr(s),s===V||s===-V){var u=s<0?-1:1;return u*ht}return s===s?s:0}function Ct(s){var u=on(s),c=u%1;return u===u?c?u-c:u:0}function Xd(s){return s?kn(Ct(s),0,X):0}function dr(s){if(typeof s=="number")return s;if(tr(s))return q;if(ce(s)){var u=typeof s.valueOf=="function"?s.valueOf():s;s=ce(u)?u+"":u}if(typeof s!="string")return s===0?s:+s;s=ac(s);var c=Vg.test(s);return c||jg.test(s)?S0(s.slice(2),c?2:8):zg.test(s)?q:+s}function Wd(s){return Nr(s,ze(s))}function fx(s){return s?kn(Ct(s),-ft,ft):s===0?s:0}function Kt(s){return s==null?"":$e(s)}var cx=Ti(function(s,u){if(uo(u)||We(u)){Nr(u,Pe(u),s);return}for(var c in u)Jt.call(u,c)&&ro(s,c,u[c])}),zd=Ti(function(s,u){Nr(u,ze(u),s)}),Bs=Ti(function(s,u,c,_){Nr(u,ze(u),s,_)}),dx=Ti(function(s,u,c,_){Nr(u,Pe(u),s,_)}),px=en(du);function vx(s,u){var c=xi(s);return u==null?c:Tc(c,u)}var _x=Ot(function(s,u){s=te(s);var c=-1,_=u.length,b=_>2?u[2]:t;for(b&&Ne(u[0],u[1],b)&&(_=1);++c<_;)for(var w=u[c],R=ze(w),M=-1,N=R.length;++M<N;){var W=R[M],z=s[W];(z===t||wr(z,mi[W])&&!Jt.call(s,W))&&(s[W]=w[W])}return s}),gx=Ot(function(s){return s.push(t,ad),Je(Vd,t,s)});function mx(s,u){return nc(s,mt(u,3),Br)}function yx(s,u){return nc(s,mt(u,3),vu)}function bx(s,u){return s==null?s:pu(s,mt(u,3),ze)}function xx(s,u){return s==null?s:Pc(s,mt(u,3),ze)}function Tx(s,u){return s&&Br(s,mt(u,3))}function Ex(s,u){return s&&vu(s,mt(u,3))}function wx(s){return s==null?[]:gs(s,Pe(s))}function Sx(s){return s==null?[]:gs(s,ze(s))}function ju(s,u,c){var _=s==null?t:Hn(s,u);return _===t?c:_}function Ax(s,u){return s!=null&&ld(s,u,Km)}function qu(s,u){return s!=null&&ld(s,u,Zm)}var Px=rd(function(s,u,c){u!=null&&typeof u.toString!="function"&&(u=is.call(u)),s[u]=c},Zu(Ve)),Rx=rd(function(s,u,c){u!=null&&typeof u.toString!="function"&&(u=is.call(u)),Jt.call(s,u)?s[u].push(c):s[u]=[c]},mt),Cx=Ot(io);function Pe(s){return We(s)?bc(s):yu(s)}function ze(s){return We(s)?bc(s,!0):sy(s)}function Ix(s,u){var c={};return u=mt(u,3),Br(s,function(_,b,w){$r(c,u(_,b,w),_)}),c}function Ox(s,u){var c={};return u=mt(u,3),Br(s,function(_,b,w){$r(c,b,u(_,b,w))}),c}var Mx=Ti(function(s,u,c){ms(s,u,c)}),Vd=Ti(function(s,u,c,_){ms(s,u,c,_)}),Dx=en(function(s,u){var c={};if(s==null)return c;var _=!1;u=ue(u,function(w){return w=En(w,s),_||(_=w.length>1),w}),Nr(s,Du(s),c),_&&(c=lr(c,v|p|g,Py));for(var b=u.length;b--;)Su(c,u[b]);return c});function Fx(s,u){return Yd(s,Ds(mt(u)))}var Lx=en(function(s,u){return s==null?{}:uy(s,u)});function Yd(s,u){if(s==null)return{};var c=ue(Du(s),function(_){return[_]});return u=mt(u),Nc(s,c,function(_,b){return u(_,b[0])})}function Bx(s,u,c){u=En(u,s);var _=-1,b=u.length;for(b||(b=1,s=t);++_<b;){var w=s==null?t:s[Ur(u[_])];w===t&&(_=b,w=c),s=nn(w)?w.call(s):w}return s}function Nx(s,u,c){return s==null?s:so(s,u,c)}function Ux(s,u,c,_){return _=typeof _=="function"?_:t,s==null?s:so(s,u,c,_)}var jd=od(Pe),qd=od(ze);function Gx(s,u,c){var _=St(s),b=_||Sn(s)||Si(s);if(u=mt(u,4),c==null){var w=s&&s.constructor;b?c=_?new w:[]:ce(s)?c=nn(w)?xi(as(s)):{}:c={}}return(b?ar:Br)(s,function(R,M,N){return u(c,R,M,N)}),c}function kx(s,u){return s==null?!0:Su(s,u)}function Hx(s,u,c){return s==null?s:Xc(s,u,Ru(c))}function Xx(s,u,c,_){return _=typeof _=="function"?_:t,s==null?s:Xc(s,u,Ru(c),_)}function Ai(s){return s==null?[]:su(s,Pe(s))}function Wx(s){return s==null?[]:su(s,ze(s))}function zx(s,u,c){return c===t&&(c=u,u=t),c!==t&&(c=dr(c),c=c===c?c:0),u!==t&&(u=dr(u),u=u===u?u:0),kn(dr(s),u,c)}function Vx(s,u,c){return u=on(u),c===t?(c=u,u=0):c=on(c),s=dr(s),Jm(s,u,c)}function Yx(s,u,c){if(c&&typeof c!="boolean"&&Ne(s,u,c)&&(u=c=t),c===t&&(typeof u=="boolean"?(c=u,u=t):typeof s=="boolean"&&(c=s,s=t)),s===t&&u===t?(s=0,u=1):(s=on(s),u===t?(u=s,s=0):u=on(u)),s>u){var _=s;s=u,u=_}if(c||s%1||u%1){var b=mc();return Oe(s+b*(u-s+w0("1e-"+((b+"").length-1))),u)}return Tu(s,u)}var jx=Ei(function(s,u,c){return u=u.toLowerCase(),s+(c?Kd(u):u)});function Kd(s){return Ku(Kt(s).toLowerCase())}function Zd(s){return s=Kt(s),s&&s.replace(Kg,N0).replace(p0,"")}function qx(s,u,c){s=Kt(s),u=$e(u);var _=s.length;c=c===t?_:kn(Ct(c),0,_);var b=c;return c-=u.length,c>=0&&s.slice(c,b)==u}function Kx(s){return s=Kt(s),s&&Cg.test(s)?s.replace(Pf,U0):s}function Zx(s){return s=Kt(s),s&&Lg.test(s)?s.replace(za,"\\$&"):s}var Jx=Ei(function(s,u,c){return s+(c?"-":"")+u.toLowerCase()}),Qx=Ei(function(s,u,c){return s+(c?" ":"")+u.toLowerCase()}),$x=$c("toLowerCase");function tT(s,u,c){s=Kt(s),u=Ct(u);var _=u?_i(s):0;if(!u||_>=u)return s;var b=(u-_)/2;return ws(fs(b),c)+s+ws(ls(b),c)}function eT(s,u,c){s=Kt(s),u=Ct(u);var _=u?_i(s):0;return u&&_<u?s+ws(u-_,c):s}function rT(s,u,c){s=Kt(s),u=Ct(u);var _=u?_i(s):0;return u&&_<u?ws(u-_,c)+s:s}function nT(s,u,c){return c||u==null?u=0:u&&(u=+u),lm(Kt(s).replace(Va,""),u||0)}function iT(s,u,c){return(c?Ne(s,u,c):u===t)?u=1:u=Ct(u),Eu(Kt(s),u)}function oT(){var s=arguments,u=Kt(s[0]);return s.length<3?u:u.replace(s[1],s[2])}var sT=Ei(function(s,u,c){return s+(c?"_":"")+u.toLowerCase()});function aT(s,u,c){return c&&typeof c!="number"&&Ne(s,u,c)&&(u=c=t),c=c===t?X:c>>>0,c?(s=Kt(s),s&&(typeof u=="string"||u!=null&&!Yu(u))&&(u=$e(u),!u&&vi(s))?wn(Tr(s),0,c):s.split(u,c)):[]}var uT=Ei(function(s,u,c){return s+(c?" ":"")+Ku(u)});function hT(s,u,c){return s=Kt(s),c=c==null?0:kn(Ct(c),0,s.length),u=$e(u),s.slice(c,c+u.length)==u}function lT(s,u,c){var _=T.templateSettings;c&&Ne(s,u,c)&&(u=t),s=Kt(s),u=Bs({},u,_,sd);var b=Bs({},u.imports,_.imports,sd),w=Pe(b),R=su(b,w),M,N,W=0,z=u.interpolate||Ko,j="__p += '",et=uu((u.escape||Ko).source+"|"+z.source+"|"+(z===Rf?Wg:Ko).source+"|"+(u.evaluate||Ko).source+"|$","g"),ut="//# sourceURL="+(Jt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++y0+"]")+`
`;s.replace(et,function(xt,Bt,kt,er,Ue,rr){return kt||(kt=er),j+=s.slice(W,rr).replace(Zg,G0),Bt&&(M=!0,j+=`' +
__e(`+Bt+`) +
'`),Ue&&(N=!0,j+=`';
`+Ue+`;
__p += '`),kt&&(j+=`' +
((__t = (`+kt+`)) == null ? '' : __t) +
'`),W=rr+xt.length,xt}),j+=`';
`;var bt=Jt.call(u,"variable")&&u.variable;if(!bt)j=`with (obj) {
`+j+`
}
`;else if(Hg.test(bt))throw new wt(h);j=(N?j.replace(Sg,""):j).replace(Ag,"$1").replace(Pg,"$1;"),j="function("+(bt||"obj")+`) {
`+(bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var It=Qd(function(){return jt(w,ut+"return "+j).apply(t,R)});if(It.source=j,Vu(It))throw It;return It}function fT(s){return Kt(s).toLowerCase()}function cT(s){return Kt(s).toUpperCase()}function dT(s,u,c){if(s=Kt(s),s&&(c||u===t))return ac(s);if(!s||!(u=$e(u)))return s;var _=Tr(s),b=Tr(u),w=uc(_,b),R=hc(_,b)+1;return wn(_,w,R).join("")}function pT(s,u,c){if(s=Kt(s),s&&(c||u===t))return s.slice(0,fc(s)+1);if(!s||!(u=$e(u)))return s;var _=Tr(s),b=hc(_,Tr(u))+1;return wn(_,0,b).join("")}function vT(s,u,c){if(s=Kt(s),s&&(c||u===t))return s.replace(Va,"");if(!s||!(u=$e(u)))return s;var _=Tr(s),b=uc(_,Tr(u));return wn(_,b).join("")}function _T(s,u){var c=B,_=J;if(ce(u)){var b="separator"in u?u.separator:b;c="length"in u?Ct(u.length):c,_="omission"in u?$e(u.omission):_}s=Kt(s);var w=s.length;if(vi(s)){var R=Tr(s);w=R.length}if(c>=w)return s;var M=c-_i(_);if(M<1)return _;var N=R?wn(R,0,M).join(""):s.slice(0,M);if(b===t)return N+_;if(R&&(M+=N.length-M),Yu(b)){if(s.slice(M).search(b)){var W,z=N;for(b.global||(b=uu(b.source,Kt(Cf.exec(b))+"g")),b.lastIndex=0;W=b.exec(z);)var j=W.index;N=N.slice(0,j===t?M:j)}}else if(s.indexOf($e(b),M)!=M){var et=N.lastIndexOf(b);et>-1&&(N=N.slice(0,et))}return N+_}function gT(s){return s=Kt(s),s&&Rg.test(s)?s.replace(Af,Y0):s}var mT=Ei(function(s,u,c){return s+(c?" ":"")+u.toUpperCase()}),Ku=$c("toUpperCase");function Jd(s,u,c){return s=Kt(s),u=c?t:u,u===t?H0(s)?K0(s):M0(s):s.match(u)||[]}var Qd=Ot(function(s,u){try{return Je(s,t,u)}catch(c){return Vu(c)?c:new wt(c)}}),yT=en(function(s,u){return ar(u,function(c){c=Ur(c),$r(s,c,Wu(s[c],s))}),s});function bT(s){var u=s==null?0:s.length,c=mt();return s=u?ue(s,function(_){if(typeof _[1]!="function")throw new ur(a);return[c(_[0]),_[1]]}):[],Ot(function(_){for(var b=-1;++b<u;){var w=s[b];if(Je(w[0],this,_))return Je(w[1],this,_)}})}function xT(s){return Ym(lr(s,v))}function Zu(s){return function(){return s}}function TT(s,u){return s==null||s!==s?u:s}var ET=ed(),wT=ed(!0);function Ve(s){return s}function Ju(s){return Oc(typeof s=="function"?s:lr(s,v))}function ST(s){return Dc(lr(s,v))}function AT(s,u){return Fc(s,lr(u,v))}var PT=Ot(function(s,u){return function(c){return io(c,s,u)}}),RT=Ot(function(s,u){return function(c){return io(s,c,u)}});function Qu(s,u,c){var _=Pe(u),b=gs(u,_);c==null&&!(ce(u)&&(b.length||!_.length))&&(c=u,u=s,s=this,b=gs(u,Pe(u)));var w=!(ce(c)&&"chain"in c)||!!c.chain,R=nn(s);return ar(b,function(M){var N=u[M];s[M]=N,R&&(s.prototype[M]=function(){var W=this.__chain__;if(w||W){var z=s(this.__wrapped__),j=z.__actions__=Xe(this.__actions__);return j.push({func:N,args:arguments,thisArg:s}),z.__chain__=W,z}return N.apply(s,mn([this.value()],arguments))})}),s}function CT(){return Ce._===this&&(Ce._=em),this}function $u(){}function IT(s){return s=Ct(s),Ot(function(u){return Lc(u,s)})}var OT=Iu(ue),MT=Iu(rc),DT=Iu(eu);function $d(s){return Nu(s)?ru(Ur(s)):hy(s)}function FT(s){return function(u){return s==null?t:Hn(s,u)}}var LT=nd(),BT=nd(!0);function th(){return[]}function eh(){return!1}function NT(){return{}}function UT(){return""}function GT(){return!0}function kT(s,u){if(s=Ct(s),s<1||s>ft)return[];var c=X,_=Oe(s,X);u=mt(u),s-=X;for(var b=ou(_,u);++c<s;)u(c);return b}function HT(s){return St(s)?ue(s,Ur):tr(s)?[s]:Xe(yd(Kt(s)))}function XT(s){var u=++$0;return Kt(s)+u}var WT=Es(function(s,u){return s+u},0),zT=Ou("ceil"),VT=Es(function(s,u){return s/u},1),YT=Ou("floor");function jT(s){return s&&s.length?_s(s,Ve,_u):t}function qT(s,u){return s&&s.length?_s(s,mt(u,2),_u):t}function KT(s){return oc(s,Ve)}function ZT(s,u){return oc(s,mt(u,2))}function JT(s){return s&&s.length?_s(s,Ve,bu):t}function QT(s,u){return s&&s.length?_s(s,mt(u,2),bu):t}var $T=Es(function(s,u){return s*u},1),tE=Ou("round"),eE=Es(function(s,u){return s-u},0);function rE(s){return s&&s.length?iu(s,Ve):0}function nE(s,u){return s&&s.length?iu(s,mt(u,2)):0}return T.after=Sb,T.ary=Id,T.assign=cx,T.assignIn=zd,T.assignInWith=Bs,T.assignWith=dx,T.at=px,T.before=Od,T.bind=Wu,T.bindAll=yT,T.bindKey=Md,T.castArray=Nb,T.chain=Pd,T.chunk=Yy,T.compact=jy,T.concat=qy,T.cond=bT,T.conforms=xT,T.constant=Zu,T.countBy=rb,T.create=vx,T.curry=Dd,T.curryRight=Fd,T.debounce=Ld,T.defaults=_x,T.defaultsDeep=gx,T.defer=Ab,T.delay=Pb,T.difference=Ky,T.differenceBy=Zy,T.differenceWith=Jy,T.drop=Qy,T.dropRight=$y,T.dropRightWhile=t1,T.dropWhile=e1,T.fill=r1,T.filter=ib,T.flatMap=ab,T.flatMapDeep=ub,T.flatMapDepth=hb,T.flatten=Ed,T.flattenDeep=n1,T.flattenDepth=i1,T.flip=Rb,T.flow=ET,T.flowRight=wT,T.fromPairs=o1,T.functions=wx,T.functionsIn=Sx,T.groupBy=lb,T.initial=a1,T.intersection=u1,T.intersectionBy=h1,T.intersectionWith=l1,T.invert=Px,T.invertBy=Rx,T.invokeMap=cb,T.iteratee=Ju,T.keyBy=db,T.keys=Pe,T.keysIn=ze,T.map=Is,T.mapKeys=Ix,T.mapValues=Ox,T.matches=ST,T.matchesProperty=AT,T.memoize=Ms,T.merge=Mx,T.mergeWith=Vd,T.method=PT,T.methodOf=RT,T.mixin=Qu,T.negate=Ds,T.nthArg=IT,T.omit=Dx,T.omitBy=Fx,T.once=Cb,T.orderBy=pb,T.over=OT,T.overArgs=Ib,T.overEvery=MT,T.overSome=DT,T.partial=zu,T.partialRight=Bd,T.partition=vb,T.pick=Lx,T.pickBy=Yd,T.property=$d,T.propertyOf=FT,T.pull=p1,T.pullAll=Sd,T.pullAllBy=v1,T.pullAllWith=_1,T.pullAt=g1,T.range=LT,T.rangeRight=BT,T.rearg=Ob,T.reject=mb,T.remove=m1,T.rest=Mb,T.reverse=Hu,T.sampleSize=bb,T.set=Nx,T.setWith=Ux,T.shuffle=xb,T.slice=y1,T.sortBy=wb,T.sortedUniq=A1,T.sortedUniqBy=P1,T.split=aT,T.spread=Db,T.tail=R1,T.take=C1,T.takeRight=I1,T.takeRightWhile=O1,T.takeWhile=M1,T.tap=j1,T.throttle=Fb,T.thru=Cs,T.toArray=Hd,T.toPairs=jd,T.toPairsIn=qd,T.toPath=HT,T.toPlainObject=Wd,T.transform=Gx,T.unary=Lb,T.union=D1,T.unionBy=F1,T.unionWith=L1,T.uniq=B1,T.uniqBy=N1,T.uniqWith=U1,T.unset=kx,T.unzip=Xu,T.unzipWith=Ad,T.update=Hx,T.updateWith=Xx,T.values=Ai,T.valuesIn=Wx,T.without=G1,T.words=Jd,T.wrap=Bb,T.xor=k1,T.xorBy=H1,T.xorWith=X1,T.zip=W1,T.zipObject=z1,T.zipObjectDeep=V1,T.zipWith=Y1,T.entries=jd,T.entriesIn=qd,T.extend=zd,T.extendWith=Bs,Qu(T,T),T.add=WT,T.attempt=Qd,T.camelCase=jx,T.capitalize=Kd,T.ceil=zT,T.clamp=zx,T.clone=Ub,T.cloneDeep=kb,T.cloneDeepWith=Hb,T.cloneWith=Gb,T.conformsTo=Xb,T.deburr=Zd,T.defaultTo=TT,T.divide=VT,T.endsWith=qx,T.eq=wr,T.escape=Kx,T.escapeRegExp=Zx,T.every=nb,T.find=ob,T.findIndex=xd,T.findKey=mx,T.findLast=sb,T.findLastIndex=Td,T.findLastKey=yx,T.floor=YT,T.forEach=Rd,T.forEachRight=Cd,T.forIn=bx,T.forInRight=xx,T.forOwn=Tx,T.forOwnRight=Ex,T.get=ju,T.gt=Wb,T.gte=zb,T.has=Ax,T.hasIn=qu,T.head=wd,T.identity=Ve,T.includes=fb,T.indexOf=s1,T.inRange=Vx,T.invoke=Cx,T.isArguments=zn,T.isArray=St,T.isArrayBuffer=Vb,T.isArrayLike=We,T.isArrayLikeObject=me,T.isBoolean=Yb,T.isBuffer=Sn,T.isDate=jb,T.isElement=qb,T.isEmpty=Kb,T.isEqual=Zb,T.isEqualWith=Jb,T.isError=Vu,T.isFinite=Qb,T.isFunction=nn,T.isInteger=Nd,T.isLength=Fs,T.isMap=Ud,T.isMatch=$b,T.isMatchWith=tx,T.isNaN=ex,T.isNative=rx,T.isNil=ix,T.isNull=nx,T.isNumber=Gd,T.isObject=ce,T.isObjectLike=_e,T.isPlainObject=lo,T.isRegExp=Yu,T.isSafeInteger=ox,T.isSet=kd,T.isString=Ls,T.isSymbol=tr,T.isTypedArray=Si,T.isUndefined=sx,T.isWeakMap=ax,T.isWeakSet=ux,T.join=f1,T.kebabCase=Jx,T.last=cr,T.lastIndexOf=c1,T.lowerCase=Qx,T.lowerFirst=$x,T.lt=hx,T.lte=lx,T.max=jT,T.maxBy=qT,T.mean=KT,T.meanBy=ZT,T.min=JT,T.minBy=QT,T.stubArray=th,T.stubFalse=eh,T.stubObject=NT,T.stubString=UT,T.stubTrue=GT,T.multiply=$T,T.nth=d1,T.noConflict=CT,T.noop=$u,T.now=Os,T.pad=tT,T.padEnd=eT,T.padStart=rT,T.parseInt=nT,T.random=Yx,T.reduce=_b,T.reduceRight=gb,T.repeat=iT,T.replace=oT,T.result=Bx,T.round=tE,T.runInContext=L,T.sample=yb,T.size=Tb,T.snakeCase=sT,T.some=Eb,T.sortedIndex=b1,T.sortedIndexBy=x1,T.sortedIndexOf=T1,T.sortedLastIndex=E1,T.sortedLastIndexBy=w1,T.sortedLastIndexOf=S1,T.startCase=uT,T.startsWith=hT,T.subtract=eE,T.sum=rE,T.sumBy=nE,T.template=lT,T.times=kT,T.toFinite=on,T.toInteger=Ct,T.toLength=Xd,T.toLower=fT,T.toNumber=dr,T.toSafeInteger=fx,T.toString=Kt,T.toUpper=cT,T.trim=dT,T.trimEnd=pT,T.trimStart=vT,T.truncate=_T,T.unescape=gT,T.uniqueId=XT,T.upperCase=mT,T.upperFirst=Ku,T.each=Rd,T.eachRight=Cd,T.first=wd,Qu(T,function(){var s={};return Br(T,function(u,c){Jt.call(T.prototype,c)||(s[c]=u)}),s}(),{chain:!1}),T.VERSION=n,ar(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){T[s].placeholder=T}),ar(["drop","take"],function(s,u){Gt.prototype[s]=function(c){c=c===t?1:we(Ct(c),0);var _=this.__filtered__&&!u?new Gt(this):this.clone();return _.__filtered__?_.__takeCount__=Oe(c,_.__takeCount__):_.__views__.push({size:Oe(c,X),type:s+(_.__dir__<0?"Right":"")}),_},Gt.prototype[s+"Right"]=function(c){return this.reverse()[s](c).reverse()}}),ar(["filter","map","takeWhile"],function(s,u){var c=u+1,_=c==Rt||c==Q;Gt.prototype[s]=function(b){var w=this.clone();return w.__iteratees__.push({iteratee:mt(b,3),type:c}),w.__filtered__=w.__filtered__||_,w}}),ar(["head","last"],function(s,u){var c="take"+(u?"Right":"");Gt.prototype[s]=function(){return this[c](1).value()[0]}}),ar(["initial","tail"],function(s,u){var c="drop"+(u?"":"Right");Gt.prototype[s]=function(){return this.__filtered__?new Gt(this):this[c](1)}}),Gt.prototype.compact=function(){return this.filter(Ve)},Gt.prototype.find=function(s){return this.filter(s).head()},Gt.prototype.findLast=function(s){return this.reverse().find(s)},Gt.prototype.invokeMap=Ot(function(s,u){return typeof s=="function"?new Gt(this):this.map(function(c){return io(c,s,u)})}),Gt.prototype.reject=function(s){return this.filter(Ds(mt(s)))},Gt.prototype.slice=function(s,u){s=Ct(s);var c=this;return c.__filtered__&&(s>0||u<0)?new Gt(c):(s<0?c=c.takeRight(-s):s&&(c=c.drop(s)),u!==t&&(u=Ct(u),c=u<0?c.dropRight(-u):c.take(u-s)),c)},Gt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Gt.prototype.toArray=function(){return this.take(X)},Br(Gt.prototype,function(s,u){var c=/^(?:filter|find|map|reject)|While$/.test(u),_=/^(?:head|last)$/.test(u),b=T[_?"take"+(u=="last"?"Right":""):u],w=_||/^find/.test(u);b&&(T.prototype[u]=function(){var R=this.__wrapped__,M=_?[1]:arguments,N=R instanceof Gt,W=M[0],z=N||St(R),j=function(Bt){var kt=b.apply(T,mn([Bt],M));return _&&et?kt[0]:kt};z&&c&&typeof W=="function"&&W.length!=1&&(N=z=!1);var et=this.__chain__,ut=!!this.__actions__.length,bt=w&&!et,It=N&&!ut;if(!w&&z){R=It?R:new Gt(this);var xt=s.apply(R,M);return xt.__actions__.push({func:Cs,args:[j],thisArg:t}),new hr(xt,et)}return bt&&It?s.apply(this,M):(xt=this.thru(j),bt?_?xt.value()[0]:xt.value():xt)})}),ar(["pop","push","shift","sort","splice","unshift"],function(s){var u=es[s],c=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",_=/^(?:pop|shift)$/.test(s);T.prototype[s]=function(){var b=arguments;if(_&&!this.__chain__){var w=this.value();return u.apply(St(w)?w:[],b)}return this[c](function(R){return u.apply(St(R)?R:[],b)})}}),Br(Gt.prototype,function(s,u){var c=T[u];if(c){var _=c.name+"";Jt.call(bi,_)||(bi[_]=[]),bi[_].push({name:u,func:c})}}),bi[Ts(t,E).name]=[{name:"wrapper",func:t}],Gt.prototype.clone=gm,Gt.prototype.reverse=mm,Gt.prototype.value=ym,T.prototype.at=q1,T.prototype.chain=K1,T.prototype.commit=Z1,T.prototype.next=J1,T.prototype.plant=$1,T.prototype.reverse=tb,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=eb,T.prototype.first=T.prototype.head,Ji&&(T.prototype[Ji]=Q1),T},gi=Z0();Bn?((Bn.exports=gi)._=gi,Ja._=gi):Ce._=gi}).call(Pn)})(QC,Wi);function sv(r){let e,t,n;const i=[{texture:r[1]},r[2]];function o(h){r[7](h)}let a={};for(let h=0;h<i.length;h+=1)a=Fe(a,i[h]);return r[0]!==void 0&&(a.instance=r[0]),e=new pn({props:a}),je.push(()=>Xr(e,"instance",o)),{c(){oe(e.$$.fragment)},m(h,l){re(e,h,l),n=!0},p(h,l){const f=l&6?ui(i,[l&2&&{texture:h[1]},l&4&&hi(h[2])]):{};!t&&l&1&&(t=!0,f.instance=h[0],Hr(()=>t=!1)),e.$set(f)},i(h){n||(rt(e.$$.fragment,h),n=!0)},o(h){at(e.$$.fragment,h),n=!1},d(h){ne(e,h)}}}function $C(r){let e,t,n=r[1]&&sv(r);return{c(){n&&n.c(),e=ai()},m(i,o){n&&n.m(i,o),Yt(i,e,o),t=!0},p(i,[o]){i[1]?n?(n.p(i,o),o&2&&rt(n,1)):(n=sv(i),n.c(),rt(n,1),n.m(e.parentNode,e)):n&&(nr(),at(n,1,1,()=>{n=null}),ir())},i(i){t||(rt(n),t=!0)},o(i){at(n),t=!1},d(i){n&&n.d(i),i&&Wt(e)}}}function tI(r,e,t){const n=["width","height","texture","instance"];let i=Fi(e,n),{width:o}=e,{height:a}=e,{texture:h}=e,{instance:l=void 0}=e,f={width:-1,height:-1},d;function v(p){l=p,t(0,l)}return r.$$set=p=>{e=Fe(Fe({},e),wo(p)),t(2,i=Fi(e,n)),"width"in p&&t(3,o=p.width),"height"in p&&t(4,a=p.height),"texture"in p&&t(5,h=p.texture),"instance"in p&&t(0,l=p.instance)},r.$$.update=()=>{if(r.$$.dirty&120&&h&&!Wi.isEqual(f,{width:o,height:a})){t(6,f={width:o,height:a});let{app:p}=Tg(),g=new Ke(h);g.width=o,g.height=a,t(1,d=p.renderer.generateTexture(g,{scaleMode:De.LINEAR,region:new Dt(0,0,o,a)}))}},[l,d,i,o,a,h,f,v]}class eI extends xr{constructor(e){super(),br(this,e,tI,$C,yr,{width:3,height:4,texture:5,instance:0})}}function rI(r){let e,t;return e=new pn({props:{texture:r[5]}}),{c(){oe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const o={};i&32&&(o.texture=n[5]),e.$set(o)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function nI(r){let e,t;return e=new fi({props:{$$slots:{default:[iI]},$$scope:{ctx:r}}}),{c(){oe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const o={};i&16415&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function iI(r){let e,t,n,i,o,a;e=new pn({props:{texture:r[3]}});const h=[{texture:r[2]},r[0].layers[r[1]].pos];let l={};for(let f=0;f<h.length;f+=1)l=Fe(l,h[f]);return n=new pn({props:l}),o=new pn({props:{texture:r[4]}}),{c(){oe(e.$$.fragment),t=Vt(),oe(n.$$.fragment),i=Vt(),oe(o.$$.fragment)},m(f,d){re(e,f,d),Yt(f,t,d),re(n,f,d),Yt(f,i,d),re(o,f,d),a=!0},p(f,d){const v={};d&8&&(v.texture=f[3]),e.$set(v);const p=d&7?ui(h,[d&4&&{texture:f[2]},d&3&&hi(f[0].layers[f[1]].pos)]):{};n.$set(p);const g={};d&16&&(g.texture=f[4]),o.$set(g)},i(f){a||(rt(e.$$.fragment,f),rt(n.$$.fragment,f),rt(o.$$.fragment,f),a=!0)},o(f){at(e.$$.fragment,f),at(n.$$.fragment,f),at(o.$$.fragment,f),a=!1},d(f){ne(e,f),f&&Wt(t),ne(n,f),f&&Wt(i),ne(o,f)}}}function oI(r){let e,t,n,i;const o=[nI,rI],a=[];function h(l,f){return l[4]&&l[3]&&l[2]?0:l[5]?1:-1}return~(e=h(r))&&(t=a[e]=o[e](r)),{c(){t&&t.c(),n=ai()},m(l,f){~e&&a[e].m(l,f),Yt(l,n,f),i=!0},p(l,[f]){let d=e;e=h(l),e===d?~e&&a[e].p(l,f):(t&&(nr(),at(a[d],1,1,()=>{a[d]=null}),ir()),~e?(t=a[e],t?t.p(l,f):(t=a[e]=o[e](l),t.c()),rt(t,1),t.m(n.parentNode,n)):t=null)},i(l){i||(rt(t),i=!0)},o(l){at(t),i=!1},d(l){~e&&a[e].d(l),l&&Wt(n)}}}function sI(r,e,t){let n,{renderSlot:i}=e,{selectedLayer:o}=e,a={},h=new WeakMap,l={width:-1,height:-1},f,{app:d}=Tg(),v,p,g,m;function x(E){if(!h.has(E.image)){let C=new vt(new Mt(E.image)),S=new Ke(C);S.x=E.pos.x,S.y=E.pos.y,S.width=E.rect.width,S.height=E.rect.height,h.set(E.image,d.renderer.generateTexture(S,{scaleMode:De.LINEAR,region:new Dt(0,0,117,166),multisample:ee.HIGH}))}return h.get(E.image)}function y(E){let C=new Ze;for(let S of[...E].reverse())C.addChild(new Ke(x(S)));return d.renderer.generateTexture(C,{scaleMode:De.NEAREST,region:new Dt(0,0,117,166)})}return r.$$set=E=>{"renderSlot"in E&&t(0,i=E.renderSlot),"selectedLayer"in E&&t(1,o=E.selectedLayer)},r.$$.update=()=>{if(r.$$.dirty&3&&t(9,n=o!==void 0?i.layers[o].rect:void 0),r.$$.dirty&3&&o!==void 0&&(h.delete(i.layers[o].image),t(7,l={width:-1,height:-1}),t(2,f=void 0)),r.$$.dirty&67&&(Wi.isEqual(a,{selected:o,layers:i.layers.map(E=>E.image.src)})||(t(6,a={selected:o,layers:i.layers.map(E=>E.image.src)}),t(8,m=o!==void 0?new vt(new Mt(i.layers[o].image)):void 0),t(3,v=o!==void 0?y(i.layers.slice(o+1)):void 0),t(4,p=o!==void 0?y(i.layers.slice(0,o)):void 0),t(5,g=o===void 0?y(i.layers):void 0))),r.$$.dirty&896&&m&&!Wi.isEqual(l,n)){t(7,l={...n});let E=new Ke(m);E.width=l.width,E.height=l.height,t(2,f=d.renderer.generateTexture(E,{scaleMode:De.NEAREST,region:new Dt(0,0,l.width,l.height)}))}},[i,o,f,v,p,g,a,l,m,n]}class aI extends xr{constructor(e){super(),br(this,e,sI,oI,yr,{renderSlot:0,selectedLayer:1})}}/*!
 * @pixi/filter-color-overlay - v4.2.0
 * Compiled Fri, 05 Aug 2022 19:53:35 UTC
 *
 * @pixi/filter-color-overlay is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cl=function(r,e){return Cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Cl(r,e)};function uI(r,e){Cl(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var hI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,lI=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec3 color;
uniform float alpha;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);
}
`,Eg=function(r){uI(e,r);function e(t,n){t===void 0&&(t=0),n===void 0&&(n=1);var i=r.call(this,hI,lI)||this;return i._color=0,i._alpha=1,i.uniforms.color=new Float32Array(3),i.color=t,i.alpha=n,i}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){var n=this.uniforms.color;typeof t=="number"?(In(t,n),this._color=t):(n[0]=t[0],n[1]=t[1],n[2]=t[2],this._color=kv(n))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this.uniforms.alpha=t,this._alpha=t},enumerable:!1,configurable:!0}),e}(Zr);function av(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function uv(r,e,t){const n=r.slice();return n[24]=e[t],n[23]=t,n}function Oh(r){const e=r.slice(),t=e[3][e[0]];e[21]=t;const n=e[21].layers[e[4]];return e[24]=n,e}function hv(r,e,t){const n=r.slice();return n[21]=e[t],n}function lv(r,e,t){const n=r.slice();return n[21]=e[t],n[28]=e,n[23]=t,n}function fI(r){let e,t,n,i,o;function a(l){r[8](l,r[23])}let h={texture:vt.from(Ll),x:-2,y:-2};return r[2][r[23]]!==void 0&&(h.instance=r[2][r[23]]),e=new pn({props:h}),je.push(()=>Xr(e,"instance",a)),i=new aI({props:{renderSlot:r[21],selectedLayer:r[0]===r[23]?r[4]:void 0}}),{c(){oe(e.$$.fragment),n=Vt(),oe(i.$$.fragment)},m(l,f){re(e,l,f),Yt(l,n,f),re(i,l,f),o=!0},p(l,f){r=l;const d={};!t&&f&12&&(t=!0,d.instance=r[2][r[23]],Hr(()=>t=!1)),e.$set(d);const v={};f&8&&(v.renderSlot=r[21]),f&25&&(v.selectedLayer=r[0]===r[23]?r[4]:void 0),i.$set(v)},i(l){o||(rt(e.$$.fragment,l),rt(i.$$.fragment,l),o=!0)},o(l){at(e.$$.fragment,l),at(i.$$.fragment,l),o=!1},d(l){ne(e,l),l&&Wt(n),ne(i,l)}}}function fv(r,e){let t,n,i;const o=[{mask:e[2][e[23]]},e[21].pos];let a={$$slots:{default:[fI]},$$scope:{ctx:e}};for(let h=0;h<o.length;h+=1)a=Fe(a,o[h]);return n=new fi({props:a}),{key:r,first:null,c(){t=ai(),oe(n.$$.fragment),this.first=t},m(h,l){Yt(h,t,l),re(n,h,l),i=!0},p(h,l){e=h;const f=l&12?ui(o,[{mask:e[2][e[23]]},l&8&&hi(e[21].pos)]):{};l&536870941&&(f.$$scope={dirty:l,ctx:e}),n.$set(f)},i(h){i||(rt(n.$$.fragment,h),i=!0)},o(h){at(n.$$.fragment,h),i=!1},d(h){h&&Wt(t),ne(n,h)}}}function cv(r){let e,t;const n=[r[21].pos];let i={$$slots:{default:[cI]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)i=Fe(i,n[o]);return e=new fi({props:i}),{c(){oe(e.$$.fragment)},m(o,a){re(e,o,a),t=!0},p(o,a){const h=a&8?ui(n,[hi(o[21].pos)]):{};a&536870920&&(h.$$scope={dirty:a,ctx:o}),e.$set(h)},i(o){t||(rt(e.$$.fragment,o),t=!0)},o(o){at(e.$$.fragment,o),t=!1},d(o){ne(e,o)}}}function cI(r){let e,t;return e=new JC({props:{text:r[21].dynamic,x:34,y:169,style:{fill:0,fontFamily:["Noto Sans TC","Noto Sans SC","Noto Sans JP","sans-serif"],fontSize:16,fontWeight:"600",align:"center",textBaseline:"alphabetic"}}}),{c(){oe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const o={};i&8&&(o.text=n[21].dynamic),e.$set(o)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function dv(r){let e,t,n=r[21].dynamic&&cv(r);return{c(){n&&n.c(),e=ai()},m(i,o){n&&n.m(i,o),Yt(i,e,o),t=!0},p(i,o){i[21].dynamic?n?(n.p(i,o),o&8&&rt(n,1)):(n=cv(i),n.c(),rt(n,1),n.m(e.parentNode,e)):n&&(nr(),at(n,1,1,()=>{n=null}),ir())},i(i){t||(rt(n),t=!0)},o(i){at(n),t=!1},d(i){n&&n.d(i),i&&Wt(e)}}}function pv(r){let e,t,n,i;e=new pn({props:{texture:vt.WHITE,width:680,height:680,filters:[new Eg(0)]}});const o=[{texture:new vt(new Mt(r[24].image))},{alpha:.6},{x:r[21].pos.x+r[24].pos.x},{y:r[21].pos.y+r[24].pos.y},r[24].rect];let a={};for(let h=0;h<o.length;h+=1)a=Fe(a,o[h]);return n=new eI({props:a}),{c(){oe(e.$$.fragment),t=Vt(),oe(n.$$.fragment)},m(h,l){re(e,h,l),Yt(h,t,l),re(n,h,l),i=!0},p(h,l){const f=l&25?ui(o,[{texture:new vt(new Mt(h[24].image))},o[1],l&25&&{x:h[21].pos.x+h[24].pos.x},l&25&&{y:h[21].pos.y+h[24].pos.y},l&25&&hi(h[24].rect)]):{};n.$set(f)},i(h){i||(rt(e.$$.fragment,h),rt(n.$$.fragment,h),i=!0)},o(h){at(e.$$.fragment,h),at(n.$$.fragment,h),i=!1},d(h){ne(e,h),h&&Wt(t),ne(n,h)}}}function dI(r){let e,t,n=r[0]!==void 0&&r[4]!==void 0&&pv(Oh(r));return{c(){n&&n.c(),e=ai()},m(i,o){n&&n.m(i,o),Yt(i,e,o),t=!0},p(i,o){i[0]!==void 0&&i[4]!==void 0?n?(n.p(Oh(i),o),o&17&&rt(n,1)):(n=pv(Oh(i)),n.c(),rt(n,1),n.m(e.parentNode,e)):n&&(nr(),at(n,1,1,()=>{n=null}),ir())},i(i){t||(rt(n),t=!0)},o(i){at(n),t=!1},d(i){n&&n.d(i),i&&Wt(e)}}}function pI(r){let e,t,n=[],i=new Map,o,a,h,l,f,d;e=new pn({props:{texture:vt.WHITE,width:680,height:680}});let v=r[3];const p=y=>y[21].name;for(let y=0;y<v.length;y+=1){let E=lv(r,v,y),C=p(E);i.set(C,n[y]=fv(C,E))}a=new pn({props:{texture:vt.from(Rv),width:680,height:680}});let g=r[3],m=[];for(let y=0;y<g.length;y+=1)m[y]=dv(hv(r,g,y));const x=y=>at(m[y],1,1,()=>{m[y]=null});return f=new fi({props:{mask:r[5],alpha:.8,$$slots:{default:[dI]},$$scope:{ctx:r}}}),{c(){oe(e.$$.fragment),t=Vt();for(let y=0;y<n.length;y+=1)n[y].c();o=Vt(),oe(a.$$.fragment),h=Vt();for(let y=0;y<m.length;y+=1)m[y].c();l=Vt(),oe(f.$$.fragment)},m(y,E){re(e,y,E),Yt(y,t,E);for(let C=0;C<n.length;C+=1)n[C].m(y,E);Yt(y,o,E),re(a,y,E),Yt(y,h,E);for(let C=0;C<m.length;C+=1)m[C].m(y,E);Yt(y,l,E),re(f,y,E),d=!0},p(y,E){if(E&29&&(v=y[3],nr(),n=Fl(n,E,p,1,y,v,i,o.parentNode,hE,fv,o,lv),ir()),E&8){g=y[3];let S;for(S=0;S<g.length;S+=1){const O=hv(y,g,S);m[S]?(m[S].p(O,E),rt(m[S],1)):(m[S]=dv(O),m[S].c(),rt(m[S],1),m[S].m(l.parentNode,l))}for(nr(),S=g.length;S<m.length;S+=1)x(S);ir()}const C={};E&32&&(C.mask=y[5]),E&536870937&&(C.$$scope={dirty:E,ctx:y}),f.$set(C)},i(y){if(!d){rt(e.$$.fragment,y);for(let E=0;E<v.length;E+=1)rt(n[E]);rt(a.$$.fragment,y);for(let E=0;E<g.length;E+=1)rt(m[E]);rt(f.$$.fragment,y),d=!0}},o(y){at(e.$$.fragment,y);for(let E=0;E<n.length;E+=1)at(n[E]);at(a.$$.fragment,y),m=m.filter(Boolean);for(let E=0;E<m.length;E+=1)at(m[E]);at(f.$$.fragment,y),d=!1},d(y){ne(e,y),y&&Wt(t);for(let E=0;E<n.length;E+=1)n[E].d(y);y&&Wt(o),ne(a,y),y&&Wt(h),Ev(m,y),y&&Wt(l),ne(f,y)}}}function vI(r){let e,t;return e=new zC({props:{resources:[Rv,Ll],$$slots:{default:[pI]},$$scope:{ctx:r}}}),{c(){oe(e.$$.fragment)},m(n,i){re(e,n,i),t=!0},p(n,i){const o={};i&536870973&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(rt(e.$$.fragment,n),t=!0)},o(n){at(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function _I(r){let e=[],t=new Map,n,i,o,a=[...r[21].layers].reverse();const h=f=>f[24].image;for(let f=0;f<a.length;f+=1){let d=uv(r,a,f),v=h(d);t.set(v,e[f]=vv(v,d))}let l=r[4]!==void 0&&_v(r);return{c(){for(let f=0;f<e.length;f+=1)e[f].c();n=Vt(),l&&l.c(),i=ai()},m(f,d){for(let v=0;v<e.length;v+=1)e[v].m(f,d);Yt(f,n,d),l&&l.m(f,d),Yt(f,i,d),o=!0},p(f,d){d&24&&(a=[...f[21].layers].reverse(),e=Fl(e,d,h,1,f,a,t,n.parentNode,Pv,vv,n,uv)),f[4]!==void 0?l?(l.p(f,d),d&16&&rt(l,1)):(l=_v(f),l.c(),rt(l,1),l.m(i.parentNode,i)):l&&(nr(),at(l,1,1,()=>{l=null}),ir())},i(f){o||(rt(l),o=!0)},o(f){at(l),o=!1},d(f){for(let d=0;d<e.length;d+=1)e[d].d(f);f&&Wt(n),l&&l.d(f),f&&Wt(i)}}}function gI(r){let e,t,n;function i(){return r[10](r[23])}return{c(){e=Pt("button"),Tt(e,"class","block h-full w-full")},m(o,a){Yt(o,e,a),t||(n=le(e,"click",i),t=!0)},p(o,a){r=o},i:Ge,o:Ge,d(o){o&&Wt(e),t=!1,n()}}}function vv(r,e){let t,n,i;function o(){return e[11](e[21],e[23])}return{key:r,first:null,c(){t=Pt("div"),Tt(t,"class","absolute z-10"),zt(t,"top",e[24].pos.y+"px"),zt(t,"left",e[24].pos.x+"px"),zt(t,"width",e[24].rect.width+"px"),zt(t,"height",e[24].rect.height+"px"),this.first=t},m(a,h){Yt(a,t,h),n||(i=le(t,"mousedown",o),n=!0)},p(a,h){e=a,h&8&&zt(t,"top",e[24].pos.y+"px"),h&8&&zt(t,"left",e[24].pos.x+"px"),h&8&&zt(t,"width",e[24].rect.width+"px"),h&8&&zt(t,"height",e[24].rect.height+"px")},d(a){a&&Wt(t),n=!1,i()}}}function _v(r){let e,t,n,i,o,a;function h(p){r[12](p)}function l(p){r[13](p)}function f(p){r[14](p)}function d(p){r[15](p)}let v={ratio:r[3][r[0]].layers[r[4]].image.width/r[3][r[0]].layers[r[4]].image.height};return r[3][r[0]].layers[r[4]].pos.x!==void 0&&(v.x=r[3][r[0]].layers[r[4]].pos.x),r[3][r[0]].layers[r[4]].pos.y!==void 0&&(v.y=r[3][r[0]].layers[r[4]].pos.y),r[3][r[0]].layers[r[4]].rect.width!==void 0&&(v.width=r[3][r[0]].layers[r[4]].rect.width),r[3][r[0]].layers[r[4]].rect.height!==void 0&&(v.height=r[3][r[0]].layers[r[4]].rect.height),e=new dE({props:v}),je.push(()=>Xr(e,"x",h)),je.push(()=>Xr(e,"y",l)),je.push(()=>Xr(e,"width",f)),je.push(()=>Xr(e,"height",d)),{c(){oe(e.$$.fragment)},m(p,g){re(e,p,g),a=!0},p(p,g){const m={};g&25&&(m.ratio=p[3][p[0]].layers[p[4]].image.width/p[3][p[0]].layers[p[4]].image.height),!t&&g&25&&(t=!0,m.x=p[3][p[0]].layers[p[4]].pos.x,Hr(()=>t=!1)),!n&&g&25&&(n=!0,m.y=p[3][p[0]].layers[p[4]].pos.y,Hr(()=>n=!1)),!i&&g&25&&(i=!0,m.width=p[3][p[0]].layers[p[4]].rect.width,Hr(()=>i=!1)),!o&&g&25&&(o=!0,m.height=p[3][p[0]].layers[p[4]].rect.height,Hr(()=>o=!1)),e.$set(m)},i(p){a||(rt(e.$$.fragment,p),a=!0)},o(p){at(e.$$.fragment,p),a=!1},d(p){ne(e,p)}}}function gv(r){let e,t,n,i,o;const a=[gI,_I],h=[];function l(f,d){return f[0]!==f[23]?0:1}return t=l(r),n=h[t]=a[t](r),{c(){e=Pt("div"),n.c(),i=Vt(),Tt(e,"class","slot svelte-1m3oa9i"),zt(e,"left",r[21].pos.x+"px"),zt(e,"top",r[21].pos.y+"px"),Ft(e,"outline",r[0]===r[23])},m(f,d){Yt(f,e,d),h[t].m(e,null),gt(e,i),o=!0},p(f,d){let v=t;t=l(f),t===v?h[t].p(f,d):(nr(),at(h[v],1,1,()=>{h[v]=null}),ir(),n=h[t],n?n.p(f,d):(n=h[t]=a[t](f),n.c()),rt(n,1),n.m(e,i)),(!o||d&8)&&zt(e,"left",f[21].pos.x+"px"),(!o||d&8)&&zt(e,"top",f[21].pos.y+"px"),(!o||d&1)&&Ft(e,"outline",f[0]===f[23])},i(f){o||(rt(n),o=!0)},o(f){at(n),o=!1},d(f){f&&Wt(e),h[t].d()}}}function mv(r){let e,t,n,i,o;function a(d){r[16](d)}function h(d){r[17](d)}function l(d){r[18](d)}let f={};return r[3][r[0]]!==void 0&&(f.slot=r[3][r[0]]),r[4]!==void 0&&(f.selectedLayer=r[4]),r[0]!==void 0&&(f.selectedSlot=r[0]),e=new mE({props:f}),je.push(()=>Xr(e,"slot",a)),je.push(()=>Xr(e,"selectedLayer",h)),je.push(()=>Xr(e,"selectedSlot",l)),{c(){oe(e.$$.fragment)},m(d,v){re(e,d,v),o=!0},p(d,v){const p={};!t&&v&9&&(t=!0,p.slot=d[3][d[0]],Hr(()=>t=!1)),!n&&v&16&&(n=!0,p.selectedLayer=d[4],Hr(()=>n=!1)),!i&&v&1&&(i=!0,p.selectedSlot=d[0],Hr(()=>i=!1)),e.$set(p)},i(d){o||(rt(e.$$.fragment,d),o=!0)},o(d){at(e.$$.fragment,d),o=!1},d(d){ne(e,d)}}}function mI(r){let e,t,n,i,o,a,h,l,f,d,v,p,g,m,x,y;function E(A){r[9](A)}let C={width:680,height:680,backgroundColor:r[6],antialias:!0,render:"demand",$$slots:{default:[vI]},$$scope:{ctx:r}};r[1]!==void 0&&(C.instance=r[1]),i=new UC({props:C}),je.push(()=>Xr(i,"instance",E));let S=r[3],O=[];for(let A=0;A<S.length;A+=1)O[A]=gv(av(r,S,A));const P=A=>at(O[A],1,1,()=>{O[A]=null});let D=r[0]!==void 0&&mv(r);return{c(){e=Pt("div"),t=Pt("div"),n=Pt("div"),oe(i.$$.fragment),a=Vt();for(let A=0;A<O.length;A+=1)O[A].c();h=Vt(),l=Pt("div"),f=Pt("div"),D&&D.c(),d=Vt(),v=Pt("button"),v.textContent="保存",p=Vt(),g=Pt("div"),g.innerHTML=`<p>Credit: <a class="text-blue-700" target="_blank" rel="noreferrer" href="https://twitter.com/EastAiruier/status/1624174786359496704">@EastAiruier</a></p> 
        <p class="mt-2">代碼: <a href="https://github.com/eslym/vtuber-preference" class="text-blue-700" target="_blank" rel="noreferrer">eslym/vtuber-preference</a></p>`,Tt(n,"class","template svelte-1m3oa9i"),Tt(f,"class","h-0 flex-grow"),Tt(v,"class","bg-slate-400 p-2 text-center text-lg font-bold text-white"),Tt(l,"class","flex w-80 flex-col overflow-auto bg-white"),Tt(t,"class","flex flex-row shadow-lg"),Tt(g,"class","text-center text-sm italic"),Tt(e,"class","flex h-screen w-screen flex-col items-center justify-center gap-4")},m(A,I){Yt(A,e,I),gt(e,t),gt(t,n),re(i,n,null),gt(n,a);for(let F=0;F<O.length;F+=1)O[F].m(n,null);gt(t,h),gt(t,l),gt(l,f),D&&D.m(f,null),gt(l,d),gt(l,v),gt(e,p),gt(e,g),m=!0,x||(y=le(v,"click",r[7]),x=!0)},p(A,[I]){const F={};if(I&536870973&&(F.$$scope={dirty:I,ctx:A}),!o&&I&2&&(o=!0,F.instance=A[1],Hr(()=>o=!1)),i.$set(F),I&25){S=A[3];let B;for(B=0;B<S.length;B+=1){const J=av(A,S,B);O[B]?(O[B].p(J,I),rt(O[B],1)):(O[B]=gv(J),O[B].c(),rt(O[B],1),O[B].m(n,null))}for(nr(),B=S.length;B<O.length;B+=1)P(B);ir()}A[0]!==void 0?D?(D.p(A,I),I&1&&rt(D,1)):(D=mv(A),D.c(),rt(D,1),D.m(f,null)):D&&(nr(),at(D,1,1,()=>{D=null}),ir())},i(A){if(!m){rt(i.$$.fragment,A);for(let I=0;I<S.length;I+=1)rt(O[I]);rt(D),m=!0}},o(A){at(i.$$.fragment,A),O=O.filter(Boolean);for(let I=0;I<O.length;I+=1)at(O[I]);at(D),m=!1},d(A){A&&Wt(e),ne(i),Ev(O,A),D&&D.d(),x=!1,y()}}}function yI(r,e,t){let n,i=[],o=[],a=[{name:"第一個看的",pos:{x:48,y:48},layers:[]},{name:"最常看的",pos:{x:166,y:48},layers:[]},{name:"最佳節目",pos:{x:283,y:48},layers:[]},{name:"最瘋狂的",pos:{x:401,y:48},layers:[]},{name:"最療愈的",pos:{x:519,y:48},layers:[]},{name:"聲音最好聽的",pos:{x:48,y:248},layers:[]},{name:"唱歌最好聽的",pos:{x:166,y:248},layers:[]},{name:"最喜歡的",pos:{x:283,y:248},layers:[]},{name:"影響最深遠的",pos:{x:401,y:248},layers:[]},{name:"最漂亮的",pos:{x:519,y:248},layers:[]},{name:"最想犯罪的",pos:{x:48,y:448},layers:[]},{name:"最帥的",pos:{x:166,y:448},layers:[]},{name:"最想推廣的",pos:{x:283,y:448},layers:[]},{name:"最婆的",pos:{x:401,y:448},layers:[]},{name:"最",pos:{x:519,y:448},dynamic:"",layers:[]}];const h=Sa("#ffffff");let l,f,d;function v(){if(!o[l]){let I=a[l],F=new Ze,B=F.addChild(new Ke(vt.WHITE));B.width=680,B.height=680;let J=F.addChild(new Ke(vt.from(Ll)));J.filters=[new Eg(0)],J.x=I.pos.x-2,J.y=I.pos.y-2,o[l]=new Ke(d.renderer.generateTexture(F))}return o[l]}async function p(){t(4,f=void 0),await aE();let F=new yf(d.renderer).base64(d.stage,"image/jpeg"),B=document.createElement("a");B.download="output.jpg",B.href=F,B.click()}function g(I,F){r.$$.not_equal(i[F],I)&&(i[F]=I,t(2,i))}function m(I){d=I,t(1,d)}const x=I=>{t(0,l=I),t(4,f=void 0)},y=(I,F)=>t(4,f=I.layers.length-F-1);function E(I){r.$$.not_equal(a[l].layers[f].pos.x,I)&&(a[l].layers[f].pos.x=I,t(3,a))}function C(I){r.$$.not_equal(a[l].layers[f].pos.y,I)&&(a[l].layers[f].pos.y=I,t(3,a))}function S(I){r.$$.not_equal(a[l].layers[f].rect.width,I)&&(a[l].layers[f].rect.width=I,t(3,a))}function O(I){r.$$.not_equal(a[l].layers[f].rect.height,I)&&(a[l].layers[f].rect.height=I,t(3,a))}function P(I){r.$$.not_equal(a[l],I)&&(a[l]=I,t(3,a))}function D(I){f=I,t(4,f)}function A(I){l=I,t(0,l)}return r.$$.update=()=>{r.$$.dirty&3&&t(5,n=d&&l!==void 0?v():null)},[l,d,i,a,f,n,h,p,g,m,x,y,E,C,S,O,P,D,A]}class bI extends xr{constructor(e){super(),br(this,e,yI,mI,yr,{})}}tt.SCALE_MODE=De.LINEAR;tt.MIPMAP_TEXTURES=or.ON;new bI({target:document.body});window.PIXI=_C;
